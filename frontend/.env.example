# .env.example - Complete Syla Analytics Configuration

# ============================================================================
# CORE APPLICATION SETTINGS
# ============================================================================

# API Configuration
VITE_API_BASE_URL=http://localhost:8000/api
FRONTEND_URL=http://localhost:3000
ENVIRONMENT=development
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# Security
JWT_SECRET=your-super-secure-jwt-secret-key-change-this-in-production

# ============================================================================
# AUTHENTICATION (Google OAuth)
# ============================================================================

GOOGLE_CLIENT_ID= kept
GOOGLE_CLIENT_SECRET=kept
REACT_APP_GOOGLE_CLIENT_ID=kept

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# SQLite (Development)
DATABASE_URL=sqlite:///./users.db

# PostgreSQL (Production - uncomment and use one of these)
# DATABASE_URL=postgresql://username:password@localhost:5432/syla_db
# DATABASE_URL=postgresql://user:pass@hostname:port/database_name

# MySQL (Alternative - uncomment if using MySQL)
# DATABASE_URL=mysql://username:password@localhost:3306/syla_db

# ============================================================================
# AI/ML CONFIGURATION
# ============================================================================

# AI Feature Toggle
AI_ENABLED=true

# OpenAI Configuration
OPENAI_API_KEY=kept
AI_DEFAULT_MODEL=gpt-4o-mini
AI_TIMEOUT_SECONDS=30
AI_MAX_TOKENS=1500
AI_DEFAULT_TEMPERATURE=0.7

# AI Provider Selection (optional alternatives)
# AI_PROVIDER=openai
# ANTHROPIC_API_KEY=your-anthropic-key-here
# COHERE_API_KEY=your-cohere-key-here

# ============================================================================
# CACHING CONFIGURATION
# ============================================================================

# Cache Settings
AI_CACHE_ENABLED=true
AI_CACHE_TTL_MINUTES=30

# Redis Configuration (Production)
REDIS_URL=redis://localhost:6379
# REDIS_URL=redis://username:password@hostname:port/database
# REDIS_URL=rediss://username:password@hostname:port/database (SSL)

# Cache Fallback (if Redis unavailable, uses in-memory)
CACHE_FALLBACK_ENABLED=true

# ============================================================================
# RATE LIMITING & COST CONTROL
# ============================================================================

# Rate Limits (per user)
AI_RATE_LIMIT_PER_HOUR=50
AI_RATE_LIMIT_PER_DAY=200

# Cost Management
AI_DAILY_COST_LIMIT=10.0
AI_MONTHLY_COST_LIMIT=100.0
AI_COST_ALERTS=true
AI_COST_ALERT_THRESHOLD=80

# Usage Tracking
TRACK_AI_USAGE=true
USAGE_RESET_TIMEZONE=UTC

# ============================================================================
# FORECASTING SETTINGS
# ============================================================================

# Data Limits
AI_MIN_DATA_POINTS=3
AI_MAX_DATA_POINTS=10000
AI_MAX_FORECAST_PERIODS=120

# Scenario Processing
AI_MAX_SCENARIO_LENGTH=500
AI_SCENARIO_TIMEOUT=10

# Model Validation
AI_MAX_CHANGE_RATIO=3.0
AI_ENABLE_REASONABLENESS_CHECK=true
AI_ENABLE_FORECAST_SMOOTHING=true

# Default Forecast Settings
AI_DEFAULT_PERIODS=12
AI_DEFAULT_CONFIDENCE_LEVEL=0.95

# ============================================================================
# EMAIL/NOTIFICATION SETTINGS (Optional)
# ============================================================================

# SMTP Configuration
SMTP_ENABLED=false
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
SMTP_USE_TLS=true

# Email Templates
EMAIL_FROM_ADDRESS=noreply@syla-analytics.com
EMAIL_FROM_NAME=Syla Analytics

# Notification Settings
SEND_COST_ALERTS=true
SEND_ERROR_NOTIFICATIONS=false
ADMIN_EMAIL=admin@your-domain.com

# ============================================================================
# LOGGING & MONITORING
# ============================================================================

# Log Levels
LOG_LEVEL=INFO
AI_LOG_LEVEL=INFO
DATABASE_LOG_LEVEL=WARNING

# Monitoring
ENABLE_METRICS=true
METRICS_PORT=9090

# Error Tracking (optional - Sentry integration)
SENTRY_DSN=your-sentry-dsn-here
SENTRY_ENVIRONMENT=development

# ============================================================================
# FILE HANDLING
# ============================================================================

# Upload Limits
MAX_FILE_SIZE_MB=50
MAX_FILES_PER_REQUEST=15
ALLOWED_FILE_TYPES=.csv,.xlsx,.xls,.pdf,.txt,.json

# Storage Configuration
UPLOAD_DIRECTORY=./uploads
TEMP_DIRECTORY=./temp
CLEANUP_TEMP_FILES=true
TEMP_FILE_TTL_HOURS=24

# ============================================================================
# SECURITY & PERFORMANCE
# ============================================================================

# Security Headers
ENABLE_SECURITY_HEADERS=true
CORS_ALLOW_CREDENTIALS=false
TRUST_PROXY=false

# Performance
ENABLE_COMPRESSION=true
CACHE_STATIC_FILES=true
API_REQUEST_TIMEOUT=300

# Session Management
SESSION_TIMEOUT_MINUTES=480
REFRESH_TOKEN_EXPIRY_DAYS=30

# ============================================================================
# PRODUCTION OVERRIDES (Set these in Railway/deployment platform)
# ============================================================================

# Production Database
# DATABASE_URL=postgresql://postgres:GbkwNpZdOKLJBjfyiwmpcSwdgLFDvqXy@postgres.railway.internal:5432/railway

# Production Redis
# REDIS_URL=rediss://default:password@redis.railway.app:6379

# Production API Keys
# OPENAI_API_KEY=kept
# JWT_SECRET=kept


# Production Limits (higher for production)
# AI_RATE_LIMIT_PER_HOUR=100
# AI_RATE_LIMIT_PER_DAY=500
# AI_DAILY_COST_LIMIT=50.0

# Production URLs
# VITE_API_BASE_URL=https://your-app.railway.app/api
# FRONTEND_URL=https://syla-backend-production.up.railway.app/
# CORS_ORIGINS=https://your-app.railway.app

# Production Email
# SMTP_ENABLED=true
# SMTP_USER=your-production-email@domain.com
# ADMIN_EMAIL=admin@your-domain.com

# ============================================================================
# DEVELOPMENT/TESTING OVERRIDES
# ============================================================================

# Development Settings
# AI_ENABLED=false                    # Disable AI for faster dev
# AI_CACHE_ENABLED=false             # Disable caching for testing
# LOG_LEVEL=DEBUG                    # Verbose logging
# AI_RATE_LIMIT_PER_HOUR=1000       # No rate limiting in dev

# Testing Settings
# DATABASE_URL=sqlite:///./test.db   # Separate test database
# ENVIRONMENT=testing
# AI_DAILY_COST_LIMIT=1.0          # Low cost limit for testing

# ============================================================================
# FEATURE FLAGS (Optional)
# ============================================================================

# Experimental Features
ENABLE_ADVANCED_FORECASTING=true
ENABLE_CHART_ANIMATIONS=true
ENABLE_DATA_EXPORT=true
ENABLE_BATCH_PROCESSING=false

# UI Features
ENABLE_DARK_MODE=true
ENABLE_ADVANCED_CHARTS=true
ENABLE_FORECAST_EXPLANATIONS=true

# ============================================================================
# NOTES
# ============================================================================

# 1. Copy this file to .env and fill in your actual values
# 2. Never commit .env to version control
# 3. In Railway: Go to Variables tab and add these as environment variables
# 4. Start with basic settings and add advanced features gradually
# 5. Set spending limits in OpenAI dashboard before deploying
# 6. Use strong passwords and secrets in production
