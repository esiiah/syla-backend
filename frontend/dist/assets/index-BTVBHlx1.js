(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();var wO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function f5(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var dg={exports:{}},Uu={},ug={exports:{}},$t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f2;function V4(){if(f2)return $t;f2=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),g=Symbol.iterator;function b(ee){return ee===null||typeof ee!="object"?null:(ee=g&&ee[g]||ee["@@iterator"],typeof ee=="function"?ee:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,k={};function w(ee,A,q){this.props=ee,this.context=A,this.refs=k,this.updater=q||m}w.prototype.isReactComponent={},w.prototype.setState=function(ee,A){if(typeof ee!="object"&&typeof ee!="function"&&ee!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ee,A,"setState")},w.prototype.forceUpdate=function(ee){this.updater.enqueueForceUpdate(this,ee,"forceUpdate")};function _(){}_.prototype=w.prototype;function E(ee,A,q){this.props=ee,this.context=A,this.refs=k,this.updater=q||m}var R=E.prototype=new _;R.constructor=E,S(R,w.prototype),R.isPureReactComponent=!0;var I=Array.isArray,B=Object.prototype.hasOwnProperty,Q={current:null},te={key:!0,ref:!0,__self:!0,__source:!0};function $(ee,A,q){var J,ue={},fe=null,de=null;if(A!=null)for(J in A.ref!==void 0&&(de=A.ref),A.key!==void 0&&(fe=""+A.key),A)B.call(A,J)&&!te.hasOwnProperty(J)&&(ue[J]=A[J]);var ce=arguments.length-2;if(ce===1)ue.children=q;else if(1<ce){for(var Z=Array(ce),we=0;we<ce;we++)Z[we]=arguments[we+2];ue.children=Z}if(ee&&ee.defaultProps)for(J in ce=ee.defaultProps,ce)ue[J]===void 0&&(ue[J]=ce[J]);return{$$typeof:r,type:ee,key:fe,ref:de,props:ue,_owner:Q.current}}function M(ee,A){return{$$typeof:r,type:ee.type,key:A,ref:ee.ref,props:ee.props,_owner:ee._owner}}function ne(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===r}function D(ee){var A={"=":"=0",":":"=2"};return"$"+ee.replace(/[=:]/g,function(q){return A[q]})}var L=/\/+/g;function O(ee,A){return typeof ee=="object"&&ee!==null&&ee.key!=null?D(""+ee.key):A.toString(36)}function W(ee,A,q,J,ue){var fe=typeof ee;(fe==="undefined"||fe==="boolean")&&(ee=null);var de=!1;if(ee===null)de=!0;else switch(fe){case"string":case"number":de=!0;break;case"object":switch(ee.$$typeof){case r:case e:de=!0}}if(de)return de=ee,ue=ue(de),ee=J===""?"."+O(de,0):J,I(ue)?(q="",ee!=null&&(q=ee.replace(L,"$&/")+"/"),W(ue,A,q,"",function(we){return we})):ue!=null&&(ne(ue)&&(ue=M(ue,q+(!ue.key||de&&de.key===ue.key?"":(""+ue.key).replace(L,"$&/")+"/")+ee)),A.push(ue)),1;if(de=0,J=J===""?".":J+":",I(ee))for(var ce=0;ce<ee.length;ce++){fe=ee[ce];var Z=J+O(fe,ce);de+=W(fe,A,q,Z,ue)}else if(Z=b(ee),typeof Z=="function")for(ee=Z.call(ee),ce=0;!(fe=ee.next()).done;)fe=fe.value,Z=J+O(fe,ce++),de+=W(fe,A,q,Z,ue);else if(fe==="object")throw A=String(ee),Error("Objects are not valid as a React child (found: "+(A==="[object Object]"?"object with keys {"+Object.keys(ee).join(", ")+"}":A)+"). If you meant to render a collection of children, use an array instead.");return de}function X(ee,A,q){if(ee==null)return ee;var J=[],ue=0;return W(ee,J,"","",function(fe){return A.call(q,fe,ue++)}),J}function le(ee){if(ee._status===-1){var A=ee._result;A=A(),A.then(function(q){(ee._status===0||ee._status===-1)&&(ee._status=1,ee._result=q)},function(q){(ee._status===0||ee._status===-1)&&(ee._status=2,ee._result=q)}),ee._status===-1&&(ee._status=0,ee._result=A)}if(ee._status===1)return ee._result.default;throw ee._result}var pe={current:null},ae={transition:null},xe={ReactCurrentDispatcher:pe,ReactCurrentBatchConfig:ae,ReactCurrentOwner:Q};function be(){throw Error("act(...) is not supported in production builds of React.")}return $t.Children={map:X,forEach:function(ee,A,q){X(ee,function(){A.apply(this,arguments)},q)},count:function(ee){var A=0;return X(ee,function(){A++}),A},toArray:function(ee){return X(ee,function(A){return A})||[]},only:function(ee){if(!ne(ee))throw Error("React.Children.only expected to receive a single React element child.");return ee}},$t.Component=w,$t.Fragment=t,$t.Profiler=s,$t.PureComponent=E,$t.StrictMode=n,$t.Suspense=d,$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xe,$t.act=be,$t.cloneElement=function(ee,A,q){if(ee==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ee+".");var J=S({},ee.props),ue=ee.key,fe=ee.ref,de=ee._owner;if(A!=null){if(A.ref!==void 0&&(fe=A.ref,de=Q.current),A.key!==void 0&&(ue=""+A.key),ee.type&&ee.type.defaultProps)var ce=ee.type.defaultProps;for(Z in A)B.call(A,Z)&&!te.hasOwnProperty(Z)&&(J[Z]=A[Z]===void 0&&ce!==void 0?ce[Z]:A[Z])}var Z=arguments.length-2;if(Z===1)J.children=q;else if(1<Z){ce=Array(Z);for(var we=0;we<Z;we++)ce[we]=arguments[we+2];J.children=ce}return{$$typeof:r,type:ee.type,key:ue,ref:fe,props:J,_owner:de}},$t.createContext=function(ee){return ee={$$typeof:a,_currentValue:ee,_currentValue2:ee,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ee.Provider={$$typeof:i,_context:ee},ee.Consumer=ee},$t.createElement=$,$t.createFactory=function(ee){var A=$.bind(null,ee);return A.type=ee,A},$t.createRef=function(){return{current:null}},$t.forwardRef=function(ee){return{$$typeof:l,render:ee}},$t.isValidElement=ne,$t.lazy=function(ee){return{$$typeof:f,_payload:{_status:-1,_result:ee},_init:le}},$t.memo=function(ee,A){return{$$typeof:h,type:ee,compare:A===void 0?null:A}},$t.startTransition=function(ee){var A=ae.transition;ae.transition={};try{ee()}finally{ae.transition=A}},$t.unstable_act=be,$t.useCallback=function(ee,A){return pe.current.useCallback(ee,A)},$t.useContext=function(ee){return pe.current.useContext(ee)},$t.useDebugValue=function(){},$t.useDeferredValue=function(ee){return pe.current.useDeferredValue(ee)},$t.useEffect=function(ee,A){return pe.current.useEffect(ee,A)},$t.useId=function(){return pe.current.useId()},$t.useImperativeHandle=function(ee,A,q){return pe.current.useImperativeHandle(ee,A,q)},$t.useInsertionEffect=function(ee,A){return pe.current.useInsertionEffect(ee,A)},$t.useLayoutEffect=function(ee,A){return pe.current.useLayoutEffect(ee,A)},$t.useMemo=function(ee,A){return pe.current.useMemo(ee,A)},$t.useReducer=function(ee,A,q){return pe.current.useReducer(ee,A,q)},$t.useRef=function(ee){return pe.current.useRef(ee)},$t.useState=function(ee){return pe.current.useState(ee)},$t.useSyncExternalStore=function(ee,A,q){return pe.current.useSyncExternalStore(ee,A,q)},$t.useTransition=function(){return pe.current.useTransition()},$t.version="18.3.1",$t}var p2;function p1(){return p2||(p2=1,ug.exports=V4()),ug.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g2;function $4(){if(g2)return Uu;g2=1;var r=p1(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(l,d,h){var f,g={},b=null,m=null;h!==void 0&&(b=""+h),d.key!==void 0&&(b=""+d.key),d.ref!==void 0&&(m=d.ref);for(f in d)n.call(d,f)&&!i.hasOwnProperty(f)&&(g[f]=d[f]);if(l&&l.defaultProps)for(f in d=l.defaultProps,d)g[f]===void 0&&(g[f]=d[f]);return{$$typeof:e,type:l,key:b,ref:m,props:g,_owner:s.current}}return Uu.Fragment=t,Uu.jsx=a,Uu.jsxs=a,Uu}var m2;function q4(){return m2||(m2=1,dg.exports=$4()),dg.exports}var c=q4(),U=p1();const Ho=f5(U);var If={},hg={exports:{}},Gs={},fg={exports:{}},pg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x2;function G4(){return x2||(x2=1,(function(r){function e(ae,xe){var be=ae.length;ae.push(xe);e:for(;0<be;){var ee=be-1>>>1,A=ae[ee];if(0<s(A,xe))ae[ee]=xe,ae[be]=A,be=ee;else break e}}function t(ae){return ae.length===0?null:ae[0]}function n(ae){if(ae.length===0)return null;var xe=ae[0],be=ae.pop();if(be!==xe){ae[0]=be;e:for(var ee=0,A=ae.length,q=A>>>1;ee<q;){var J=2*(ee+1)-1,ue=ae[J],fe=J+1,de=ae[fe];if(0>s(ue,be))fe<A&&0>s(de,ue)?(ae[ee]=de,ae[fe]=be,ee=fe):(ae[ee]=ue,ae[J]=be,ee=J);else if(fe<A&&0>s(de,be))ae[ee]=de,ae[fe]=be,ee=fe;else break e}}return xe}function s(ae,xe){var be=ae.sortIndex-xe.sortIndex;return be!==0?be:ae.id-xe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;r.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();r.unstable_now=function(){return a.now()-l}}var d=[],h=[],f=1,g=null,b=3,m=!1,S=!1,k=!1,w=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(ae){for(var xe=t(h);xe!==null;){if(xe.callback===null)n(h);else if(xe.startTime<=ae)n(h),xe.sortIndex=xe.expirationTime,e(d,xe);else break;xe=t(h)}}function I(ae){if(k=!1,R(ae),!S)if(t(d)!==null)S=!0,le(B);else{var xe=t(h);xe!==null&&pe(I,xe.startTime-ae)}}function B(ae,xe){S=!1,k&&(k=!1,_($),$=-1),m=!0;var be=b;try{for(R(xe),g=t(d);g!==null&&(!(g.expirationTime>xe)||ae&&!D());){var ee=g.callback;if(typeof ee=="function"){g.callback=null,b=g.priorityLevel;var A=ee(g.expirationTime<=xe);xe=r.unstable_now(),typeof A=="function"?g.callback=A:g===t(d)&&n(d),R(xe)}else n(d);g=t(d)}if(g!==null)var q=!0;else{var J=t(h);J!==null&&pe(I,J.startTime-xe),q=!1}return q}finally{g=null,b=be,m=!1}}var Q=!1,te=null,$=-1,M=5,ne=-1;function D(){return!(r.unstable_now()-ne<M)}function L(){if(te!==null){var ae=r.unstable_now();ne=ae;var xe=!0;try{xe=te(!0,ae)}finally{xe?O():(Q=!1,te=null)}}else Q=!1}var O;if(typeof E=="function")O=function(){E(L)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,X=W.port2;W.port1.onmessage=L,O=function(){X.postMessage(null)}}else O=function(){w(L,0)};function le(ae){te=ae,Q||(Q=!0,O())}function pe(ae,xe){$=w(function(){ae(r.unstable_now())},xe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ae){ae.callback=null},r.unstable_continueExecution=function(){S||m||(S=!0,le(B))},r.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ae?Math.floor(1e3/ae):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_getFirstCallbackNode=function(){return t(d)},r.unstable_next=function(ae){switch(b){case 1:case 2:case 3:var xe=3;break;default:xe=b}var be=b;b=xe;try{return ae()}finally{b=be}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ae,xe){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var be=b;b=ae;try{return xe()}finally{b=be}},r.unstable_scheduleCallback=function(ae,xe,be){var ee=r.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?ee+be:ee):be=ee,ae){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=be+A,ae={id:f++,callback:xe,priorityLevel:ae,startTime:be,expirationTime:A,sortIndex:-1},be>ee?(ae.sortIndex=be,e(h,ae),t(d)===null&&ae===t(h)&&(k?(_($),$=-1):k=!0,pe(I,be-ee))):(ae.sortIndex=A,e(d,ae),S||m||(S=!0,le(B))),ae},r.unstable_shouldYield=D,r.unstable_wrapCallback=function(ae){var xe=b;return function(){var be=b;b=xe;try{return ae.apply(this,arguments)}finally{b=be}}}})(pg)),pg}var b2;function Y4(){return b2||(b2=1,fg.exports=G4()),fg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y2;function K4(){if(y2)return Gs;y2=1;var r=p1(),e=Y4();function t(o){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+o,p=1;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function i(o,u){a(o,u),a(o+"Capture",u)}function a(o,u){for(s[o]=u,o=0;o<u.length;o++)n.add(u[o])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},g={};function b(o){return d.call(g,o)?!0:d.call(f,o)?!1:h.test(o)?g[o]=!0:(f[o]=!0,!1)}function m(o,u,p,y){if(p!==null&&p.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return y?!1:p!==null?!p.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function S(o,u,p,y){if(u===null||typeof u>"u"||m(o,u,p,y))return!0;if(y)return!1;if(p!==null)switch(p.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function k(o,u,p,y,C,P,H){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=y,this.attributeNamespace=C,this.mustUseProperty=p,this.propertyName=o,this.type=u,this.sanitizeURL=P,this.removeEmptyString=H}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){w[o]=new k(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var u=o[0];w[u]=new k(u,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){w[o]=new k(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){w[o]=new k(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){w[o]=new k(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){w[o]=new k(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){w[o]=new k(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){w[o]=new k(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){w[o]=new k(o,5,!1,o.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function E(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var u=o.replace(_,E);w[u]=new k(u,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var u=o.replace(_,E);w[u]=new k(u,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var u=o.replace(_,E);w[u]=new k(u,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){w[o]=new k(o,1,!1,o.toLowerCase(),null,!1,!1)}),w.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){w[o]=new k(o,1,!1,o.toLowerCase(),null,!0,!0)});function R(o,u,p,y){var C=w.hasOwnProperty(u)?w[u]:null;(C!==null?C.type!==0:y||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(S(u,p,C,y)&&(p=null),y||C===null?b(u)&&(p===null?o.removeAttribute(u):o.setAttribute(u,""+p)):C.mustUseProperty?o[C.propertyName]=p===null?C.type===3?!1:"":p:(u=C.attributeName,y=C.attributeNamespace,p===null?o.removeAttribute(u):(C=C.type,p=C===3||C===4&&p===!0?"":""+p,y?o.setAttributeNS(y,u,p):o.setAttribute(u,p))))}var I=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),Q=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),D=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),pe=Symbol.for("react.offscreen"),ae=Symbol.iterator;function xe(o){return o===null||typeof o!="object"?null:(o=ae&&o[ae]||o["@@iterator"],typeof o=="function"?o:null)}var be=Object.assign,ee;function A(o){if(ee===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);ee=u&&u[1]||""}return`
`+ee+o}var q=!1;function J(o,u){if(!o||q)return"";q=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(Le){var y=Le}Reflect.construct(o,[],u)}else{try{u.call()}catch(Le){y=Le}o.call(u.prototype)}else{try{throw Error()}catch(Le){y=Le}o()}}catch(Le){if(Le&&y&&typeof Le.stack=="string"){for(var C=Le.stack.split(`
`),P=y.stack.split(`
`),H=C.length-1,he=P.length-1;1<=H&&0<=he&&C[H]!==P[he];)he--;for(;1<=H&&0<=he;H--,he--)if(C[H]!==P[he]){if(H!==1||he!==1)do if(H--,he--,0>he||C[H]!==P[he]){var ve=`
`+C[H].replace(" at new "," at ");return o.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",o.displayName)),ve}while(1<=H&&0<=he);break}}}finally{q=!1,Error.prepareStackTrace=p}return(o=o?o.displayName||o.name:"")?A(o):""}function ue(o){switch(o.tag){case 5:return A(o.type);case 16:return A("Lazy");case 13:return A("Suspense");case 19:return A("SuspenseList");case 0:case 2:case 15:return o=J(o.type,!1),o;case 11:return o=J(o.type.render,!1),o;case 1:return o=J(o.type,!0),o;default:return""}}function fe(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case te:return"Fragment";case Q:return"Portal";case M:return"Profiler";case $:return"StrictMode";case O:return"Suspense";case W:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case D:return(o.displayName||"Context")+".Consumer";case ne:return(o._context.displayName||"Context")+".Provider";case L:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case X:return u=o.displayName||null,u!==null?u:fe(o.type)||"Memo";case le:u=o._payload,o=o._init;try{return fe(o(u))}catch{}}return null}function de(o){var u=o.type;switch(o.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=u.render,o=o.displayName||o.name||"",u.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(u);case 8:return u===$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function ce(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Z(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function we(o){var u=Z(o)?"checked":"value",p=Object.getOwnPropertyDescriptor(o.constructor.prototype,u),y=""+o[u];if(!o.hasOwnProperty(u)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var C=p.get,P=p.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return C.call(this)},set:function(H){y=""+H,P.call(this,H)}}),Object.defineProperty(o,u,{enumerable:p.enumerable}),{getValue:function(){return y},setValue:function(H){y=""+H},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function me(o){o._valueTracker||(o._valueTracker=we(o))}function Me(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var p=u.getValue(),y="";return o&&(y=Z(o)?o.checked?"true":"false":o.value),o=y,o!==p?(u.setValue(o),!0):!1}function Be(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function ke(o,u){var p=u.checked;return be({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??o._wrapperState.initialChecked})}function re(o,u){var p=u.defaultValue==null?"":u.defaultValue,y=u.checked!=null?u.checked:u.defaultChecked;p=ce(u.value!=null?u.value:p),o._wrapperState={initialChecked:y,initialValue:p,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function Xe(o,u){u=u.checked,u!=null&&R(o,"checked",u,!1)}function ct(o,u){Xe(o,u);var p=ce(u.value),y=u.type;if(p!=null)y==="number"?(p===0&&o.value===""||o.value!=p)&&(o.value=""+p):o.value!==""+p&&(o.value=""+p);else if(y==="submit"||y==="reset"){o.removeAttribute("value");return}u.hasOwnProperty("value")?De(o,u.type,p):u.hasOwnProperty("defaultValue")&&De(o,u.type,ce(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(o.defaultChecked=!!u.defaultChecked)}function Qe(o,u,p){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var y=u.type;if(!(y!=="submit"&&y!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+o._wrapperState.initialValue,p||u===o.value||(o.value=u),o.defaultValue=u}p=o.name,p!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,p!==""&&(o.name=p)}function De(o,u,p){(u!=="number"||Be(o.ownerDocument)!==o)&&(p==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+p&&(o.defaultValue=""+p))}var Ye=Array.isArray;function We(o,u,p,y){if(o=o.options,u){u={};for(var C=0;C<p.length;C++)u["$"+p[C]]=!0;for(p=0;p<o.length;p++)C=u.hasOwnProperty("$"+o[p].value),o[p].selected!==C&&(o[p].selected=C),C&&y&&(o[p].defaultSelected=!0)}else{for(p=""+ce(p),u=null,C=0;C<o.length;C++){if(o[C].value===p){o[C].selected=!0,y&&(o[C].defaultSelected=!0);return}u!==null||o[C].disabled||(u=o[C])}u!==null&&(u.selected=!0)}}function mt(o,u){if(u.dangerouslySetInnerHTML!=null)throw Error(t(91));return be({},u,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function rt(o,u){var p=u.value;if(p==null){if(p=u.children,u=u.defaultValue,p!=null){if(u!=null)throw Error(t(92));if(Ye(p)){if(1<p.length)throw Error(t(93));p=p[0]}u=p}u==null&&(u=""),p=u}o._wrapperState={initialValue:ce(p)}}function Yt(o,u){var p=ce(u.value),y=ce(u.defaultValue);p!=null&&(p=""+p,p!==o.value&&(o.value=p),u.defaultValue==null&&o.defaultValue!==p&&(o.defaultValue=p)),y!=null&&(o.defaultValue=""+y)}function Ct(o){var u=o.textContent;u===o._wrapperState.initialValue&&u!==""&&u!==null&&(o.value=u)}function Mt(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sr(o,u){return o==null||o==="http://www.w3.org/1999/xhtml"?Mt(u):o==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Et,bt=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,p,y,C){MSApp.execUnsafeLocalFunction(function(){return o(u,p,y,C)})}:o})(function(o,u){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=u;else{for(Et=Et||document.createElement("div"),Et.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Et.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;u.firstChild;)o.appendChild(u.firstChild)}});function vt(o,u){if(u){var p=o.firstChild;if(p&&p===o.lastChild&&p.nodeType===3){p.nodeValue=u;return}}o.textContent=u}var ut={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},br=["Webkit","ms","Moz","O"];Object.keys(ut).forEach(function(o){br.forEach(function(u){u=u+o.charAt(0).toUpperCase()+o.substring(1),ut[u]=ut[o]})});function Kt(o,u,p){return u==null||typeof u=="boolean"||u===""?"":p||typeof u!="number"||u===0||ut.hasOwnProperty(o)&&ut[o]?(""+u).trim():u+"px"}function ht(o,u){o=o.style;for(var p in u)if(u.hasOwnProperty(p)){var y=p.indexOf("--")===0,C=Kt(p,u[p],y);p==="float"&&(p="cssFloat"),y?o.setProperty(p,C):o[p]=C}}var Rt=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function or(o,u){if(u){if(Rt[o]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(t(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(t(61))}if(u.style!=null&&typeof u.style!="object")throw Error(t(62))}}function yt(o,u){if(o.indexOf("-")===-1)return typeof u.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ht=null;function Lt(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Lr=null,jr=null,Jt=null;function jt(o){if(o=ml(o)){if(typeof Lr!="function")throw Error(t(280));var u=o.stateNode;u&&(u=bc(u),Lr(o.stateNode,o.type,u))}}function Zt(o){jr?Jt?Jt.push(o):Jt=[o]:jr=o}function ga(){if(jr){var o=jr,u=Jt;if(Jt=jr=null,jt(o),u)for(o=0;o<u.length;o++)jt(u[o])}}function jn(o,u){return o(u)}function vi(){}var Es=!1;function wt(o,u,p){if(Es)return o(u,p);Es=!0;try{return jn(o,u,p)}finally{Es=!1,(jr!==null||Jt!==null)&&(vi(),ga())}}function xs(o,u){var p=o.stateNode;if(p===null)return null;var y=bc(p);if(y===null)return null;p=y[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(o=o.type,y=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!y;break e;default:o=!1}if(o)return null;if(p&&typeof p!="function")throw Error(t(231,u,typeof p));return p}var Zs=!1;if(l)try{var Tn={};Object.defineProperty(Tn,"passive",{get:function(){Zs=!0}}),window.addEventListener("test",Tn,Tn),window.removeEventListener("test",Tn,Tn)}catch{Zs=!1}function Ls(o,u,p,y,C,P,H,he,ve){var Le=Array.prototype.slice.call(arguments,3);try{u.apply(p,Le)}catch($e){this.onError($e)}}var yr=!1,qr=null,rn=!1,Ui=null,ma={onError:function(o){yr=!0,qr=o}};function Qs(o,u,p,y,C,P,H,he,ve){yr=!1,qr=null,Ls.apply(ma,arguments)}function wi(o,u,p,y,C,P,H,he,ve){if(Qs.apply(this,arguments),yr){if(yr){var Le=qr;yr=!1,qr=null}else throw Error(t(198));rn||(rn=!0,Ui=Le)}}function Pn(o){var u=o,p=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(p=u.return),o=u.return;while(o)}return u.tag===3?p:null}function Is(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function bs(o){if(Pn(o)!==o)throw Error(t(188))}function qa(o){var u=o.alternate;if(!u){if(u=Pn(o),u===null)throw Error(t(188));return u!==o?null:o}for(var p=o,y=u;;){var C=p.return;if(C===null)break;var P=C.alternate;if(P===null){if(y=C.return,y!==null){p=y;continue}break}if(C.child===P.child){for(P=C.child;P;){if(P===p)return bs(C),o;if(P===y)return bs(C),u;P=P.sibling}throw Error(t(188))}if(p.return!==y.return)p=C,y=P;else{for(var H=!1,he=C.child;he;){if(he===p){H=!0,p=C,y=P;break}if(he===y){H=!0,y=C,p=P;break}he=he.sibling}if(!H){for(he=P.child;he;){if(he===p){H=!0,p=P,y=C;break}if(he===y){H=!0,y=P,p=C;break}he=he.sibling}if(!H)throw Error(t(189))}}if(p.alternate!==y)throw Error(t(190))}if(p.tag!==3)throw Error(t(188));return p.stateNode.current===p?o:u}function ei(o){return o=qa(o),o!==null?xa(o):null}function xa(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var u=xa(o);if(u!==null)return u;o=o.sibling}return null}var Ga=e.unstable_scheduleCallback,Ya=e.unstable_cancelCallback,Xo=e.unstable_shouldYield,pu=e.unstable_requestPaint,_r=e.unstable_now,Zc=e.unstable_getCurrentPriorityLevel,Zo=e.unstable_ImmediatePriority,ys=e.unstable_UserBlockingPriority,ba=e.unstable_NormalPriority,Qc=e.unstable_LowPriority,Qo=e.unstable_IdlePriority,Ka=null,vs=null;function ed(o){if(vs&&typeof vs.onCommitFiberRoot=="function")try{vs.onCommitFiberRoot(Ka,o,void 0,(o.current.flags&128)===128)}catch{}}var Mn=Math.clz32?Math.clz32:td,gu=Math.log,nn=Math.LN2;function td(o){return o>>>=0,o===0?32:31-(gu(o)/nn|0)|0}var Ja=64,Ts=4194304;function ti(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Xn(o,u){var p=o.pendingLanes;if(p===0)return 0;var y=0,C=o.suspendedLanes,P=o.pingedLanes,H=p&268435455;if(H!==0){var he=H&~C;he!==0?y=ti(he):(P&=H,P!==0&&(y=ti(P)))}else H=p&~C,H!==0?y=ti(H):P!==0&&(y=ti(P));if(y===0)return 0;if(u!==0&&u!==y&&(u&C)===0&&(C=y&-y,P=u&-u,C>=P||C===16&&(P&4194240)!==0))return u;if((y&4)!==0&&(y|=p&16),u=o.entangledLanes,u!==0)for(o=o.entanglements,u&=y;0<u;)p=31-Mn(u),C=1<<p,y|=o[p],u&=~C;return y}function Xa(o,u){switch(o){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gr(o,u){for(var p=o.suspendedLanes,y=o.pingedLanes,C=o.expirationTimes,P=o.pendingLanes;0<P;){var H=31-Mn(P),he=1<<H,ve=C[H];ve===-1?((he&p)===0||(he&y)!==0)&&(C[H]=Xa(he,u)):ve<=u&&(o.expiredLanes|=he),P&=~he}}function Za(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function rd(){var o=Ja;return Ja<<=1,(Ja&4194240)===0&&(Ja=64),o}function ec(o){for(var u=[],p=0;31>p;p++)u.push(o);return u}function Qa(o,u,p){o.pendingLanes|=u,u!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,u=31-Mn(u),o[u]=p}function ki(o,u){var p=o.pendingLanes&~u;o.pendingLanes=u,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=u,o.mutableReadLanes&=u,o.entangledLanes&=u,u=o.entanglements;var y=o.eventTimes;for(o=o.expirationTimes;0<p;){var C=31-Mn(p),P=1<<C;u[C]=0,y[C]=-1,o[C]=-1,p&=~P}}function el(o,u){var p=o.entangledLanes|=u;for(o=o.entanglements;p;){var y=31-Mn(p),C=1<<y;C&u|o[y]&u&&(o[y]|=u),p&=~C}}var Xt=0;function Hi(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var tl,tc,nd,sd,rl,Wi=!1,ri=[],_i=null,Zn=null,Ms=null,St=new Map,eo=new Map,Si=[],mu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function id(o,u){switch(o){case"focusin":case"focusout":_i=null;break;case"dragenter":case"dragleave":Zn=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":St.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":eo.delete(u.pointerId)}}function ws(o,u,p,y,C,P){return o===null||o.nativeEvent!==P?(o={blockedOn:u,domEventName:p,eventSystemFlags:y,nativeEvent:P,targetContainers:[C]},u!==null&&(u=ml(u),u!==null&&tc(u)),o):(o.eventSystemFlags|=y,u=o.targetContainers,C!==null&&u.indexOf(C)===-1&&u.push(C),o)}function Vi(o,u,p,y,C){switch(u){case"focusin":return _i=ws(_i,o,u,p,y,C),!0;case"dragenter":return Zn=ws(Zn,o,u,p,y,C),!0;case"mouseover":return Ms=ws(Ms,o,u,p,y,C),!0;case"pointerover":var P=C.pointerId;return St.set(P,ws(St.get(P)||null,o,u,p,y,C)),!0;case"gotpointercapture":return P=C.pointerId,eo.set(P,ws(eo.get(P)||null,o,u,p,y,C)),!0}return!1}function ad(o){var u=Pa(o.target);if(u!==null){var p=Pn(u);if(p!==null){if(u=p.tag,u===13){if(u=Is(p),u!==null){o.blockedOn=u,rl(o.priority,function(){nd(p)});return}}else if(u===3&&p.stateNode.current.memoizedState.isDehydrated){o.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}o.blockedOn=null}function nl(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var p=ro(o.domEventName,o.eventSystemFlags,u[0],o.nativeEvent);if(p===null){p=o.nativeEvent;var y=new p.constructor(p.type,p);Ht=y,p.target.dispatchEvent(y),Ht=null}else return u=ml(p),u!==null&&tc(u),o.blockedOn=p,!1;u.shift()}return!0}function to(o,u,p){nl(o)&&p.delete(u)}function rc(){Wi=!1,_i!==null&&nl(_i)&&(_i=null),Zn!==null&&nl(Zn)&&(Zn=null),Ms!==null&&nl(Ms)&&(Ms=null),St.forEach(to),eo.forEach(to)}function ni(o,u){o.blockedOn===u&&(o.blockedOn=null,Wi||(Wi=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,rc)))}function Ni(o){function u(C){return ni(C,o)}if(0<ri.length){ni(ri[0],o);for(var p=1;p<ri.length;p++){var y=ri[p];y.blockedOn===o&&(y.blockedOn=null)}}for(_i!==null&&ni(_i,o),Zn!==null&&ni(Zn,o),Ms!==null&&ni(Ms,o),St.forEach(u),eo.forEach(u),p=0;p<Si.length;p++)y=Si[p],y.blockedOn===o&&(y.blockedOn=null);for(;0<Si.length&&(p=Si[0],p.blockedOn===null);)ad(p),p.blockedOn===null&&Si.shift()}var si=I.ReactCurrentBatchConfig,sl=!0;function nc(o,u,p,y){var C=Xt,P=si.transition;si.transition=null;try{Xt=1,$i(o,u,p,y)}finally{Xt=C,si.transition=P}}function sc(o,u,p,y){var C=Xt,P=si.transition;si.transition=null;try{Xt=4,$i(o,u,p,y)}finally{Xt=C,si.transition=P}}function $i(o,u,p,y){if(sl){var C=ro(o,u,p,y);if(C===null)gc(o,u,y,Ci,p),id(o,y);else if(Vi(C,o,u,p,y))y.stopPropagation();else if(id(o,y),u&4&&-1<mu.indexOf(o)){for(;C!==null;){var P=ml(C);if(P!==null&&tl(P),P=ro(o,u,p,y),P===null&&gc(o,u,y,Ci,p),P===C)break;C=P}C!==null&&y.stopPropagation()}else gc(o,u,y,null,p)}}var Ci=null;function ro(o,u,p,y){if(Ci=null,o=Lt(y),o=Pa(o),o!==null)if(u=Pn(o),u===null)o=null;else if(p=u.tag,p===13){if(o=Is(u),o!==null)return o;o=null}else if(p===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null);return Ci=o,null}function no(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zc()){case Zo:return 1;case ys:return 4;case ba:case Qc:return 16;case Qo:return 536870912;default:return 16}default:return 16}}var Rs=null,qi=null,so=null;function ic(){if(so)return so;var o,u=qi,p=u.length,y,C="value"in Rs?Rs.value:Rs.textContent,P=C.length;for(o=0;o<p&&u[o]===C[o];o++);var H=p-o;for(y=1;y<=H&&u[p-y]===C[P-y];y++);return so=C.slice(o,1<y?1-y:void 0)}function Ds(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function Os(){return!0}function ac(){return!1}function Rn(o){function u(p,y,C,P,H){this._reactName=p,this._targetInst=C,this.type=y,this.nativeEvent=P,this.target=H,this.currentTarget=null;for(var he in o)o.hasOwnProperty(he)&&(p=o[he],this[he]=p?p(P):P[he]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?Os:ac,this.isPropagationStopped=ac,this}return be(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Os)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Os)},persist:function(){},isPersistent:Os}),u}var Fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},il=Rn(Fs),N=be({},Fs,{view:0,detail:0}),z=Rn(N),oe,ge,Ne,Fe=be({},N,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ya,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ne&&(Ne&&o.type==="mousemove"?(oe=o.screenX-Ne.screenX,ge=o.screenY-Ne.screenY):ge=oe=0,Ne=o),oe)},movementY:function(o){return"movementY"in o?o.movementY:ge}}),He=Rn(Fe),it=be({},Fe,{dataTransfer:0}),ft=Rn(it),Pt=be({},N,{relatedTarget:0}),At=Rn(Pt),Qt=be({},Fs,{animationName:0,elapsedTime:0,pseudoElement:0}),Ir=Rn(Qt),sn=be({},Fs,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),vr=Rn(sn),fn=be({},Fs,{data:0}),Yr=Rn(fn),An={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function od(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=Qn[o])?!!u[o]:!1}function ya(){return od}var io=be({},N,{key:function(o){if(o.key){var u=An[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=Ds(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Bs[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ya,charCode:function(o){return o.type==="keypress"?Ds(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Ds(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),va=Rn(io),ao=be({},Fe,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wa=Rn(ao),oo=be({},N,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ya}),Dn=Rn(oo),lo=be({},Fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),co=Rn(lo),oc=be({},Fe,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),lc=Rn(oc),Br=[9,13,27,32],ii=l&&"CompositionEvent"in window,ji=null;l&&"documentMode"in document&&(ji=document.documentMode);var ld=l&&"TextEvent"in window&&!ji,ks=l&&(!ii||ji&&8<ji&&11>=ji),ka=" ",al=!1;function ol(o,u){switch(o){case"keyup":return Br.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gi(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var zs=!1;function _s(o,u){switch(o){case"compositionend":return Gi(u);case"keypress":return u.which!==32?null:(al=!0,ka);case"textInput":return o=u.data,o===ka&&al?null:o;default:return null}}function Ss(o,u){if(zs)return o==="compositionend"||!ii&&ol(o,u)?(o=ic(),so=qi=Rs=null,zs=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return ks&&u.locale!=="ko"?null:u.data;default:return null}}var _a={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pi(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!_a[o.type]:u==="textarea"}function Yi(o,u,p,y){Zt(y),u=fd(u,"onChange"),0<u.length&&(p=new il("onChange","change",null,p,y),o.push({event:p,listeners:u}))}var Ki=null,Ai=null;function Kr(o){fc(o,0)}function uo(o){var u=wo(o);if(Me(u))return o}function Ei(o,u){if(o==="change")return u}var ai=!1;if(l){var ho;if(l){var fo="oninput"in document;if(!fo){var ll=document.createElement("div");ll.setAttribute("oninput","return;"),fo=typeof ll.oninput=="function"}ho=fo}else ho=!1;ai=ho&&(!document.documentMode||9<document.documentMode)}function cl(){Ki&&(Ki.detachEvent("onpropertychange",Ji),Ai=Ki=null)}function Ji(o){if(o.propertyName==="value"&&uo(Ai)){var u=[];Yi(u,Ai,o,Lt(o)),wt(Kr,u)}}function Sa(o,u,p){o==="focusin"?(cl(),Ki=u,Ai=p,Ki.attachEvent("onpropertychange",Ji)):o==="focusout"&&cl()}function Na(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return uo(Ai)}function po(o,u){if(o==="click")return uo(u)}function Ca(o,u){if(o==="input"||o==="change")return uo(u)}function go(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var zr=typeof Object.is=="function"?Object.is:go;function es(o,u){if(zr(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var p=Object.keys(o),y=Object.keys(u);if(p.length!==y.length)return!1;for(y=0;y<p.length;y++){var C=p[y];if(!d.call(u,C)||!zr(o[C],u[C]))return!1}return!0}function er(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function cr(o,u){var p=er(o);o=0;for(var y;p;){if(p.nodeType===3){if(y=o+p.textContent.length,o<=u&&y>=u)return{node:p,offset:u-o};o=y}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=er(p)}}function Ur(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?Ur(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function an(){for(var o=window,u=Be();u instanceof o.HTMLIFrameElement;){try{var p=typeof u.contentWindow.location.href=="string"}catch{p=!1}if(p)o=u.contentWindow;else break;u=Be(o.document)}return u}function oi(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}function cc(o){var u=an(),p=o.focusedElem,y=o.selectionRange;if(u!==p&&p&&p.ownerDocument&&Ur(p.ownerDocument.documentElement,p)){if(y!==null&&oi(p)){if(u=y.start,o=y.end,o===void 0&&(o=u),"selectionStart"in p)p.selectionStart=u,p.selectionEnd=Math.min(o,p.value.length);else if(o=(u=p.ownerDocument||document)&&u.defaultView||window,o.getSelection){o=o.getSelection();var C=p.textContent.length,P=Math.min(y.start,C);y=y.end===void 0?P:Math.min(y.end,C),!o.extend&&P>y&&(C=y,y=P,P=C),C=cr(p,P);var H=cr(p,y);C&&H&&(o.rangeCount!==1||o.anchorNode!==C.node||o.anchorOffset!==C.offset||o.focusNode!==H.node||o.focusOffset!==H.offset)&&(u=u.createRange(),u.setStart(C.node,C.offset),o.removeAllRanges(),P>y?(o.addRange(u),o.extend(H.node,H.offset)):(u.setEnd(H.node,H.offset),o.addRange(u)))}}for(u=[],o=p;o=o.parentNode;)o.nodeType===1&&u.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<u.length;p++)o=u[p],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var dl=l&&"documentMode"in document&&11>=document.documentMode,Xi=null,cd=null,ul=null,dd=!1;function xu(o,u,p){var y=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;dd||Xi==null||Xi!==Be(y)||(y=Xi,"selectionStart"in y&&oi(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),ul&&es(ul,y)||(ul=y,y=fd(cd,"onSelect"),0<y.length&&(u=new il("onSelect","select",null,u,p),o.push({event:u,listeners:y}),u.target=Xi)))}function dc(o,u){var p={};return p[o.toLowerCase()]=u.toLowerCase(),p["Webkit"+o]="webkit"+u,p["Moz"+o]="moz"+u,p}var mo={animationend:dc("Animation","AnimationEnd"),animationiteration:dc("Animation","AnimationIteration"),animationstart:dc("Animation","AnimationStart"),transitionend:dc("Transition","TransitionEnd")},xo={},bu={};l&&(bu=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function uc(o){if(xo[o])return xo[o];if(!mo[o])return o;var u=mo[o],p;for(p in u)if(u.hasOwnProperty(p)&&p in bu)return xo[o]=u[p];return o}var yu=uc("animationend"),vu=uc("animationiteration"),wu=uc("animationstart"),ku=uc("transitionend"),_u=new Map,Su="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Li(o,u){_u.set(o,u),i(u,[o])}for(var hl=0;hl<Su.length;hl++){var $n=Su[hl],Us=$n.toLowerCase(),ud=$n[0].toUpperCase()+$n.slice(1);Li(Us,"on"+ud)}Li(yu,"onAnimationEnd"),Li(vu,"onAnimationIteration"),Li(wu,"onAnimationStart"),Li("dblclick","onDoubleClick"),Li("focusin","onFocus"),Li("focusout","onBlur"),Li(ku,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ja="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xh=new Set("cancel close invalid load scroll toggle".split(" ").concat(ja));function hc(o,u,p){var y=o.type||"unknown-event";o.currentTarget=p,wi(y,u,void 0,o),o.currentTarget=null}function fc(o,u){u=(u&4)!==0;for(var p=0;p<o.length;p++){var y=o[p],C=y.event;y=y.listeners;e:{var P=void 0;if(u)for(var H=y.length-1;0<=H;H--){var he=y[H],ve=he.instance,Le=he.currentTarget;if(he=he.listener,ve!==P&&C.isPropagationStopped())break e;hc(C,he,Le),P=ve}else for(H=0;H<y.length;H++){if(he=y[H],ve=he.instance,Le=he.currentTarget,he=he.listener,ve!==P&&C.isPropagationStopped())break e;hc(C,he,Le),P=ve}}}if(rn)throw o=Ui,rn=!1,Ui=null,o}function fr(o,u){var p=u[rs];p===void 0&&(p=u[rs]=new Set);var y=o+"__bubble";p.has(y)||(pc(u,o,2,!1),p.add(y))}function hd(o,u,p){var y=0;u&&(y|=4),pc(p,o,y,u)}var fl="_reactListening"+Math.random().toString(36).slice(2);function bo(o){if(!o[fl]){o[fl]=!0,n.forEach(function(p){p!=="selectionchange"&&(Xh.has(p)||hd(p,!1,o),hd(p,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[fl]||(u[fl]=!0,hd("selectionchange",!1,u))}}function pc(o,u,p,y){switch(no(u)){case 1:var C=nc;break;case 4:C=sc;break;default:C=$i}p=C.bind(null,u,p,o),C=void 0,!Zs||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(C=!0),y?C!==void 0?o.addEventListener(u,p,{capture:!0,passive:C}):o.addEventListener(u,p,!0):C!==void 0?o.addEventListener(u,p,{passive:C}):o.addEventListener(u,p,!1)}function gc(o,u,p,y,C){var P=y;if((u&1)===0&&(u&2)===0&&y!==null)e:for(;;){if(y===null)return;var H=y.tag;if(H===3||H===4){var he=y.stateNode.containerInfo;if(he===C||he.nodeType===8&&he.parentNode===C)break;if(H===4)for(H=y.return;H!==null;){var ve=H.tag;if((ve===3||ve===4)&&(ve=H.stateNode.containerInfo,ve===C||ve.nodeType===8&&ve.parentNode===C))return;H=H.return}for(;he!==null;){if(H=Pa(he),H===null)return;if(ve=H.tag,ve===5||ve===6){y=P=H;continue e}he=he.parentNode}}y=y.return}wt(function(){var Le=P,$e=Lt(p),Ge=[];e:{var Ve=_u.get(o);if(Ve!==void 0){var Ze=il,ot=o;switch(o){case"keypress":if(Ds(p)===0)break e;case"keydown":case"keyup":Ze=va;break;case"focusin":ot="focus",Ze=At;break;case"focusout":ot="blur",Ze=At;break;case"beforeblur":case"afterblur":Ze=At;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ze=He;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ze=ft;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ze=Dn;break;case yu:case vu:case wu:Ze=Ir;break;case ku:Ze=co;break;case"scroll":Ze=z;break;case"wheel":Ze=lc;break;case"copy":case"cut":case"paste":Ze=vr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ze=wa}var dt=(u&4)!==0,mn=!dt&&o==="scroll",Pe=dt?Ve!==null?Ve+"Capture":null:Ve;dt=[];for(var Se=Le,Ee;Se!==null;){Ee=Se;var Ke=Ee.stateNode;if(Ee.tag===5&&Ke!==null&&(Ee=Ke,Pe!==null&&(Ke=xs(Se,Pe),Ke!=null&&dt.push(mc(Se,Ke,Ee)))),mn)break;Se=Se.return}0<dt.length&&(Ve=new Ze(Ve,ot,null,p,$e),Ge.push({event:Ve,listeners:dt}))}}if((u&7)===0){e:{if(Ve=o==="mouseover"||o==="pointerover",Ze=o==="mouseout"||o==="pointerout",Ve&&p!==Ht&&(ot=p.relatedTarget||p.fromElement)&&(Pa(ot)||ot[On]))break e;if((Ze||Ve)&&(Ve=$e.window===$e?$e:(Ve=$e.ownerDocument)?Ve.defaultView||Ve.parentWindow:window,Ze?(ot=p.relatedTarget||p.toElement,Ze=Le,ot=ot?Pa(ot):null,ot!==null&&(mn=Pn(ot),ot!==mn||ot.tag!==5&&ot.tag!==6)&&(ot=null)):(Ze=null,ot=Le),Ze!==ot)){if(dt=He,Ke="onMouseLeave",Pe="onMouseEnter",Se="mouse",(o==="pointerout"||o==="pointerover")&&(dt=wa,Ke="onPointerLeave",Pe="onPointerEnter",Se="pointer"),mn=Ze==null?Ve:wo(Ze),Ee=ot==null?Ve:wo(ot),Ve=new dt(Ke,Se+"leave",Ze,p,$e),Ve.target=mn,Ve.relatedTarget=Ee,Ke=null,Pa($e)===Le&&(dt=new dt(Pe,Se+"enter",ot,p,$e),dt.target=Ee,dt.relatedTarget=mn,Ke=dt),mn=Ke,Ze&&ot)t:{for(dt=Ze,Pe=ot,Se=0,Ee=dt;Ee;Ee=yo(Ee))Se++;for(Ee=0,Ke=Pe;Ke;Ke=yo(Ke))Ee++;for(;0<Se-Ee;)dt=yo(dt),Se--;for(;0<Ee-Se;)Pe=yo(Pe),Ee--;for(;Se--;){if(dt===Pe||Pe!==null&&dt===Pe.alternate)break t;dt=yo(dt),Pe=yo(Pe)}dt=null}else dt=null;Ze!==null&&Zh(Ge,Ve,Ze,dt,!1),ot!==null&&mn!==null&&Zh(Ge,mn,ot,dt,!0)}}e:{if(Ve=Le?wo(Le):window,Ze=Ve.nodeName&&Ve.nodeName.toLowerCase(),Ze==="select"||Ze==="input"&&Ve.type==="file")var gt=Ei;else if(Pi(Ve))if(ai)gt=Ca;else{gt=Na;var kt=Sa}else(Ze=Ve.nodeName)&&Ze.toLowerCase()==="input"&&(Ve.type==="checkbox"||Ve.type==="radio")&&(gt=po);if(gt&&(gt=gt(o,Le))){Yi(Ge,gt,p,$e);break e}kt&&kt(o,Ve,Le),o==="focusout"&&(kt=Ve._wrapperState)&&kt.controlled&&Ve.type==="number"&&De(Ve,"number",Ve.value)}switch(kt=Le?wo(Le):window,o){case"focusin":(Pi(kt)||kt.contentEditable==="true")&&(Xi=kt,cd=Le,ul=null);break;case"focusout":ul=cd=Xi=null;break;case"mousedown":dd=!0;break;case"contextmenu":case"mouseup":case"dragend":dd=!1,xu(Ge,p,$e);break;case"selectionchange":if(dl)break;case"keydown":case"keyup":xu(Ge,p,$e)}var _t;if(ii)e:{switch(o){case"compositionstart":var It="onCompositionStart";break e;case"compositionend":It="onCompositionEnd";break e;case"compositionupdate":It="onCompositionUpdate";break e}It=void 0}else zs?ol(o,p)&&(It="onCompositionEnd"):o==="keydown"&&p.keyCode===229&&(It="onCompositionStart");It&&(ks&&p.locale!=="ko"&&(zs||It!=="onCompositionStart"?It==="onCompositionEnd"&&zs&&(_t=ic()):(Rs=$e,qi="value"in Rs?Rs.value:Rs.textContent,zs=!0)),kt=fd(Le,It),0<kt.length&&(It=new Yr(It,o,null,p,$e),Ge.push({event:It,listeners:kt}),_t?It.data=_t:(_t=Gi(p),_t!==null&&(It.data=_t)))),(_t=ld?_s(o,p):Ss(o,p))&&(Le=fd(Le,"onBeforeInput"),0<Le.length&&($e=new Yr("onBeforeInput","beforeinput",null,p,$e),Ge.push({event:$e,listeners:Le}),$e.data=_t))}fc(Ge,u)})}function mc(o,u,p){return{instance:o,listener:u,currentTarget:p}}function fd(o,u){for(var p=u+"Capture",y=[];o!==null;){var C=o,P=C.stateNode;C.tag===5&&P!==null&&(C=P,P=xs(o,p),P!=null&&y.unshift(mc(o,P,C)),P=xs(o,u),P!=null&&y.push(mc(o,P,C))),o=o.return}return y}function yo(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Zh(o,u,p,y,C){for(var P=u._reactName,H=[];p!==null&&p!==y;){var he=p,ve=he.alternate,Le=he.stateNode;if(ve!==null&&ve===y)break;he.tag===5&&Le!==null&&(he=Le,C?(ve=xs(p,P),ve!=null&&H.unshift(mc(p,ve,he))):C||(ve=xs(p,P),ve!=null&&H.push(mc(p,ve,he)))),p=p.return}H.length!==0&&o.push({event:u,listeners:H})}var Sp=/\r\n?/g,Np=/\u0000|\uFFFD/g;function Qh(o){return(typeof o=="string"?o:""+o).replace(Sp,`
`).replace(Np,"")}function pd(o,u,p){if(u=Qh(u),Qh(o)!==u&&p)throw Error(t(425))}function pl(){}var xc=null,vo=null;function Nu(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Cu=typeof setTimeout=="function"?setTimeout:void 0,ef=typeof clearTimeout=="function"?clearTimeout:void 0,tf=typeof Promise=="function"?Promise:void 0,Cp=typeof queueMicrotask=="function"?queueMicrotask:typeof tf<"u"?function(o){return tf.resolve(null).then(o).catch(jp)}:Cu;function jp(o){setTimeout(function(){throw o})}function ju(o,u){var p=u,y=0;do{var C=p.nextSibling;if(o.removeChild(p),C&&C.nodeType===8)if(p=C.data,p==="/$"){if(y===0){o.removeChild(C),Ni(u);return}y--}else p!=="$"&&p!=="$?"&&p!=="$!"||y++;p=C}while(p);Ni(u)}function qn(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return o}function Hs(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var p=o.data;if(p==="$"||p==="$!"||p==="$?"){if(u===0)return o;u--}else p==="/$"&&u++}o=o.previousSibling}return null}var ts=Math.random().toString(36).slice(2),Ii="__reactFiber$"+ts,gl="__reactProps$"+ts,On="__reactContainer$"+ts,rs="__reactEvents$"+ts,Pp="__reactListeners$"+ts,Ap="__reactHandles$"+ts;function Pa(o){var u=o[Ii];if(u)return u;for(var p=o.parentNode;p;){if(u=p[On]||p[Ii]){if(p=u.alternate,u.child!==null||p!==null&&p.child!==null)for(o=Hs(o);o!==null;){if(p=o[Ii])return p;o=Hs(o)}return u}o=p,p=o.parentNode}return null}function ml(o){return o=o[Ii]||o[On],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function wo(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function bc(o){return o[gl]||null}var Pu=[],Zi=-1;function li(o){return{current:o}}function lr(o){0>Zi||(o.current=Pu[Zi],Pu[Zi]=null,Zi--)}function dr(o,u){Zi++,Pu[Zi]=o.current,o.current=u}var Aa={},En=li(Aa),ns=li(!1),ko=Aa;function xl(o,u){var p=o.type.contextTypes;if(!p)return Aa;var y=o.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===u)return y.__reactInternalMemoizedMaskedChildContext;var C={},P;for(P in p)C[P]=u[P];return y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=u,o.__reactInternalMemoizedMaskedChildContext=C),C}function ss(o){return o=o.childContextTypes,o!=null}function gd(){lr(ns),lr(En)}function rf(o,u,p){if(En.current!==Aa)throw Error(t(168));dr(En,u),dr(ns,p)}function Au(o,u,p){var y=o.stateNode;if(u=u.childContextTypes,typeof y.getChildContext!="function")return p;y=y.getChildContext();for(var C in y)if(!(C in u))throw Error(t(108,de(o)||"Unknown",C));return be({},p,y)}function _o(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Aa,ko=En.current,dr(En,o),dr(ns,ns.current),!0}function nf(o,u,p){var y=o.stateNode;if(!y)throw Error(t(169));p?(o=Au(o,u,ko),y.__reactInternalMemoizedMergedChildContext=o,lr(ns),lr(En),dr(En,o)):lr(ns),dr(ns,p)}var Qi=null,yc=!1,x=!1;function v(o){Qi===null?Qi=[o]:Qi.push(o)}function j(o){yc=!0,v(o)}function T(){if(!x&&Qi!==null){x=!0;var o=0,u=Xt;try{var p=Qi;for(Xt=1;o<p.length;o++){var y=p[o];do y=y(!0);while(y!==null)}Qi=null,yc=!1}catch(C){throw Qi!==null&&(Qi=Qi.slice(o+1)),Ga(Zo,T),C}finally{Xt=u,x=!1}}return null}var F=[],V=0,G=null,Y=0,K=[],se=0,ye=null,je=1,ie="";function _e(o,u){F[V++]=Y,F[V++]=G,G=o,Y=u}function Ce(o,u,p){K[se++]=je,K[se++]=ie,K[se++]=ye,ye=o;var y=je;o=ie;var C=32-Mn(y)-1;y&=~(1<<C),p+=1;var P=32-Mn(u)+C;if(30<P){var H=C-C%5;P=(y&(1<<H)-1).toString(32),y>>=H,C-=H,je=1<<32-Mn(u)+C|p<<C|y,ie=P+o}else je=1<<P|p<<C|y,ie=o}function Oe(o){o.return!==null&&(_e(o,1),Ce(o,1,0))}function Ae(o){for(;o===G;)G=F[--V],F[V]=null,Y=F[--V],F[V]=null;for(;o===ye;)ye=K[--se],K[se]=null,ie=K[--se],K[se]=null,je=K[--se],K[se]=null}var Te=null,Re=null,ze=!1,Ue=null;function pt(o,u){var p=Oi(5,null,null,0);p.elementType="DELETED",p.stateNode=u,p.return=o,u=o.deletions,u===null?(o.deletions=[p],o.flags|=16):u.push(p)}function et(o,u){switch(o.tag){case 5:var p=o.type;return u=u.nodeType!==1||p.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(o.stateNode=u,Te=o,Re=qn(u.firstChild),!0):!1;case 6:return u=o.pendingProps===""||u.nodeType!==3?null:u,u!==null?(o.stateNode=u,Te=o,Re=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(p=ye!==null?{id:je,overflow:ie}:null,o.memoizedState={dehydrated:u,treeContext:p,retryLane:1073741824},p=Oi(18,null,null,0),p.stateNode=u,p.return=o,o.child=p,Te=o,Re=null,!0):!1;default:return!1}}function Dt(o){return(o.mode&1)!==0&&(o.flags&128)===0}function at(o){if(ze){var u=Re;if(u){var p=u;if(!et(o,u)){if(Dt(o))throw Error(t(418));u=qn(p.nextSibling);var y=Te;u&&et(o,u)?pt(y,p):(o.flags=o.flags&-4097|2,ze=!1,Te=o)}}else{if(Dt(o))throw Error(t(418));o.flags=o.flags&-4097|2,ze=!1,Te=o}}}function Vt(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Te=o}function Hr(o){if(o!==Te)return!1;if(!ze)return Vt(o),ze=!0,!1;var u;if((u=o.tag!==3)&&!(u=o.tag!==5)&&(u=o.type,u=u!=="head"&&u!=="body"&&!Nu(o.type,o.memoizedProps)),u&&(u=Re)){if(Dt(o))throw Ft(),Error(t(418));for(;u;)pt(o,u),u=qn(u.nextSibling)}if(Vt(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,u=0;o;){if(o.nodeType===8){var p=o.data;if(p==="/$"){if(u===0){Re=qn(o.nextSibling);break e}u--}else p!=="$"&&p!=="$!"&&p!=="$?"||u++}o=o.nextSibling}Re=null}}else Re=Te?qn(o.stateNode.nextSibling):null;return!0}function Ft(){for(var o=Re;o;)o=qn(o.nextSibling)}function tt(){Re=Te=null,ze=!1}function Je(o){Ue===null?Ue=[o]:Ue.push(o)}var Jr=I.ReactCurrentBatchConfig;function Nt(o,u,p){if(o=p.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(t(309));var y=p.stateNode}if(!y)throw Error(t(147,o));var C=y,P=""+o;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===P?u.ref:(u=function(H){var he=C.refs;H===null?delete he[P]:he[P]=H},u._stringRef=P,u)}if(typeof o!="string")throw Error(t(284));if(!p._owner)throw Error(t(290,o))}return o}function Wt(o,u){throw o=Object.prototype.toString.call(u),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o))}function wr(o){var u=o._init;return u(o._payload)}function wn(o){function u(Pe,Se){if(o){var Ee=Pe.deletions;Ee===null?(Pe.deletions=[Se],Pe.flags|=16):Ee.push(Se)}}function p(Pe,Se){if(!o)return null;for(;Se!==null;)u(Pe,Se),Se=Se.sibling;return null}function y(Pe,Se){for(Pe=new Map;Se!==null;)Se.key!==null?Pe.set(Se.key,Se):Pe.set(Se.index,Se),Se=Se.sibling;return Pe}function C(Pe,Se){return Pe=jl(Pe,Se),Pe.index=0,Pe.sibling=null,Pe}function P(Pe,Se,Ee){return Pe.index=Ee,o?(Ee=Pe.alternate,Ee!==null?(Ee=Ee.index,Ee<Se?(Pe.flags|=2,Se):Ee):(Pe.flags|=2,Se)):(Pe.flags|=1048576,Se)}function H(Pe){return o&&Pe.alternate===null&&(Pe.flags|=2),Pe}function he(Pe,Se,Ee,Ke){return Se===null||Se.tag!==6?(Se=sg(Ee,Pe.mode,Ke),Se.return=Pe,Se):(Se=C(Se,Ee),Se.return=Pe,Se)}function ve(Pe,Se,Ee,Ke){var gt=Ee.type;return gt===te?$e(Pe,Se,Ee.props.children,Ke,Ee.key):Se!==null&&(Se.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===le&&wr(gt)===Se.type)?(Ke=C(Se,Ee.props),Ke.ref=Nt(Pe,Se,Ee),Ke.return=Pe,Ke):(Ke=Sf(Ee.type,Ee.key,Ee.props,null,Pe.mode,Ke),Ke.ref=Nt(Pe,Se,Ee),Ke.return=Pe,Ke)}function Le(Pe,Se,Ee,Ke){return Se===null||Se.tag!==4||Se.stateNode.containerInfo!==Ee.containerInfo||Se.stateNode.implementation!==Ee.implementation?(Se=ig(Ee,Pe.mode,Ke),Se.return=Pe,Se):(Se=C(Se,Ee.children||[]),Se.return=Pe,Se)}function $e(Pe,Se,Ee,Ke,gt){return Se===null||Se.tag!==7?(Se=jc(Ee,Pe.mode,Ke,gt),Se.return=Pe,Se):(Se=C(Se,Ee),Se.return=Pe,Se)}function Ge(Pe,Se,Ee){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return Se=sg(""+Se,Pe.mode,Ee),Se.return=Pe,Se;if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case B:return Ee=Sf(Se.type,Se.key,Se.props,null,Pe.mode,Ee),Ee.ref=Nt(Pe,null,Se),Ee.return=Pe,Ee;case Q:return Se=ig(Se,Pe.mode,Ee),Se.return=Pe,Se;case le:var Ke=Se._init;return Ge(Pe,Ke(Se._payload),Ee)}if(Ye(Se)||xe(Se))return Se=jc(Se,Pe.mode,Ee,null),Se.return=Pe,Se;Wt(Pe,Se)}return null}function Ve(Pe,Se,Ee,Ke){var gt=Se!==null?Se.key:null;if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return gt!==null?null:he(Pe,Se,""+Ee,Ke);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case B:return Ee.key===gt?ve(Pe,Se,Ee,Ke):null;case Q:return Ee.key===gt?Le(Pe,Se,Ee,Ke):null;case le:return gt=Ee._init,Ve(Pe,Se,gt(Ee._payload),Ke)}if(Ye(Ee)||xe(Ee))return gt!==null?null:$e(Pe,Se,Ee,Ke,null);Wt(Pe,Ee)}return null}function Ze(Pe,Se,Ee,Ke,gt){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number")return Pe=Pe.get(Ee)||null,he(Se,Pe,""+Ke,gt);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case B:return Pe=Pe.get(Ke.key===null?Ee:Ke.key)||null,ve(Se,Pe,Ke,gt);case Q:return Pe=Pe.get(Ke.key===null?Ee:Ke.key)||null,Le(Se,Pe,Ke,gt);case le:var kt=Ke._init;return Ze(Pe,Se,Ee,kt(Ke._payload),gt)}if(Ye(Ke)||xe(Ke))return Pe=Pe.get(Ee)||null,$e(Se,Pe,Ke,gt,null);Wt(Se,Ke)}return null}function ot(Pe,Se,Ee,Ke){for(var gt=null,kt=null,_t=Se,It=Se=0,Hn=null;_t!==null&&It<Ee.length;It++){_t.index>It?(Hn=_t,_t=null):Hn=_t.sibling;var ir=Ve(Pe,_t,Ee[It],Ke);if(ir===null){_t===null&&(_t=Hn);break}o&&_t&&ir.alternate===null&&u(Pe,_t),Se=P(ir,Se,It),kt===null?gt=ir:kt.sibling=ir,kt=ir,_t=Hn}if(It===Ee.length)return p(Pe,_t),ze&&_e(Pe,It),gt;if(_t===null){for(;It<Ee.length;It++)_t=Ge(Pe,Ee[It],Ke),_t!==null&&(Se=P(_t,Se,It),kt===null?gt=_t:kt.sibling=_t,kt=_t);return ze&&_e(Pe,It),gt}for(_t=y(Pe,_t);It<Ee.length;It++)Hn=Ze(_t,Pe,It,Ee[It],Ke),Hn!==null&&(o&&Hn.alternate!==null&&_t.delete(Hn.key===null?It:Hn.key),Se=P(Hn,Se,It),kt===null?gt=Hn:kt.sibling=Hn,kt=Hn);return o&&_t.forEach(function(Pl){return u(Pe,Pl)}),ze&&_e(Pe,It),gt}function dt(Pe,Se,Ee,Ke){var gt=xe(Ee);if(typeof gt!="function")throw Error(t(150));if(Ee=gt.call(Ee),Ee==null)throw Error(t(151));for(var kt=gt=null,_t=Se,It=Se=0,Hn=null,ir=Ee.next();_t!==null&&!ir.done;It++,ir=Ee.next()){_t.index>It?(Hn=_t,_t=null):Hn=_t.sibling;var Pl=Ve(Pe,_t,ir.value,Ke);if(Pl===null){_t===null&&(_t=Hn);break}o&&_t&&Pl.alternate===null&&u(Pe,_t),Se=P(Pl,Se,It),kt===null?gt=Pl:kt.sibling=Pl,kt=Pl,_t=Hn}if(ir.done)return p(Pe,_t),ze&&_e(Pe,It),gt;if(_t===null){for(;!ir.done;It++,ir=Ee.next())ir=Ge(Pe,ir.value,Ke),ir!==null&&(Se=P(ir,Se,It),kt===null?gt=ir:kt.sibling=ir,kt=ir);return ze&&_e(Pe,It),gt}for(_t=y(Pe,_t);!ir.done;It++,ir=Ee.next())ir=Ze(_t,Pe,It,ir.value,Ke),ir!==null&&(o&&ir.alternate!==null&&_t.delete(ir.key===null?It:ir.key),Se=P(ir,Se,It),kt===null?gt=ir:kt.sibling=ir,kt=ir);return o&&_t.forEach(function(W4){return u(Pe,W4)}),ze&&_e(Pe,It),gt}function mn(Pe,Se,Ee,Ke){if(typeof Ee=="object"&&Ee!==null&&Ee.type===te&&Ee.key===null&&(Ee=Ee.props.children),typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case B:e:{for(var gt=Ee.key,kt=Se;kt!==null;){if(kt.key===gt){if(gt=Ee.type,gt===te){if(kt.tag===7){p(Pe,kt.sibling),Se=C(kt,Ee.props.children),Se.return=Pe,Pe=Se;break e}}else if(kt.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===le&&wr(gt)===kt.type){p(Pe,kt.sibling),Se=C(kt,Ee.props),Se.ref=Nt(Pe,kt,Ee),Se.return=Pe,Pe=Se;break e}p(Pe,kt);break}else u(Pe,kt);kt=kt.sibling}Ee.type===te?(Se=jc(Ee.props.children,Pe.mode,Ke,Ee.key),Se.return=Pe,Pe=Se):(Ke=Sf(Ee.type,Ee.key,Ee.props,null,Pe.mode,Ke),Ke.ref=Nt(Pe,Se,Ee),Ke.return=Pe,Pe=Ke)}return H(Pe);case Q:e:{for(kt=Ee.key;Se!==null;){if(Se.key===kt)if(Se.tag===4&&Se.stateNode.containerInfo===Ee.containerInfo&&Se.stateNode.implementation===Ee.implementation){p(Pe,Se.sibling),Se=C(Se,Ee.children||[]),Se.return=Pe,Pe=Se;break e}else{p(Pe,Se);break}else u(Pe,Se);Se=Se.sibling}Se=ig(Ee,Pe.mode,Ke),Se.return=Pe,Pe=Se}return H(Pe);case le:return kt=Ee._init,mn(Pe,Se,kt(Ee._payload),Ke)}if(Ye(Ee))return ot(Pe,Se,Ee,Ke);if(xe(Ee))return dt(Pe,Se,Ee,Ke);Wt(Pe,Ee)}return typeof Ee=="string"&&Ee!==""||typeof Ee=="number"?(Ee=""+Ee,Se!==null&&Se.tag===6?(p(Pe,Se.sibling),Se=C(Se,Ee),Se.return=Pe,Pe=Se):(p(Pe,Se),Se=sg(Ee,Pe.mode,Ke),Se.return=Pe,Pe=Se),H(Pe)):p(Pe,Se)}return mn}var on=wn(!0),Tr=wn(!1),pn=li(null),kn=null,Pr=null,qt=null;function tr(){qt=Pr=kn=null}function Ar(o){var u=pn.current;lr(pn),o._currentValue=u}function rr(o,u,p){for(;o!==null;){var y=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,y!==null&&(y.childLanes|=u)):y!==null&&(y.childLanes&u)!==u&&(y.childLanes|=u),o===p)break;o=o.return}}function Wr(o,u){kn=o,qt=Pr=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&u)!==0&&(Vs=!0),o.firstContext=null)}function Vr(o){var u=o._currentValue;if(qt!==o)if(o={context:o,memoizedValue:u,next:null},Pr===null){if(kn===null)throw Error(t(308));Pr=o,kn.dependencies={lanes:0,firstContext:o}}else Pr=Pr.next=o;return u}var pr=null;function Fn(o){pr===null?pr=[o]:pr.push(o)}function ur(o,u,p,y){var C=u.interleaved;return C===null?(p.next=p,Fn(u)):(p.next=C.next,C.next=p),u.interleaved=p,gr(o,y)}function gr(o,u){o.lanes|=u;var p=o.alternate;for(p!==null&&(p.lanes|=u),p=o,o=o.return;o!==null;)o.childLanes|=u,p=o.alternate,p!==null&&(p.childLanes|=u),p=o,o=o.return;return p.tag===3?p.stateNode:null}var ln=!1;function Ln(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function is(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Xr(o,u){return{eventTime:o,lane:u,tag:0,payload:null,callback:null,next:null}}function Zr(o,u,p){var y=o.updateQueue;if(y===null)return null;if(y=y.shared,(nr&2)!==0){var C=y.pending;return C===null?u.next=u:(u.next=C.next,C.next=u),y.pending=u,gr(o,p)}return C=y.interleaved,C===null?(u.next=u,Fn(y)):(u.next=C.next,C.next=u),y.interleaved=u,gr(o,p)}function Bn(o,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194240)!==0)){var y=u.lanes;y&=o.pendingLanes,p|=y,u.lanes=p,el(o,p)}}function mr(o,u){var p=o.updateQueue,y=o.alternate;if(y!==null&&(y=y.updateQueue,p===y)){var C=null,P=null;if(p=p.firstBaseUpdate,p!==null){do{var H={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};P===null?C=P=H:P=P.next=H,p=p.next}while(p!==null);P===null?C=P=u:P=P.next=u}else C=P=u;p={baseState:y.baseState,firstBaseUpdate:C,lastBaseUpdate:P,shared:y.shared,effects:y.effects},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=u:o.next=u,p.lastBaseUpdate=u}function zn(o,u,p,y){var C=o.updateQueue;ln=!1;var P=C.firstBaseUpdate,H=C.lastBaseUpdate,he=C.shared.pending;if(he!==null){C.shared.pending=null;var ve=he,Le=ve.next;ve.next=null,H===null?P=Le:H.next=Le,H=ve;var $e=o.alternate;$e!==null&&($e=$e.updateQueue,he=$e.lastBaseUpdate,he!==H&&(he===null?$e.firstBaseUpdate=Le:he.next=Le,$e.lastBaseUpdate=ve))}if(P!==null){var Ge=C.baseState;H=0,$e=Le=ve=null,he=P;do{var Ve=he.lane,Ze=he.eventTime;if((y&Ve)===Ve){$e!==null&&($e=$e.next={eventTime:Ze,lane:0,tag:he.tag,payload:he.payload,callback:he.callback,next:null});e:{var ot=o,dt=he;switch(Ve=u,Ze=p,dt.tag){case 1:if(ot=dt.payload,typeof ot=="function"){Ge=ot.call(Ze,Ge,Ve);break e}Ge=ot;break e;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=dt.payload,Ve=typeof ot=="function"?ot.call(Ze,Ge,Ve):ot,Ve==null)break e;Ge=be({},Ge,Ve);break e;case 2:ln=!0}}he.callback!==null&&he.lane!==0&&(o.flags|=64,Ve=C.effects,Ve===null?C.effects=[he]:Ve.push(he))}else Ze={eventTime:Ze,lane:Ve,tag:he.tag,payload:he.payload,callback:he.callback,next:null},$e===null?(Le=$e=Ze,ve=Ge):$e=$e.next=Ze,H|=Ve;if(he=he.next,he===null){if(he=C.shared.pending,he===null)break;Ve=he,he=Ve.next,Ve.next=null,C.lastBaseUpdate=Ve,C.shared.pending=null}}while(!0);if($e===null&&(ve=Ge),C.baseState=ve,C.firstBaseUpdate=Le,C.lastBaseUpdate=$e,u=C.shared.interleaved,u!==null){C=u;do H|=C.lane,C=C.next;while(C!==u)}else P===null&&(C.shared.lanes=0);_c|=H,o.lanes=H,o.memoizedState=Ge}}function Ws(o,u,p){if(o=u.effects,u.effects=null,o!==null)for(u=0;u<o.length;u++){var y=o[u],C=y.callback;if(C!==null){if(y.callback=null,y=p,typeof C!="function")throw Error(t(191,C));C.call(y)}}}var ci={},_n=li(ci),Qr=li(ci),Ea=li(ci);function ea(o){if(o===ci)throw Error(t(174));return o}function bl(o,u){switch(dr(Ea,u),dr(Qr,o),dr(_n,ci),o=u.nodeType,o){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:sr(null,"");break;default:o=o===8?u.parentNode:u,u=o.namespaceURI||null,o=o.tagName,u=sr(u,o)}lr(_n),dr(_n,u)}function Ti(){lr(_n),lr(Qr),lr(Ea)}function sf(o){ea(Ea.current);var u=ea(_n.current),p=sr(u,o.type);u!==p&&(dr(Qr,o),dr(_n,p))}function Eu(o){Qr.current===o&&(lr(_n),lr(Qr))}var Sr=li(0);function di(o){for(var u=o;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Lu=[];function Iu(){for(var o=0;o<Lu.length;o++)Lu[o]._workInProgressVersionPrimary=null;Lu.length=0}var md=I.ReactCurrentDispatcher,xd=I.ReactCurrentBatchConfig,Mi=0,Er=null,cn=null,en=null,yl=!1,ta=!1,vl=0,Ep=0;function gn(){throw Error(t(321))}function bd(o,u){if(u===null)return!1;for(var p=0;p<u.length&&p<o.length;p++)if(!zr(o[p],u[p]))return!1;return!0}function vc(o,u,p,y,C,P){if(Mi=P,Er=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,md.current=o===null||o.memoizedState===null?g4:m4,o=p(y,C),ta){P=0;do{if(ta=!1,vl=0,25<=P)throw Error(t(301));P+=1,en=cn=null,u.updateQueue=null,md.current=x4,o=p(y,C)}while(ta)}if(md.current=df,u=cn!==null&&cn.next!==null,Mi=0,en=cn=Er=null,yl=!1,u)throw Error(t(300));return o}function Ri(){var o=vl!==0;return vl=0,o}function ui(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?Er.memoizedState=en=o:en=en.next=o,en}function Ns(){if(cn===null){var o=Er.alternate;o=o!==null?o.memoizedState:null}else o=cn.next;var u=en===null?Er.memoizedState:en.next;if(u!==null)en=u,cn=o;else{if(o===null)throw Error(t(310));cn=o,o={memoizedState:cn.memoizedState,baseState:cn.baseState,baseQueue:cn.baseQueue,queue:cn.queue,next:null},en===null?Er.memoizedState=en=o:en=en.next=o}return en}function wc(o,u){return typeof u=="function"?u(o):u}function yd(o){var u=Ns(),p=u.queue;if(p===null)throw Error(t(311));p.lastRenderedReducer=o;var y=cn,C=y.baseQueue,P=p.pending;if(P!==null){if(C!==null){var H=C.next;C.next=P.next,P.next=H}y.baseQueue=C=P,p.pending=null}if(C!==null){P=C.next,y=y.baseState;var he=H=null,ve=null,Le=P;do{var $e=Le.lane;if((Mi&$e)===$e)ve!==null&&(ve=ve.next={lane:0,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null}),y=Le.hasEagerState?Le.eagerState:o(y,Le.action);else{var Ge={lane:$e,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null};ve===null?(he=ve=Ge,H=y):ve=ve.next=Ge,Er.lanes|=$e,_c|=$e}Le=Le.next}while(Le!==null&&Le!==P);ve===null?H=y:ve.next=he,zr(y,u.memoizedState)||(Vs=!0),u.memoizedState=y,u.baseState=H,u.baseQueue=ve,p.lastRenderedState=y}if(o=p.interleaved,o!==null){C=o;do P=C.lane,Er.lanes|=P,_c|=P,C=C.next;while(C!==o)}else C===null&&(p.lanes=0);return[u.memoizedState,p.dispatch]}function La(o){var u=Ns(),p=u.queue;if(p===null)throw Error(t(311));p.lastRenderedReducer=o;var y=p.dispatch,C=p.pending,P=u.memoizedState;if(C!==null){p.pending=null;var H=C=C.next;do P=o(P,H.action),H=H.next;while(H!==C);zr(P,u.memoizedState)||(Vs=!0),u.memoizedState=P,u.baseQueue===null&&(u.baseState=P),p.lastRenderedState=P}return[P,y]}function af(){}function Tu(o,u){var p=Er,y=Ns(),C=u(),P=!zr(y.memoizedState,C);if(P&&(y.memoizedState=C,Vs=!0),y=y.queue,kd(lf.bind(null,p,y,o),[o]),y.getSnapshot!==u||P||en!==null&&en.memoizedState.tag&1){if(p.flags|=2048,Cs(9,Mu.bind(null,p,y,C,u),void 0,null),Un===null)throw Error(t(349));(Mi&30)!==0||of(p,u,C)}return C}function of(o,u,p){o.flags|=16384,o={getSnapshot:u,value:p},u=Er.updateQueue,u===null?(u={lastEffect:null,stores:null},Er.updateQueue=u,u.stores=[o]):(p=u.stores,p===null?u.stores=[o]:p.push(o))}function Mu(o,u,p,y){u.value=p,u.getSnapshot=y,wl(u)&&vd(o)}function lf(o,u,p){return p(function(){wl(u)&&vd(o)})}function wl(o){var u=o.getSnapshot;o=o.value;try{var p=u();return!zr(o,p)}catch{return!0}}function vd(o){var u=gr(o,1);u!==null&&aa(u,o,1,-1)}function kc(o){var u=ui();return typeof o=="function"&&(o=o()),u.memoizedState=u.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wc,lastRenderedState:o},u.queue=o,o=o.dispatch=p4.bind(null,Er,o),[u.memoizedState,o]}function Cs(o,u,p,y){return o={tag:o,create:u,destroy:p,deps:y,next:null},u=Er.updateQueue,u===null?(u={lastEffect:null,stores:null},Er.updateQueue=u,u.lastEffect=o.next=o):(p=u.lastEffect,p===null?u.lastEffect=o.next=o:(y=p.next,p.next=o,o.next=y,u.lastEffect=o)),o}function ra(){return Ns().memoizedState}function hi(o,u,p,y){var C=ui();Er.flags|=o,C.memoizedState=Cs(1|u,p,void 0,y===void 0?null:y)}function So(o,u,p,y){var C=Ns();y=y===void 0?null:y;var P=void 0;if(cn!==null){var H=cn.memoizedState;if(P=H.destroy,y!==null&&bd(y,H.deps)){C.memoizedState=Cs(u,p,P,y);return}}Er.flags|=o,C.memoizedState=Cs(1|u,p,P,y)}function wd(o,u){return hi(8390656,8,o,u)}function kd(o,u){return So(2048,8,o,u)}function cf(o,u){return So(4,2,o,u)}function _d(o,u){return So(4,4,o,u)}function Sd(o,u){if(typeof u=="function")return o=o(),u(o),function(){u(null)};if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function ux(o,u,p){return p=p!=null?p.concat([o]):null,So(4,4,Sd.bind(null,u,o),p)}function Lp(){}function hx(o,u){var p=Ns();u=u===void 0?null:u;var y=p.memoizedState;return y!==null&&u!==null&&bd(u,y[1])?y[0]:(p.memoizedState=[o,u],o)}function fx(o,u){var p=Ns();u=u===void 0?null:u;var y=p.memoizedState;return y!==null&&u!==null&&bd(u,y[1])?y[0]:(o=o(),p.memoizedState=[o,u],o)}function px(o,u,p){return(Mi&21)===0?(o.baseState&&(o.baseState=!1,Vs=!0),o.memoizedState=p):(zr(p,u)||(p=rd(),Er.lanes|=p,_c|=p,o.baseState=!0),u)}function h4(o,u){var p=Xt;Xt=p!==0&&4>p?p:4,o(!0);var y=xd.transition;xd.transition={};try{o(!1),u()}finally{Xt=p,xd.transition=y}}function gx(){return Ns().memoizedState}function f4(o,u,p){var y=Nl(o);if(p={lane:y,action:p,hasEagerState:!1,eagerState:null,next:null},mx(o))xx(u,p);else if(p=ur(o,u,p,y),p!==null){var C=Ps();aa(p,o,y,C),bx(p,u,y)}}function p4(o,u,p){var y=Nl(o),C={lane:y,action:p,hasEagerState:!1,eagerState:null,next:null};if(mx(o))xx(u,C);else{var P=o.alternate;if(o.lanes===0&&(P===null||P.lanes===0)&&(P=u.lastRenderedReducer,P!==null))try{var H=u.lastRenderedState,he=P(H,p);if(C.hasEagerState=!0,C.eagerState=he,zr(he,H)){var ve=u.interleaved;ve===null?(C.next=C,Fn(u)):(C.next=ve.next,ve.next=C),u.interleaved=C;return}}catch{}finally{}p=ur(o,u,C,y),p!==null&&(C=Ps(),aa(p,o,y,C),bx(p,u,y))}}function mx(o){var u=o.alternate;return o===Er||u!==null&&u===Er}function xx(o,u){ta=yl=!0;var p=o.pending;p===null?u.next=u:(u.next=p.next,p.next=u),o.pending=u}function bx(o,u,p){if((p&4194240)!==0){var y=u.lanes;y&=o.pendingLanes,p|=y,u.lanes=p,el(o,p)}}var df={readContext:Vr,useCallback:gn,useContext:gn,useEffect:gn,useImperativeHandle:gn,useInsertionEffect:gn,useLayoutEffect:gn,useMemo:gn,useReducer:gn,useRef:gn,useState:gn,useDebugValue:gn,useDeferredValue:gn,useTransition:gn,useMutableSource:gn,useSyncExternalStore:gn,useId:gn,unstable_isNewReconciler:!1},g4={readContext:Vr,useCallback:function(o,u){return ui().memoizedState=[o,u===void 0?null:u],o},useContext:Vr,useEffect:wd,useImperativeHandle:function(o,u,p){return p=p!=null?p.concat([o]):null,hi(4194308,4,Sd.bind(null,u,o),p)},useLayoutEffect:function(o,u){return hi(4194308,4,o,u)},useInsertionEffect:function(o,u){return hi(4,2,o,u)},useMemo:function(o,u){var p=ui();return u=u===void 0?null:u,o=o(),p.memoizedState=[o,u],o},useReducer:function(o,u,p){var y=ui();return u=p!==void 0?p(u):u,y.memoizedState=y.baseState=u,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:u},y.queue=o,o=o.dispatch=f4.bind(null,Er,o),[y.memoizedState,o]},useRef:function(o){var u=ui();return o={current:o},u.memoizedState=o},useState:kc,useDebugValue:Lp,useDeferredValue:function(o){return ui().memoizedState=o},useTransition:function(){var o=kc(!1),u=o[0];return o=h4.bind(null,o[1]),ui().memoizedState=o,[u,o]},useMutableSource:function(){},useSyncExternalStore:function(o,u,p){var y=Er,C=ui();if(ze){if(p===void 0)throw Error(t(407));p=p()}else{if(p=u(),Un===null)throw Error(t(349));(Mi&30)!==0||of(y,u,p)}C.memoizedState=p;var P={value:p,getSnapshot:u};return C.queue=P,wd(lf.bind(null,y,P,o),[o]),y.flags|=2048,Cs(9,Mu.bind(null,y,P,p,u),void 0,null),p},useId:function(){var o=ui(),u=Un.identifierPrefix;if(ze){var p=ie,y=je;p=(y&~(1<<32-Mn(y)-1)).toString(32)+p,u=":"+u+"R"+p,p=vl++,0<p&&(u+="H"+p.toString(32)),u+=":"}else p=Ep++,u=":"+u+"r"+p.toString(32)+":";return o.memoizedState=u},unstable_isNewReconciler:!1},m4={readContext:Vr,useCallback:hx,useContext:Vr,useEffect:kd,useImperativeHandle:ux,useInsertionEffect:cf,useLayoutEffect:_d,useMemo:fx,useReducer:yd,useRef:ra,useState:function(){return yd(wc)},useDebugValue:Lp,useDeferredValue:function(o){var u=Ns();return px(u,cn.memoizedState,o)},useTransition:function(){var o=yd(wc)[0],u=Ns().memoizedState;return[o,u]},useMutableSource:af,useSyncExternalStore:Tu,useId:gx,unstable_isNewReconciler:!1},x4={readContext:Vr,useCallback:hx,useContext:Vr,useEffect:kd,useImperativeHandle:ux,useInsertionEffect:cf,useLayoutEffect:_d,useMemo:fx,useReducer:La,useRef:ra,useState:function(){return La(wc)},useDebugValue:Lp,useDeferredValue:function(o){var u=Ns();return cn===null?u.memoizedState=o:px(u,cn.memoizedState,o)},useTransition:function(){var o=La(wc)[0],u=Ns().memoizedState;return[o,u]},useMutableSource:af,useSyncExternalStore:Tu,useId:gx,unstable_isNewReconciler:!1};function na(o,u){if(o&&o.defaultProps){u=be({},u),o=o.defaultProps;for(var p in o)u[p]===void 0&&(u[p]=o[p]);return u}return u}function Ip(o,u,p,y){u=o.memoizedState,p=p(y,u),p=p==null?u:be({},u,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}var uf={isMounted:function(o){return(o=o._reactInternals)?Pn(o)===o:!1},enqueueSetState:function(o,u,p){o=o._reactInternals;var y=Ps(),C=Nl(o),P=Xr(y,C);P.payload=u,p!=null&&(P.callback=p),u=Zr(o,P,C),u!==null&&(aa(u,o,C,y),Bn(u,o,C))},enqueueReplaceState:function(o,u,p){o=o._reactInternals;var y=Ps(),C=Nl(o),P=Xr(y,C);P.tag=1,P.payload=u,p!=null&&(P.callback=p),u=Zr(o,P,C),u!==null&&(aa(u,o,C,y),Bn(u,o,C))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var p=Ps(),y=Nl(o),C=Xr(p,y);C.tag=2,u!=null&&(C.callback=u),u=Zr(o,C,y),u!==null&&(aa(u,o,y,p),Bn(u,o,y))}};function yx(o,u,p,y,C,P,H){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(y,P,H):u.prototype&&u.prototype.isPureReactComponent?!es(p,y)||!es(C,P):!0}function vx(o,u,p){var y=!1,C=Aa,P=u.contextType;return typeof P=="object"&&P!==null?P=Vr(P):(C=ss(u)?ko:En.current,y=u.contextTypes,P=(y=y!=null)?xl(o,C):Aa),u=new u(p,P),o.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=uf,o.stateNode=u,u._reactInternals=o,y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=C,o.__reactInternalMemoizedMaskedChildContext=P),u}function wx(o,u,p,y){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,y),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,y),u.state!==o&&uf.enqueueReplaceState(u,u.state,null)}function Tp(o,u,p,y){var C=o.stateNode;C.props=p,C.state=o.memoizedState,C.refs={},Ln(o);var P=u.contextType;typeof P=="object"&&P!==null?C.context=Vr(P):(P=ss(u)?ko:En.current,C.context=xl(o,P)),C.state=o.memoizedState,P=u.getDerivedStateFromProps,typeof P=="function"&&(Ip(o,u,P,p),C.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(u=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),u!==C.state&&uf.enqueueReplaceState(C,C.state,null),zn(o,p,C,y),C.state=o.memoizedState),typeof C.componentDidMount=="function"&&(o.flags|=4194308)}function Nd(o,u){try{var p="",y=u;do p+=ue(y),y=y.return;while(y);var C=p}catch(P){C=`
Error generating stack: `+P.message+`
`+P.stack}return{value:o,source:u,stack:C,digest:null}}function Mp(o,u,p){return{value:o,source:null,stack:p??null,digest:u??null}}function Rp(o,u){try{console.error(u.value)}catch(p){setTimeout(function(){throw p})}}var b4=typeof WeakMap=="function"?WeakMap:Map;function kx(o,u,p){p=Xr(-1,p),p.tag=3,p.payload={element:null};var y=u.value;return p.callback=function(){bf||(bf=!0,Jp=y),Rp(o,u)},p}function _x(o,u,p){p=Xr(-1,p),p.tag=3;var y=o.type.getDerivedStateFromError;if(typeof y=="function"){var C=u.value;p.payload=function(){return y(C)},p.callback=function(){Rp(o,u)}}var P=o.stateNode;return P!==null&&typeof P.componentDidCatch=="function"&&(p.callback=function(){Rp(o,u),typeof y!="function"&&(_l===null?_l=new Set([this]):_l.add(this));var H=u.stack;this.componentDidCatch(u.value,{componentStack:H!==null?H:""})}),p}function Sx(o,u,p){var y=o.pingCache;if(y===null){y=o.pingCache=new b4;var C=new Set;y.set(u,C)}else C=y.get(u),C===void 0&&(C=new Set,y.set(u,C));C.has(p)||(C.add(p),o=I4.bind(null,o,u,p),u.then(o,o))}function Nx(o){do{var u;if((u=o.tag===13)&&(u=o.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return o;o=o.return}while(o!==null);return null}function Cx(o,u,p,y,C){return(o.mode&1)===0?(o===u?o.flags|=65536:(o.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(u=Xr(-1,1),u.tag=2,Zr(p,u,1))),p.lanes|=1),o):(o.flags|=65536,o.lanes=C,o)}var y4=I.ReactCurrentOwner,Vs=!1;function js(o,u,p,y){u.child=o===null?Tr(u,null,p,y):on(u,o.child,p,y)}function jx(o,u,p,y,C){p=p.render;var P=u.ref;return Wr(u,C),y=vc(o,u,p,y,P,C),p=Ri(),o!==null&&!Vs?(u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~C,No(o,u,C)):(ze&&p&&Oe(u),u.flags|=1,js(o,u,y,C),u.child)}function Px(o,u,p,y,C){if(o===null){var P=p.type;return typeof P=="function"&&!ng(P)&&P.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(u.tag=15,u.type=P,Ax(o,u,P,y,C)):(o=Sf(p.type,null,y,u,u.mode,C),o.ref=u.ref,o.return=u,u.child=o)}if(P=o.child,(o.lanes&C)===0){var H=P.memoizedProps;if(p=p.compare,p=p!==null?p:es,p(H,y)&&o.ref===u.ref)return No(o,u,C)}return u.flags|=1,o=jl(P,y),o.ref=u.ref,o.return=u,u.child=o}function Ax(o,u,p,y,C){if(o!==null){var P=o.memoizedProps;if(es(P,y)&&o.ref===u.ref)if(Vs=!1,u.pendingProps=y=P,(o.lanes&C)!==0)(o.flags&131072)!==0&&(Vs=!0);else return u.lanes=o.lanes,No(o,u,C)}return Dp(o,u,p,y,C)}function Ex(o,u,p){var y=u.pendingProps,C=y.children,P=o!==null?o.memoizedState:null;if(y.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},dr(jd,fi),fi|=p;else{if((p&1073741824)===0)return o=P!==null?P.baseLanes|p:p,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:o,cachePool:null,transitions:null},u.updateQueue=null,dr(jd,fi),fi|=o,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=P!==null?P.baseLanes:p,dr(jd,fi),fi|=y}else P!==null?(y=P.baseLanes|p,u.memoizedState=null):y=p,dr(jd,fi),fi|=y;return js(o,u,C,p),u.child}function Lx(o,u){var p=u.ref;(o===null&&p!==null||o!==null&&o.ref!==p)&&(u.flags|=512,u.flags|=2097152)}function Dp(o,u,p,y,C){var P=ss(p)?ko:En.current;return P=xl(u,P),Wr(u,C),p=vc(o,u,p,y,P,C),y=Ri(),o!==null&&!Vs?(u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~C,No(o,u,C)):(ze&&y&&Oe(u),u.flags|=1,js(o,u,p,C),u.child)}function Ix(o,u,p,y,C){if(ss(p)){var P=!0;_o(u)}else P=!1;if(Wr(u,C),u.stateNode===null)ff(o,u),vx(u,p,y),Tp(u,p,y,C),y=!0;else if(o===null){var H=u.stateNode,he=u.memoizedProps;H.props=he;var ve=H.context,Le=p.contextType;typeof Le=="object"&&Le!==null?Le=Vr(Le):(Le=ss(p)?ko:En.current,Le=xl(u,Le));var $e=p.getDerivedStateFromProps,Ge=typeof $e=="function"||typeof H.getSnapshotBeforeUpdate=="function";Ge||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(he!==y||ve!==Le)&&wx(u,H,y,Le),ln=!1;var Ve=u.memoizedState;H.state=Ve,zn(u,y,H,C),ve=u.memoizedState,he!==y||Ve!==ve||ns.current||ln?(typeof $e=="function"&&(Ip(u,p,$e,y),ve=u.memoizedState),(he=ln||yx(u,p,he,y,Ve,ve,Le))?(Ge||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount()),typeof H.componentDidMount=="function"&&(u.flags|=4194308)):(typeof H.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=y,u.memoizedState=ve),H.props=y,H.state=ve,H.context=Le,y=he):(typeof H.componentDidMount=="function"&&(u.flags|=4194308),y=!1)}else{H=u.stateNode,is(o,u),he=u.memoizedProps,Le=u.type===u.elementType?he:na(u.type,he),H.props=Le,Ge=u.pendingProps,Ve=H.context,ve=p.contextType,typeof ve=="object"&&ve!==null?ve=Vr(ve):(ve=ss(p)?ko:En.current,ve=xl(u,ve));var Ze=p.getDerivedStateFromProps;($e=typeof Ze=="function"||typeof H.getSnapshotBeforeUpdate=="function")||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(he!==Ge||Ve!==ve)&&wx(u,H,y,ve),ln=!1,Ve=u.memoizedState,H.state=Ve,zn(u,y,H,C);var ot=u.memoizedState;he!==Ge||Ve!==ot||ns.current||ln?(typeof Ze=="function"&&(Ip(u,p,Ze,y),ot=u.memoizedState),(Le=ln||yx(u,p,Le,y,Ve,ot,ve)||!1)?($e||typeof H.UNSAFE_componentWillUpdate!="function"&&typeof H.componentWillUpdate!="function"||(typeof H.componentWillUpdate=="function"&&H.componentWillUpdate(y,ot,ve),typeof H.UNSAFE_componentWillUpdate=="function"&&H.UNSAFE_componentWillUpdate(y,ot,ve)),typeof H.componentDidUpdate=="function"&&(u.flags|=4),typeof H.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof H.componentDidUpdate!="function"||he===o.memoizedProps&&Ve===o.memoizedState||(u.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||he===o.memoizedProps&&Ve===o.memoizedState||(u.flags|=1024),u.memoizedProps=y,u.memoizedState=ot),H.props=y,H.state=ot,H.context=ve,y=Le):(typeof H.componentDidUpdate!="function"||he===o.memoizedProps&&Ve===o.memoizedState||(u.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||he===o.memoizedProps&&Ve===o.memoizedState||(u.flags|=1024),y=!1)}return Op(o,u,p,y,P,C)}function Op(o,u,p,y,C,P){Lx(o,u);var H=(u.flags&128)!==0;if(!y&&!H)return C&&nf(u,p,!1),No(o,u,P);y=u.stateNode,y4.current=u;var he=H&&typeof p.getDerivedStateFromError!="function"?null:y.render();return u.flags|=1,o!==null&&H?(u.child=on(u,o.child,null,P),u.child=on(u,null,he,P)):js(o,u,he,P),u.memoizedState=y.state,C&&nf(u,p,!0),u.child}function Tx(o){var u=o.stateNode;u.pendingContext?rf(o,u.pendingContext,u.pendingContext!==u.context):u.context&&rf(o,u.context,!1),bl(o,u.containerInfo)}function Mx(o,u,p,y,C){return tt(),Je(C),u.flags|=256,js(o,u,p,y),u.child}var Fp={dehydrated:null,treeContext:null,retryLane:0};function Bp(o){return{baseLanes:o,cachePool:null,transitions:null}}function Rx(o,u,p){var y=u.pendingProps,C=Sr.current,P=!1,H=(u.flags&128)!==0,he;if((he=H)||(he=o!==null&&o.memoizedState===null?!1:(C&2)!==0),he?(P=!0,u.flags&=-129):(o===null||o.memoizedState!==null)&&(C|=1),dr(Sr,C&1),o===null)return at(u),o=u.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((u.mode&1)===0?u.lanes=1:o.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(H=y.children,o=y.fallback,P?(y=u.mode,P=u.child,H={mode:"hidden",children:H},(y&1)===0&&P!==null?(P.childLanes=0,P.pendingProps=H):P=Nf(H,y,0,null),o=jc(o,y,p,null),P.return=u,o.return=u,P.sibling=o,u.child=P,u.child.memoizedState=Bp(p),u.memoizedState=Fp,o):zp(u,H));if(C=o.memoizedState,C!==null&&(he=C.dehydrated,he!==null))return v4(o,u,H,y,he,C,p);if(P){P=y.fallback,H=u.mode,C=o.child,he=C.sibling;var ve={mode:"hidden",children:y.children};return(H&1)===0&&u.child!==C?(y=u.child,y.childLanes=0,y.pendingProps=ve,u.deletions=null):(y=jl(C,ve),y.subtreeFlags=C.subtreeFlags&14680064),he!==null?P=jl(he,P):(P=jc(P,H,p,null),P.flags|=2),P.return=u,y.return=u,y.sibling=P,u.child=y,y=P,P=u.child,H=o.child.memoizedState,H=H===null?Bp(p):{baseLanes:H.baseLanes|p,cachePool:null,transitions:H.transitions},P.memoizedState=H,P.childLanes=o.childLanes&~p,u.memoizedState=Fp,y}return P=o.child,o=P.sibling,y=jl(P,{mode:"visible",children:y.children}),(u.mode&1)===0&&(y.lanes=p),y.return=u,y.sibling=null,o!==null&&(p=u.deletions,p===null?(u.deletions=[o],u.flags|=16):p.push(o)),u.child=y,u.memoizedState=null,y}function zp(o,u){return u=Nf({mode:"visible",children:u},o.mode,0,null),u.return=o,o.child=u}function hf(o,u,p,y){return y!==null&&Je(y),on(u,o.child,null,p),o=zp(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function v4(o,u,p,y,C,P,H){if(p)return u.flags&256?(u.flags&=-257,y=Mp(Error(t(422))),hf(o,u,H,y)):u.memoizedState!==null?(u.child=o.child,u.flags|=128,null):(P=y.fallback,C=u.mode,y=Nf({mode:"visible",children:y.children},C,0,null),P=jc(P,C,H,null),P.flags|=2,y.return=u,P.return=u,y.sibling=P,u.child=y,(u.mode&1)!==0&&on(u,o.child,null,H),u.child.memoizedState=Bp(H),u.memoizedState=Fp,P);if((u.mode&1)===0)return hf(o,u,H,null);if(C.data==="$!"){if(y=C.nextSibling&&C.nextSibling.dataset,y)var he=y.dgst;return y=he,P=Error(t(419)),y=Mp(P,y,void 0),hf(o,u,H,y)}if(he=(H&o.childLanes)!==0,Vs||he){if(y=Un,y!==null){switch(H&-H){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=(C&(y.suspendedLanes|H))!==0?0:C,C!==0&&C!==P.retryLane&&(P.retryLane=C,gr(o,C),aa(y,o,C,-1))}return rg(),y=Mp(Error(t(421))),hf(o,u,H,y)}return C.data==="$?"?(u.flags|=128,u.child=o.child,u=T4.bind(null,o),C._reactRetry=u,null):(o=P.treeContext,Re=qn(C.nextSibling),Te=u,ze=!0,Ue=null,o!==null&&(K[se++]=je,K[se++]=ie,K[se++]=ye,je=o.id,ie=o.overflow,ye=u),u=zp(u,y.children),u.flags|=4096,u)}function Dx(o,u,p){o.lanes|=u;var y=o.alternate;y!==null&&(y.lanes|=u),rr(o.return,u,p)}function Up(o,u,p,y,C){var P=o.memoizedState;P===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:y,tail:p,tailMode:C}:(P.isBackwards=u,P.rendering=null,P.renderingStartTime=0,P.last=y,P.tail=p,P.tailMode=C)}function Ox(o,u,p){var y=u.pendingProps,C=y.revealOrder,P=y.tail;if(js(o,u,y.children,p),y=Sr.current,(y&2)!==0)y=y&1|2,u.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Dx(o,p,u);else if(o.tag===19)Dx(o,p,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}y&=1}if(dr(Sr,y),(u.mode&1)===0)u.memoizedState=null;else switch(C){case"forwards":for(p=u.child,C=null;p!==null;)o=p.alternate,o!==null&&di(o)===null&&(C=p),p=p.sibling;p=C,p===null?(C=u.child,u.child=null):(C=p.sibling,p.sibling=null),Up(u,!1,C,p,P);break;case"backwards":for(p=null,C=u.child,u.child=null;C!==null;){if(o=C.alternate,o!==null&&di(o)===null){u.child=C;break}o=C.sibling,C.sibling=p,p=C,C=o}Up(u,!0,p,null,P);break;case"together":Up(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function ff(o,u){(u.mode&1)===0&&o!==null&&(o.alternate=null,u.alternate=null,u.flags|=2)}function No(o,u,p){if(o!==null&&(u.dependencies=o.dependencies),_c|=u.lanes,(p&u.childLanes)===0)return null;if(o!==null&&u.child!==o.child)throw Error(t(153));if(u.child!==null){for(o=u.child,p=jl(o,o.pendingProps),u.child=p,p.return=u;o.sibling!==null;)o=o.sibling,p=p.sibling=jl(o,o.pendingProps),p.return=u;p.sibling=null}return u.child}function w4(o,u,p){switch(u.tag){case 3:Tx(u),tt();break;case 5:sf(u);break;case 1:ss(u.type)&&_o(u);break;case 4:bl(u,u.stateNode.containerInfo);break;case 10:var y=u.type._context,C=u.memoizedProps.value;dr(pn,y._currentValue),y._currentValue=C;break;case 13:if(y=u.memoizedState,y!==null)return y.dehydrated!==null?(dr(Sr,Sr.current&1),u.flags|=128,null):(p&u.child.childLanes)!==0?Rx(o,u,p):(dr(Sr,Sr.current&1),o=No(o,u,p),o!==null?o.sibling:null);dr(Sr,Sr.current&1);break;case 19:if(y=(p&u.childLanes)!==0,(o.flags&128)!==0){if(y)return Ox(o,u,p);u.flags|=128}if(C=u.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),dr(Sr,Sr.current),y)break;return null;case 22:case 23:return u.lanes=0,Ex(o,u,p)}return No(o,u,p)}var Fx,Hp,Bx,zx;Fx=function(o,u){for(var p=u.child;p!==null;){if(p.tag===5||p.tag===6)o.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Hp=function(){},Bx=function(o,u,p,y){var C=o.memoizedProps;if(C!==y){o=u.stateNode,ea(_n.current);var P=null;switch(p){case"input":C=ke(o,C),y=ke(o,y),P=[];break;case"select":C=be({},C,{value:void 0}),y=be({},y,{value:void 0}),P=[];break;case"textarea":C=mt(o,C),y=mt(o,y),P=[];break;default:typeof C.onClick!="function"&&typeof y.onClick=="function"&&(o.onclick=pl)}or(p,y);var H;p=null;for(Le in C)if(!y.hasOwnProperty(Le)&&C.hasOwnProperty(Le)&&C[Le]!=null)if(Le==="style"){var he=C[Le];for(H in he)he.hasOwnProperty(H)&&(p||(p={}),p[H]="")}else Le!=="dangerouslySetInnerHTML"&&Le!=="children"&&Le!=="suppressContentEditableWarning"&&Le!=="suppressHydrationWarning"&&Le!=="autoFocus"&&(s.hasOwnProperty(Le)?P||(P=[]):(P=P||[]).push(Le,null));for(Le in y){var ve=y[Le];if(he=C?.[Le],y.hasOwnProperty(Le)&&ve!==he&&(ve!=null||he!=null))if(Le==="style")if(he){for(H in he)!he.hasOwnProperty(H)||ve&&ve.hasOwnProperty(H)||(p||(p={}),p[H]="");for(H in ve)ve.hasOwnProperty(H)&&he[H]!==ve[H]&&(p||(p={}),p[H]=ve[H])}else p||(P||(P=[]),P.push(Le,p)),p=ve;else Le==="dangerouslySetInnerHTML"?(ve=ve?ve.__html:void 0,he=he?he.__html:void 0,ve!=null&&he!==ve&&(P=P||[]).push(Le,ve)):Le==="children"?typeof ve!="string"&&typeof ve!="number"||(P=P||[]).push(Le,""+ve):Le!=="suppressContentEditableWarning"&&Le!=="suppressHydrationWarning"&&(s.hasOwnProperty(Le)?(ve!=null&&Le==="onScroll"&&fr("scroll",o),P||he===ve||(P=[])):(P=P||[]).push(Le,ve))}p&&(P=P||[]).push("style",p);var Le=P;(u.updateQueue=Le)&&(u.flags|=4)}},zx=function(o,u,p,y){p!==y&&(u.flags|=4)};function Ru(o,u){if(!ze)switch(o.tailMode){case"hidden":u=o.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:y.sibling=null}}function as(o){var u=o.alternate!==null&&o.alternate.child===o.child,p=0,y=0;if(u)for(var C=o.child;C!==null;)p|=C.lanes|C.childLanes,y|=C.subtreeFlags&14680064,y|=C.flags&14680064,C.return=o,C=C.sibling;else for(C=o.child;C!==null;)p|=C.lanes|C.childLanes,y|=C.subtreeFlags,y|=C.flags,C.return=o,C=C.sibling;return o.subtreeFlags|=y,o.childLanes=p,u}function k4(o,u,p){var y=u.pendingProps;switch(Ae(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return as(u),null;case 1:return ss(u.type)&&gd(),as(u),null;case 3:return y=u.stateNode,Ti(),lr(ns),lr(En),Iu(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(o===null||o.child===null)&&(Hr(u)?u.flags|=4:o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Ue!==null&&(Qp(Ue),Ue=null))),Hp(o,u),as(u),null;case 5:Eu(u);var C=ea(Ea.current);if(p=u.type,o!==null&&u.stateNode!=null)Bx(o,u,p,y,C),o.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!y){if(u.stateNode===null)throw Error(t(166));return as(u),null}if(o=ea(_n.current),Hr(u)){y=u.stateNode,p=u.type;var P=u.memoizedProps;switch(y[Ii]=u,y[gl]=P,o=(u.mode&1)!==0,p){case"dialog":fr("cancel",y),fr("close",y);break;case"iframe":case"object":case"embed":fr("load",y);break;case"video":case"audio":for(C=0;C<ja.length;C++)fr(ja[C],y);break;case"source":fr("error",y);break;case"img":case"image":case"link":fr("error",y),fr("load",y);break;case"details":fr("toggle",y);break;case"input":re(y,P),fr("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!P.multiple},fr("invalid",y);break;case"textarea":rt(y,P),fr("invalid",y)}or(p,P),C=null;for(var H in P)if(P.hasOwnProperty(H)){var he=P[H];H==="children"?typeof he=="string"?y.textContent!==he&&(P.suppressHydrationWarning!==!0&&pd(y.textContent,he,o),C=["children",he]):typeof he=="number"&&y.textContent!==""+he&&(P.suppressHydrationWarning!==!0&&pd(y.textContent,he,o),C=["children",""+he]):s.hasOwnProperty(H)&&he!=null&&H==="onScroll"&&fr("scroll",y)}switch(p){case"input":me(y),Qe(y,P,!0);break;case"textarea":me(y),Ct(y);break;case"select":case"option":break;default:typeof P.onClick=="function"&&(y.onclick=pl)}y=C,u.updateQueue=y,y!==null&&(u.flags|=4)}else{H=C.nodeType===9?C:C.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Mt(p)),o==="http://www.w3.org/1999/xhtml"?p==="script"?(o=H.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof y.is=="string"?o=H.createElement(p,{is:y.is}):(o=H.createElement(p),p==="select"&&(H=o,y.multiple?H.multiple=!0:y.size&&(H.size=y.size))):o=H.createElementNS(o,p),o[Ii]=u,o[gl]=y,Fx(o,u,!1,!1),u.stateNode=o;e:{switch(H=yt(p,y),p){case"dialog":fr("cancel",o),fr("close",o),C=y;break;case"iframe":case"object":case"embed":fr("load",o),C=y;break;case"video":case"audio":for(C=0;C<ja.length;C++)fr(ja[C],o);C=y;break;case"source":fr("error",o),C=y;break;case"img":case"image":case"link":fr("error",o),fr("load",o),C=y;break;case"details":fr("toggle",o),C=y;break;case"input":re(o,y),C=ke(o,y),fr("invalid",o);break;case"option":C=y;break;case"select":o._wrapperState={wasMultiple:!!y.multiple},C=be({},y,{value:void 0}),fr("invalid",o);break;case"textarea":rt(o,y),C=mt(o,y),fr("invalid",o);break;default:C=y}or(p,C),he=C;for(P in he)if(he.hasOwnProperty(P)){var ve=he[P];P==="style"?ht(o,ve):P==="dangerouslySetInnerHTML"?(ve=ve?ve.__html:void 0,ve!=null&&bt(o,ve)):P==="children"?typeof ve=="string"?(p!=="textarea"||ve!=="")&&vt(o,ve):typeof ve=="number"&&vt(o,""+ve):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(s.hasOwnProperty(P)?ve!=null&&P==="onScroll"&&fr("scroll",o):ve!=null&&R(o,P,ve,H))}switch(p){case"input":me(o),Qe(o,y,!1);break;case"textarea":me(o),Ct(o);break;case"option":y.value!=null&&o.setAttribute("value",""+ce(y.value));break;case"select":o.multiple=!!y.multiple,P=y.value,P!=null?We(o,!!y.multiple,P,!1):y.defaultValue!=null&&We(o,!!y.multiple,y.defaultValue,!0);break;default:typeof C.onClick=="function"&&(o.onclick=pl)}switch(p){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return as(u),null;case 6:if(o&&u.stateNode!=null)zx(o,u,o.memoizedProps,y);else{if(typeof y!="string"&&u.stateNode===null)throw Error(t(166));if(p=ea(Ea.current),ea(_n.current),Hr(u)){if(y=u.stateNode,p=u.memoizedProps,y[Ii]=u,(P=y.nodeValue!==p)&&(o=Te,o!==null))switch(o.tag){case 3:pd(y.nodeValue,p,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&pd(y.nodeValue,p,(o.mode&1)!==0)}P&&(u.flags|=4)}else y=(p.nodeType===9?p:p.ownerDocument).createTextNode(y),y[Ii]=u,u.stateNode=y}return as(u),null;case 13:if(lr(Sr),y=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(ze&&Re!==null&&(u.mode&1)!==0&&(u.flags&128)===0)Ft(),tt(),u.flags|=98560,P=!1;else if(P=Hr(u),y!==null&&y.dehydrated!==null){if(o===null){if(!P)throw Error(t(318));if(P=u.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(t(317));P[Ii]=u}else tt(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;as(u),P=!1}else Ue!==null&&(Qp(Ue),Ue=null),P=!0;if(!P)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=p,u):(y=y!==null,y!==(o!==null&&o.memoizedState!==null)&&y&&(u.child.flags|=8192,(u.mode&1)!==0&&(o===null||(Sr.current&1)!==0?In===0&&(In=3):rg())),u.updateQueue!==null&&(u.flags|=4),as(u),null);case 4:return Ti(),Hp(o,u),o===null&&bo(u.stateNode.containerInfo),as(u),null;case 10:return Ar(u.type._context),as(u),null;case 17:return ss(u.type)&&gd(),as(u),null;case 19:if(lr(Sr),P=u.memoizedState,P===null)return as(u),null;if(y=(u.flags&128)!==0,H=P.rendering,H===null)if(y)Ru(P,!1);else{if(In!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(H=di(o),H!==null){for(u.flags|=128,Ru(P,!1),y=H.updateQueue,y!==null&&(u.updateQueue=y,u.flags|=4),u.subtreeFlags=0,y=p,p=u.child;p!==null;)P=p,o=y,P.flags&=14680066,H=P.alternate,H===null?(P.childLanes=0,P.lanes=o,P.child=null,P.subtreeFlags=0,P.memoizedProps=null,P.memoizedState=null,P.updateQueue=null,P.dependencies=null,P.stateNode=null):(P.childLanes=H.childLanes,P.lanes=H.lanes,P.child=H.child,P.subtreeFlags=0,P.deletions=null,P.memoizedProps=H.memoizedProps,P.memoizedState=H.memoizedState,P.updateQueue=H.updateQueue,P.type=H.type,o=H.dependencies,P.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),p=p.sibling;return dr(Sr,Sr.current&1|2),u.child}o=o.sibling}P.tail!==null&&_r()>Pd&&(u.flags|=128,y=!0,Ru(P,!1),u.lanes=4194304)}else{if(!y)if(o=di(H),o!==null){if(u.flags|=128,y=!0,p=o.updateQueue,p!==null&&(u.updateQueue=p,u.flags|=4),Ru(P,!0),P.tail===null&&P.tailMode==="hidden"&&!H.alternate&&!ze)return as(u),null}else 2*_r()-P.renderingStartTime>Pd&&p!==1073741824&&(u.flags|=128,y=!0,Ru(P,!1),u.lanes=4194304);P.isBackwards?(H.sibling=u.child,u.child=H):(p=P.last,p!==null?p.sibling=H:u.child=H,P.last=H)}return P.tail!==null?(u=P.tail,P.rendering=u,P.tail=u.sibling,P.renderingStartTime=_r(),u.sibling=null,p=Sr.current,dr(Sr,y?p&1|2:p&1),u):(as(u),null);case 22:case 23:return tg(),y=u.memoizedState!==null,o!==null&&o.memoizedState!==null!==y&&(u.flags|=8192),y&&(u.mode&1)!==0?(fi&1073741824)!==0&&(as(u),u.subtreeFlags&6&&(u.flags|=8192)):as(u),null;case 24:return null;case 25:return null}throw Error(t(156,u.tag))}function _4(o,u){switch(Ae(u),u.tag){case 1:return ss(u.type)&&gd(),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return Ti(),lr(ns),lr(En),Iu(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 5:return Eu(u),null;case 13:if(lr(Sr),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(t(340));tt()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return lr(Sr),null;case 4:return Ti(),null;case 10:return Ar(u.type._context),null;case 22:case 23:return tg(),null;case 24:return null;default:return null}}var pf=!1,os=!1,S4=typeof WeakSet=="function"?WeakSet:Set,nt=null;function Cd(o,u){var p=o.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(y){dn(o,u,y)}else p.current=null}function Wp(o,u,p){try{p()}catch(y){dn(o,u,y)}}var Ux=!1;function N4(o,u){if(xc=sl,o=an(),oi(o)){if("selectionStart"in o)var p={start:o.selectionStart,end:o.selectionEnd};else e:{p=(p=o.ownerDocument)&&p.defaultView||window;var y=p.getSelection&&p.getSelection();if(y&&y.rangeCount!==0){p=y.anchorNode;var C=y.anchorOffset,P=y.focusNode;y=y.focusOffset;try{p.nodeType,P.nodeType}catch{p=null;break e}var H=0,he=-1,ve=-1,Le=0,$e=0,Ge=o,Ve=null;t:for(;;){for(var Ze;Ge!==p||C!==0&&Ge.nodeType!==3||(he=H+C),Ge!==P||y!==0&&Ge.nodeType!==3||(ve=H+y),Ge.nodeType===3&&(H+=Ge.nodeValue.length),(Ze=Ge.firstChild)!==null;)Ve=Ge,Ge=Ze;for(;;){if(Ge===o)break t;if(Ve===p&&++Le===C&&(he=H),Ve===P&&++$e===y&&(ve=H),(Ze=Ge.nextSibling)!==null)break;Ge=Ve,Ve=Ge.parentNode}Ge=Ze}p=he===-1||ve===-1?null:{start:he,end:ve}}else p=null}p=p||{start:0,end:0}}else p=null;for(vo={focusedElem:o,selectionRange:p},sl=!1,nt=u;nt!==null;)if(u=nt,o=u.child,(u.subtreeFlags&1028)!==0&&o!==null)o.return=u,nt=o;else for(;nt!==null;){u=nt;try{var ot=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(ot!==null){var dt=ot.memoizedProps,mn=ot.memoizedState,Pe=u.stateNode,Se=Pe.getSnapshotBeforeUpdate(u.elementType===u.type?dt:na(u.type,dt),mn);Pe.__reactInternalSnapshotBeforeUpdate=Se}break;case 3:var Ee=u.stateNode.containerInfo;Ee.nodeType===1?Ee.textContent="":Ee.nodeType===9&&Ee.documentElement&&Ee.removeChild(Ee.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Ke){dn(u,u.return,Ke)}if(o=u.sibling,o!==null){o.return=u.return,nt=o;break}nt=u.return}return ot=Ux,Ux=!1,ot}function Du(o,u,p){var y=u.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var C=y=y.next;do{if((C.tag&o)===o){var P=C.destroy;C.destroy=void 0,P!==void 0&&Wp(u,p,P)}C=C.next}while(C!==y)}}function gf(o,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var p=u=u.next;do{if((p.tag&o)===o){var y=p.create;p.destroy=y()}p=p.next}while(p!==u)}}function Vp(o){var u=o.ref;if(u!==null){var p=o.stateNode;switch(o.tag){case 5:o=p;break;default:o=p}typeof u=="function"?u(o):u.current=o}}function Hx(o){var u=o.alternate;u!==null&&(o.alternate=null,Hx(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&(delete u[Ii],delete u[gl],delete u[rs],delete u[Pp],delete u[Ap])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Wx(o){return o.tag===5||o.tag===3||o.tag===4}function Vx(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Wx(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function $p(o,u,p){var y=o.tag;if(y===5||y===6)o=o.stateNode,u?p.nodeType===8?p.parentNode.insertBefore(o,u):p.insertBefore(o,u):(p.nodeType===8?(u=p.parentNode,u.insertBefore(o,p)):(u=p,u.appendChild(o)),p=p._reactRootContainer,p!=null||u.onclick!==null||(u.onclick=pl));else if(y!==4&&(o=o.child,o!==null))for($p(o,u,p),o=o.sibling;o!==null;)$p(o,u,p),o=o.sibling}function qp(o,u,p){var y=o.tag;if(y===5||y===6)o=o.stateNode,u?p.insertBefore(o,u):p.appendChild(o);else if(y!==4&&(o=o.child,o!==null))for(qp(o,u,p),o=o.sibling;o!==null;)qp(o,u,p),o=o.sibling}var Gn=null,sa=!1;function kl(o,u,p){for(p=p.child;p!==null;)$x(o,u,p),p=p.sibling}function $x(o,u,p){if(vs&&typeof vs.onCommitFiberUnmount=="function")try{vs.onCommitFiberUnmount(Ka,p)}catch{}switch(p.tag){case 5:os||Cd(p,u);case 6:var y=Gn,C=sa;Gn=null,kl(o,u,p),Gn=y,sa=C,Gn!==null&&(sa?(o=Gn,p=p.stateNode,o.nodeType===8?o.parentNode.removeChild(p):o.removeChild(p)):Gn.removeChild(p.stateNode));break;case 18:Gn!==null&&(sa?(o=Gn,p=p.stateNode,o.nodeType===8?ju(o.parentNode,p):o.nodeType===1&&ju(o,p),Ni(o)):ju(Gn,p.stateNode));break;case 4:y=Gn,C=sa,Gn=p.stateNode.containerInfo,sa=!0,kl(o,u,p),Gn=y,sa=C;break;case 0:case 11:case 14:case 15:if(!os&&(y=p.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){C=y=y.next;do{var P=C,H=P.destroy;P=P.tag,H!==void 0&&((P&2)!==0||(P&4)!==0)&&Wp(p,u,H),C=C.next}while(C!==y)}kl(o,u,p);break;case 1:if(!os&&(Cd(p,u),y=p.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=p.memoizedProps,y.state=p.memoizedState,y.componentWillUnmount()}catch(he){dn(p,u,he)}kl(o,u,p);break;case 21:kl(o,u,p);break;case 22:p.mode&1?(os=(y=os)||p.memoizedState!==null,kl(o,u,p),os=y):kl(o,u,p);break;default:kl(o,u,p)}}function qx(o){var u=o.updateQueue;if(u!==null){o.updateQueue=null;var p=o.stateNode;p===null&&(p=o.stateNode=new S4),u.forEach(function(y){var C=M4.bind(null,o,y);p.has(y)||(p.add(y),y.then(C,C))})}}function ia(o,u){var p=u.deletions;if(p!==null)for(var y=0;y<p.length;y++){var C=p[y];try{var P=o,H=u,he=H;e:for(;he!==null;){switch(he.tag){case 5:Gn=he.stateNode,sa=!1;break e;case 3:Gn=he.stateNode.containerInfo,sa=!0;break e;case 4:Gn=he.stateNode.containerInfo,sa=!0;break e}he=he.return}if(Gn===null)throw Error(t(160));$x(P,H,C),Gn=null,sa=!1;var ve=C.alternate;ve!==null&&(ve.return=null),C.return=null}catch(Le){dn(C,u,Le)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)Gx(u,o),u=u.sibling}function Gx(o,u){var p=o.alternate,y=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(ia(u,o),Ia(o),y&4){try{Du(3,o,o.return),gf(3,o)}catch(dt){dn(o,o.return,dt)}try{Du(5,o,o.return)}catch(dt){dn(o,o.return,dt)}}break;case 1:ia(u,o),Ia(o),y&512&&p!==null&&Cd(p,p.return);break;case 5:if(ia(u,o),Ia(o),y&512&&p!==null&&Cd(p,p.return),o.flags&32){var C=o.stateNode;try{vt(C,"")}catch(dt){dn(o,o.return,dt)}}if(y&4&&(C=o.stateNode,C!=null)){var P=o.memoizedProps,H=p!==null?p.memoizedProps:P,he=o.type,ve=o.updateQueue;if(o.updateQueue=null,ve!==null)try{he==="input"&&P.type==="radio"&&P.name!=null&&Xe(C,P),yt(he,H);var Le=yt(he,P);for(H=0;H<ve.length;H+=2){var $e=ve[H],Ge=ve[H+1];$e==="style"?ht(C,Ge):$e==="dangerouslySetInnerHTML"?bt(C,Ge):$e==="children"?vt(C,Ge):R(C,$e,Ge,Le)}switch(he){case"input":ct(C,P);break;case"textarea":Yt(C,P);break;case"select":var Ve=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!P.multiple;var Ze=P.value;Ze!=null?We(C,!!P.multiple,Ze,!1):Ve!==!!P.multiple&&(P.defaultValue!=null?We(C,!!P.multiple,P.defaultValue,!0):We(C,!!P.multiple,P.multiple?[]:"",!1))}C[gl]=P}catch(dt){dn(o,o.return,dt)}}break;case 6:if(ia(u,o),Ia(o),y&4){if(o.stateNode===null)throw Error(t(162));C=o.stateNode,P=o.memoizedProps;try{C.nodeValue=P}catch(dt){dn(o,o.return,dt)}}break;case 3:if(ia(u,o),Ia(o),y&4&&p!==null&&p.memoizedState.isDehydrated)try{Ni(u.containerInfo)}catch(dt){dn(o,o.return,dt)}break;case 4:ia(u,o),Ia(o);break;case 13:ia(u,o),Ia(o),C=o.child,C.flags&8192&&(P=C.memoizedState!==null,C.stateNode.isHidden=P,!P||C.alternate!==null&&C.alternate.memoizedState!==null||(Kp=_r())),y&4&&qx(o);break;case 22:if($e=p!==null&&p.memoizedState!==null,o.mode&1?(os=(Le=os)||$e,ia(u,o),os=Le):ia(u,o),Ia(o),y&8192){if(Le=o.memoizedState!==null,(o.stateNode.isHidden=Le)&&!$e&&(o.mode&1)!==0)for(nt=o,$e=o.child;$e!==null;){for(Ge=nt=$e;nt!==null;){switch(Ve=nt,Ze=Ve.child,Ve.tag){case 0:case 11:case 14:case 15:Du(4,Ve,Ve.return);break;case 1:Cd(Ve,Ve.return);var ot=Ve.stateNode;if(typeof ot.componentWillUnmount=="function"){y=Ve,p=Ve.return;try{u=y,ot.props=u.memoizedProps,ot.state=u.memoizedState,ot.componentWillUnmount()}catch(dt){dn(y,p,dt)}}break;case 5:Cd(Ve,Ve.return);break;case 22:if(Ve.memoizedState!==null){Jx(Ge);continue}}Ze!==null?(Ze.return=Ve,nt=Ze):Jx(Ge)}$e=$e.sibling}e:for($e=null,Ge=o;;){if(Ge.tag===5){if($e===null){$e=Ge;try{C=Ge.stateNode,Le?(P=C.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none"):(he=Ge.stateNode,ve=Ge.memoizedProps.style,H=ve!=null&&ve.hasOwnProperty("display")?ve.display:null,he.style.display=Kt("display",H))}catch(dt){dn(o,o.return,dt)}}}else if(Ge.tag===6){if($e===null)try{Ge.stateNode.nodeValue=Le?"":Ge.memoizedProps}catch(dt){dn(o,o.return,dt)}}else if((Ge.tag!==22&&Ge.tag!==23||Ge.memoizedState===null||Ge===o)&&Ge.child!==null){Ge.child.return=Ge,Ge=Ge.child;continue}if(Ge===o)break e;for(;Ge.sibling===null;){if(Ge.return===null||Ge.return===o)break e;$e===Ge&&($e=null),Ge=Ge.return}$e===Ge&&($e=null),Ge.sibling.return=Ge.return,Ge=Ge.sibling}}break;case 19:ia(u,o),Ia(o),y&4&&qx(o);break;case 21:break;default:ia(u,o),Ia(o)}}function Ia(o){var u=o.flags;if(u&2){try{e:{for(var p=o.return;p!==null;){if(Wx(p)){var y=p;break e}p=p.return}throw Error(t(160))}switch(y.tag){case 5:var C=y.stateNode;y.flags&32&&(vt(C,""),y.flags&=-33);var P=Vx(o);qp(o,P,C);break;case 3:case 4:var H=y.stateNode.containerInfo,he=Vx(o);$p(o,he,H);break;default:throw Error(t(161))}}catch(ve){dn(o,o.return,ve)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function C4(o,u,p){nt=o,Yx(o)}function Yx(o,u,p){for(var y=(o.mode&1)!==0;nt!==null;){var C=nt,P=C.child;if(C.tag===22&&y){var H=C.memoizedState!==null||pf;if(!H){var he=C.alternate,ve=he!==null&&he.memoizedState!==null||os;he=pf;var Le=os;if(pf=H,(os=ve)&&!Le)for(nt=C;nt!==null;)H=nt,ve=H.child,H.tag===22&&H.memoizedState!==null?Xx(C):ve!==null?(ve.return=H,nt=ve):Xx(C);for(;P!==null;)nt=P,Yx(P),P=P.sibling;nt=C,pf=he,os=Le}Kx(o)}else(C.subtreeFlags&8772)!==0&&P!==null?(P.return=C,nt=P):Kx(o)}}function Kx(o){for(;nt!==null;){var u=nt;if((u.flags&8772)!==0){var p=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:os||gf(5,u);break;case 1:var y=u.stateNode;if(u.flags&4&&!os)if(p===null)y.componentDidMount();else{var C=u.elementType===u.type?p.memoizedProps:na(u.type,p.memoizedProps);y.componentDidUpdate(C,p.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var P=u.updateQueue;P!==null&&Ws(u,P,y);break;case 3:var H=u.updateQueue;if(H!==null){if(p=null,u.child!==null)switch(u.child.tag){case 5:p=u.child.stateNode;break;case 1:p=u.child.stateNode}Ws(u,H,p)}break;case 5:var he=u.stateNode;if(p===null&&u.flags&4){p=he;var ve=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":ve.autoFocus&&p.focus();break;case"img":ve.src&&(p.src=ve.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var Le=u.alternate;if(Le!==null){var $e=Le.memoizedState;if($e!==null){var Ge=$e.dehydrated;Ge!==null&&Ni(Ge)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}os||u.flags&512&&Vp(u)}catch(Ve){dn(u,u.return,Ve)}}if(u===o){nt=null;break}if(p=u.sibling,p!==null){p.return=u.return,nt=p;break}nt=u.return}}function Jx(o){for(;nt!==null;){var u=nt;if(u===o){nt=null;break}var p=u.sibling;if(p!==null){p.return=u.return,nt=p;break}nt=u.return}}function Xx(o){for(;nt!==null;){var u=nt;try{switch(u.tag){case 0:case 11:case 15:var p=u.return;try{gf(4,u)}catch(ve){dn(u,p,ve)}break;case 1:var y=u.stateNode;if(typeof y.componentDidMount=="function"){var C=u.return;try{y.componentDidMount()}catch(ve){dn(u,C,ve)}}var P=u.return;try{Vp(u)}catch(ve){dn(u,P,ve)}break;case 5:var H=u.return;try{Vp(u)}catch(ve){dn(u,H,ve)}}}catch(ve){dn(u,u.return,ve)}if(u===o){nt=null;break}var he=u.sibling;if(he!==null){he.return=u.return,nt=he;break}nt=u.return}}var j4=Math.ceil,mf=I.ReactCurrentDispatcher,Gp=I.ReactCurrentOwner,Di=I.ReactCurrentBatchConfig,nr=0,Un=null,Sn=null,Yn=0,fi=0,jd=li(0),In=0,Ou=null,_c=0,xf=0,Yp=0,Fu=null,$s=null,Kp=0,Pd=1/0,Co=null,bf=!1,Jp=null,_l=null,yf=!1,Sl=null,vf=0,Bu=0,Xp=null,wf=-1,kf=0;function Ps(){return(nr&6)!==0?_r():wf!==-1?wf:wf=_r()}function Nl(o){return(o.mode&1)===0?1:(nr&2)!==0&&Yn!==0?Yn&-Yn:Jr.transition!==null?(kf===0&&(kf=rd()),kf):(o=Xt,o!==0||(o=window.event,o=o===void 0?16:no(o.type)),o)}function aa(o,u,p,y){if(50<Bu)throw Bu=0,Xp=null,Error(t(185));Qa(o,p,y),((nr&2)===0||o!==Un)&&(o===Un&&((nr&2)===0&&(xf|=p),In===4&&Cl(o,Yn)),qs(o,y),p===1&&nr===0&&(u.mode&1)===0&&(Pd=_r()+500,yc&&T()))}function qs(o,u){var p=o.callbackNode;Gr(o,u);var y=Xn(o,o===Un?Yn:0);if(y===0)p!==null&&Ya(p),o.callbackNode=null,o.callbackPriority=0;else if(u=y&-y,o.callbackPriority!==u){if(p!=null&&Ya(p),u===1)o.tag===0?j(Qx.bind(null,o)):v(Qx.bind(null,o)),Cp(function(){(nr&6)===0&&T()}),p=null;else{switch(Hi(y)){case 1:p=Zo;break;case 4:p=ys;break;case 16:p=ba;break;case 536870912:p=Qo;break;default:p=ba}p=o2(p,Zx.bind(null,o))}o.callbackPriority=u,o.callbackNode=p}}function Zx(o,u){if(wf=-1,kf=0,(nr&6)!==0)throw Error(t(327));var p=o.callbackNode;if(Ad()&&o.callbackNode!==p)return null;var y=Xn(o,o===Un?Yn:0);if(y===0)return null;if((y&30)!==0||(y&o.expiredLanes)!==0||u)u=_f(o,y);else{u=y;var C=nr;nr|=2;var P=t2();(Un!==o||Yn!==u)&&(Co=null,Pd=_r()+500,Nc(o,u));do try{E4();break}catch(he){e2(o,he)}while(!0);tr(),mf.current=P,nr=C,Sn!==null?u=0:(Un=null,Yn=0,u=In)}if(u!==0){if(u===2&&(C=Za(o),C!==0&&(y=C,u=Zp(o,C))),u===1)throw p=Ou,Nc(o,0),Cl(o,y),qs(o,_r()),p;if(u===6)Cl(o,y);else{if(C=o.current.alternate,(y&30)===0&&!P4(C)&&(u=_f(o,y),u===2&&(P=Za(o),P!==0&&(y=P,u=Zp(o,P))),u===1))throw p=Ou,Nc(o,0),Cl(o,y),qs(o,_r()),p;switch(o.finishedWork=C,o.finishedLanes=y,u){case 0:case 1:throw Error(t(345));case 2:Cc(o,$s,Co);break;case 3:if(Cl(o,y),(y&130023424)===y&&(u=Kp+500-_r(),10<u)){if(Xn(o,0)!==0)break;if(C=o.suspendedLanes,(C&y)!==y){Ps(),o.pingedLanes|=o.suspendedLanes&C;break}o.timeoutHandle=Cu(Cc.bind(null,o,$s,Co),u);break}Cc(o,$s,Co);break;case 4:if(Cl(o,y),(y&4194240)===y)break;for(u=o.eventTimes,C=-1;0<y;){var H=31-Mn(y);P=1<<H,H=u[H],H>C&&(C=H),y&=~P}if(y=C,y=_r()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*j4(y/1960))-y,10<y){o.timeoutHandle=Cu(Cc.bind(null,o,$s,Co),y);break}Cc(o,$s,Co);break;case 5:Cc(o,$s,Co);break;default:throw Error(t(329))}}}return qs(o,_r()),o.callbackNode===p?Zx.bind(null,o):null}function Zp(o,u){var p=Fu;return o.current.memoizedState.isDehydrated&&(Nc(o,u).flags|=256),o=_f(o,u),o!==2&&(u=$s,$s=p,u!==null&&Qp(u)),o}function Qp(o){$s===null?$s=o:$s.push.apply($s,o)}function P4(o){for(var u=o;;){if(u.flags&16384){var p=u.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var y=0;y<p.length;y++){var C=p[y],P=C.getSnapshot;C=C.value;try{if(!zr(P(),C))return!1}catch{return!1}}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Cl(o,u){for(u&=~Yp,u&=~xf,o.suspendedLanes|=u,o.pingedLanes&=~u,o=o.expirationTimes;0<u;){var p=31-Mn(u),y=1<<p;o[p]=-1,u&=~y}}function Qx(o){if((nr&6)!==0)throw Error(t(327));Ad();var u=Xn(o,0);if((u&1)===0)return qs(o,_r()),null;var p=_f(o,u);if(o.tag!==0&&p===2){var y=Za(o);y!==0&&(u=y,p=Zp(o,y))}if(p===1)throw p=Ou,Nc(o,0),Cl(o,u),qs(o,_r()),p;if(p===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=u,Cc(o,$s,Co),qs(o,_r()),null}function eg(o,u){var p=nr;nr|=1;try{return o(u)}finally{nr=p,nr===0&&(Pd=_r()+500,yc&&T())}}function Sc(o){Sl!==null&&Sl.tag===0&&(nr&6)===0&&Ad();var u=nr;nr|=1;var p=Di.transition,y=Xt;try{if(Di.transition=null,Xt=1,o)return o()}finally{Xt=y,Di.transition=p,nr=u,(nr&6)===0&&T()}}function tg(){fi=jd.current,lr(jd)}function Nc(o,u){o.finishedWork=null,o.finishedLanes=0;var p=o.timeoutHandle;if(p!==-1&&(o.timeoutHandle=-1,ef(p)),Sn!==null)for(p=Sn.return;p!==null;){var y=p;switch(Ae(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&gd();break;case 3:Ti(),lr(ns),lr(En),Iu();break;case 5:Eu(y);break;case 4:Ti();break;case 13:lr(Sr);break;case 19:lr(Sr);break;case 10:Ar(y.type._context);break;case 22:case 23:tg()}p=p.return}if(Un=o,Sn=o=jl(o.current,null),Yn=fi=u,In=0,Ou=null,Yp=xf=_c=0,$s=Fu=null,pr!==null){for(u=0;u<pr.length;u++)if(p=pr[u],y=p.interleaved,y!==null){p.interleaved=null;var C=y.next,P=p.pending;if(P!==null){var H=P.next;P.next=C,y.next=H}p.pending=y}pr=null}return o}function e2(o,u){do{var p=Sn;try{if(tr(),md.current=df,yl){for(var y=Er.memoizedState;y!==null;){var C=y.queue;C!==null&&(C.pending=null),y=y.next}yl=!1}if(Mi=0,en=cn=Er=null,ta=!1,vl=0,Gp.current=null,p===null||p.return===null){In=1,Ou=u,Sn=null;break}e:{var P=o,H=p.return,he=p,ve=u;if(u=Yn,he.flags|=32768,ve!==null&&typeof ve=="object"&&typeof ve.then=="function"){var Le=ve,$e=he,Ge=$e.tag;if(($e.mode&1)===0&&(Ge===0||Ge===11||Ge===15)){var Ve=$e.alternate;Ve?($e.updateQueue=Ve.updateQueue,$e.memoizedState=Ve.memoizedState,$e.lanes=Ve.lanes):($e.updateQueue=null,$e.memoizedState=null)}var Ze=Nx(H);if(Ze!==null){Ze.flags&=-257,Cx(Ze,H,he,P,u),Ze.mode&1&&Sx(P,Le,u),u=Ze,ve=Le;var ot=u.updateQueue;if(ot===null){var dt=new Set;dt.add(ve),u.updateQueue=dt}else ot.add(ve);break e}else{if((u&1)===0){Sx(P,Le,u),rg();break e}ve=Error(t(426))}}else if(ze&&he.mode&1){var mn=Nx(H);if(mn!==null){(mn.flags&65536)===0&&(mn.flags|=256),Cx(mn,H,he,P,u),Je(Nd(ve,he));break e}}P=ve=Nd(ve,he),In!==4&&(In=2),Fu===null?Fu=[P]:Fu.push(P),P=H;do{switch(P.tag){case 3:P.flags|=65536,u&=-u,P.lanes|=u;var Pe=kx(P,ve,u);mr(P,Pe);break e;case 1:he=ve;var Se=P.type,Ee=P.stateNode;if((P.flags&128)===0&&(typeof Se.getDerivedStateFromError=="function"||Ee!==null&&typeof Ee.componentDidCatch=="function"&&(_l===null||!_l.has(Ee)))){P.flags|=65536,u&=-u,P.lanes|=u;var Ke=_x(P,he,u);mr(P,Ke);break e}}P=P.return}while(P!==null)}n2(p)}catch(gt){u=gt,Sn===p&&p!==null&&(Sn=p=p.return);continue}break}while(!0)}function t2(){var o=mf.current;return mf.current=df,o===null?df:o}function rg(){(In===0||In===3||In===2)&&(In=4),Un===null||(_c&268435455)===0&&(xf&268435455)===0||Cl(Un,Yn)}function _f(o,u){var p=nr;nr|=2;var y=t2();(Un!==o||Yn!==u)&&(Co=null,Nc(o,u));do try{A4();break}catch(C){e2(o,C)}while(!0);if(tr(),nr=p,mf.current=y,Sn!==null)throw Error(t(261));return Un=null,Yn=0,In}function A4(){for(;Sn!==null;)r2(Sn)}function E4(){for(;Sn!==null&&!Xo();)r2(Sn)}function r2(o){var u=a2(o.alternate,o,fi);o.memoizedProps=o.pendingProps,u===null?n2(o):Sn=u,Gp.current=null}function n2(o){var u=o;do{var p=u.alternate;if(o=u.return,(u.flags&32768)===0){if(p=k4(p,u,fi),p!==null){Sn=p;return}}else{if(p=_4(p,u),p!==null){p.flags&=32767,Sn=p;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{In=6,Sn=null;return}}if(u=u.sibling,u!==null){Sn=u;return}Sn=u=o}while(u!==null);In===0&&(In=5)}function Cc(o,u,p){var y=Xt,C=Di.transition;try{Di.transition=null,Xt=1,L4(o,u,p,y)}finally{Di.transition=C,Xt=y}return null}function L4(o,u,p,y){do Ad();while(Sl!==null);if((nr&6)!==0)throw Error(t(327));p=o.finishedWork;var C=o.finishedLanes;if(p===null)return null;if(o.finishedWork=null,o.finishedLanes=0,p===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var P=p.lanes|p.childLanes;if(ki(o,P),o===Un&&(Sn=Un=null,Yn=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||yf||(yf=!0,o2(ba,function(){return Ad(),null})),P=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||P){P=Di.transition,Di.transition=null;var H=Xt;Xt=1;var he=nr;nr|=4,Gp.current=null,N4(o,p),Gx(p,o),cc(vo),sl=!!xc,vo=xc=null,o.current=p,C4(p),pu(),nr=he,Xt=H,Di.transition=P}else o.current=p;if(yf&&(yf=!1,Sl=o,vf=C),P=o.pendingLanes,P===0&&(_l=null),ed(p.stateNode),qs(o,_r()),u!==null)for(y=o.onRecoverableError,p=0;p<u.length;p++)C=u[p],y(C.value,{componentStack:C.stack,digest:C.digest});if(bf)throw bf=!1,o=Jp,Jp=null,o;return(vf&1)!==0&&o.tag!==0&&Ad(),P=o.pendingLanes,(P&1)!==0?o===Xp?Bu++:(Bu=0,Xp=o):Bu=0,T(),null}function Ad(){if(Sl!==null){var o=Hi(vf),u=Di.transition,p=Xt;try{if(Di.transition=null,Xt=16>o?16:o,Sl===null)var y=!1;else{if(o=Sl,Sl=null,vf=0,(nr&6)!==0)throw Error(t(331));var C=nr;for(nr|=4,nt=o.current;nt!==null;){var P=nt,H=P.child;if((nt.flags&16)!==0){var he=P.deletions;if(he!==null){for(var ve=0;ve<he.length;ve++){var Le=he[ve];for(nt=Le;nt!==null;){var $e=nt;switch($e.tag){case 0:case 11:case 15:Du(8,$e,P)}var Ge=$e.child;if(Ge!==null)Ge.return=$e,nt=Ge;else for(;nt!==null;){$e=nt;var Ve=$e.sibling,Ze=$e.return;if(Hx($e),$e===Le){nt=null;break}if(Ve!==null){Ve.return=Ze,nt=Ve;break}nt=Ze}}}var ot=P.alternate;if(ot!==null){var dt=ot.child;if(dt!==null){ot.child=null;do{var mn=dt.sibling;dt.sibling=null,dt=mn}while(dt!==null)}}nt=P}}if((P.subtreeFlags&2064)!==0&&H!==null)H.return=P,nt=H;else e:for(;nt!==null;){if(P=nt,(P.flags&2048)!==0)switch(P.tag){case 0:case 11:case 15:Du(9,P,P.return)}var Pe=P.sibling;if(Pe!==null){Pe.return=P.return,nt=Pe;break e}nt=P.return}}var Se=o.current;for(nt=Se;nt!==null;){H=nt;var Ee=H.child;if((H.subtreeFlags&2064)!==0&&Ee!==null)Ee.return=H,nt=Ee;else e:for(H=Se;nt!==null;){if(he=nt,(he.flags&2048)!==0)try{switch(he.tag){case 0:case 11:case 15:gf(9,he)}}catch(gt){dn(he,he.return,gt)}if(he===H){nt=null;break e}var Ke=he.sibling;if(Ke!==null){Ke.return=he.return,nt=Ke;break e}nt=he.return}}if(nr=C,T(),vs&&typeof vs.onPostCommitFiberRoot=="function")try{vs.onPostCommitFiberRoot(Ka,o)}catch{}y=!0}return y}finally{Xt=p,Di.transition=u}}return!1}function s2(o,u,p){u=Nd(p,u),u=kx(o,u,1),o=Zr(o,u,1),u=Ps(),o!==null&&(Qa(o,1,u),qs(o,u))}function dn(o,u,p){if(o.tag===3)s2(o,o,p);else for(;u!==null;){if(u.tag===3){s2(u,o,p);break}else if(u.tag===1){var y=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(_l===null||!_l.has(y))){o=Nd(p,o),o=_x(u,o,1),u=Zr(u,o,1),o=Ps(),u!==null&&(Qa(u,1,o),qs(u,o));break}}u=u.return}}function I4(o,u,p){var y=o.pingCache;y!==null&&y.delete(u),u=Ps(),o.pingedLanes|=o.suspendedLanes&p,Un===o&&(Yn&p)===p&&(In===4||In===3&&(Yn&130023424)===Yn&&500>_r()-Kp?Nc(o,0):Yp|=p),qs(o,u)}function i2(o,u){u===0&&((o.mode&1)===0?u=1:(u=Ts,Ts<<=1,(Ts&130023424)===0&&(Ts=4194304)));var p=Ps();o=gr(o,u),o!==null&&(Qa(o,u,p),qs(o,p))}function T4(o){var u=o.memoizedState,p=0;u!==null&&(p=u.retryLane),i2(o,p)}function M4(o,u){var p=0;switch(o.tag){case 13:var y=o.stateNode,C=o.memoizedState;C!==null&&(p=C.retryLane);break;case 19:y=o.stateNode;break;default:throw Error(t(314))}y!==null&&y.delete(u),i2(o,p)}var a2;a2=function(o,u,p){if(o!==null)if(o.memoizedProps!==u.pendingProps||ns.current)Vs=!0;else{if((o.lanes&p)===0&&(u.flags&128)===0)return Vs=!1,w4(o,u,p);Vs=(o.flags&131072)!==0}else Vs=!1,ze&&(u.flags&1048576)!==0&&Ce(u,Y,u.index);switch(u.lanes=0,u.tag){case 2:var y=u.type;ff(o,u),o=u.pendingProps;var C=xl(u,En.current);Wr(u,p),C=vc(null,u,y,o,C,p);var P=Ri();return u.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,ss(y)?(P=!0,_o(u)):P=!1,u.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,Ln(u),C.updater=uf,u.stateNode=C,C._reactInternals=u,Tp(u,y,o,p),u=Op(null,u,y,!0,P,p)):(u.tag=0,ze&&P&&Oe(u),js(null,u,C,p),u=u.child),u;case 16:y=u.elementType;e:{switch(ff(o,u),o=u.pendingProps,C=y._init,y=C(y._payload),u.type=y,C=u.tag=D4(y),o=na(y,o),C){case 0:u=Dp(null,u,y,o,p);break e;case 1:u=Ix(null,u,y,o,p);break e;case 11:u=jx(null,u,y,o,p);break e;case 14:u=Px(null,u,y,na(y.type,o),p);break e}throw Error(t(306,y,""))}return u;case 0:return y=u.type,C=u.pendingProps,C=u.elementType===y?C:na(y,C),Dp(o,u,y,C,p);case 1:return y=u.type,C=u.pendingProps,C=u.elementType===y?C:na(y,C),Ix(o,u,y,C,p);case 3:e:{if(Tx(u),o===null)throw Error(t(387));y=u.pendingProps,P=u.memoizedState,C=P.element,is(o,u),zn(u,y,null,p);var H=u.memoizedState;if(y=H.element,P.isDehydrated)if(P={element:y,isDehydrated:!1,cache:H.cache,pendingSuspenseBoundaries:H.pendingSuspenseBoundaries,transitions:H.transitions},u.updateQueue.baseState=P,u.memoizedState=P,u.flags&256){C=Nd(Error(t(423)),u),u=Mx(o,u,y,p,C);break e}else if(y!==C){C=Nd(Error(t(424)),u),u=Mx(o,u,y,p,C);break e}else for(Re=qn(u.stateNode.containerInfo.firstChild),Te=u,ze=!0,Ue=null,p=Tr(u,null,y,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(tt(),y===C){u=No(o,u,p);break e}js(o,u,y,p)}u=u.child}return u;case 5:return sf(u),o===null&&at(u),y=u.type,C=u.pendingProps,P=o!==null?o.memoizedProps:null,H=C.children,Nu(y,C)?H=null:P!==null&&Nu(y,P)&&(u.flags|=32),Lx(o,u),js(o,u,H,p),u.child;case 6:return o===null&&at(u),null;case 13:return Rx(o,u,p);case 4:return bl(u,u.stateNode.containerInfo),y=u.pendingProps,o===null?u.child=on(u,null,y,p):js(o,u,y,p),u.child;case 11:return y=u.type,C=u.pendingProps,C=u.elementType===y?C:na(y,C),jx(o,u,y,C,p);case 7:return js(o,u,u.pendingProps,p),u.child;case 8:return js(o,u,u.pendingProps.children,p),u.child;case 12:return js(o,u,u.pendingProps.children,p),u.child;case 10:e:{if(y=u.type._context,C=u.pendingProps,P=u.memoizedProps,H=C.value,dr(pn,y._currentValue),y._currentValue=H,P!==null)if(zr(P.value,H)){if(P.children===C.children&&!ns.current){u=No(o,u,p);break e}}else for(P=u.child,P!==null&&(P.return=u);P!==null;){var he=P.dependencies;if(he!==null){H=P.child;for(var ve=he.firstContext;ve!==null;){if(ve.context===y){if(P.tag===1){ve=Xr(-1,p&-p),ve.tag=2;var Le=P.updateQueue;if(Le!==null){Le=Le.shared;var $e=Le.pending;$e===null?ve.next=ve:(ve.next=$e.next,$e.next=ve),Le.pending=ve}}P.lanes|=p,ve=P.alternate,ve!==null&&(ve.lanes|=p),rr(P.return,p,u),he.lanes|=p;break}ve=ve.next}}else if(P.tag===10)H=P.type===u.type?null:P.child;else if(P.tag===18){if(H=P.return,H===null)throw Error(t(341));H.lanes|=p,he=H.alternate,he!==null&&(he.lanes|=p),rr(H,p,u),H=P.sibling}else H=P.child;if(H!==null)H.return=P;else for(H=P;H!==null;){if(H===u){H=null;break}if(P=H.sibling,P!==null){P.return=H.return,H=P;break}H=H.return}P=H}js(o,u,C.children,p),u=u.child}return u;case 9:return C=u.type,y=u.pendingProps.children,Wr(u,p),C=Vr(C),y=y(C),u.flags|=1,js(o,u,y,p),u.child;case 14:return y=u.type,C=na(y,u.pendingProps),C=na(y.type,C),Px(o,u,y,C,p);case 15:return Ax(o,u,u.type,u.pendingProps,p);case 17:return y=u.type,C=u.pendingProps,C=u.elementType===y?C:na(y,C),ff(o,u),u.tag=1,ss(y)?(o=!0,_o(u)):o=!1,Wr(u,p),vx(u,y,C),Tp(u,y,C,p),Op(null,u,y,!0,o,p);case 19:return Ox(o,u,p);case 22:return Ex(o,u,p)}throw Error(t(156,u.tag))};function o2(o,u){return Ga(o,u)}function R4(o,u,p,y){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oi(o,u,p,y){return new R4(o,u,p,y)}function ng(o){return o=o.prototype,!(!o||!o.isReactComponent)}function D4(o){if(typeof o=="function")return ng(o)?1:0;if(o!=null){if(o=o.$$typeof,o===L)return 11;if(o===X)return 14}return 2}function jl(o,u){var p=o.alternate;return p===null?(p=Oi(o.tag,u,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=u,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&14680064,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,u=o.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p}function Sf(o,u,p,y,C,P){var H=2;if(y=o,typeof o=="function")ng(o)&&(H=1);else if(typeof o=="string")H=5;else e:switch(o){case te:return jc(p.children,C,P,u);case $:H=8,C|=8;break;case M:return o=Oi(12,p,u,C|2),o.elementType=M,o.lanes=P,o;case O:return o=Oi(13,p,u,C),o.elementType=O,o.lanes=P,o;case W:return o=Oi(19,p,u,C),o.elementType=W,o.lanes=P,o;case pe:return Nf(p,C,P,u);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case ne:H=10;break e;case D:H=9;break e;case L:H=11;break e;case X:H=14;break e;case le:H=16,y=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return u=Oi(H,p,u,C),u.elementType=o,u.type=y,u.lanes=P,u}function jc(o,u,p,y){return o=Oi(7,o,y,u),o.lanes=p,o}function Nf(o,u,p,y){return o=Oi(22,o,y,u),o.elementType=pe,o.lanes=p,o.stateNode={isHidden:!1},o}function sg(o,u,p){return o=Oi(6,o,null,u),o.lanes=p,o}function ig(o,u,p){return u=Oi(4,o.children!==null?o.children:[],o.key,u),u.lanes=p,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}function O4(o,u,p,y,C){this.tag=u,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ec(0),this.expirationTimes=ec(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ec(0),this.identifierPrefix=y,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function ag(o,u,p,y,C,P,H,he,ve){return o=new O4(o,u,p,he,ve),u===1?(u=1,P===!0&&(u|=8)):u=0,P=Oi(3,null,null,u),o.current=P,P.stateNode=o,P.memoizedState={element:y,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ln(P),o}function F4(o,u,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Q,key:y==null?null:""+y,children:o,containerInfo:u,implementation:p}}function l2(o){if(!o)return Aa;o=o._reactInternals;e:{if(Pn(o)!==o||o.tag!==1)throw Error(t(170));var u=o;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(ss(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(t(171))}if(o.tag===1){var p=o.type;if(ss(p))return Au(o,p,u)}return u}function c2(o,u,p,y,C,P,H,he,ve){return o=ag(p,y,!0,o,C,P,H,he,ve),o.context=l2(null),p=o.current,y=Ps(),C=Nl(p),P=Xr(y,C),P.callback=u??null,Zr(p,P,C),o.current.lanes=C,Qa(o,C,y),qs(o,y),o}function Cf(o,u,p,y){var C=u.current,P=Ps(),H=Nl(C);return p=l2(p),u.context===null?u.context=p:u.pendingContext=p,u=Xr(P,H),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=Zr(C,u,H),o!==null&&(aa(o,C,H,P),Bn(o,C,H)),H}function jf(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function d2(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<u?p:u}}function og(o,u){d2(o,u),(o=o.alternate)&&d2(o,u)}function B4(){return null}var u2=typeof reportError=="function"?reportError:function(o){console.error(o)};function lg(o){this._internalRoot=o}Pf.prototype.render=lg.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(t(409));Cf(o,u,null,null)},Pf.prototype.unmount=lg.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;Sc(function(){Cf(null,o,null,null)}),u[On]=null}};function Pf(o){this._internalRoot=o}Pf.prototype.unstable_scheduleHydration=function(o){if(o){var u=sd();o={blockedOn:null,target:o,priority:u};for(var p=0;p<Si.length&&u!==0&&u<Si[p].priority;p++);Si.splice(p,0,o),p===0&&ad(o)}};function cg(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Af(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function h2(){}function z4(o,u,p,y,C){if(C){if(typeof y=="function"){var P=y;y=function(){var Le=jf(H);P.call(Le)}}var H=c2(u,y,o,0,null,!1,!1,"",h2);return o._reactRootContainer=H,o[On]=H.current,bo(o.nodeType===8?o.parentNode:o),Sc(),H}for(;C=o.lastChild;)o.removeChild(C);if(typeof y=="function"){var he=y;y=function(){var Le=jf(ve);he.call(Le)}}var ve=ag(o,0,!1,null,null,!1,!1,"",h2);return o._reactRootContainer=ve,o[On]=ve.current,bo(o.nodeType===8?o.parentNode:o),Sc(function(){Cf(u,ve,p,y)}),ve}function Ef(o,u,p,y,C){var P=p._reactRootContainer;if(P){var H=P;if(typeof C=="function"){var he=C;C=function(){var ve=jf(H);he.call(ve)}}Cf(u,H,o,C)}else H=z4(p,u,o,C,y);return jf(H)}tl=function(o){switch(o.tag){case 3:var u=o.stateNode;if(u.current.memoizedState.isDehydrated){var p=ti(u.pendingLanes);p!==0&&(el(u,p|1),qs(u,_r()),(nr&6)===0&&(Pd=_r()+500,T()))}break;case 13:Sc(function(){var y=gr(o,1);if(y!==null){var C=Ps();aa(y,o,1,C)}}),og(o,1)}},tc=function(o){if(o.tag===13){var u=gr(o,134217728);if(u!==null){var p=Ps();aa(u,o,134217728,p)}og(o,134217728)}},nd=function(o){if(o.tag===13){var u=Nl(o),p=gr(o,u);if(p!==null){var y=Ps();aa(p,o,u,y)}og(o,u)}},sd=function(){return Xt},rl=function(o,u){var p=Xt;try{return Xt=o,u()}finally{Xt=p}},Lr=function(o,u,p){switch(u){case"input":if(ct(o,p),u=p.name,p.type==="radio"&&u!=null){for(p=o;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<p.length;u++){var y=p[u];if(y!==o&&y.form===o.form){var C=bc(y);if(!C)throw Error(t(90));Me(y),ct(y,C)}}}break;case"textarea":Yt(o,p);break;case"select":u=p.value,u!=null&&We(o,!!p.multiple,u,!1)}},jn=eg,vi=Sc;var U4={usingClientEntryPoint:!1,Events:[ml,wo,bc,Zt,ga,eg]},zu={findFiberByHostInstance:Pa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},H4={bundleType:zu.bundleType,version:zu.version,rendererPackageName:zu.rendererPackageName,rendererConfig:zu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=ei(o),o===null?null:o.stateNode},findFiberByHostInstance:zu.findFiberByHostInstance||B4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lf.isDisabled&&Lf.supportsFiber)try{Ka=Lf.inject(H4),vs=Lf}catch{}}return Gs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U4,Gs.createPortal=function(o,u){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cg(u))throw Error(t(200));return F4(o,u,null,p)},Gs.createRoot=function(o,u){if(!cg(o))throw Error(t(299));var p=!1,y="",C=u2;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onRecoverableError!==void 0&&(C=u.onRecoverableError)),u=ag(o,1,!1,null,null,p,!1,y,C),o[On]=u.current,bo(o.nodeType===8?o.parentNode:o),new lg(u)},Gs.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=ei(u),o=o===null?null:o.stateNode,o},Gs.flushSync=function(o){return Sc(o)},Gs.hydrate=function(o,u,p){if(!Af(u))throw Error(t(200));return Ef(null,o,u,!0,p)},Gs.hydrateRoot=function(o,u,p){if(!cg(o))throw Error(t(405));var y=p!=null&&p.hydratedSources||null,C=!1,P="",H=u2;if(p!=null&&(p.unstable_strictMode===!0&&(C=!0),p.identifierPrefix!==void 0&&(P=p.identifierPrefix),p.onRecoverableError!==void 0&&(H=p.onRecoverableError)),u=c2(u,null,o,1,p??null,C,!1,P,H),o[On]=u.current,bo(o),y)for(o=0;o<y.length;o++)p=y[o],C=p._getVersion,C=C(p._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[p,C]:u.mutableSourceEagerHydrationData.push(p,C);return new Pf(u)},Gs.render=function(o,u,p){if(!Af(u))throw Error(t(200));return Ef(null,o,u,!1,p)},Gs.unmountComponentAtNode=function(o){if(!Af(o))throw Error(t(40));return o._reactRootContainer?(Sc(function(){Ef(null,null,o,!1,function(){o._reactRootContainer=null,o[On]=null})}),!0):!1},Gs.unstable_batchedUpdates=eg,Gs.unstable_renderSubtreeIntoContainer=function(o,u,p,y){if(!Af(p))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return Ef(o,u,p,!1,y)},Gs.version="18.3.1-next-f1338f8080-20240426",Gs}var v2;function J4(){if(v2)return hg.exports;v2=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),hg.exports=K4(),hg.exports}var w2;function X4(){if(w2)return If;w2=1;var r=J4();return If.createRoot=r.createRoot,If.hydrateRoot=r.hydrateRoot,If}var Z4=X4();const Q4=f5(Z4);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var k2="popstate";function e_(r={}){function e(n,s){let{pathname:i,search:a,hash:l}=n.location;return xm("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(n,s){return typeof s=="string"?s:yh(s)}return r_(e,t,null,r)}function tn(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function da(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function t_(){return Math.random().toString(36).substring(2,10)}function _2(r,e){return{usr:r.state,key:r.key,idx:e}}function xm(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?au(e):e,state:t,key:e&&e.key||n||t_()}}function yh({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function au(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function r_(r,e,t,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,l="POP",d=null,h=f();h==null&&(h=0,a.replaceState({...a.state,idx:h},""));function f(){return(a.state||{idx:null}).idx}function g(){l="POP";let w=f(),_=w==null?null:w-h;h=w,d&&d({action:l,location:k.location,delta:_})}function b(w,_){l="PUSH";let E=xm(k.location,w,_);h=f()+1;let R=_2(E,h),I=k.createHref(E);try{a.pushState(R,"",I)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;s.location.assign(I)}i&&d&&d({action:l,location:k.location,delta:1})}function m(w,_){l="REPLACE";let E=xm(k.location,w,_);h=f();let R=_2(E,h),I=k.createHref(E);a.replaceState(R,"",I),i&&d&&d({action:l,location:k.location,delta:0})}function S(w){return n_(w)}let k={get action(){return l},get location(){return r(s,a)},listen(w){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(k2,g),d=w,()=>{s.removeEventListener(k2,g),d=null}},createHref(w){return e(s,w)},createURL:S,encodeLocation(w){let _=S(w);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:b,replace:m,go(w){return a.go(w)}};return k}function n_(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),tn(t,"No window.location.(origin|href) available to create URL");let n=typeof r=="string"?r:yh(r);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function p5(r,e,t="/"){return s_(r,e,t,!1)}function s_(r,e,t,n){let s=typeof e=="string"?au(e):e,i=Wo(s.pathname||"/",t);if(i==null)return null;let a=g5(r);i_(a);let l=null;for(let d=0;l==null&&d<a.length;++d){let h=m_(i);l=p_(a[d],h,n)}return l}function g5(r,e=[],t=[],n="",s=!1){let i=(a,l,d=s,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(n)&&d)return;tn(f.relativePath.startsWith(n),`Absolute route path "${f.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(n.length)}let g=Uo([n,f.relativePath]),b=t.concat(f);a.children&&a.children.length>0&&(tn(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),g5(a.children,e,b,g,d)),!(a.path==null&&!a.index)&&e.push({path:g,score:h_(g,a.index),routesMeta:b})};return r.forEach((a,l)=>{if(a.path===""||!a.path?.includes("?"))i(a,l);else for(let d of m5(a.path))i(a,l,!0,d)}),e}function m5(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,s=t.endsWith("?"),i=t.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=m5(n.join("/")),l=[];return l.push(...a.map(d=>d===""?i:[i,d].join("/"))),s&&l.push(...a),l.map(d=>r.startsWith("/")&&d===""?"/":d)}function i_(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:f_(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var a_=/^:[\w-]+$/,o_=3,l_=2,c_=1,d_=10,u_=-2,S2=r=>r==="*";function h_(r,e){let t=r.split("/"),n=t.length;return t.some(S2)&&(n+=u_),e&&(n+=l_),t.filter(s=>!S2(s)).reduce((s,i)=>s+(a_.test(i)?o_:i===""?c_:d_),n)}function f_(r,e){return r.length===e.length&&r.slice(0,-1).every((n,s)=>n===e[s])?r[r.length-1]-e[e.length-1]:0}function p_(r,e,t=!1){let{routesMeta:n}=r,s={},i="/",a=[];for(let l=0;l<n.length;++l){let d=n[l],h=l===n.length-1,f=i==="/"?e:e.slice(i.length)||"/",g=S0({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},f),b=d.route;if(!g&&h&&t&&!n[n.length-1].route.index&&(g=S0({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},f)),!g)return null;Object.assign(s,g.params),a.push({params:s,pathname:Uo([i,g.pathname]),pathnameBase:v_(Uo([i,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(i=Uo([i,g.pathnameBase]))}return a}function S0(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=g_(r.path,r.caseSensitive,r.end),s=e.match(t);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((h,{paramName:f,isOptional:g},b)=>{if(f==="*"){let S=l[b]||"";a=i.slice(0,i.length-S.length).replace(/(.)\/+$/,"$1")}const m=l[b];return g&&!m?h[f]=void 0:h[f]=(m||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:a,pattern:r}}function g_(r,e=!1,t=!0){da(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],s="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,d)=>(n.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(n.push({paramName:"*"}),s+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":r!==""&&r!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function m_(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return da(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Wo(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function x_(r,e="/"){let{pathname:t,search:n="",hash:s=""}=typeof r=="string"?au(r):r;return{pathname:t?t.startsWith("/")?t:b_(t,e):e,search:w_(n),hash:k_(s)}}function b_(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function gg(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function y_(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function x5(r){let e=y_(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function b5(r,e,t,n=!1){let s;typeof r=="string"?s=au(r):(s={...r},tn(!s.pathname||!s.pathname.includes("?"),gg("?","pathname","search",s)),tn(!s.pathname||!s.pathname.includes("#"),gg("#","pathname","hash",s)),tn(!s.search||!s.search.includes("#"),gg("#","search","hash",s)));let i=r===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=t;else{let g=e.length-1;if(!n&&a.startsWith("..")){let b=a.split("/");for(;b[0]==="..";)b.shift(),g-=1;s.pathname=b.join("/")}l=g>=0?e[g]:"/"}let d=x_(s,l),h=a&&a!=="/"&&a.endsWith("/"),f=(i||a===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(h||f)&&(d.pathname+="/"),d}var Uo=r=>r.join("/").replace(/\/\/+/g,"/"),v_=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),w_=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,k_=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function __(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var y5=["POST","PUT","PATCH","DELETE"];new Set(y5);var S_=["GET",...y5];new Set(S_);var ou=U.createContext(null);ou.displayName="DataRouter";var np=U.createContext(null);np.displayName="DataRouterState";U.createContext(!1);var v5=U.createContext({isTransitioning:!1});v5.displayName="ViewTransition";var N_=U.createContext(new Map);N_.displayName="Fetchers";var C_=U.createContext(null);C_.displayName="Await";var Ha=U.createContext(null);Ha.displayName="Navigation";var Th=U.createContext(null);Th.displayName="Location";var Wa=U.createContext({outlet:null,matches:[],isDataRoute:!1});Wa.displayName="Route";var g1=U.createContext(null);g1.displayName="RouteError";function j_(r,{relative:e}={}){tn(Mh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=U.useContext(Ha),{hash:s,pathname:i,search:a}=Rh(r,{relative:e}),l=i;return t!=="/"&&(l=i==="/"?t:Uo([t,i])),n.createHref({pathname:l,search:a,hash:s})}function Mh(){return U.useContext(Th)!=null}function Kl(){return tn(Mh(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Th).location}var w5="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function k5(r){U.useContext(Ha).static||U.useLayoutEffect(r)}function ms(){let{isDataRoute:r}=U.useContext(Wa);return r?U_():P_()}function P_(){tn(Mh(),"useNavigate() may be used only in the context of a <Router> component.");let r=U.useContext(ou),{basename:e,navigator:t}=U.useContext(Ha),{matches:n}=U.useContext(Wa),{pathname:s}=Kl(),i=JSON.stringify(x5(n)),a=U.useRef(!1);return k5(()=>{a.current=!0}),U.useCallback((d,h={})=>{if(da(a.current,w5),!a.current)return;if(typeof d=="number"){t.go(d);return}let f=b5(d,JSON.parse(i),s,h.relative==="path");r==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Uo([e,f.pathname])),(h.replace?t.replace:t.push)(f,h.state,h)},[e,t,i,s,r])}U.createContext(null);function A_(){let{matches:r}=U.useContext(Wa),e=r[r.length-1];return e?e.params:{}}function Rh(r,{relative:e}={}){let{matches:t}=U.useContext(Wa),{pathname:n}=Kl(),s=JSON.stringify(x5(t));return U.useMemo(()=>b5(r,JSON.parse(s),n,e==="path"),[r,s,n,e])}function E_(r,e){return _5(r,e)}function _5(r,e,t,n,s){tn(Mh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=U.useContext(Ha),{matches:a}=U.useContext(Wa),l=a[a.length-1],d=l?l.params:{},h=l?l.pathname:"/",f=l?l.pathnameBase:"/",g=l&&l.route;{let E=g&&g.path||"";S5(h,!g||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let b=Kl(),m;if(e){let E=typeof e=="string"?au(e):e;tn(f==="/"||E.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${E.pathname}" was given in the \`location\` prop.`),m=E}else m=b;let S=m.pathname||"/",k=S;if(f!=="/"){let E=f.replace(/^\//,"").split("/");k="/"+S.replace(/^\//,"").split("/").slice(E.length).join("/")}let w=p5(r,{pathname:k});da(g||w!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),da(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=R_(w&&w.map(E=>Object.assign({},E,{params:Object.assign({},d,E.params),pathname:Uo([f,i.encodeLocation?i.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?f:Uo([f,i.encodeLocation?i.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),a,t,n,s);return e&&_?U.createElement(Th.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},_):_}function L_(){let r=z_(),e=__(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",r),a=U.createElement(U.Fragment,null,U.createElement("p",null,"💿 Hey developer 👋"),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:i},"ErrorBoundary")," or"," ",U.createElement("code",{style:i},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:s},t):null,a)}var I_=U.createElement(L_,null),T_=class extends U.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?U.createElement(Wa.Provider,{value:this.props.routeContext},U.createElement(g1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function M_({routeContext:r,match:e,children:t}){let n=U.useContext(ou);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(Wa.Provider,{value:r},t)}function R_(r,e=[],t=null,n=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let i=r,a=t?.errors;if(a!=null){let h=i.findIndex(f=>f.route.id&&a?.[f.route.id]!==void 0);tn(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let l=!1,d=-1;if(t)for(let h=0;h<i.length;h++){let f=i[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=h),f.route.id){let{loaderData:g,errors:b}=t,m=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!b||b[f.route.id]===void 0);if(f.route.lazy||m){l=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((h,f,g)=>{let b,m=!1,S=null,k=null;t&&(b=a&&f.route.id?a[f.route.id]:void 0,S=f.route.errorElement||I_,l&&(d<0&&g===0?(S5("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,k=null):d===g&&(m=!0,k=f.route.hydrateFallbackElement||null)));let w=e.concat(i.slice(0,g+1)),_=()=>{let E;return b?E=S:m?E=k:f.route.Component?E=U.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=h,U.createElement(M_,{match:f,routeContext:{outlet:h,matches:w,isDataRoute:t!=null},children:E})};return t&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?U.createElement(T_,{location:t.location,revalidation:t.revalidation,component:S,error:b,children:_(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:n}):_()},null)}function m1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function D_(r){let e=U.useContext(ou);return tn(e,m1(r)),e}function O_(r){let e=U.useContext(np);return tn(e,m1(r)),e}function F_(r){let e=U.useContext(Wa);return tn(e,m1(r)),e}function x1(r){let e=F_(r),t=e.matches[e.matches.length-1];return tn(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function B_(){return x1("useRouteId")}function z_(){let r=U.useContext(g1),e=O_("useRouteError"),t=x1("useRouteError");return r!==void 0?r:e.errors?.[t]}function U_(){let{router:r}=D_("useNavigate"),e=x1("useNavigate"),t=U.useRef(!1);return k5(()=>{t.current=!0}),U.useCallback(async(s,i={})=>{da(t.current,w5),t.current&&(typeof s=="number"?r.navigate(s):await r.navigate(s,{fromRouteId:e,...i}))},[r,e])}var N2={};function S5(r,e,t){!e&&!N2[r]&&(N2[r]=!0,da(!1,t))}U.memo(H_);function H_({routes:r,future:e,state:t,unstable_onError:n}){return _5(r,void 0,t,n,e)}function hs(r){tn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function W_({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:s,static:i=!1}){tn(!Mh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=r.replace(/^\/*/,"/"),l=U.useMemo(()=>({basename:a,navigator:s,static:i,future:{}}),[a,s,i]);typeof t=="string"&&(t=au(t));let{pathname:d="/",search:h="",hash:f="",state:g=null,key:b="default"}=t,m=U.useMemo(()=>{let S=Wo(d,a);return S==null?null:{location:{pathname:S,search:h,hash:f,state:g,key:b},navigationType:n}},[a,d,h,f,g,b,n]);return da(m!=null,`<Router basename="${a}"> is not able to match the URL "${d}${h}${f}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:U.createElement(Ha.Provider,{value:l},U.createElement(Th.Provider,{children:e,value:m}))}function V_({children:r,location:e}){return E_(bm(r),e)}function bm(r,e=[]){let t=[];return U.Children.forEach(r,(n,s)=>{if(!U.isValidElement(n))return;let i=[...e,s];if(n.type===U.Fragment){t.push.apply(t,bm(n.props.children,i));return}tn(n.type===hs,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tn(!n.props.index||!n.props.children,"An index route cannot have child routes.");let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=bm(n.props.children,i)),t.push(a)}),t}var c0="get",d0="application/x-www-form-urlencoded";function sp(r){return r!=null&&typeof r.tagName=="string"}function $_(r){return sp(r)&&r.tagName.toLowerCase()==="button"}function q_(r){return sp(r)&&r.tagName.toLowerCase()==="form"}function G_(r){return sp(r)&&r.tagName.toLowerCase()==="input"}function Y_(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function K_(r,e){return r.button===0&&(!e||e==="_self")&&!Y_(r)}function ym(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,t)=>{let n=r[t];return e.concat(Array.isArray(n)?n.map(s=>[t,s]):[[t,n]])},[]))}function J_(r,e){let t=ym(r);return e&&e.forEach((n,s)=>{t.has(s)||e.getAll(s).forEach(i=>{t.append(s,i)})}),t}var Tf=null;function X_(){if(Tf===null)try{new FormData(document.createElement("form"),0),Tf=!1}catch{Tf=!0}return Tf}var Z_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mg(r){return r!=null&&!Z_.has(r)?(da(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${d0}"`),null):r}function Q_(r,e){let t,n,s,i,a;if(q_(r)){let l=r.getAttribute("action");n=l?Wo(l,e):null,t=r.getAttribute("method")||c0,s=mg(r.getAttribute("enctype"))||d0,i=new FormData(r)}else if($_(r)||G_(r)&&(r.type==="submit"||r.type==="image")){let l=r.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=r.getAttribute("formaction")||l.getAttribute("action");if(n=d?Wo(d,e):null,t=r.getAttribute("formmethod")||l.getAttribute("method")||c0,s=mg(r.getAttribute("formenctype"))||mg(l.getAttribute("enctype"))||d0,i=new FormData(l,r),!X_()){let{name:h,type:f,value:g}=r;if(f==="image"){let b=h?`${h}.`:"";i.append(`${b}x`,"0"),i.append(`${b}y`,"0")}else h&&i.append(h,g)}}else{if(sp(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=c0,n=null,s=d0,a=r}return i&&s==="text/plain"&&(a=i,i=void 0),{action:n,method:t.toLowerCase(),encType:s,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function b1(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function eS(r,e,t){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname=`_root.${t}`:e&&Wo(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${t}`,n}async function tS(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rS(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function nS(r,e,t){let n=await Promise.all(r.map(async s=>{let i=e.routes[s.route.id];if(i){let a=await tS(i,t);return a.links?a.links():[]}return[]}));return oS(n.flat(1).filter(rS).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function C2(r,e,t,n,s,i){let a=(d,h)=>t[h]?d.route.id!==t[h].route.id:!0,l=(d,h)=>t[h].pathname!==d.pathname||t[h].route.path?.endsWith("*")&&t[h].params["*"]!==d.params["*"];return i==="assets"?e.filter((d,h)=>a(d,h)||l(d,h)):i==="data"?e.filter((d,h)=>{let f=n.routes[d.route.id];if(!f||!f.hasLoader)return!1;if(a(d,h)||l(d,h))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function sS(r,e,{includeHydrateFallback:t}={}){return iS(r.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function iS(r){return[...new Set(r)]}function aS(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function oS(r,e){let t=new Set;return new Set(e),r.reduce((n,s)=>{let i=JSON.stringify(aS(s));return t.has(i)||(t.add(i),n.push({key:i,link:s})),n},[])}function N5(){let r=U.useContext(ou);return b1(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function lS(){let r=U.useContext(np);return b1(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var y1=U.createContext(void 0);y1.displayName="FrameworkContext";function C5(){let r=U.useContext(y1);return b1(r,"You must render this element inside a <HydratedRouter> element"),r}function cS(r,e){let t=U.useContext(y1),[n,s]=U.useState(!1),[i,a]=U.useState(!1),{onFocus:l,onBlur:d,onMouseEnter:h,onMouseLeave:f,onTouchStart:g}=e,b=U.useRef(null);U.useEffect(()=>{if(r==="render"&&a(!0),r==="viewport"){let k=_=>{_.forEach(E=>{a(E.isIntersecting)})},w=new IntersectionObserver(k,{threshold:.5});return b.current&&w.observe(b.current),()=>{w.disconnect()}}},[r]),U.useEffect(()=>{if(n){let k=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(k)}}},[n]);let m=()=>{s(!0)},S=()=>{s(!1),a(!1)};return t?r!=="intent"?[i,b,{}]:[i,b,{onFocus:Hu(l,m),onBlur:Hu(d,S),onMouseEnter:Hu(h,m),onMouseLeave:Hu(f,S),onTouchStart:Hu(g,m)}]:[!1,b,{}]}function Hu(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function dS({page:r,...e}){let{router:t}=N5(),n=U.useMemo(()=>p5(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?U.createElement(hS,{page:r,matches:n,...e}):null}function uS(r){let{manifest:e,routeModules:t}=C5(),[n,s]=U.useState([]);return U.useEffect(()=>{let i=!1;return nS(r,e,t).then(a=>{i||s(a)}),()=>{i=!0}},[r,e,t]),n}function hS({page:r,matches:e,...t}){let n=Kl(),{manifest:s,routeModules:i}=C5(),{basename:a}=N5(),{loaderData:l,matches:d}=lS(),h=U.useMemo(()=>C2(r,e,d,s,n,"data"),[r,e,d,s,n]),f=U.useMemo(()=>C2(r,e,d,s,n,"assets"),[r,e,d,s,n]),g=U.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let S=new Set,k=!1;if(e.forEach(_=>{let E=s.routes[_.route.id];!E||!E.hasLoader||(!h.some(R=>R.route.id===_.route.id)&&_.route.id in l&&i[_.route.id]?.shouldRevalidate||E.hasClientLoader?k=!0:S.add(_.route.id))}),S.size===0)return[];let w=eS(r,a,"data");return k&&S.size>0&&w.searchParams.set("_routes",e.filter(_=>S.has(_.route.id)).map(_=>_.route.id).join(",")),[w.pathname+w.search]},[a,l,n,s,h,e,r,i]),b=U.useMemo(()=>sS(f,s),[f,s]),m=uS(f);return U.createElement(U.Fragment,null,g.map(S=>U.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),b.map(S=>U.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),m.map(({key:S,link:k})=>U.createElement("link",{key:S,nonce:t.nonce,...k})))}function fS(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var j5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{j5&&(window.__reactRouterVersion="7.9.4")}catch{}function pS({basename:r,children:e,window:t}){let n=U.useRef();n.current==null&&(n.current=e_({window:t,v5Compat:!0}));let s=n.current,[i,a]=U.useState({action:s.action,location:s.location}),l=U.useCallback(d=>{U.startTransition(()=>a(d))},[a]);return U.useLayoutEffect(()=>s.listen(l),[s,l]),U.createElement(W_,{basename:r,children:e,location:i.location,navigationType:i.action,navigator:s})}var P5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zt=U.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:s,reloadDocument:i,replace:a,state:l,target:d,to:h,preventScrollReset:f,viewTransition:g,...b},m){let{basename:S}=U.useContext(Ha),k=typeof h=="string"&&P5.test(h),w,_=!1;if(typeof h=="string"&&k&&(w=h,j5))try{let M=new URL(window.location.href),ne=h.startsWith("//")?new URL(M.protocol+h):new URL(h),D=Wo(ne.pathname,S);ne.origin===M.origin&&D!=null?h=D+ne.search+ne.hash:_=!0}catch{da(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=j_(h,{relative:s}),[R,I,B]=cS(n,b),Q=bS(h,{replace:a,state:l,target:d,preventScrollReset:f,relative:s,viewTransition:g});function te(M){e&&e(M),M.defaultPrevented||Q(M)}let $=U.createElement("a",{...b,...B,href:w||E,onClick:_||i?e:te,ref:fS(m,I),target:d,"data-discover":!k&&t==="render"?"true":void 0});return R&&!k?U.createElement(U.Fragment,null,$,U.createElement(dS,{page:E})):$});zt.displayName="Link";var gS=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:s=!1,style:i,to:a,viewTransition:l,children:d,...h},f){let g=Rh(a,{relative:h.relative}),b=Kl(),m=U.useContext(np),{navigator:S,basename:k}=U.useContext(Ha),w=m!=null&&_S(g)&&l===!0,_=S.encodeLocation?S.encodeLocation(g).pathname:g.pathname,E=b.pathname,R=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;t||(E=E.toLowerCase(),R=R?R.toLowerCase():null,_=_.toLowerCase()),R&&k&&(R=Wo(R,k)||R);const I=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let B=E===_||!s&&E.startsWith(_)&&E.charAt(I)==="/",Q=R!=null&&(R===_||!s&&R.startsWith(_)&&R.charAt(_.length)==="/"),te={isActive:B,isPending:Q,isTransitioning:w},$=B?e:void 0,M;typeof n=="function"?M=n(te):M=[n,B?"active":null,Q?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let ne=typeof i=="function"?i(te):i;return U.createElement(zt,{...h,"aria-current":$,className:M,ref:f,style:ne,to:a,viewTransition:l},typeof d=="function"?d(te):d)});gS.displayName="NavLink";var mS=U.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:s,state:i,method:a=c0,action:l,onSubmit:d,relative:h,preventScrollReset:f,viewTransition:g,...b},m)=>{let S=wS(),k=kS(l,{relative:h}),w=a.toLowerCase()==="get"?"get":"post",_=typeof l=="string"&&P5.test(l),E=R=>{if(d&&d(R),R.defaultPrevented)return;R.preventDefault();let I=R.nativeEvent.submitter,B=I?.getAttribute("formmethod")||a;S(I||R.currentTarget,{fetcherKey:e,method:B,navigate:t,replace:s,state:i,relative:h,preventScrollReset:f,viewTransition:g})};return U.createElement("form",{ref:m,method:w,action:k,onSubmit:n?d:E,...b,"data-discover":!_&&r==="render"?"true":void 0})});mS.displayName="Form";function xS(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function A5(r){let e=U.useContext(ou);return tn(e,xS(r)),e}function bS(r,{target:e,replace:t,state:n,preventScrollReset:s,relative:i,viewTransition:a}={}){let l=ms(),d=Kl(),h=Rh(r,{relative:i});return U.useCallback(f=>{if(K_(f,e)){f.preventDefault();let g=t!==void 0?t:yh(d)===yh(h);l(r,{replace:g,state:n,preventScrollReset:s,relative:i,viewTransition:a})}},[d,l,h,t,n,e,r,s,i,a])}function E5(r){da(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=U.useRef(ym(r)),t=U.useRef(!1),n=Kl(),s=U.useMemo(()=>J_(n.search,t.current?null:e.current),[n.search]),i=ms(),a=U.useCallback((l,d)=>{const h=ym(typeof l=="function"?l(new URLSearchParams(s)):l);t.current=!0,i("?"+h,d)},[i,s]);return[s,a]}var yS=0,vS=()=>`__${String(++yS)}__`;function wS(){let{router:r}=A5("useSubmit"),{basename:e}=U.useContext(Ha),t=B_();return U.useCallback(async(n,s={})=>{let{action:i,method:a,encType:l,formData:d,body:h}=Q_(n,e);if(s.navigate===!1){let f=s.fetcherKey||vS();await r.fetch(f,t,s.action||i,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||a,formEncType:s.encType||l,flushSync:s.flushSync})}else await r.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||a,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,e,t])}function kS(r,{relative:e}={}){let{basename:t}=U.useContext(Ha),n=U.useContext(Wa);tn(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...Rh(r||".",{relative:e})},a=Kl();if(r==null){i.search=a.search;let l=new URLSearchParams(i.search),d=l.getAll("index");if(d.some(f=>f==="")){l.delete("index"),d.filter(g=>g).forEach(g=>l.append("index",g));let f=l.toString();i.search=f?`?${f}`:""}}return(!r||r===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(i.pathname=i.pathname==="/"?t:Uo([t,i.pathname])),yh(i)}function _S(r,{relative:e}={}){let t=U.useContext(v5);tn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=A5("useViewTransitionState"),s=Rh(r,{relative:e});if(!t.isTransitioning)return!1;let i=Wo(t.currentLocation.pathname,n)||t.currentLocation.pathname,a=Wo(t.nextLocation.pathname,n)||t.nextLocation.pathname;return S0(s.pathname,a)!=null||S0(s.pathname,i)!=null}const SS=r=>r?r.trim().split(" ")[0]:"",NS=()=>{const r=new Date().getHours();return r>=5&&r<12?"morning":r>=12&&r<17?"afternoon":r>=17&&r<21?"evening":"night"},CS=(r,e)=>r==="morning"?`Good morning, ${e}`:r==="afternoon"?`Good afternoon, ${e}`:r==="evening"?`Good evening, ${e}`:`Hello, ${e}`,jS=r=>`Happy ${["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date().getDay()]}, ${r}`,PS=r=>{const e=[`Welcome back, ${r}`,`Good to see you, ${r}`,`What's new? ${r}`,`Nice to have you, ${r}`,`How's it going? ${r}`,`Hope you're well, ${r}`,`Ready to get started? ${r}`,`Let's go again, ${r}`];return e[Math.floor(Math.random()*e.length)]},AS=r=>{const e=SS(r),t=new Date().toISOString().slice(0,10),n=NS(),s=localStorage.getItem("lastGreetingDay"),i=localStorage.getItem("lastGreetingPeriod");let a;return s!==t?(a=jS(e),localStorage.setItem("lastGreetingDay",t),localStorage.setItem("lastGreetingPeriod",n),a):i!==n?(a=CS(n,e),localStorage.setItem("lastGreetingPeriod",n),a):(a=PS(e),a)};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),LS=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),j2=r=>{const e=LS(r);return e.charAt(0).toUpperCase()+e.slice(1)},L5=(...r)=>r.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim(),IS=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var TS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=U.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:a,...l},d)=>U.createElement("svg",{ref:d,...TS,width:e,height:e,stroke:r,strokeWidth:n?Number(t)*24/Number(e):t,className:L5("lucide",s),...!i&&!IS(l)&&{"aria-hidden":"true"},...l},[...a.map(([h,f])=>U.createElement(h,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=(r,e)=>{const t=U.forwardRef(({className:n,...s},i)=>U.createElement(MS,{ref:i,iconNode:e,className:L5(`lucide-${ES(j2(r))}`,`lucide-${r}`,n),...s}));return t.displayName=j2(r),t};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],P2=qe("archive",RS);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]],I5=qe("arrow-down-wide-narrow",DS);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],FS=qe("arrow-right",OS);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],A2=qe("arrow-up-down",BS);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]],vm=qe("arrow-up-narrow-wide",zS);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Od=qe("bell",US);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],wm=qe("book-open",HS);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],VS=qe("book",WS);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],qS=qe("bot",$S);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],km=qe("brain",GS);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],E2=qe("briefcase",YS);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],JS=qe("building-2",KS);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],ZS=qe("building",XS);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],eN=qe("camera",QS);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],rN=qe("calendar",tN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 11.207a.5.5 0 0 1 .146-.353l2-2a.5.5 0 0 1 .708 0l3.292 3.292a.5.5 0 0 0 .708 0l4.292-4.292a.5.5 0 0 1 .854.353V16a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1z",key:"q0gr47"}]],T5=qe("chart-area",nN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],th=qe("chart-column",sN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],M5=qe("chart-line",iN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],rh=qe("chart-no-axes-column-increasing",aN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],_m=qe("chart-no-axes-column",oN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],N0=qe("chart-pie",lN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],dN=qe("check-check",cN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],C0=qe("check",uN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],vh=qe("chevron-down",hN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],pN=qe("chevron-left",fN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],mN=qe("chevron-right",gN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Sm=qe("chevron-up",xN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],v1=qe("circle-alert",bN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],j0=qe("circle-check-big",yN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],w1=qe("circle-question-mark",vN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],kN=qe("circle-x",wN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],P0=qe("circle",_N);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],R5=qe("clock",SN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],L2=qe("code",NN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],jN=qe("copy",CN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],AN=qe("cpu",PN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],LN=qe("crown",EN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],I2=qe("database",IN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],D5=qe("dollar-sign",TN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Vo=qe("download",MN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],DN=qe("ellipsis-vertical",RN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],k1=qe("external-link",ON);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],A0=qe("eye-off",FN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ud=qe("eye",BN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01",key:"gkbcor"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}]],O5=qe("file-archive",zN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],HN=qe("file-down",UN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]],u0=qe("file-image",WN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 15h10",key:"jfw4w8"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]],$N=qe("file-input",VN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],Nm=qe("file-plus",qN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]],YN=qe("file-question-mark",GN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Qd=qe("file-spreadsheet",KN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Kn=qe("file-text",JN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 13v-1h6v1",key:"1bb014"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"M11 18h2",key:"12mj7e"}]],T2=qe("file-type",XN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],QN=qe("file-up",ZN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],t6=qe("folder-open",e6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],F5=qe("funnel",r6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],B5=qe("gauge",n6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],i6=qe("globe",s6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],M2=qe("grid-3x3",a6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],z5=qe("info",o6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],c6=qe("languages",l6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Cm=qe("layers",d6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],h6=qe("layout-dashboard",u6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],p6=qe("log-out",f6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],R2=qe("mail",g6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],x6=qe("map-pin",m6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],E0=qe("maximize-2",b6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],v6=qe("menu",y6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],D2=qe("message-circle",w6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],_6=qe("minimize-2",k6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=[["path",{d:"M5 12h14",key:"1ays0h"}]],N6=qe("minus",S6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],jm=qe("moon",C6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],_1=qe("palette",j6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],U5=qe("pen-line",P6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],E6=qe("phone",A6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]],I6=qe("redo-2",L6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],nh=qe("refresh-cw",T6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],R6=qe("rotate-ccw",M6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],L0=qe("save",D6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Dh=qe("search",O6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$l=qe("settings",F6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Pm=qe("shield",B6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],S1=qe("sparkles",z6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],H6=qe("square-check-big",U6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],H5=qe("square",W6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],$6=qe("star",V6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Am=qe("sun",q6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],W5=qe("target",G6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],K6=qe("terminal",Y6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],N1=qe("trash-2",J6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Z6=qe("trending-down",X6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q6=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Uc=qe("trending-up",Q6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],V5=qe("triangle-alert",eC);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],rC=qe("undo-2",tC);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],I0=qe("upload",nC);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Oc=qe("user",sC);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],lu=qe("x",iC);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Hd=qe("zap",aC),$5=U.createContext(),cu=()=>{const r=U.useContext($5);if(!r)throw new Error("useChartData must be used within ChartDataProvider");return r},oC=({children:r})=>{const[e,t]=U.useState({data:[],columns:[],types:{},summary:{},chartTitle:"",xAxis:"",yAxis:"",chartOptions:{type:"bar",color:"#2563eb",gradient:!1,showLabels:!1,sort:"none",orientation:"vertical",selectedRowIndices:null,rowSelectionMode:"auto",totalRowCount:0,isRowSelectionModalOpen:!1}}),[n,s]=U.useState(!1);U.useEffect(()=>{i()},[]),U.useEffect(()=>{n&&a()},[e,n]);const i=()=>{try{const I=localStorage.getItem("chartData");if(I){const B=JSON.parse(I);t(Q=>({...Q,...B}))}s(!0)}catch(I){console.error("Failed to load chart data from storage:",I),s(!0)}},a=()=>{try{localStorage.setItem("chartData",JSON.stringify(e)),localStorage.setItem("uploadedData",JSON.stringify(e.data)),localStorage.setItem("uploadedColumns",JSON.stringify(e.columns)),localStorage.setItem("chartTitle",e.chartTitle),localStorage.setItem("currentXAxis",e.xAxis),localStorage.setItem("currentYAxis",e.yAxis)}catch(I){console.error("Failed to save chart data to storage:",I)}},l=I=>{t(B=>({...B,...I}))},d=I=>{t(B=>({...B,data:I}))},h=I=>{t(B=>({...B,columns:I}))},f=I=>{t(B=>({...B,chartOptions:{...B.chartOptions,...I}}))},g=(I,B)=>{t(Q=>({...Q,xAxis:I,yAxis:B}))},b=()=>{t({data:[],columns:[],types:{},summary:{},chartTitle:"",xAxis:"",yAxis:"",chartOptions:{type:"bar",color:"#2563eb",gradient:!1,showLabels:!1,sort:"none",orientation:"vertical"}}),localStorage.removeItem("chartData"),localStorage.removeItem("uploadedData"),localStorage.removeItem("uploadedColumns"),localStorage.removeItem("chartTitle"),localStorage.removeItem("currentXAxis"),localStorage.removeItem("currentYAxis")},m=I=>{t(B=>({...B,selectedRowIndices:I}))},S=()=>{t(I=>({...I,isRowSelectionModalOpen:!I.isRowSelectionModalOpen}))},k=async I=>{try{const B=await fetch(`/api/charts/${I}/row-selection`,{credentials:"include"});if(B.ok){const Q=await B.json();t(te=>({...te,selectedRowIndices:Q.selected_row_indices,rowSelectionMode:Q.selection_mode}))}}catch(B){console.error("Failed to load row selection:",B)}},w=async(I,B)=>{try{const Q=await fetch(`/api/charts/${I}/row-selection`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(B)});if(!Q.ok)throw new Error("Failed to save row selection");return await Q.json()}catch(Q){throw console.error("Failed to save row selection:",Q),Q}},_=()=>{t(I=>({...I,selectedRowIndices:null,rowSelectionMode:"auto"}))},E=e.data.length>0,R={chartData:e,updateChartData:l,updateData:d,updateColumns:h,updateChartOptions:f,updateAxes:g,clearData:b,hasData:E,isDataLoaded:n,setSelectedRows:m,toggleRowSelectionModal:S,loadSavedRowSelection:k,saveRowSelection:w,resetRowSelection:_};return c.jsx($5.Provider,{value:R,children:r})},yi=U.createContext(),C1=()=>{const r=Ho.useContext(yi);if(!r)throw new Error("useUser must be used within UserProvider");return r};function lC({children:r}){const[e,t]=U.useState(()=>{const k=localStorage.getItem("user");return k?JSON.parse(k):null}),[n,s]=U.useState("light"),[i,a]=U.useState(!0);U.useEffect(()=>{const k=w=>{w.key==="user"&&t(w.newValue?JSON.parse(w.newValue):null)};return window.addEventListener("storage",k),()=>window.removeEventListener("storage",k)},[]),U.useEffect(()=>{const k=localStorage.getItem("theme")||"light";s(k),document.body.classList.remove("dark","light"),document.body.classList.add(k),l()},[]),U.useEffect(()=>{localStorage.setItem("theme",n),document.body.classList.remove("dark","light"),document.body.classList.add(n)},[n]);const l=async()=>{try{a(!0);const k=localStorage.getItem("user");if(k)try{t(JSON.parse(k))}catch{localStorage.removeItem("user")}const w=await fetch("/api/auth/me",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(w.ok){const _=await w.json();t(_),localStorage.setItem("user",JSON.stringify(_))}else t(null),localStorage.removeItem("user"),localStorage.removeItem("token")}catch(k){console.error("Auth check failed:",k),t(null),localStorage.removeItem("user"),localStorage.removeItem("token")}finally{a(!1)}},S={user:e,setUser:k=>{console.log("Updating user:",k);const w={...k};t(w),localStorage.setItem("user",JSON.stringify(w)),window.dispatchEvent(new StorageEvent("storage",{key:"user",newValue:JSON.stringify(w),oldValue:localStorage.getItem("user")}))},theme:n,setTheme:s,loading:i,login:async(k,w)=>{try{return t(k),localStorage.setItem("user",JSON.stringify(k)),w&&localStorage.setItem("token",w),window.dispatchEvent(new StorageEvent("storage",{key:"user",newValue:JSON.stringify(k),oldValue:localStorage.getItem("user")})),k}catch(_){throw console.error("Login error:",_),_}},signup:async(k,w,_,E)=>{try{const R=new FormData;R.append("name",k),w&&R.append("email",w),_&&R.append("phone",_),R.append("password",E);const I=await fetch("/api/auth/signup",{method:"POST",credentials:"include",body:R});if(!I.ok){const Q=await I.json().catch(()=>({}));throw new Error(Q.detail||"Signup failed")}const B=await I.json();return t(B.user),localStorage.setItem("user",JSON.stringify(B.user)),B.access_token&&localStorage.setItem("token",B.access_token),B}catch(R){throw console.error("Signup error:",R),R}},googleSignIn:async k=>{try{const w=await fetch("/api/auth/google",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({credential:k})});if(!w.ok){const E=await w.json().catch(()=>({}));throw new Error(E.detail||"Google sign-in failed")}const _=await w.json();return t(_.user),localStorage.setItem("user",JSON.stringify(_.user)),_.access_token&&localStorage.setItem("token",_.access_token),_}catch(w){throw console.error("Google sign-in error:",w),w}},logout:async()=>{try{await fetch("/api/auth/logout",{method:"POST",credentials:"include"}).catch(()=>{})}catch(k){console.error("Logout error:",k)}finally{t(null),localStorage.removeItem("user"),localStorage.removeItem("token")}},checkAuthStatus:l,refreshAuth:async()=>{try{const k=await fetch("/api/auth/refresh",{method:"POST",credentials:"include"});if(k.ok){const w=await k.json();return w.access_token&&localStorage.setItem("token",w.access_token),await l(),!0}return!1}catch(k){return console.error("Token refresh failed:",k),!1}}};return c.jsx(yi.Provider,{value:S,children:r})}function cC({onData:r}){const{updateChartData:e}=cu(),{user:t}=U.useContext(yi),[n,s]=U.useState(null),[i,a]=U.useState(!1),[l,d]=U.useState(0),[h,f]=U.useState(null),[g,b]=U.useState(!1),m=U.useRef(null),S=R=>{const I=R.target.files[0];I&&(s(I),f(null),b(!1))},k=R=>{R.preventDefault();const I=R.dataTransfer.files[0];I&&(s(I),f(null),b(!1))},w=R=>{R.preventDefault()},_=async()=>{if(!n){f("Please select a file first");return}if(!t){f("You must be signed in to upload files");return}a(!0),d(0),f(null),b(!1);try{const R=new FormData;R.append("file",n);const I=setInterval(()=>{d(te=>te>=90?(clearInterval(I),90):te+10)},200),B=await fetch("/api/upload",{method:"POST",body:R,credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(clearInterval(I),!B.ok){const te=await B.json().catch(()=>({detail:"Upload failed"}));throw new Error(te.detail||"Upload failed")}const Q=await B.json();d(100),b(!0),e({data:Q.data||[],columns:Q.columns||[],types:Q.types||{},summary:Q.summary||{},chartTitle:Q.chart_title||Q.filename||"Uploaded Data",xAxis:Q.x_axis||Q.columns&&Q.columns[0]||"",yAxis:Q.y_axis||Q.columns&&Q.columns[1]||""}),r&&r(Q),setTimeout(()=>{s(null),b(!1),d(0),m.current&&(m.current.value="")},3e3)}catch(R){console.error("Upload error:",R),f(R.message||"Failed to upload file. Please try again."),d(0)}finally{a(!1)}},E=()=>{s(null),f(null),b(!1),d(0),m.current&&(m.current.value="")};return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{onDrop:k,onDragOver:w,className:"border-2 border-dashed border-gray-300 dark:border-slate-600 rounded-xl p-8 text-center hover:border-blue-500 dark:hover:border-blue-400 transition-colors duration-200 cursor-pointer bg-gray-50 dark:bg-slate-900/50",onClick:()=>m.current?.click(),children:[c.jsx(I0,{className:"w-12 h-12 mx-auto text-gray-400 dark:text-slate-500 mb-4"}),c.jsx("p",{className:"text-gray-700 dark:text-slate-300 mb-2 font-medium",children:"Drop your file here or click to browse"}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Supports CSV, Excel (XLSX, XLS)"}),c.jsx("input",{ref:m,type:"file",accept:".csv,.xlsx,.xls",onChange:S,className:"hidden"})]}),n&&c.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Kn,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-800 dark:text-slate-200",children:n.name}),c.jsxs("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:[(n.size/1024).toFixed(2)," KB"]})]})]}),!i&&c.jsx("button",{onClick:E,className:"p-1 hover:bg-blue-100 dark:hover:bg-blue-800 rounded transition-colors",children:c.jsx(lu,{className:"w-4 h-4 text-gray-600 dark:text-slate-400"})})]})}),i&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"w-full bg-gray-200 dark:bg-slate-700 rounded-full h-2 overflow-hidden",children:c.jsx("div",{className:"bg-blue-600 h-full transition-all duration-300 ease-out",style:{width:`${l}%`}})}),c.jsxs("p",{className:"text-sm text-center text-gray-600 dark:text-slate-400",children:["Uploading... ",l,"%"]})]}),g&&c.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4 flex items-center gap-3",children:[c.jsx(j0,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-green-800 dark:text-green-200",children:"Upload Successful!"}),c.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:"Your data is ready for visualization"})]})]}),h&&c.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 flex items-center gap-3",children:[c.jsx(v1,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium text-red-800 dark:text-red-200",children:"Upload Failed"}),c.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:h})]})]}),c.jsx("button",{onClick:_,disabled:!n||i||g,className:"w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors duration-200 font-medium flex items-center justify-center gap-2",children:i?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Uploading..."]}):g?c.jsxs(c.Fragment,{children:[c.jsx(j0,{className:"w-4 h-4"}),"Uploaded Successfully"]}):c.jsxs(c.Fragment,{children:[c.jsx(I0,{className:"w-4 h-4"}),"Upload & Visualize"]})}),!t&&c.jsx("p",{className:"text-sm text-center text-gray-600 dark:text-slate-400",children:"Sign in to upload and visualize your data"})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Oh(r){return r+.5|0}const Dl=(r,e,t)=>Math.max(Math.min(r,t),e);function Xu(r){return Dl(Oh(r*2.55),0,255)}function Ul(r){return Dl(Oh(r*255),0,255)}function Io(r){return Dl(Oh(r/2.55)/100,0,1)}function O2(r){return Dl(Oh(r*100),0,100)}const Fi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Em=[..."0123456789ABCDEF"],dC=r=>Em[r&15],uC=r=>Em[(r&240)>>4]+Em[r&15],Mf=r=>(r&240)>>4===(r&15),hC=r=>Mf(r.r)&&Mf(r.g)&&Mf(r.b)&&Mf(r.a);function fC(r){var e=r.length,t;return r[0]==="#"&&(e===4||e===5?t={r:255&Fi[r[1]]*17,g:255&Fi[r[2]]*17,b:255&Fi[r[3]]*17,a:e===5?Fi[r[4]]*17:255}:(e===7||e===9)&&(t={r:Fi[r[1]]<<4|Fi[r[2]],g:Fi[r[3]]<<4|Fi[r[4]],b:Fi[r[5]]<<4|Fi[r[6]],a:e===9?Fi[r[7]]<<4|Fi[r[8]]:255})),t}const pC=(r,e)=>r<255?e(r):"";function gC(r){var e=hC(r)?dC:uC;return r?"#"+e(r.r)+e(r.g)+e(r.b)+pC(r.a,e):void 0}const mC=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function q5(r,e,t){const n=e*Math.min(t,1-t),s=(i,a=(i+r/30)%12)=>t-n*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function xC(r,e,t){const n=(s,i=(s+r/60)%6)=>t-t*e*Math.max(Math.min(i,4-i,1),0);return[n(5),n(3),n(1)]}function bC(r,e,t){const n=q5(r,1,.5);let s;for(e+t>1&&(s=1/(e+t),e*=s,t*=s),s=0;s<3;s++)n[s]*=1-e-t,n[s]+=e;return n}function yC(r,e,t,n,s){return r===s?(e-t)/n+(e<t?6:0):e===s?(t-r)/n+2:(r-e)/n+4}function j1(r){const t=r.r/255,n=r.g/255,s=r.b/255,i=Math.max(t,n,s),a=Math.min(t,n,s),l=(i+a)/2;let d,h,f;return i!==a&&(f=i-a,h=l>.5?f/(2-i-a):f/(i+a),d=yC(t,n,s,f,i),d=d*60+.5),[d|0,h||0,l]}function P1(r,e,t,n){return(Array.isArray(e)?r(e[0],e[1],e[2]):r(e,t,n)).map(Ul)}function A1(r,e,t){return P1(q5,r,e,t)}function vC(r,e,t){return P1(bC,r,e,t)}function wC(r,e,t){return P1(xC,r,e,t)}function G5(r){return(r%360+360)%360}function kC(r){const e=mC.exec(r);let t=255,n;if(!e)return;e[5]!==n&&(t=e[6]?Xu(+e[5]):Ul(+e[5]));const s=G5(+e[2]),i=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?n=vC(s,i,a):e[1]==="hsv"?n=wC(s,i,a):n=A1(s,i,a),{r:n[0],g:n[1],b:n[2],a:t}}function _C(r,e){var t=j1(r);t[0]=G5(t[0]+e),t=A1(t),r.r=t[0],r.g=t[1],r.b=t[2]}function SC(r){if(!r)return;const e=j1(r),t=e[0],n=O2(e[1]),s=O2(e[2]);return r.a<255?`hsla(${t}, ${n}%, ${s}%, ${Io(r.a)})`:`hsl(${t}, ${n}%, ${s}%)`}const F2={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},B2={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function NC(){const r={},e=Object.keys(B2),t=Object.keys(F2);let n,s,i,a,l;for(n=0;n<e.length;n++){for(a=l=e[n],s=0;s<t.length;s++)i=t[s],l=l.replace(i,F2[i]);i=parseInt(B2[a],16),r[l]=[i>>16&255,i>>8&255,i&255]}return r}let Rf;function CC(r){Rf||(Rf=NC(),Rf.transparent=[0,0,0,0]);const e=Rf[r.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const jC=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function PC(r){const e=jC.exec(r);let t=255,n,s,i;if(e){if(e[7]!==n){const a=+e[7];t=e[8]?Xu(a):Dl(a*255,0,255)}return n=+e[1],s=+e[3],i=+e[5],n=255&(e[2]?Xu(n):Dl(n,0,255)),s=255&(e[4]?Xu(s):Dl(s,0,255)),i=255&(e[6]?Xu(i):Dl(i,0,255)),{r:n,g:s,b:i,a:t}}}function AC(r){return r&&(r.a<255?`rgba(${r.r}, ${r.g}, ${r.b}, ${Io(r.a)})`:`rgb(${r.r}, ${r.g}, ${r.b})`)}const xg=r=>r<=.0031308?r*12.92:Math.pow(r,1/2.4)*1.055-.055,Ed=r=>r<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4);function EC(r,e,t){const n=Ed(Io(r.r)),s=Ed(Io(r.g)),i=Ed(Io(r.b));return{r:Ul(xg(n+t*(Ed(Io(e.r))-n))),g:Ul(xg(s+t*(Ed(Io(e.g))-s))),b:Ul(xg(i+t*(Ed(Io(e.b))-i))),a:r.a+t*(e.a-r.a)}}function Df(r,e,t){if(r){let n=j1(r);n[e]=Math.max(0,Math.min(n[e]+n[e]*t,e===0?360:1)),n=A1(n),r.r=n[0],r.g=n[1],r.b=n[2]}}function Y5(r,e){return r&&Object.assign(e||{},r)}function z2(r){var e={r:0,g:0,b:0,a:255};return Array.isArray(r)?r.length>=3&&(e={r:r[0],g:r[1],b:r[2],a:255},r.length>3&&(e.a=Ul(r[3]))):(e=Y5(r,{r:0,g:0,b:0,a:1}),e.a=Ul(e.a)),e}function LC(r){return r.charAt(0)==="r"?PC(r):kC(r)}class wh{constructor(e){if(e instanceof wh)return e;const t=typeof e;let n;t==="object"?n=z2(e):t==="string"&&(n=fC(e)||CC(e)||LC(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=Y5(this._rgb);return e&&(e.a=Io(e.a)),e}set rgb(e){this._rgb=z2(e)}rgbString(){return this._valid?AC(this._rgb):void 0}hexString(){return this._valid?gC(this._rgb):void 0}hslString(){return this._valid?SC(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,s=e.rgb;let i;const a=t===i?.5:t,l=2*a-1,d=n.a-s.a,h=((l*d===-1?l:(l+d)/(1+l*d))+1)/2;i=1-h,n.r=255&h*n.r+i*s.r+.5,n.g=255&h*n.g+i*s.g+.5,n.b=255&h*n.b+i*s.b+.5,n.a=a*n.a+(1-a)*s.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=EC(this._rgb,e._rgb,t)),this}clone(){return new wh(this.rgb)}alpha(e){return this._rgb.a=Ul(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Oh(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Df(this._rgb,2,e),this}darken(e){return Df(this._rgb,2,-e),this}saturate(e){return Df(this._rgb,1,e),this}desaturate(e){return Df(this._rgb,1,-e),this}rotate(e){return _C(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function jo(){}const IC=(()=>{let r=0;return()=>r++})();function Ut(r){return r==null}function Rr(r){if(Array.isArray&&Array.isArray(r))return!0;const e=Object.prototype.toString.call(r);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Gt(r){return r!==null&&Object.prototype.toString.call(r)==="[object Object]"}function hn(r){return(typeof r=="number"||r instanceof Number)&&isFinite(+r)}function gi(r,e){return hn(r)?r:e}function Ot(r,e){return typeof r>"u"?e:r}const TC=(r,e)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100:+r/e,K5=(r,e)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100*e:+r;function kr(r,e,t){if(r&&typeof r.call=="function")return r.apply(t,e)}function hr(r,e,t,n){let s,i,a;if(Rr(r))for(i=r.length,s=0;s<i;s++)e.call(t,r[s],s);else if(Gt(r))for(a=Object.keys(r),i=a.length,s=0;s<i;s++)e.call(t,r[a[s]],a[s])}function T0(r,e){let t,n,s,i;if(!r||!e||r.length!==e.length)return!1;for(t=0,n=r.length;t<n;++t)if(s=r[t],i=e[t],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function M0(r){if(Rr(r))return r.map(M0);if(Gt(r)){const e=Object.create(null),t=Object.keys(r),n=t.length;let s=0;for(;s<n;++s)e[t[s]]=M0(r[t[s]]);return e}return r}function J5(r){return["__proto__","prototype","constructor"].indexOf(r)===-1}function MC(r,e,t,n){if(!J5(r))return;const s=e[r],i=t[r];Gt(s)&&Gt(i)?Ua(s,i,n):e[r]=M0(i)}function Ua(r,e,t){const n=Rr(e)?e:[e],s=n.length;if(!Gt(r))return r;t=t||{};const i=t.merger||MC;let a;for(let l=0;l<s;++l){if(a=n[l],!Gt(a))continue;const d=Object.keys(a);for(let h=0,f=d.length;h<f;++h)i(d[h],r,a,t)}return r}function sh(r,e){return Ua(r,e,{merger:RC})}function RC(r,e,t){if(!J5(r))return;const n=e[r],s=t[r];Gt(n)&&Gt(s)?sh(n,s):Object.prototype.hasOwnProperty.call(e,r)||(e[r]=M0(s))}const U2={"":r=>r,x:r=>r.x,y:r=>r.y};function DC(r){const e=r.split("."),t=[];let n="";for(const s of e)n+=s,n.endsWith("\\")?n=n.slice(0,-1)+".":(t.push(n),n="");return t}function OC(r){const e=DC(r);return t=>{for(const n of e){if(n==="")break;t=t&&t[n]}return t}}function ql(r,e){return(U2[e]||(U2[e]=OC(e)))(r)}function E1(r){return r.charAt(0).toUpperCase()+r.slice(1)}const kh=r=>typeof r<"u",Gl=r=>typeof r=="function",H2=(r,e)=>{if(r.size!==e.size)return!1;for(const t of r)if(!e.has(t))return!1;return!0};function FC(r){return r.type==="mouseup"||r.type==="click"||r.type==="contextmenu"}const ar=Math.PI,Or=2*ar,BC=Or+ar,R0=Number.POSITIVE_INFINITY,zC=ar/180,vn=ar/2,Pc=ar/4,W2=ar*2/3,Ol=Math.log10,za=Math.sign;function ih(r,e,t){return Math.abs(r-e)<t}function V2(r){const e=Math.round(r);r=ih(r,e,r/1e3)?e:r;const t=Math.pow(10,Math.floor(Ol(r))),n=r/t;return(n<=1?1:n<=2?2:n<=5?5:10)*t}function UC(r){const e=[],t=Math.sqrt(r);let n;for(n=1;n<t;n++)r%n===0&&(e.push(n),e.push(r/n));return t===(t|0)&&e.push(t),e.sort((s,i)=>s-i).pop(),e}function HC(r){return typeof r=="symbol"||typeof r=="object"&&r!==null&&!(Symbol.toPrimitive in r||"toString"in r||"valueOf"in r)}function eu(r){return!HC(r)&&!isNaN(parseFloat(r))&&isFinite(r)}function WC(r,e){const t=Math.round(r);return t-e<=r&&t+e>=r}function X5(r,e,t){let n,s,i;for(n=0,s=r.length;n<s;n++)i=r[n][t],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function la(r){return r*(ar/180)}function L1(r){return r*(180/ar)}function $2(r){if(!hn(r))return;let e=1,t=0;for(;Math.round(r*e)/e!==r;)e*=10,t++;return t}function Z5(r,e){const t=e.x-r.x,n=e.y-r.y,s=Math.sqrt(t*t+n*n);let i=Math.atan2(n,t);return i<-.5*ar&&(i+=Or),{angle:i,distance:s}}function Lm(r,e){return Math.sqrt(Math.pow(e.x-r.x,2)+Math.pow(e.y-r.y,2))}function VC(r,e){return(r-e+BC)%Or-ar}function ps(r){return(r%Or+Or)%Or}function _h(r,e,t,n){const s=ps(r),i=ps(e),a=ps(t),l=ps(i-s),d=ps(a-s),h=ps(s-i),f=ps(s-a);return s===i||s===a||n&&i===a||l>d&&h<f}function Vn(r,e,t){return Math.max(e,Math.min(t,r))}function $C(r){return Vn(r,-32768,32767)}function Mo(r,e,t,n=1e-6){return r>=Math.min(e,t)-n&&r<=Math.max(e,t)+n}function I1(r,e,t){t=t||(a=>r[a]<e);let n=r.length-1,s=0,i;for(;n-s>1;)i=s+n>>1,t(i)?s=i:n=i;return{lo:s,hi:n}}const Ro=(r,e,t,n)=>I1(r,t,n?s=>{const i=r[s][e];return i<t||i===t&&r[s+1][e]===t}:s=>r[s][e]<t),qC=(r,e,t)=>I1(r,t,n=>r[n][e]>=t);function GC(r,e,t){let n=0,s=r.length;for(;n<s&&r[n]<e;)n++;for(;s>n&&r[s-1]>t;)s--;return n>0||s<r.length?r.slice(n,s):r}const Q5=["push","pop","shift","splice","unshift"];function YC(r,e){if(r._chartjs){r._chartjs.listeners.push(e);return}Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Q5.forEach(t=>{const n="_onData"+E1(t),s=r[t];Object.defineProperty(r,t,{configurable:!0,enumerable:!1,value(...i){const a=s.apply(this,i);return r._chartjs.listeners.forEach(l=>{typeof l[n]=="function"&&l[n](...i)}),a}})})}function q2(r,e){const t=r._chartjs;if(!t)return;const n=t.listeners,s=n.indexOf(e);s!==-1&&n.splice(s,1),!(n.length>0)&&(Q5.forEach(i=>{delete r[i]}),delete r._chartjs)}function ew(r){const e=new Set(r);return e.size===r.length?r:Array.from(e)}const tw=(function(){return typeof window>"u"?function(r){return r()}:window.requestAnimationFrame})();function rw(r,e){let t=[],n=!1;return function(...s){t=s,n||(n=!0,tw.call(window,()=>{n=!1,r.apply(e,t)}))}}function KC(r,e){let t;return function(...n){return e?(clearTimeout(t),t=setTimeout(r,e,n)):r.apply(this,n),e}}const T1=r=>r==="start"?"left":r==="end"?"right":"center",fs=(r,e,t)=>r==="start"?e:r==="end"?t:(e+t)/2,JC=(r,e,t,n)=>r===(n?"left":"right")?t:r==="center"?(e+t)/2:e;function nw(r,e,t){const n=e.length;let s=0,i=n;if(r._sorted){const{iScale:a,vScale:l,_parsed:d}=r,h=r.dataset&&r.dataset.options?r.dataset.options.spanGaps:null,f=a.axis,{min:g,max:b,minDefined:m,maxDefined:S}=a.getUserBounds();if(m){if(s=Math.min(Ro(d,f,g).lo,t?n:Ro(e,f,a.getPixelForValue(g)).lo),h){const k=d.slice(0,s+1).reverse().findIndex(w=>!Ut(w[l.axis]));s-=Math.max(0,k)}s=Vn(s,0,n-1)}if(S){let k=Math.max(Ro(d,a.axis,b,!0).hi+1,t?0:Ro(e,f,a.getPixelForValue(b),!0).hi+1);if(h){const w=d.slice(k-1).findIndex(_=>!Ut(_[l.axis]));k+=Math.max(0,w)}i=Vn(k,s,n)-s}else i=n-s}return{start:s,count:i}}function sw(r){const{xScale:e,yScale:t,_scaleRanges:n}=r,s={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!n)return r._scaleRanges=s,!0;const i=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==t.min||n.ymax!==t.max;return Object.assign(n,s),i}const Of=r=>r===0||r===1,G2=(r,e,t)=>-(Math.pow(2,10*(r-=1))*Math.sin((r-e)*Or/t)),Y2=(r,e,t)=>Math.pow(2,-10*r)*Math.sin((r-e)*Or/t)+1,ah={linear:r=>r,easeInQuad:r=>r*r,easeOutQuad:r=>-r*(r-2),easeInOutQuad:r=>(r/=.5)<1?.5*r*r:-.5*(--r*(r-2)-1),easeInCubic:r=>r*r*r,easeOutCubic:r=>(r-=1)*r*r+1,easeInOutCubic:r=>(r/=.5)<1?.5*r*r*r:.5*((r-=2)*r*r+2),easeInQuart:r=>r*r*r*r,easeOutQuart:r=>-((r-=1)*r*r*r-1),easeInOutQuart:r=>(r/=.5)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2),easeInQuint:r=>r*r*r*r*r,easeOutQuint:r=>(r-=1)*r*r*r*r+1,easeInOutQuint:r=>(r/=.5)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2),easeInSine:r=>-Math.cos(r*vn)+1,easeOutSine:r=>Math.sin(r*vn),easeInOutSine:r=>-.5*(Math.cos(ar*r)-1),easeInExpo:r=>r===0?0:Math.pow(2,10*(r-1)),easeOutExpo:r=>r===1?1:-Math.pow(2,-10*r)+1,easeInOutExpo:r=>Of(r)?r:r<.5?.5*Math.pow(2,10*(r*2-1)):.5*(-Math.pow(2,-10*(r*2-1))+2),easeInCirc:r=>r>=1?r:-(Math.sqrt(1-r*r)-1),easeOutCirc:r=>Math.sqrt(1-(r-=1)*r),easeInOutCirc:r=>(r/=.5)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1),easeInElastic:r=>Of(r)?r:G2(r,.075,.3),easeOutElastic:r=>Of(r)?r:Y2(r,.075,.3),easeInOutElastic(r){return Of(r)?r:r<.5?.5*G2(r*2,.1125,.45):.5+.5*Y2(r*2-1,.1125,.45)},easeInBack(r){return r*r*((1.70158+1)*r-1.70158)},easeOutBack(r){return(r-=1)*r*((1.70158+1)*r+1.70158)+1},easeInOutBack(r){let e=1.70158;return(r/=.5)<1?.5*(r*r*(((e*=1.525)+1)*r-e)):.5*((r-=2)*r*(((e*=1.525)+1)*r+e)+2)},easeInBounce:r=>1-ah.easeOutBounce(1-r),easeOutBounce(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},easeInOutBounce:r=>r<.5?ah.easeInBounce(r*2)*.5:ah.easeOutBounce(r*2-1)*.5+.5};function M1(r){if(r&&typeof r=="object"){const e=r.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function K2(r){return M1(r)?r:new wh(r)}function bg(r){return M1(r)?r:new wh(r).saturate(.5).darken(.1).hexString()}const XC=["x","y","borderWidth","radius","tension"],ZC=["color","borderColor","backgroundColor"];function QC(r){r.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),r.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),r.set("animations",{colors:{type:"color",properties:ZC},numbers:{type:"number",properties:XC}}),r.describe("animations",{_fallback:"animation"}),r.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function ej(r){r.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const J2=new Map;function tj(r,e){e=e||{};const t=r+JSON.stringify(e);let n=J2.get(t);return n||(n=new Intl.NumberFormat(r,e),J2.set(t,n)),n}function Fh(r,e,t){return tj(e,t).format(r)}const iw={values(r){return Rr(r)?r:""+r},numeric(r,e,t){if(r===0)return"0";const n=this.chart.options.locale;let s,i=r;if(t.length>1){const h=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(h<1e-4||h>1e15)&&(s="scientific"),i=rj(r,t)}const a=Ol(Math.abs(i)),l=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),d={notation:s,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(d,this.options.ticks.format),Fh(r,n,d)},logarithmic(r,e,t){if(r===0)return"0";const n=t[e].significand||r/Math.pow(10,Math.floor(Ol(r)));return[1,2,3,5,10,15].includes(n)||e>.8*t.length?iw.numeric.call(this,r,e,t):""}};function rj(r,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&r!==Math.floor(r)&&(t=r-Math.floor(r)),t}var ip={formatters:iw};function nj(r){r.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ip.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),r.route("scale.ticks","color","","color"),r.route("scale.grid","color","","borderColor"),r.route("scale.border","color","","borderColor"),r.route("scale.title","color","","color"),r.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),r.describe("scales",{_fallback:"scale"}),r.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Hc=Object.create(null),Im=Object.create(null);function oh(r,e){if(!e)return r;const t=e.split(".");for(let n=0,s=t.length;n<s;++n){const i=t[n];r=r[i]||(r[i]=Object.create(null))}return r}function yg(r,e,t){return typeof e=="string"?Ua(oh(r,e),t):Ua(oh(r,""),e)}class sj{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,s)=>bg(s.backgroundColor),this.hoverBorderColor=(n,s)=>bg(s.borderColor),this.hoverColor=(n,s)=>bg(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return yg(this,e,t)}get(e){return oh(this,e)}describe(e,t){return yg(Im,e,t)}override(e,t){return yg(Hc,e,t)}route(e,t,n,s){const i=oh(this,e),a=oh(this,n),l="_"+t;Object.defineProperties(i,{[l]:{value:i[t],writable:!0},[t]:{enumerable:!0,get(){const d=this[l],h=a[s];return Gt(d)?Object.assign({},h,d):Ot(d,h)},set(d){this[l]=d}}})}apply(e){e.forEach(t=>t(this))}}var Fr=new sj({_scriptable:r=>!r.startsWith("on"),_indexable:r=>r!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[QC,ej,nj]);function ij(r){return!r||Ut(r.size)||Ut(r.family)?null:(r.style?r.style+" ":"")+(r.weight?r.weight+" ":"")+r.size+"px "+r.family}function D0(r,e,t,n,s){let i=e[s];return i||(i=e[s]=r.measureText(s).width,t.push(s)),i>n&&(n=i),n}function aj(r,e,t,n){n=n||{};let s=n.data=n.data||{},i=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(s=n.data={},i=n.garbageCollect=[],n.font=e),r.save(),r.font=e;let a=0;const l=t.length;let d,h,f,g,b;for(d=0;d<l;d++)if(g=t[d],g!=null&&!Rr(g))a=D0(r,s,i,a,g);else if(Rr(g))for(h=0,f=g.length;h<f;h++)b=g[h],b!=null&&!Rr(b)&&(a=D0(r,s,i,a,b));r.restore();const m=i.length/2;if(m>t.length){for(d=0;d<m;d++)delete s[i[d]];i.splice(0,m)}return a}function Ac(r,e,t){const n=r.currentDevicePixelRatio,s=t!==0?Math.max(t/2,.5):0;return Math.round((e-s)*n)/n+s}function X2(r,e){!e&&!r||(e=e||r.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,r.width,r.height),e.restore())}function Tm(r,e,t,n){aw(r,e,t,n,null)}function aw(r,e,t,n,s){let i,a,l,d,h,f,g,b;const m=e.pointStyle,S=e.rotation,k=e.radius;let w=(S||0)*zC;if(m&&typeof m=="object"&&(i=m.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){r.save(),r.translate(t,n),r.rotate(w),r.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),r.restore();return}if(!(isNaN(k)||k<=0)){switch(r.beginPath(),m){default:s?r.ellipse(t,n,s/2,k,0,0,Or):r.arc(t,n,k,0,Or),r.closePath();break;case"triangle":f=s?s/2:k,r.moveTo(t+Math.sin(w)*f,n-Math.cos(w)*k),w+=W2,r.lineTo(t+Math.sin(w)*f,n-Math.cos(w)*k),w+=W2,r.lineTo(t+Math.sin(w)*f,n-Math.cos(w)*k),r.closePath();break;case"rectRounded":h=k*.516,d=k-h,a=Math.cos(w+Pc)*d,g=Math.cos(w+Pc)*(s?s/2-h:d),l=Math.sin(w+Pc)*d,b=Math.sin(w+Pc)*(s?s/2-h:d),r.arc(t-g,n-l,h,w-ar,w-vn),r.arc(t+b,n-a,h,w-vn,w),r.arc(t+g,n+l,h,w,w+vn),r.arc(t-b,n+a,h,w+vn,w+ar),r.closePath();break;case"rect":if(!S){d=Math.SQRT1_2*k,f=s?s/2:d,r.rect(t-f,n-d,2*f,2*d);break}w+=Pc;case"rectRot":g=Math.cos(w)*(s?s/2:k),a=Math.cos(w)*k,l=Math.sin(w)*k,b=Math.sin(w)*(s?s/2:k),r.moveTo(t-g,n-l),r.lineTo(t+b,n-a),r.lineTo(t+g,n+l),r.lineTo(t-b,n+a),r.closePath();break;case"crossRot":w+=Pc;case"cross":g=Math.cos(w)*(s?s/2:k),a=Math.cos(w)*k,l=Math.sin(w)*k,b=Math.sin(w)*(s?s/2:k),r.moveTo(t-g,n-l),r.lineTo(t+g,n+l),r.moveTo(t+b,n-a),r.lineTo(t-b,n+a);break;case"star":g=Math.cos(w)*(s?s/2:k),a=Math.cos(w)*k,l=Math.sin(w)*k,b=Math.sin(w)*(s?s/2:k),r.moveTo(t-g,n-l),r.lineTo(t+g,n+l),r.moveTo(t+b,n-a),r.lineTo(t-b,n+a),w+=Pc,g=Math.cos(w)*(s?s/2:k),a=Math.cos(w)*k,l=Math.sin(w)*k,b=Math.sin(w)*(s?s/2:k),r.moveTo(t-g,n-l),r.lineTo(t+g,n+l),r.moveTo(t+b,n-a),r.lineTo(t-b,n+a);break;case"line":a=s?s/2:Math.cos(w)*k,l=Math.sin(w)*k,r.moveTo(t-a,n-l),r.lineTo(t+a,n+l);break;case"dash":r.moveTo(t,n),r.lineTo(t+Math.cos(w)*(s?s/2:k),n+Math.sin(w)*k);break;case!1:r.closePath();break}r.fill(),e.borderWidth>0&&r.stroke()}}function Do(r,e,t){return t=t||.5,!e||r&&r.x>e.left-t&&r.x<e.right+t&&r.y>e.top-t&&r.y<e.bottom+t}function ap(r,e){r.save(),r.beginPath(),r.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),r.clip()}function op(r){r.restore()}function oj(r,e,t,n,s){if(!e)return r.lineTo(t.x,t.y);if(s==="middle"){const i=(e.x+t.x)/2;r.lineTo(i,e.y),r.lineTo(i,t.y)}else s==="after"!=!!n?r.lineTo(e.x,t.y):r.lineTo(t.x,e.y);r.lineTo(t.x,t.y)}function lj(r,e,t,n){if(!e)return r.lineTo(t.x,t.y);r.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?t.cp2x:t.cp1x,n?t.cp2y:t.cp1y,t.x,t.y)}function cj(r,e){e.translation&&r.translate(e.translation[0],e.translation[1]),Ut(e.rotation)||r.rotate(e.rotation),e.color&&(r.fillStyle=e.color),e.textAlign&&(r.textAlign=e.textAlign),e.textBaseline&&(r.textBaseline=e.textBaseline)}function dj(r,e,t,n,s){if(s.strikethrough||s.underline){const i=r.measureText(n),a=e-i.actualBoundingBoxLeft,l=e+i.actualBoundingBoxRight,d=t-i.actualBoundingBoxAscent,h=t+i.actualBoundingBoxDescent,f=s.strikethrough?(d+h)/2:h;r.strokeStyle=r.fillStyle,r.beginPath(),r.lineWidth=s.decorationWidth||2,r.moveTo(a,f),r.lineTo(l,f),r.stroke()}}function uj(r,e){const t=r.fillStyle;r.fillStyle=e.color,r.fillRect(e.left,e.top,e.width,e.height),r.fillStyle=t}function Wc(r,e,t,n,s,i={}){const a=Rr(e)?e:[e],l=i.strokeWidth>0&&i.strokeColor!=="";let d,h;for(r.save(),r.font=s.string,cj(r,i),d=0;d<a.length;++d)h=a[d],i.backdrop&&uj(r,i.backdrop),l&&(i.strokeColor&&(r.strokeStyle=i.strokeColor),Ut(i.strokeWidth)||(r.lineWidth=i.strokeWidth),r.strokeText(h,t,n,i.maxWidth)),r.fillText(h,t,n,i.maxWidth),dj(r,t,n,h,i),n+=Number(s.lineHeight);r.restore()}function Sh(r,e){const{x:t,y:n,w:s,h:i,radius:a}=e;r.arc(t+a.topLeft,n+a.topLeft,a.topLeft,1.5*ar,ar,!0),r.lineTo(t,n+i-a.bottomLeft),r.arc(t+a.bottomLeft,n+i-a.bottomLeft,a.bottomLeft,ar,vn,!0),r.lineTo(t+s-a.bottomRight,n+i),r.arc(t+s-a.bottomRight,n+i-a.bottomRight,a.bottomRight,vn,0,!0),r.lineTo(t+s,n+a.topRight),r.arc(t+s-a.topRight,n+a.topRight,a.topRight,0,-vn,!0),r.lineTo(t+a.topLeft,n)}const hj=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,fj=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function pj(r,e){const t=(""+r).match(hj);if(!t||t[1]==="normal")return e*1.2;switch(r=+t[2],t[3]){case"px":return r;case"%":r/=100;break}return e*r}const gj=r=>+r||0;function R1(r,e){const t={},n=Gt(e),s=n?Object.keys(e):e,i=Gt(r)?n?a=>Ot(r[a],r[e[a]]):a=>r[a]:()=>r;for(const a of s)t[a]=gj(i(a));return t}function ow(r){return R1(r,{top:"y",right:"x",bottom:"y",left:"x"})}function Fc(r){return R1(r,["topLeft","topRight","bottomLeft","bottomRight"])}function Jn(r){const e=ow(r);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Cn(r,e){r=r||{},e=e||Fr.font;let t=Ot(r.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let n=Ot(r.style,e.style);n&&!(""+n).match(fj)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const s={family:Ot(r.family,e.family),lineHeight:pj(Ot(r.lineHeight,e.lineHeight),t),size:t,style:n,weight:Ot(r.weight,e.weight),string:""};return s.string=ij(s),s}function Mr(r,e,t,n){let s,i,a;for(s=0,i=r.length;s<i;++s)if(a=r[s],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e)),t!==void 0&&Rr(a)&&(a=a[t%a.length]),a!==void 0))return a}function mj(r,e,t){const{min:n,max:s}=r,i=K5(e,(s-n)/2),a=(l,d)=>t&&l===0?0:l+d;return{min:a(n,-Math.abs(i)),max:a(s,i)}}function Jl(r,e){return Object.assign(Object.create(r),e)}function D1(r,e=[""],t,n,s=()=>r[0]){const i=t||r;typeof n>"u"&&(n=uw("_fallback",r));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:r,_rootScopes:i,_fallback:n,_getTarget:s,override:l=>D1([l,...r],e,i,n)};return new Proxy(a,{deleteProperty(l,d){return delete l[d],delete l._keys,delete r[0][d],!0},get(l,d){return cw(l,d,()=>Sj(d,e,r,l))},getOwnPropertyDescriptor(l,d){return Reflect.getOwnPropertyDescriptor(l._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(r[0])},has(l,d){return Q2(l).includes(d)},ownKeys(l){return Q2(l)},set(l,d,h){const f=l._storage||(l._storage=s());return l[d]=f[d]=h,delete l._keys,!0}})}function tu(r,e,t,n){const s={_cacheable:!1,_proxy:r,_context:e,_subProxy:t,_stack:new Set,_descriptors:lw(r,n),setContext:i=>tu(r,i,t,n),override:i=>tu(r.override(i),e,t,n)};return new Proxy(s,{deleteProperty(i,a){return delete i[a],delete r[a],!0},get(i,a,l){return cw(i,a,()=>bj(i,a,l))},getOwnPropertyDescriptor(i,a){return i._descriptors.allKeys?Reflect.has(r,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(r,a)},getPrototypeOf(){return Reflect.getPrototypeOf(r)},has(i,a){return Reflect.has(r,a)},ownKeys(){return Reflect.ownKeys(r)},set(i,a,l){return r[a]=l,delete i[a],!0}})}function lw(r,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:n=e.indexable,_allKeys:s=e.allKeys}=r;return{allKeys:s,scriptable:t,indexable:n,isScriptable:Gl(t)?t:()=>t,isIndexable:Gl(n)?n:()=>n}}const xj=(r,e)=>r?r+E1(e):e,O1=(r,e)=>Gt(e)&&r!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function cw(r,e,t){if(Object.prototype.hasOwnProperty.call(r,e)||e==="constructor")return r[e];const n=t();return r[e]=n,n}function bj(r,e,t){const{_proxy:n,_context:s,_subProxy:i,_descriptors:a}=r;let l=n[e];return Gl(l)&&a.isScriptable(e)&&(l=yj(e,l,r,t)),Rr(l)&&l.length&&(l=vj(e,l,r,a.isIndexable)),O1(e,l)&&(l=tu(l,s,i&&i[e],a)),l}function yj(r,e,t,n){const{_proxy:s,_context:i,_subProxy:a,_stack:l}=t;if(l.has(r))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+r);l.add(r);let d=e(i,a||n);return l.delete(r),O1(r,d)&&(d=F1(s._scopes,s,r,d)),d}function vj(r,e,t,n){const{_proxy:s,_context:i,_subProxy:a,_descriptors:l}=t;if(typeof i.index<"u"&&n(r))return e[i.index%e.length];if(Gt(e[0])){const d=e,h=s._scopes.filter(f=>f!==d);e=[];for(const f of d){const g=F1(h,s,r,f);e.push(tu(g,i,a&&a[r],l))}}return e}function dw(r,e,t){return Gl(r)?r(e,t):r}const wj=(r,e)=>r===!0?e:typeof r=="string"?ql(e,r):void 0;function kj(r,e,t,n,s){for(const i of e){const a=wj(t,i);if(a){r.add(a);const l=dw(a._fallback,t,s);if(typeof l<"u"&&l!==t&&l!==n)return l}else if(a===!1&&typeof n<"u"&&t!==n)return null}return!1}function F1(r,e,t,n){const s=e._rootScopes,i=dw(e._fallback,t,n),a=[...r,...s],l=new Set;l.add(n);let d=Z2(l,a,t,i||t,n);return d===null||typeof i<"u"&&i!==t&&(d=Z2(l,a,i,d,n),d===null)?!1:D1(Array.from(l),[""],s,i,()=>_j(e,t,n))}function Z2(r,e,t,n,s){for(;t;)t=kj(r,e,t,n,s);return t}function _j(r,e,t){const n=r._getTarget();e in n||(n[e]={});const s=n[e];return Rr(s)&&Gt(t)?t:s||{}}function Sj(r,e,t,n){let s;for(const i of e)if(s=uw(xj(i,r),t),typeof s<"u")return O1(r,s)?F1(t,n,r,s):s}function uw(r,e){for(const t of e){if(!t)continue;const n=t[r];if(typeof n<"u")return n}}function Q2(r){let e=r._keys;return e||(e=r._keys=Nj(r._scopes)),e}function Nj(r){const e=new Set;for(const t of r)for(const n of Object.keys(t).filter(s=>!s.startsWith("_")))e.add(n);return Array.from(e)}function hw(r,e,t,n){const{iScale:s}=r,{key:i="r"}=this._parsing,a=new Array(n);let l,d,h,f;for(l=0,d=n;l<d;++l)h=l+t,f=e[h],a[l]={r:s.parse(ql(f,i),h)};return a}const Cj=Number.EPSILON||1e-14,ru=(r,e)=>e<r.length&&!r[e].skip&&r[e],fw=r=>r==="x"?"y":"x";function jj(r,e,t,n){const s=r.skip?e:r,i=e,a=t.skip?e:t,l=Lm(i,s),d=Lm(a,i);let h=l/(l+d),f=d/(l+d);h=isNaN(h)?0:h,f=isNaN(f)?0:f;const g=n*h,b=n*f;return{previous:{x:i.x-g*(a.x-s.x),y:i.y-g*(a.y-s.y)},next:{x:i.x+b*(a.x-s.x),y:i.y+b*(a.y-s.y)}}}function Pj(r,e,t){const n=r.length;let s,i,a,l,d,h=ru(r,0);for(let f=0;f<n-1;++f)if(d=h,h=ru(r,f+1),!(!d||!h)){if(ih(e[f],0,Cj)){t[f]=t[f+1]=0;continue}s=t[f]/e[f],i=t[f+1]/e[f],l=Math.pow(s,2)+Math.pow(i,2),!(l<=9)&&(a=3/Math.sqrt(l),t[f]=s*a*e[f],t[f+1]=i*a*e[f])}}function Aj(r,e,t="x"){const n=fw(t),s=r.length;let i,a,l,d=ru(r,0);for(let h=0;h<s;++h){if(a=l,l=d,d=ru(r,h+1),!l)continue;const f=l[t],g=l[n];a&&(i=(f-a[t])/3,l[`cp1${t}`]=f-i,l[`cp1${n}`]=g-i*e[h]),d&&(i=(d[t]-f)/3,l[`cp2${t}`]=f+i,l[`cp2${n}`]=g+i*e[h])}}function Ej(r,e="x"){const t=fw(e),n=r.length,s=Array(n).fill(0),i=Array(n);let a,l,d,h=ru(r,0);for(a=0;a<n;++a)if(l=d,d=h,h=ru(r,a+1),!!d){if(h){const f=h[e]-d[e];s[a]=f!==0?(h[t]-d[t])/f:0}i[a]=l?h?za(s[a-1])!==za(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}Pj(r,s,i),Aj(r,i,e)}function Ff(r,e,t){return Math.max(Math.min(r,t),e)}function Lj(r,e){let t,n,s,i,a,l=Do(r[0],e);for(t=0,n=r.length;t<n;++t)a=i,i=l,l=t<n-1&&Do(r[t+1],e),i&&(s=r[t],a&&(s.cp1x=Ff(s.cp1x,e.left,e.right),s.cp1y=Ff(s.cp1y,e.top,e.bottom)),l&&(s.cp2x=Ff(s.cp2x,e.left,e.right),s.cp2y=Ff(s.cp2y,e.top,e.bottom)))}function Ij(r,e,t,n,s){let i,a,l,d;if(e.spanGaps&&(r=r.filter(h=>!h.skip)),e.cubicInterpolationMode==="monotone")Ej(r,s);else{let h=n?r[r.length-1]:r[0];for(i=0,a=r.length;i<a;++i)l=r[i],d=jj(h,l,r[Math.min(i+1,a-(n?0:1))%a],e.tension),l.cp1x=d.previous.x,l.cp1y=d.previous.y,l.cp2x=d.next.x,l.cp2y=d.next.y,h=l}e.capBezierPoints&&Lj(r,t)}function B1(){return typeof window<"u"&&typeof document<"u"}function z1(r){let e=r.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function O0(r,e,t){let n;return typeof r=="string"?(n=parseInt(r,10),r.indexOf("%")!==-1&&(n=n/100*e.parentNode[t])):n=r,n}const lp=r=>r.ownerDocument.defaultView.getComputedStyle(r,null);function Tj(r,e){return lp(r).getPropertyValue(e)}const Mj=["top","right","bottom","left"];function Bc(r,e,t){const n={};t=t?"-"+t:"";for(let s=0;s<4;s++){const i=Mj[s];n[i]=parseFloat(r[e+"-"+i+t])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const Rj=(r,e,t)=>(r>0||e>0)&&(!t||!t.shadowRoot);function Dj(r,e){const t=r.touches,n=t&&t.length?t[0]:r,{offsetX:s,offsetY:i}=n;let a=!1,l,d;if(Rj(s,i,r.target))l=s,d=i;else{const h=e.getBoundingClientRect();l=n.clientX-h.left,d=n.clientY-h.top,a=!0}return{x:l,y:d,box:a}}function Ic(r,e){if("native"in r)return r;const{canvas:t,currentDevicePixelRatio:n}=e,s=lp(t),i=s.boxSizing==="border-box",a=Bc(s,"padding"),l=Bc(s,"border","width"),{x:d,y:h,box:f}=Dj(r,t),g=a.left+(f&&l.left),b=a.top+(f&&l.top);let{width:m,height:S}=e;return i&&(m-=a.width+l.width,S-=a.height+l.height),{x:Math.round((d-g)/m*t.width/n),y:Math.round((h-b)/S*t.height/n)}}function Oj(r,e,t){let n,s;if(e===void 0||t===void 0){const i=r&&z1(r);if(!i)e=r.clientWidth,t=r.clientHeight;else{const a=i.getBoundingClientRect(),l=lp(i),d=Bc(l,"border","width"),h=Bc(l,"padding");e=a.width-h.width-d.width,t=a.height-h.height-d.height,n=O0(l.maxWidth,i,"clientWidth"),s=O0(l.maxHeight,i,"clientHeight")}}return{width:e,height:t,maxWidth:n||R0,maxHeight:s||R0}}const Fl=r=>Math.round(r*10)/10;function Fj(r,e,t,n){const s=lp(r),i=Bc(s,"margin"),a=O0(s.maxWidth,r,"clientWidth")||R0,l=O0(s.maxHeight,r,"clientHeight")||R0,d=Oj(r,e,t);let{width:h,height:f}=d;if(s.boxSizing==="content-box"){const b=Bc(s,"border","width"),m=Bc(s,"padding");h-=m.width+b.width,f-=m.height+b.height}return h=Math.max(0,h-i.width),f=Math.max(0,n?h/n:f-i.height),h=Fl(Math.min(h,a,d.maxWidth)),f=Fl(Math.min(f,l,d.maxHeight)),h&&!f&&(f=Fl(h/2)),(e!==void 0||t!==void 0)&&n&&d.height&&f>d.height&&(f=d.height,h=Fl(Math.floor(f*n))),{width:h,height:f}}function eb(r,e,t){const n=e||1,s=Fl(r.height*n),i=Fl(r.width*n);r.height=Fl(r.height),r.width=Fl(r.width);const a=r.canvas;return a.style&&(t||!a.style.height&&!a.style.width)&&(a.style.height=`${r.height}px`,a.style.width=`${r.width}px`),r.currentDevicePixelRatio!==n||a.height!==s||a.width!==i?(r.currentDevicePixelRatio=n,a.height=s,a.width=i,r.ctx.setTransform(n,0,0,n,0,0),!0):!1}const Bj=(function(){let r=!1;try{const e={get passive(){return r=!0,!1}};B1()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return r})();function tb(r,e){const t=Tj(r,e),n=t&&t.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Tc(r,e,t,n){return{x:r.x+t*(e.x-r.x),y:r.y+t*(e.y-r.y)}}function zj(r,e,t,n){return{x:r.x+t*(e.x-r.x),y:n==="middle"?t<.5?r.y:e.y:n==="after"?t<1?r.y:e.y:t>0?e.y:r.y}}function Uj(r,e,t,n){const s={x:r.cp2x,y:r.cp2y},i={x:e.cp1x,y:e.cp1y},a=Tc(r,s,t),l=Tc(s,i,t),d=Tc(i,e,t),h=Tc(a,l,t),f=Tc(l,d,t);return Tc(h,f,t)}const Hj=function(r,e){return{x(t){return r+r+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,n){return t-n},leftForLtr(t,n){return t-n}}},Wj=function(){return{x(r){return r},setWidth(r){},textAlign(r){return r},xPlus(r,e){return r+e},leftForLtr(r,e){return r}}};function Wd(r,e,t){return r?Hj(e,t):Wj()}function pw(r,e){let t,n;(e==="ltr"||e==="rtl")&&(t=r.canvas.style,n=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),r.prevTextDirection=n)}function gw(r,e){e!==void 0&&(delete r.prevTextDirection,r.canvas.style.setProperty("direction",e[0],e[1]))}function mw(r){return r==="angle"?{between:_h,compare:VC,normalize:ps}:{between:Mo,compare:(e,t)=>e-t,normalize:e=>e}}function rb({start:r,end:e,count:t,loop:n,style:s}){return{start:r%t,end:e%t,loop:n&&(e-r+1)%t===0,style:s}}function Vj(r,e,t){const{property:n,start:s,end:i}=t,{between:a,normalize:l}=mw(n),d=e.length;let{start:h,end:f,loop:g}=r,b,m;if(g){for(h+=d,f+=d,b=0,m=d;b<m&&a(l(e[h%d][n]),s,i);++b)h--,f--;h%=d,f%=d}return f<h&&(f+=d),{start:h,end:f,loop:g,style:r.style}}function xw(r,e,t){if(!t)return[r];const{property:n,start:s,end:i}=t,a=e.length,{compare:l,between:d,normalize:h}=mw(n),{start:f,end:g,loop:b,style:m}=Vj(r,e,t),S=[];let k=!1,w=null,_,E,R;const I=()=>d(s,R,_)&&l(s,R)!==0,B=()=>l(i,_)===0||d(i,R,_),Q=()=>k||I(),te=()=>!k||B();for(let $=f,M=f;$<=g;++$)E=e[$%a],!E.skip&&(_=h(E[n]),_!==R&&(k=d(_,s,i),w===null&&Q()&&(w=l(_,s)===0?$:M),w!==null&&te()&&(S.push(rb({start:w,end:$,loop:b,count:a,style:m})),w=null),M=$,R=_));return w!==null&&S.push(rb({start:w,end:g,loop:b,count:a,style:m})),S}function bw(r,e){const t=[],n=r.segments;for(let s=0;s<n.length;s++){const i=xw(n[s],r.points,e);i.length&&t.push(...i)}return t}function $j(r,e,t,n){let s=0,i=e-1;if(t&&!n)for(;s<e&&!r[s].skip;)s++;for(;s<e&&r[s].skip;)s++;for(s%=e,t&&(i+=s);i>s&&r[i%e].skip;)i--;return i%=e,{start:s,end:i}}function qj(r,e,t,n){const s=r.length,i=[];let a=e,l=r[e],d;for(d=e+1;d<=t;++d){const h=r[d%s];h.skip||h.stop?l.skip||(n=!1,i.push({start:e%s,end:(d-1)%s,loop:n}),e=a=h.stop?d:null):(a=d,l.skip&&(e=d)),l=h}return a!==null&&i.push({start:e%s,end:a%s,loop:n}),i}function Gj(r,e){const t=r.points,n=r.options.spanGaps,s=t.length;if(!s)return[];const i=!!r._loop,{start:a,end:l}=$j(t,s,i,n);if(n===!0)return nb(r,[{start:a,end:l,loop:i}],t,e);const d=l<a?l+s:l,h=!!r._fullLoop&&a===0&&l===s-1;return nb(r,qj(t,a,d,h),t,e)}function nb(r,e,t,n){return!n||!n.setContext||!t?e:Yj(r,e,t,n)}function Yj(r,e,t,n){const s=r._chart.getContext(),i=sb(r.options),{_datasetIndex:a,options:{spanGaps:l}}=r,d=t.length,h=[];let f=i,g=e[0].start,b=g;function m(S,k,w,_){const E=l?-1:1;if(S!==k){for(S+=d;t[S%d].skip;)S-=E;for(;t[k%d].skip;)k+=E;S%d!==k%d&&(h.push({start:S%d,end:k%d,loop:w,style:_}),f=_,g=k%d)}}for(const S of e){g=l?g:S.start;let k=t[g%d],w;for(b=g+1;b<=S.end;b++){const _=t[b%d];w=sb(n.setContext(Jl(s,{type:"segment",p0:k,p1:_,p0DataIndex:(b-1)%d,p1DataIndex:b%d,datasetIndex:a}))),Kj(w,f)&&m(g,b-1,S.loop,f),k=_,f=w}g<b-1&&m(g,b-1,S.loop,f)}return h}function sb(r){return{backgroundColor:r.backgroundColor,borderCapStyle:r.borderCapStyle,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderJoinStyle:r.borderJoinStyle,borderWidth:r.borderWidth,borderColor:r.borderColor}}function Kj(r,e){if(!e)return!1;const t=[],n=function(s,i){return M1(i)?(t.includes(i)||t.push(i),t.indexOf(i)):i};return JSON.stringify(r,n)!==JSON.stringify(e,n)}function Bf(r,e,t){return r.options.clip?r[t]:e[t]}function Jj(r,e){const{xScale:t,yScale:n}=r;return t&&n?{left:Bf(t,e,"left"),right:Bf(t,e,"right"),top:Bf(n,e,"top"),bottom:Bf(n,e,"bottom")}:e}function yw(r,e){const t=e._clip;if(t.disabled)return!1;const n=Jj(e,r.chartArea);return{left:t.left===!1?0:n.left-(t.left===!0?0:t.left),right:t.right===!1?r.width:n.right+(t.right===!0?0:t.right),top:t.top===!1?0:n.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?r.height:n.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Xj{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,s){const i=t.listeners[s],a=t.duration;i.forEach(l=>l({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(n-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=tw.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((n,s)=>{if(!n.running||!n.items.length)return;const i=n.items;let a=i.length-1,l=!1,d;for(;a>=0;--a)d=i[a],d._active?(d._total>n.duration&&(n.duration=d._total),d.tick(e),l=!0):(i[a]=i[i.length-1],i.pop());l&&(s.draw(),this._notify(s,n,e,"progress")),i.length||(n.running=!1,this._notify(s,n,e,"complete"),n.initial=!1),t+=i.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((n,s)=>Math.max(n,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let s=n.length-1;for(;s>=0;--s)n[s].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Eo=new Xj;const ib="transparent",Zj={boolean(r,e,t){return t>.5?e:r},color(r,e,t){const n=K2(r||ib),s=n.valid&&K2(e||ib);return s&&s.valid?s.mix(n,t).hexString():e},number(r,e,t){return r+(e-r)*t}};class Qj{constructor(e,t,n,s){const i=t[n];s=Mr([e.to,s,i,e.from]);const a=Mr([e.from,i,s]);this._active=!0,this._fn=e.fn||Zj[e.type||typeof a],this._easing=ah[e.easing]||ah.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const s=this._target[this._prop],i=n-this._start,a=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Mr([e.to,t,s,e.from]),this._from=Mr([e.from,s,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,s=this._prop,i=this._from,a=this._loop,l=this._to;let d;if(this._active=i!==l&&(a||t<n),!this._active){this._target[s]=l,this._notify(!0);return}if(t<0){this._target[s]=i;return}d=t/n%2,d=a&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[s]=this._fn(i,l,d)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,n)=>{e.push({res:t,rej:n})})}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let s=0;s<n.length;s++)n[s][t]()}}class vw{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Gt(e))return;const t=Object.keys(Fr.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!Gt(i))return;const a={};for(const l of t)a[l]=i[l];(Rr(i.properties)&&i.properties||[s]).forEach(l=>{(l===s||!n.has(l))&&n.set(l,a)})})}_animateOptions(e,t){const n=t.options,s=t8(e,n);if(!s)return[];const i=this._createAnimations(s,n);return n.$shared&&e8(e.options.$animations,n).then(()=>{e.options=n},()=>{}),i}_createAnimations(e,t){const n=this._properties,s=[],i=e.$animations||(e.$animations={}),a=Object.keys(t),l=Date.now();let d;for(d=a.length-1;d>=0;--d){const h=a[d];if(h.charAt(0)==="$")continue;if(h==="options"){s.push(...this._animateOptions(e,t));continue}const f=t[h];let g=i[h];const b=n.get(h);if(g)if(b&&g.active()){g.update(b,f,l);continue}else g.cancel();if(!b||!b.duration){e[h]=f;continue}i[h]=g=new Qj(b,e,h,f),s.push(g)}return s}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const n=this._createAnimations(e,t);if(n.length)return Eo.add(this._chart,n),!0}}function e8(r,e){const t=[],n=Object.keys(e);for(let s=0;s<n.length;s++){const i=r[n[s]];i&&i.active()&&t.push(i.wait())}return Promise.all(t)}function t8(r,e){if(!e)return;let t=r.options;if(!t){r.options=e;return}return t.$shared&&(r.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function ab(r,e){const t=r&&r.options||{},n=t.reverse,s=t.min===void 0?e:0,i=t.max===void 0?e:0;return{start:n?i:s,end:n?s:i}}function r8(r,e,t){if(t===!1)return!1;const n=ab(r,t),s=ab(e,t);return{top:s.end,right:n.end,bottom:s.start,left:n.start}}function n8(r){let e,t,n,s;return Gt(r)?(e=r.top,t=r.right,n=r.bottom,s=r.left):e=t=n=s=r,{top:e,right:t,bottom:n,left:s,disabled:r===!1}}function ww(r,e){const t=[],n=r._getSortedDatasetMetas(e);let s,i;for(s=0,i=n.length;s<i;++s)t.push(n[s].index);return t}function ob(r,e,t,n={}){const s=r.keys,i=n.mode==="single";let a,l,d,h;if(e===null)return;let f=!1;for(a=0,l=s.length;a<l;++a){if(d=+s[a],d===t){if(f=!0,n.all)continue;break}h=r.values[d],hn(h)&&(i||e===0||za(e)===za(h))&&(e+=h)}return!f&&!n.all?0:e}function s8(r,e){const{iScale:t,vScale:n}=e,s=t.axis==="x"?"x":"y",i=n.axis==="x"?"x":"y",a=Object.keys(r),l=new Array(a.length);let d,h,f;for(d=0,h=a.length;d<h;++d)f=a[d],l[d]={[s]:f,[i]:r[f]};return l}function vg(r,e){const t=r&&r.options.stacked;return t||t===void 0&&e.stack!==void 0}function i8(r,e,t){return`${r.id}.${e.id}.${t.stack||t.type}`}function a8(r){const{min:e,max:t,minDefined:n,maxDefined:s}=r.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:s?t:Number.POSITIVE_INFINITY}}function o8(r,e,t){const n=r[e]||(r[e]={});return n[t]||(n[t]={})}function lb(r,e,t,n){for(const s of e.getMatchingVisibleMetas(n).reverse()){const i=r[s.index];if(t&&i>0||!t&&i<0)return s.index}return null}function cb(r,e){const{chart:t,_cachedMeta:n}=r,s=t._stacks||(t._stacks={}),{iScale:i,vScale:a,index:l}=n,d=i.axis,h=a.axis,f=i8(i,a,n),g=e.length;let b;for(let m=0;m<g;++m){const S=e[m],{[d]:k,[h]:w}=S,_=S._stacks||(S._stacks={});b=_[h]=o8(s,f,k),b[l]=w,b._top=lb(b,a,!0,n.type),b._bottom=lb(b,a,!1,n.type);const E=b._visualValues||(b._visualValues={});E[l]=w}}function wg(r,e){const t=r.scales;return Object.keys(t).filter(n=>t[n].axis===e).shift()}function l8(r,e){return Jl(r,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function c8(r,e,t){return Jl(r,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Wu(r,e){const t=r.controller.index,n=r.vScale&&r.vScale.axis;if(n){e=e||r._parsed;for(const s of e){const i=s._stacks;if(!i||i[n]===void 0||i[n][t]===void 0)return;delete i[n][t],i[n]._visualValues!==void 0&&i[n]._visualValues[t]!==void 0&&delete i[n]._visualValues[t]}}}const kg=r=>r==="reset"||r==="none",db=(r,e)=>e?r:Object.assign({},r),d8=(r,e,t)=>r&&!e.hidden&&e._stacked&&{keys:ww(t,!0),values:null};class Xl{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=vg(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Wu(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),s=(g,b,m,S)=>g==="x"?b:g==="r"?S:m,i=t.xAxisID=Ot(n.xAxisID,wg(e,"x")),a=t.yAxisID=Ot(n.yAxisID,wg(e,"y")),l=t.rAxisID=Ot(n.rAxisID,wg(e,"r")),d=t.indexAxis,h=t.iAxisID=s(d,i,a,l),f=t.vAxisID=s(d,a,i,l);t.xScale=this.getScaleForId(i),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(l),t.iScale=this.getScaleForId(h),t.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&q2(this._data,this),e._stacked&&Wu(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(Gt(t)){const s=this._cachedMeta;this._data=s8(t,s)}else if(n!==t){if(n){q2(n,this);const s=this._cachedMeta;Wu(s),s._parsed=[]}t&&Object.isExtensible(t)&&YC(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let s=!1;this._dataCheck();const i=t._stacked;t._stacked=vg(t.vScale,t),t.stack!==n.stack&&(s=!0,Wu(t),t.stack=n.stack),this._resyncElements(e),(s||i!==t._stacked)&&(cb(this,t._parsed),t._stacked=vg(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:s}=this,{iScale:i,_stacked:a}=n,l=i.axis;let d=e===0&&t===s.length?!0:n._sorted,h=e>0&&n._parsed[e-1],f,g,b;if(this._parsing===!1)n._parsed=s,n._sorted=!0,b=s;else{Rr(s[e])?b=this.parseArrayData(n,s,e,t):Gt(s[e])?b=this.parseObjectData(n,s,e,t):b=this.parsePrimitiveData(n,s,e,t);const m=()=>g[l]===null||h&&g[l]<h[l];for(f=0;f<t;++f)n._parsed[f+e]=g=b[f],d&&(m()&&(d=!1),h=g);n._sorted=d}a&&cb(this,b)}parsePrimitiveData(e,t,n,s){const{iScale:i,vScale:a}=e,l=i.axis,d=a.axis,h=i.getLabels(),f=i===a,g=new Array(s);let b,m,S;for(b=0,m=s;b<m;++b)S=b+n,g[b]={[l]:f||i.parse(h[S],S),[d]:a.parse(t[S],S)};return g}parseArrayData(e,t,n,s){const{xScale:i,yScale:a}=e,l=new Array(s);let d,h,f,g;for(d=0,h=s;d<h;++d)f=d+n,g=t[f],l[d]={x:i.parse(g[0],f),y:a.parse(g[1],f)};return l}parseObjectData(e,t,n,s){const{xScale:i,yScale:a}=e,{xAxisKey:l="x",yAxisKey:d="y"}=this._parsing,h=new Array(s);let f,g,b,m;for(f=0,g=s;f<g;++f)b=f+n,m=t[b],h[f]={x:i.parse(ql(m,l),b),y:a.parse(ql(m,d),b)};return h}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const s=this.chart,i=this._cachedMeta,a=t[e.axis],l={keys:ww(s,!0),values:t._stacks[e.axis]._visualValues};return ob(l,a,i.index,{mode:n})}updateRangeFromParsed(e,t,n,s){const i=n[t.axis];let a=i===null?NaN:i;const l=s&&n._stacks[t.axis];s&&l&&(s.values=l,a=ob(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const n=this._cachedMeta,s=n._parsed,i=n._sorted&&e===n.iScale,a=s.length,l=this._getOtherScale(e),d=d8(t,n,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:g}=a8(l);let b,m;function S(){m=s[b];const k=m[l.axis];return!hn(m[e.axis])||f>k||g<k}for(b=0;b<a&&!(!S()&&(this.updateRangeFromParsed(h,e,m,d),i));++b);if(i){for(b=a-1;b>=0;--b)if(!S()){this.updateRangeFromParsed(h,e,m,d);break}}return h}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let s,i,a;for(s=0,i=t.length;s<i;++s)a=t[s][e.axis],hn(a)&&n.push(a);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,s=t.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=n8(Ot(this.options.clip,r8(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,s=n.data||[],i=t.chartArea,a=[],l=this._drawStart||0,d=this._drawCount||s.length-l,h=this.options.drawActiveElementsOnTop;let f;for(n.dataset&&n.dataset.draw(e,i,l,d),f=l;f<l+d;++f){const g=s[f];g.hidden||(g.active&&h?a.push(g):g.draw(e,i))}for(f=0;f<a.length;++f)a[f].draw(e,i)}getStyle(e,t){const n=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];i=a.$context||(a.$context=c8(this.getContext(),e,a)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=l8(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!t,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",n){const s=t==="active",i=this._cachedDataOpts,a=e+"-"+t,l=i[a],d=this.enableOptionSharing&&kh(n);if(l)return db(l,d);const h=this.chart.config,f=h.datasetElementScopeKeys(this._type,e),g=s?[`${e}Hover`,"hover",e,""]:[e,""],b=h.getOptionScopes(this.getDataset(),f),m=Object.keys(Fr.elements[e]),S=()=>this.getContext(n,s,t),k=h.resolveNamedOptions(b,m,S,g);return k.$shared&&(k.$shared=d,i[a]=Object.freeze(db(k,d))),k}_resolveAnimations(e,t,n){const s=this.chart,i=this._cachedDataOpts,a=`animation-${t}`,l=i[a];if(l)return l;let d;if(s.options.animation!==!1){const f=this.chart.config,g=f.datasetAnimationScopeKeys(this._type,t),b=f.getOptionScopes(this.getDataset(),g);d=f.createResolver(b,this.getContext(e,n,t))}const h=new vw(s,d&&d.animations);return d&&d._cacheable&&(i[a]=Object.freeze(h)),h}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||kg(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),s=this._sharedOptions,i=this.getSharedOptions(n),a=this.includeOptions(t,i)||i!==s;return this.updateSharedOptions(i,t,n),{sharedOptions:i,includeOptions:a}}updateElement(e,t,n,s){kg(s)?Object.assign(e,n):this._resolveAnimations(t,s).update(e,n)}updateSharedOptions(e,t,n){e&&!kg(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,s){e.active=s;const i=this.getStyle(t,s);this._resolveAnimations(t,n,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[l,d,h]of this._syncList)this[l](d,h);this._syncList=[];const s=n.length,i=t.length,a=Math.min(i,s);a&&this.parse(0,a),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,t,n=!0){const s=this._cachedMeta,i=s.data,a=e+t;let l;const d=h=>{for(h.length+=t,l=h.length-1;l>=a;l--)h[l]=h[l-t]};for(d(i),l=e;l<a;++l)i[l]=new this.dataElementType;this._parsing&&d(s._parsed),this.parse(e,t),n&&this.updateElements(i,e,t,"reset")}updateElements(e,t,n,s){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const s=n._parsed.splice(e,t);n._stacked&&Wu(n,s)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,s]=e;this[t](n,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function u8(r,e){if(!r._cache.$bar){const t=r.getMatchingVisibleMetas(e);let n=[];for(let s=0,i=t.length;s<i;s++)n=n.concat(t[s].controller.getAllParsedValues(r));r._cache.$bar=ew(n.sort((s,i)=>s-i))}return r._cache.$bar}function h8(r){const e=r.iScale,t=u8(e,r.type);let n=e._length,s,i,a,l;const d=()=>{a===32767||a===-32768||(kh(l)&&(n=Math.min(n,Math.abs(a-l)||n)),l=a)};for(s=0,i=t.length;s<i;++s)a=e.getPixelForValue(t[s]),d();for(l=void 0,s=0,i=e.ticks.length;s<i;++s)a=e.getPixelForTick(s),d();return n}function f8(r,e,t,n){const s=t.barThickness;let i,a;return Ut(s)?(i=e.min*t.categoryPercentage,a=t.barPercentage):(i=s*n,a=1),{chunk:i/n,ratio:a,start:e.pixels[r]-i/2}}function p8(r,e,t,n){const s=e.pixels,i=s[r];let a=r>0?s[r-1]:null,l=r<s.length-1?s[r+1]:null;const d=t.categoryPercentage;a===null&&(a=i-(l===null?e.end-e.start:l-i)),l===null&&(l=i+i-a);const h=i-(i-Math.min(a,l))/2*d;return{chunk:Math.abs(l-a)/2*d/n,ratio:t.barPercentage,start:h}}function g8(r,e,t,n){const s=t.parse(r[0],n),i=t.parse(r[1],n),a=Math.min(s,i),l=Math.max(s,i);let d=a,h=l;Math.abs(a)>Math.abs(l)&&(d=l,h=a),e[t.axis]=h,e._custom={barStart:d,barEnd:h,start:s,end:i,min:a,max:l}}function kw(r,e,t,n){return Rr(r)?g8(r,e,t,n):e[t.axis]=t.parse(r,n),e}function ub(r,e,t,n){const s=r.iScale,i=r.vScale,a=s.getLabels(),l=s===i,d=[];let h,f,g,b;for(h=t,f=t+n;h<f;++h)b=e[h],g={},g[s.axis]=l||s.parse(a[h],h),d.push(kw(b,g,i,h));return d}function _g(r){return r&&r.barStart!==void 0&&r.barEnd!==void 0}function m8(r,e,t){return r!==0?za(r):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function x8(r){let e,t,n,s,i;return r.horizontal?(e=r.base>r.x,t="left",n="right"):(e=r.base<r.y,t="bottom",n="top"),e?(s="end",i="start"):(s="start",i="end"),{start:t,end:n,reverse:e,top:s,bottom:i}}function b8(r,e,t,n){let s=e.borderSkipped;const i={};if(!s){r.borderSkipped=i;return}if(s===!0){r.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:l,reverse:d,top:h,bottom:f}=x8(r);s==="middle"&&t&&(r.enableBorderRadius=!0,(t._top||0)===n?s=h:(t._bottom||0)===n?s=f:(i[hb(f,a,l,d)]=!0,s=h)),i[hb(s,a,l,d)]=!0,r.borderSkipped=i}function hb(r,e,t,n){return n?(r=y8(r,e,t),r=fb(r,t,e)):r=fb(r,e,t),r}function y8(r,e,t){return r===e?t:r===t?e:r}function fb(r,e,t){return r==="start"?e:r==="end"?t:r}function v8(r,{inflateAmount:e},t){r.inflateAmount=e==="auto"?t===1?.33:0:e}class _w extends Xl{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,n,s){return ub(e,t,n,s)}parseArrayData(e,t,n,s){return ub(e,t,n,s)}parseObjectData(e,t,n,s){const{iScale:i,vScale:a}=e,{xAxisKey:l="x",yAxisKey:d="y"}=this._parsing,h=i.axis==="x"?l:d,f=a.axis==="x"?l:d,g=[];let b,m,S,k;for(b=n,m=n+s;b<m;++b)k=t[b],S={},S[i.axis]=i.parse(ql(k,h),b),g.push(kw(ql(k,f),S,a,b));return g}updateRangeFromParsed(e,t,n,s){super.updateRangeFromParsed(e,t,n,s);const i=n._custom;i&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:s}=t,i=this.getParsed(e),a=i._custom,l=_g(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(i[s.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,s){const i=s==="reset",{index:a,_cachedMeta:{vScale:l}}=this,d=l.getBasePixel(),h=l.isHorizontal(),f=this._getRuler(),{sharedOptions:g,includeOptions:b}=this._getSharedOptions(t,s);for(let m=t;m<t+n;m++){const S=this.getParsed(m),k=i||Ut(S[l.axis])?{base:d,head:d}:this._calculateBarValuePixels(m),w=this._calculateBarIndexPixels(m,f),_=(S._stacks||{})[l.axis],E={horizontal:h,base:k.base,enableBorderRadius:!_||_g(S._custom)||a===_._top||a===_._bottom,x:h?k.head:w.center,y:h?w.center:k.head,height:h?w.size:Math.abs(k.size),width:h?Math.abs(k.size):w.size};b&&(E.options=g||this.resolveDataElementOptions(m,e[m].active?"active":s));const R=E.options||e[m].options;b8(E,R,_,a),v8(E,R,f.ratio),this.updateElement(e[m],m,E,s)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,s=n.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),i=n.options.stacked,a=[],l=this._cachedMeta.controller.getParsed(t),d=l&&l[n.axis],h=f=>{const g=f._parsed.find(m=>m[n.axis]===d),b=g&&g[f.vScale.axis];if(Ut(b)||isNaN(b))return!0};for(const f of s)if(!(t!==void 0&&h(f))&&((i===!1||a.indexOf(f.stack)===-1||i===void 0&&f.stack===void 0)&&a.push(f.stack),f.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[Ot(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,n){const s=this._getStacks(e,n),i=t!==void 0?s.indexOf(t):-1;return i===-1?s.length-1:i}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,s=[];let i,a;for(i=0,a=t.data.length;i<a;++i)s.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const l=e.barThickness;return{min:l||h8(t),pixels:s,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:s},options:{base:i,minBarLength:a}}=this,l=i||0,d=this.getParsed(e),h=d._custom,f=_g(h);let g=d[t.axis],b=0,m=n?this.applyStack(t,d,n):g,S,k;m!==g&&(b=m-g,m=g),f&&(g=h.barStart,m=h.barEnd-h.barStart,g!==0&&za(g)!==za(h.barEnd)&&(b=0),b+=g);const w=!Ut(i)&&!f?i:b;let _=t.getPixelForValue(w);if(this.chart.getDataVisibility(e)?S=t.getPixelForValue(b+m):S=_,k=S-_,Math.abs(k)<a){k=m8(k,t,l)*a,g===l&&(_-=k/2);const E=t.getPixelForDecimal(0),R=t.getPixelForDecimal(1),I=Math.min(E,R),B=Math.max(E,R);_=Math.max(Math.min(_,B),I),S=_+k,n&&!f&&(d._stacks[t.axis]._visualValues[s]=t.getValueForPixel(S)-t.getValueForPixel(_))}if(_===t.getPixelForValue(l)){const E=za(k)*t.getLineWidthForValue(l)/2;_+=E,k-=E}return{size:k,base:_,head:S,center:S+k/2}}_calculateBarIndexPixels(e,t){const n=t.scale,s=this.options,i=s.skipNull,a=Ot(s.maxBarThickness,1/0);let l,d;const h=this._getAxisCount();if(t.grouped){const f=i?this._getStackCount(e):t.stackCount,g=s.barThickness==="flex"?p8(e,t,s,f*h):f8(e,t,s,f*h),b=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,m=this._getAxis().indexOf(Ot(b,this.getFirstScaleIdForIndexAxis())),S=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+m;l=g.start+g.chunk*S+g.chunk/2,d=Math.min(a,g.chunk*g.ratio)}else l=n.getPixelForValue(this.getParsed(e)[n.axis],e),d=Math.min(a,t.min*t.ratio);return{base:l-d/2,head:l+d/2,center:l,size:d}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,s=n.length;let i=0;for(;i<s;++i)this.getParsed(i)[t.axis]!==null&&!n[i].hidden&&n[i].draw(this._ctx)}}class w8 extends Xl{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,s){const i=super.parsePrimitiveData(e,t,n,s);for(let a=0;a<i.length;a++)i[a]._custom=this.resolveDataElementOptions(a+n).radius;return i}parseArrayData(e,t,n,s){const i=super.parseArrayData(e,t,n,s);for(let a=0;a<i.length;a++){const l=t[n+a];i[a]._custom=Ot(l[2],this.resolveDataElementOptions(a+n).radius)}return i}parseObjectData(e,t,n,s){const i=super.parseObjectData(e,t,n,s);for(let a=0;a<i.length;a++){const l=t[n+a];i[a]._custom=Ot(l&&l.r&&+l.r,this.resolveDataElementOptions(a+n).radius)}return i}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:s,yScale:i}=t,a=this.getParsed(e),l=s.getLabelForValue(a.x),d=i.getLabelForValue(a.y),h=a._custom;return{label:n[e]||"",value:"("+l+", "+d+(h?", "+h:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,s){const i=s==="reset",{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:d,includeOptions:h}=this._getSharedOptions(t,s),f=a.axis,g=l.axis;for(let b=t;b<t+n;b++){const m=e[b],S=!i&&this.getParsed(b),k={},w=k[f]=i?a.getPixelForDecimal(.5):a.getPixelForValue(S[f]),_=k[g]=i?l.getBasePixel():l.getPixelForValue(S[g]);k.skip=isNaN(w)||isNaN(_),h&&(k.options=d||this.resolveDataElementOptions(b,m.active?"active":s),i&&(k.options.radius=0)),this.updateElement(m,b,k,s)}}resolveDataElementOptions(e,t){const n=this.getParsed(e);let s=super.resolveDataElementOptions(e,t);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const i=s.radius;return t!=="active"&&(s.radius=0),s.radius+=Ot(n&&n._custom,i),s}}function k8(r,e,t){let n=1,s=1,i=0,a=0;if(e<Or){const l=r,d=l+e,h=Math.cos(l),f=Math.sin(l),g=Math.cos(d),b=Math.sin(d),m=(R,I,B)=>_h(R,l,d,!0)?1:Math.max(I,I*t,B,B*t),S=(R,I,B)=>_h(R,l,d,!0)?-1:Math.min(I,I*t,B,B*t),k=m(0,h,g),w=m(vn,f,b),_=S(ar,h,g),E=S(ar+vn,f,b);n=(k-_)/2,s=(w-E)/2,i=-(k+_)/2,a=-(w+E)/2}return{ratioX:n,ratioY:s,offsetX:i,offsetY:a}}class cp extends Xl{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data,{labels:{pointStyle:n,textAlign:s,color:i,useBorderRadius:a,borderRadius:l}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((d,h)=>{const g=e.getDatasetMeta(0).controller.getStyle(h);return{text:d,fillStyle:g.backgroundColor,fontColor:i,hidden:!e.getDataVisibility(h),lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:g.borderWidth,strokeStyle:g.borderColor,textAlign:s,pointStyle:n,borderRadius:a&&(l||g.borderRadius),index:h}}):[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=n;else{let i=d=>+n[d];if(Gt(n[e])){const{key:d="value"}=this._parsing;i=h=>+ql(n[h],d)}let a,l;for(a=e,l=e+t;a<l;++a)s._parsed[a]=i(a)}}_getRotation(){return la(this.options.rotation-90)}_getCircumference(){return la(this.options.circumference)}_getRotationExtents(){let e=Or,t=-Or;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const s=this.chart.getDatasetMeta(n).controller,i=s._getRotation(),a=s._getCircumference();e=Math.min(e,i),t=Math.max(t,i+a)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,s=this._cachedMeta,i=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,l=Math.max((Math.min(n.width,n.height)-a)/2,0),d=Math.min(TC(this.options.cutout,l),1),h=this._getRingWeight(this.index),{circumference:f,rotation:g}=this._getRotationExtents(),{ratioX:b,ratioY:m,offsetX:S,offsetY:k}=k8(g,f,d),w=(n.width-a)/b,_=(n.height-a)/m,E=Math.max(Math.min(w,_)/2,0),R=K5(this.options.radius,E),I=Math.max(R*d,0),B=(R-I)/this._getVisibleDatasetWeightTotal();this.offsetX=S*R,this.offsetY=k*R,s.total=this.calculateTotal(),this.outerRadius=R-B*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-B*h,0),this.updateElements(i,0,i.length,e)}_circumference(e,t){const n=this.options,s=this._cachedMeta,i=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*i/Or)}updateElements(e,t,n,s){const i=s==="reset",a=this.chart,l=a.chartArea,h=a.options.animation,f=(l.left+l.right)/2,g=(l.top+l.bottom)/2,b=i&&h.animateScale,m=b?0:this.innerRadius,S=b?0:this.outerRadius,{sharedOptions:k,includeOptions:w}=this._getSharedOptions(t,s);let _=this._getRotation(),E;for(E=0;E<t;++E)_+=this._circumference(E,i);for(E=t;E<t+n;++E){const R=this._circumference(E,i),I=e[E],B={x:f+this.offsetX,y:g+this.offsetY,startAngle:_,endAngle:_+R,circumference:R,outerRadius:S,innerRadius:m};w&&(B.options=k||this.resolveDataElementOptions(E,I.active?"active":s)),_+=R,this.updateElement(I,E,B,s)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n=0,s;for(s=0;s<t.length;s++){const i=e._parsed[s];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(s)&&!t[s].hidden&&(n+=Math.abs(i))}return n}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Or*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,s=n.data.labels||[],i=Fh(t._parsed[e],n.options.locale);return{label:s[e]||"",value:i}}getMaxBorderWidth(e){let t=0;const n=this.chart;let s,i,a,l,d;if(!e){for(s=0,i=n.data.datasets.length;s<i;++s)if(n.isDatasetVisible(s)){a=n.getDatasetMeta(s),e=a.data,l=a.controller;break}}if(!e)return 0;for(s=0,i=e.length;s<i;++s)d=l.resolveDataElementOptions(s),d.borderAlign!=="inner"&&(t=Math.max(t,d.borderWidth||0,d.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,s=e.length;n<s;++n){const i=this.resolveDataElementOptions(n);t=Math.max(t,i.offset||0,i.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(Ot(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class Sw extends Xl{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:s=[],_dataset:i}=t,a=this.chart._animationsDisabled;let{start:l,count:d}=nw(t,s,a);this._drawStart=l,this._drawCount=d,sw(t)&&(l=0,d=s.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=s;const h=this.resolveDatasetElementOptions(e);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(n,void 0,{animated:!a,options:h},e),this.updateElements(s,l,d,e)}updateElements(e,t,n,s){const i=s==="reset",{iScale:a,vScale:l,_stacked:d,_dataset:h}=this._cachedMeta,{sharedOptions:f,includeOptions:g}=this._getSharedOptions(t,s),b=a.axis,m=l.axis,{spanGaps:S,segment:k}=this.options,w=eu(S)?S:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||i||s==="none",E=t+n,R=e.length;let I=t>0&&this.getParsed(t-1);for(let B=0;B<R;++B){const Q=e[B],te=_?Q:{};if(B<t||B>=E){te.skip=!0;continue}const $=this.getParsed(B),M=Ut($[m]),ne=te[b]=a.getPixelForValue($[b],B),D=te[m]=i||M?l.getBasePixel():l.getPixelForValue(d?this.applyStack(l,$,d):$[m],B);te.skip=isNaN(ne)||isNaN(D)||M,te.stop=B>0&&Math.abs($[b]-I[b])>w,k&&(te.parsed=$,te.raw=h.data[B]),g&&(te.options=f||this.resolveDataElementOptions(B,Q.active?"active":s)),_||this.updateElement(Q,B,te,s),I=$}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,s=e.data||[];if(!s.length)return n;const i=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(n,i,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class Nw extends Xl{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:s}}=e.legend.options;return t.labels.map((i,a)=>{const d=e.getDatasetMeta(0).controller.getStyle(a);return{text:i,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,fontColor:s,lineWidth:d.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,s=n.data.labels||[],i=Fh(t._parsed[e].r,n.options.locale);return{label:s[e]||"",value:i}}parseObjectData(e,t,n,s){return hw.bind(this)(e,t,n,s)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((n,s)=>{const i=this.getParsed(s).r;!isNaN(i)&&this.chart.getDataVisibility(s)&&(i<t.min&&(t.min=i),i>t.max&&(t.max=i))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,n=e.options,s=Math.min(t.right-t.left,t.bottom-t.top),i=Math.max(s/2,0),a=Math.max(n.cutoutPercentage?i/100*n.cutoutPercentage:1,0),l=(i-a)/e.getVisibleDatasetCount();this.outerRadius=i-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(e,t,n,s){const i=s==="reset",a=this.chart,d=a.options.animation,h=this._cachedMeta.rScale,f=h.xCenter,g=h.yCenter,b=h.getIndexAngle(0)-.5*ar;let m=b,S;const k=360/this.countVisibleElements();for(S=0;S<t;++S)m+=this._computeAngle(S,s,k);for(S=t;S<t+n;S++){const w=e[S];let _=m,E=m+this._computeAngle(S,s,k),R=a.getDataVisibility(S)?h.getDistanceFromCenterForValue(this.getParsed(S).r):0;m=E,i&&(d.animateScale&&(R=0),d.animateRotate&&(_=E=b));const I={x:f,y:g,innerRadius:0,outerRadius:R,startAngle:_,endAngle:E,options:this.resolveDataElementOptions(S,w.active?"active":s)};this.updateElement(w,S,I,s)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((n,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&t++}),t}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?la(this.resolveDataElementOptions(e,t).angle||n):0}}class Cw extends cp{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class jw extends Xl{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,s){return hw.bind(this)(e,t,n,s)}update(e){const t=this._cachedMeta,n=t.dataset,s=t.data||[],i=t.iScale.getLabels();if(n.points=s,e!=="resize"){const a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);const l={_loop:!0,_fullLoop:i.length===s.length,options:a};this.updateElement(n,void 0,l,e)}this.updateElements(s,0,s.length,e)}updateElements(e,t,n,s){const i=this._cachedMeta.rScale,a=s==="reset";for(let l=t;l<t+n;l++){const d=e[l],h=this.resolveDataElementOptions(l,d.active?"active":s),f=i.getPointPositionForValue(l,this.getParsed(l).r),g=a?i.xCenter:f.x,b=a?i.yCenter:f.y,m={x:g,y:b,angle:f.angle,skip:isNaN(g)||isNaN(b),options:h};this.updateElement(d,l,m,s)}}}class Pw extends Xl{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:s,yScale:i}=t,a=this.getParsed(e),l=s.getLabelForValue(a.x),d=i.getLabelForValue(a.y);return{label:n[e]||"",value:"("+l+", "+d+")"}}update(e){const t=this._cachedMeta,{data:n=[]}=t,s=this.chart._animationsDisabled;let{start:i,count:a}=nw(t,n,s);if(this._drawStart=i,this._drawCount=a,sw(t)&&(i=0,a=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:l,_dataset:d}=t;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!d._decimated,l.points=n;const h=this.resolveDatasetElementOptions(e);h.segment=this.options.segment,this.updateElement(l,void 0,{animated:!s,options:h},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(n,i,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,n,s){const i=s==="reset",{iScale:a,vScale:l,_stacked:d,_dataset:h}=this._cachedMeta,f=this.resolveDataElementOptions(t,s),g=this.getSharedOptions(f),b=this.includeOptions(s,g),m=a.axis,S=l.axis,{spanGaps:k,segment:w}=this.options,_=eu(k)?k:Number.POSITIVE_INFINITY,E=this.chart._animationsDisabled||i||s==="none";let R=t>0&&this.getParsed(t-1);for(let I=t;I<t+n;++I){const B=e[I],Q=this.getParsed(I),te=E?B:{},$=Ut(Q[S]),M=te[m]=a.getPixelForValue(Q[m],I),ne=te[S]=i||$?l.getBasePixel():l.getPixelForValue(d?this.applyStack(l,Q,d):Q[S],I);te.skip=isNaN(M)||isNaN(ne)||$,te.stop=I>0&&Math.abs(Q[m]-R[m])>_,w&&(te.parsed=Q,te.raw=h.data[I]),b&&(te.options=g||this.resolveDataElementOptions(I,B.active?"active":s)),E||this.updateElement(B,I,te,s),R=Q}this.updateSharedOptions(g,s,f)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let l=0;for(let d=t.length-1;d>=0;--d)l=Math.max(l,t[d].size(this.resolveDataElementOptions(d))/2);return l>0&&l}const n=e.dataset,s=n.options&&n.options.borderWidth||0;if(!t.length)return s;const i=t[0].size(this.resolveDataElementOptions(0)),a=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(s,i,a)/2}}var _8=Object.freeze({__proto__:null,BarController:_w,BubbleController:w8,DoughnutController:cp,LineController:Sw,PieController:Cw,PolarAreaController:Nw,RadarController:jw,ScatterController:Pw});function Ec(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class U1{static override(e){Object.assign(U1.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Ec()}parse(){return Ec()}format(){return Ec()}add(){return Ec()}diff(){return Ec()}startOf(){return Ec()}endOf(){return Ec()}}var S8={_date:U1};function N8(r,e,t,n){const{controller:s,data:i,_sorted:a}=r,l=s._cachedMeta.iScale,d=r.dataset&&r.dataset.options?r.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&a&&i.length){const h=l._reversePixels?qC:Ro;if(n){if(s._sharedOptions){const f=i[0],g=typeof f.getRange=="function"&&f.getRange(e);if(g){const b=h(i,e,t-g),m=h(i,e,t+g);return{lo:b.lo,hi:m.hi}}}}else{const f=h(i,e,t);if(d){const{vScale:g}=s._cachedMeta,{_parsed:b}=r,m=b.slice(0,f.lo+1).reverse().findIndex(k=>!Ut(k[g.axis]));f.lo-=Math.max(0,m);const S=b.slice(f.hi).findIndex(k=>!Ut(k[g.axis]));f.hi+=Math.max(0,S)}return f}}return{lo:0,hi:i.length-1}}function dp(r,e,t,n,s){const i=r.getSortedVisibleDatasetMetas(),a=t[e];for(let l=0,d=i.length;l<d;++l){const{index:h,data:f}=i[l],{lo:g,hi:b}=N8(i[l],e,a,s);for(let m=g;m<=b;++m){const S=f[m];S.skip||n(S,h,m)}}}function C8(r){const e=r.indexOf("x")!==-1,t=r.indexOf("y")!==-1;return function(n,s){const i=e?Math.abs(n.x-s.x):0,a=t?Math.abs(n.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}function Sg(r,e,t,n,s){const i=[];return!s&&!r.isPointInArea(e)||dp(r,t,e,function(l,d,h){!s&&!Do(l,r.chartArea,0)||l.inRange(e.x,e.y,n)&&i.push({element:l,datasetIndex:d,index:h})},!0),i}function j8(r,e,t,n){let s=[];function i(a,l,d){const{startAngle:h,endAngle:f}=a.getProps(["startAngle","endAngle"],n),{angle:g}=Z5(a,{x:e.x,y:e.y});_h(g,h,f)&&s.push({element:a,datasetIndex:l,index:d})}return dp(r,t,e,i),s}function P8(r,e,t,n,s,i){let a=[];const l=C8(t);let d=Number.POSITIVE_INFINITY;function h(f,g,b){const m=f.inRange(e.x,e.y,s);if(n&&!m)return;const S=f.getCenterPoint(s);if(!(!!i||r.isPointInArea(S))&&!m)return;const w=l(e,S);w<d?(a=[{element:f,datasetIndex:g,index:b}],d=w):w===d&&a.push({element:f,datasetIndex:g,index:b})}return dp(r,t,e,h),a}function Ng(r,e,t,n,s,i){return!i&&!r.isPointInArea(e)?[]:t==="r"&&!n?j8(r,e,t,s):P8(r,e,t,n,s,i)}function pb(r,e,t,n,s){const i=[],a=t==="x"?"inXRange":"inYRange";let l=!1;return dp(r,t,e,(d,h,f)=>{d[a]&&d[a](e[t],s)&&(i.push({element:d,datasetIndex:h,index:f}),l=l||d.inRange(e.x,e.y,s))}),n&&!l?[]:i}var A8={modes:{index(r,e,t,n){const s=Ic(e,r),i=t.axis||"x",a=t.includeInvisible||!1,l=t.intersect?Sg(r,s,i,n,a):Ng(r,s,i,!1,n,a),d=[];return l.length?(r.getSortedVisibleDatasetMetas().forEach(h=>{const f=l[0].index,g=h.data[f];g&&!g.skip&&d.push({element:g,datasetIndex:h.index,index:f})}),d):[]},dataset(r,e,t,n){const s=Ic(e,r),i=t.axis||"xy",a=t.includeInvisible||!1;let l=t.intersect?Sg(r,s,i,n,a):Ng(r,s,i,!1,n,a);if(l.length>0){const d=l[0].datasetIndex,h=r.getDatasetMeta(d).data;l=[];for(let f=0;f<h.length;++f)l.push({element:h[f],datasetIndex:d,index:f})}return l},point(r,e,t,n){const s=Ic(e,r),i=t.axis||"xy",a=t.includeInvisible||!1;return Sg(r,s,i,n,a)},nearest(r,e,t,n){const s=Ic(e,r),i=t.axis||"xy",a=t.includeInvisible||!1;return Ng(r,s,i,t.intersect,n,a)},x(r,e,t,n){const s=Ic(e,r);return pb(r,s,"x",t.intersect,n)},y(r,e,t,n){const s=Ic(e,r);return pb(r,s,"y",t.intersect,n)}}};const Aw=["left","top","right","bottom"];function Vu(r,e){return r.filter(t=>t.pos===e)}function gb(r,e){return r.filter(t=>Aw.indexOf(t.pos)===-1&&t.box.axis===e)}function $u(r,e){return r.sort((t,n)=>{const s=e?n:t,i=e?t:n;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function E8(r){const e=[];let t,n,s,i,a,l;for(t=0,n=(r||[]).length;t<n;++t)s=r[t],{position:i,options:{stack:a,stackWeight:l=1}}=s,e.push({index:t,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&i+a,stackWeight:l});return e}function L8(r){const e={};for(const t of r){const{stack:n,pos:s,stackWeight:i}=t;if(!n||!Aw.includes(s))continue;const a=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return e}function I8(r,e){const t=L8(r),{vBoxMaxWidth:n,hBoxMaxHeight:s}=e;let i,a,l;for(i=0,a=r.length;i<a;++i){l=r[i];const{fullSize:d}=l.box,h=t[l.stack],f=h&&l.stackWeight/h.weight;l.horizontal?(l.width=f?f*n:d&&e.availableWidth,l.height=s):(l.width=n,l.height=f?f*s:d&&e.availableHeight)}return t}function T8(r){const e=E8(r),t=$u(e.filter(h=>h.box.fullSize),!0),n=$u(Vu(e,"left"),!0),s=$u(Vu(e,"right")),i=$u(Vu(e,"top"),!0),a=$u(Vu(e,"bottom")),l=gb(e,"x"),d=gb(e,"y");return{fullSize:t,leftAndTop:n.concat(i),rightAndBottom:s.concat(d).concat(a).concat(l),chartArea:Vu(e,"chartArea"),vertical:n.concat(s).concat(d),horizontal:i.concat(a).concat(l)}}function mb(r,e,t,n){return Math.max(r[t],e[t])+Math.max(r[n],e[n])}function Ew(r,e){r.top=Math.max(r.top,e.top),r.left=Math.max(r.left,e.left),r.bottom=Math.max(r.bottom,e.bottom),r.right=Math.max(r.right,e.right)}function M8(r,e,t,n){const{pos:s,box:i}=t,a=r.maxPadding;if(!Gt(s)){t.size&&(r[s]-=t.size);const g=n[t.stack]||{size:0,count:1};g.size=Math.max(g.size,t.horizontal?i.height:i.width),t.size=g.size/g.count,r[s]+=t.size}i.getPadding&&Ew(a,i.getPadding());const l=Math.max(0,e.outerWidth-mb(a,r,"left","right")),d=Math.max(0,e.outerHeight-mb(a,r,"top","bottom")),h=l!==r.w,f=d!==r.h;return r.w=l,r.h=d,t.horizontal?{same:h,other:f}:{same:f,other:h}}function R8(r){const e=r.maxPadding;function t(n){const s=Math.max(e[n]-r[n],0);return r[n]+=s,s}r.y+=t("top"),r.x+=t("left"),t("right"),t("bottom")}function D8(r,e){const t=e.maxPadding;function n(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{i[a]=Math.max(e[a],t[a])}),i}return n(r?["left","right"]:["top","bottom"])}function Zu(r,e,t,n){const s=[];let i,a,l,d,h,f;for(i=0,a=r.length,h=0;i<a;++i){l=r[i],d=l.box,d.update(l.width||e.w,l.height||e.h,D8(l.horizontal,e));const{same:g,other:b}=M8(e,t,l,n);h|=g&&s.length,f=f||b,d.fullSize||s.push(l)}return h&&Zu(s,e,t,n)||f}function zf(r,e,t,n,s){r.top=t,r.left=e,r.right=e+n,r.bottom=t+s,r.width=n,r.height=s}function xb(r,e,t,n){const s=t.padding;let{x:i,y:a}=e;for(const l of r){const d=l.box,h=n[l.stack]||{placed:0,weight:1},f=l.stackWeight/h.weight||1;if(l.horizontal){const g=e.w*f,b=h.size||d.height;kh(h.start)&&(a=h.start),d.fullSize?zf(d,s.left,a,t.outerWidth-s.right-s.left,b):zf(d,e.left+h.placed,a,g,b),h.start=a,h.placed+=g,a=d.bottom}else{const g=e.h*f,b=h.size||d.width;kh(h.start)&&(i=h.start),d.fullSize?zf(d,i,s.top,b,t.outerHeight-s.bottom-s.top):zf(d,i,e.top+h.placed,b,g),h.start=i,h.placed+=g,i=d.right}}e.x=i,e.y=a}var gs={addBox(r,e){r.boxes||(r.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},r.boxes.push(e)},removeBox(r,e){const t=r.boxes?r.boxes.indexOf(e):-1;t!==-1&&r.boxes.splice(t,1)},configure(r,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(r,e,t,n){if(!r)return;const s=Jn(r.options.layout.padding),i=Math.max(e-s.width,0),a=Math.max(t-s.height,0),l=T8(r.boxes),d=l.vertical,h=l.horizontal;hr(r.boxes,k=>{typeof k.beforeLayout=="function"&&k.beforeLayout()});const f=d.reduce((k,w)=>w.box.options&&w.box.options.display===!1?k:k+1,0)||1,g=Object.freeze({outerWidth:e,outerHeight:t,padding:s,availableWidth:i,availableHeight:a,vBoxMaxWidth:i/2/f,hBoxMaxHeight:a/2}),b=Object.assign({},s);Ew(b,Jn(n));const m=Object.assign({maxPadding:b,w:i,h:a,x:s.left,y:s.top},s),S=I8(d.concat(h),g);Zu(l.fullSize,m,g,S),Zu(d,m,g,S),Zu(h,m,g,S)&&Zu(d,m,g,S),R8(m),xb(l.leftAndTop,m,g,S),m.x+=m.w,m.y+=m.h,xb(l.rightAndBottom,m,g,S),r.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},hr(l.chartArea,k=>{const w=k.box;Object.assign(w,r.chartArea),w.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class Lw{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,s){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,s?Math.floor(t/s):n)}}isAttached(e){return!0}updateConfig(e){}}class O8 extends Lw{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const h0="$chartjs",F8={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},bb=r=>r===null||r==="";function B8(r,e){const t=r.style,n=r.getAttribute("height"),s=r.getAttribute("width");if(r[h0]={initial:{height:n,width:s,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",bb(s)){const i=tb(r,"width");i!==void 0&&(r.width=i)}if(bb(n))if(r.style.height==="")r.height=r.width/(e||2);else{const i=tb(r,"height");i!==void 0&&(r.height=i)}return r}const Iw=Bj?{passive:!0}:!1;function z8(r,e,t){r&&r.addEventListener(e,t,Iw)}function U8(r,e,t){r&&r.canvas&&r.canvas.removeEventListener(e,t,Iw)}function H8(r,e){const t=F8[r.type]||r.type,{x:n,y:s}=Ic(r,e);return{type:t,chart:e,native:r,x:n!==void 0?n:null,y:s!==void 0?s:null}}function F0(r,e){for(const t of r)if(t===e||t.contains(e))return!0}function W8(r,e,t){const n=r.canvas,s=new MutationObserver(i=>{let a=!1;for(const l of i)a=a||F0(l.addedNodes,n),a=a&&!F0(l.removedNodes,n);a&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}function V8(r,e,t){const n=r.canvas,s=new MutationObserver(i=>{let a=!1;for(const l of i)a=a||F0(l.removedNodes,n),a=a&&!F0(l.addedNodes,n);a&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}const Nh=new Map;let yb=0;function Tw(){const r=window.devicePixelRatio;r!==yb&&(yb=r,Nh.forEach((e,t)=>{t.currentDevicePixelRatio!==r&&e()}))}function $8(r,e){Nh.size||window.addEventListener("resize",Tw),Nh.set(r,e)}function q8(r){Nh.delete(r),Nh.size||window.removeEventListener("resize",Tw)}function G8(r,e,t){const n=r.canvas,s=n&&z1(n);if(!s)return;const i=rw((l,d)=>{const h=s.clientWidth;t(l,d),h<s.clientWidth&&t()},window),a=new ResizeObserver(l=>{const d=l[0],h=d.contentRect.width,f=d.contentRect.height;h===0&&f===0||i(h,f)});return a.observe(s),$8(r,i),a}function Cg(r,e,t){t&&t.disconnect(),e==="resize"&&q8(r)}function Y8(r,e,t){const n=r.canvas,s=rw(i=>{r.ctx!==null&&t(H8(i,r))},r);return z8(n,e,s),s}class K8 extends Lw{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(B8(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[h0])return!1;const n=t[h0].initial;["height","width"].forEach(i=>{const a=n[i];Ut(a)?t.removeAttribute(i):t.setAttribute(i,a)});const s=n.style||{};return Object.keys(s).forEach(i=>{t.style[i]=s[i]}),t.width=t.width,delete t[h0],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const s=e.$proxies||(e.$proxies={}),a={attach:W8,detach:V8,resize:G8}[t]||Y8;s[t]=a(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),s=n[t];if(!s)return;({attach:Cg,detach:Cg,resize:Cg}[t]||U8)(e,t,s),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,s){return Fj(e,t,n,s)}isAttached(e){const t=e&&z1(e);return!!(t&&t.isConnected)}}function J8(r){return!B1()||typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas?O8:K8}class Ko{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return eu(this.x)&&eu(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const s={};return e.forEach(i=>{s[i]=n[i]&&n[i].active()?n[i]._to:this[i]}),s}}function X8(r,e){const t=r.options.ticks,n=Z8(r),s=Math.min(t.maxTicksLimit||n,n),i=t.major.enabled?eP(e):[],a=i.length,l=i[0],d=i[a-1],h=[];if(a>s)return tP(e,h,i,a/s),h;const f=Q8(i,e,s);if(a>0){let g,b;const m=a>1?Math.round((d-l)/(a-1)):null;for(Uf(e,h,f,Ut(m)?0:l-m,l),g=0,b=a-1;g<b;g++)Uf(e,h,f,i[g],i[g+1]);return Uf(e,h,f,d,Ut(m)?e.length:d+m),h}return Uf(e,h,f),h}function Z8(r){const e=r.options.offset,t=r._tickSize(),n=r._length/t+(e?0:1),s=r._maxLength/t;return Math.floor(Math.min(n,s))}function Q8(r,e,t){const n=rP(r),s=e.length/t;if(!n)return Math.max(s,1);const i=UC(n);for(let a=0,l=i.length-1;a<l;a++){const d=i[a];if(d>s)return d}return Math.max(s,1)}function eP(r){const e=[];let t,n;for(t=0,n=r.length;t<n;t++)r[t].major&&e.push(t);return e}function tP(r,e,t,n){let s=0,i=t[0],a;for(n=Math.ceil(n),a=0;a<r.length;a++)a===i&&(e.push(r[a]),s++,i=t[s*n])}function Uf(r,e,t,n,s){const i=Ot(n,0),a=Math.min(Ot(s,r.length),r.length);let l=0,d,h,f;for(t=Math.ceil(t),s&&(d=s-n,t=d/Math.floor(d/t)),f=i;f<0;)l++,f=Math.round(i+l*t);for(h=Math.max(i,0);h<a;h++)h===f&&(e.push(r[h]),l++,f=Math.round(i+l*t))}function rP(r){const e=r.length;let t,n;if(e<2)return!1;for(n=r[0],t=1;t<e;++t)if(r[t]-r[t-1]!==n)return!1;return n}const nP=r=>r==="left"?"right":r==="right"?"left":r,vb=(r,e,t)=>e==="top"||e==="left"?r[e]+t:r[e]-t,wb=(r,e)=>Math.min(e||r,r);function kb(r,e){const t=[],n=r.length/e,s=r.length;let i=0;for(;i<s;i+=n)t.push(r[Math.floor(i)]);return t}function sP(r,e,t){const n=r.ticks.length,s=Math.min(e,n-1),i=r._startPixel,a=r._endPixel,l=1e-6;let d=r.getPixelForTick(s),h;if(!(t&&(n===1?h=Math.max(d-i,a-d):e===0?h=(r.getPixelForTick(1)-d)/2:h=(d-r.getPixelForTick(s-1))/2,d+=s<e?h:-h,d<i-l||d>a+l)))return d}function iP(r,e){hr(r,t=>{const n=t.gc,s=n.length/2;let i;if(s>e){for(i=0;i<s;++i)delete t.data[n[i]];n.splice(0,s)}})}function qu(r){return r.drawTicks?r.tickLength:0}function _b(r,e){if(!r.display)return 0;const t=Cn(r.font,e),n=Jn(r.padding);return(Rr(r.text)?r.text.length:1)*t.lineHeight+n.height}function aP(r,e){return Jl(r,{scale:e,type:"scale"})}function oP(r,e,t){return Jl(r,{tick:t,index:e,type:"tick"})}function lP(r,e,t){let n=T1(r);return(t&&e!=="right"||!t&&e==="right")&&(n=nP(n)),n}function cP(r,e,t,n){const{top:s,left:i,bottom:a,right:l,chart:d}=r,{chartArea:h,scales:f}=d;let g=0,b,m,S;const k=a-s,w=l-i;if(r.isHorizontal()){if(m=fs(n,i,l),Gt(t)){const _=Object.keys(t)[0],E=t[_];S=f[_].getPixelForValue(E)+k-e}else t==="center"?S=(h.bottom+h.top)/2+k-e:S=vb(r,t,e);b=l-i}else{if(Gt(t)){const _=Object.keys(t)[0],E=t[_];m=f[_].getPixelForValue(E)-w+e}else t==="center"?m=(h.left+h.right)/2-w+e:m=vb(r,t,e);S=fs(n,a,s),g=t==="left"?-vn:vn}return{titleX:m,titleY:S,maxWidth:b,rotation:g}}class Gc extends Ko{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:s}=this;return e=gi(e,Number.POSITIVE_INFINITY),t=gi(t,Number.NEGATIVE_INFINITY),n=gi(n,Number.POSITIVE_INFINITY),s=gi(s,Number.NEGATIVE_INFINITY),{min:gi(e,n),max:gi(t,s),minDefined:hn(e),maxDefined:hn(t)}}getMinMax(e){let{min:t,max:n,minDefined:s,maxDefined:i}=this.getUserBounds(),a;if(s&&i)return{min:t,max:n};const l=this.getMatchingVisibleMetas();for(let d=0,h=l.length;d<h;++d)a=l[d].controller.getMinMax(this,e),s||(t=Math.min(t,a.min)),i||(n=Math.max(n,a.max));return t=i&&t>n?n:t,n=s&&t>n?t:n,{min:gi(t,gi(n,t)),max:gi(n,gi(t,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){kr(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:s,grace:i,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=mj(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=l<this.ticks.length;this._convertTicksToLabels(d?kb(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=X8(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,n;this.isHorizontal()?(t=this.left,n=this.right):(t=this.top,n=this.bottom,e=!e),this._startPixel=t,this._endPixel=n,this._reversePixels=e,this._length=n-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){kr(this.options.afterUpdate,[this])}beforeSetDimensions(){kr(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){kr(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),kr(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){kr(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,s,i;for(n=0,s=e.length;n<s;n++)i=e[n],i.label=kr(t.callback,[i.value,n,e],this)}afterTickToLabelConversion(){kr(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){kr(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=wb(this.ticks.length,e.ticks.maxTicksLimit),s=t.minRotation||0,i=t.maxRotation;let a=s,l,d,h;if(!this._isVisible()||!t.display||s>=i||n<=1||!this.isHorizontal()){this.labelRotation=s;return}const f=this._getLabelSizes(),g=f.widest.width,b=f.highest.height,m=Vn(this.chart.width-g,0,this.maxWidth);l=e.offset?this.maxWidth/n:m/(n-1),g+6>l&&(l=m/(n-(e.offset?.5:1)),d=this.maxHeight-qu(e.grid)-t.padding-_b(e.title,this.chart.options.font),h=Math.sqrt(g*g+b*b),a=L1(Math.min(Math.asin(Vn((f.highest.height+6)/l,-1,1)),Math.asin(Vn(d/h,-1,1))-Math.asin(Vn(b/h,-1,1)))),a=Math.max(s,Math.min(i,a))),this.labelRotation=a}afterCalculateLabelRotation(){kr(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){kr(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:s,grid:i}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const d=_b(s,t.options.font);if(l?(e.width=this.maxWidth,e.height=qu(i)+d):(e.height=this.maxHeight,e.width=qu(i)+d),n.display&&this.ticks.length){const{first:h,last:f,widest:g,highest:b}=this._getLabelSizes(),m=n.padding*2,S=la(this.labelRotation),k=Math.cos(S),w=Math.sin(S);if(l){const _=n.mirror?0:w*g.width+k*b.height;e.height=Math.min(this.maxHeight,e.height+_+m)}else{const _=n.mirror?0:k*g.width+w*b.height;e.width=Math.min(this.maxWidth,e.width+_+m)}this._calculatePadding(h,f,w,k)}}this._handleMargins(),l?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,s){const{ticks:{align:i,padding:a},position:l}=this.options,d=this.labelRotation!==0,h=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,m=0;d?h?(b=s*e.width,m=n*t.height):(b=n*e.height,m=s*t.width):i==="start"?m=t.width:i==="end"?b=e.width:i!=="inner"&&(b=e.width/2,m=t.width/2),this.paddingLeft=Math.max((b-f+a)*this.width/(this.width-f),0),this.paddingRight=Math.max((m-g+a)*this.width/(this.width-g),0)}else{let f=t.height/2,g=e.height/2;i==="start"?(f=0,g=e.height):i==="end"&&(f=t.height,g=0),this.paddingTop=f+a,this.paddingBottom=g+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){kr(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,n;for(t=0,n=e.length;t<n;t++)Ut(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=kb(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:s,_longestTextCache:i}=this,a=[],l=[],d=Math.floor(t/wb(t,n));let h=0,f=0,g,b,m,S,k,w,_,E,R,I,B;for(g=0;g<t;g+=d){if(S=e[g].label,k=this._resolveTickFontOptions(g),s.font=w=k.string,_=i[w]=i[w]||{data:{},gc:[]},E=k.lineHeight,R=I=0,!Ut(S)&&!Rr(S))R=D0(s,_.data,_.gc,R,S),I=E;else if(Rr(S))for(b=0,m=S.length;b<m;++b)B=S[b],!Ut(B)&&!Rr(B)&&(R=D0(s,_.data,_.gc,R,B),I+=E);a.push(R),l.push(I),h=Math.max(R,h),f=Math.max(I,f)}iP(i,t);const Q=a.indexOf(h),te=l.indexOf(f),$=M=>({width:a[M]||0,height:l[M]||0});return{first:$(0),last:$(t-1),widest:$(Q),highest:$(te),widths:a,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return $C(this._alignToPixels?Ac(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=oP(this.getContext(),e,n))}return this.$context||(this.$context=aP(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=la(this.labelRotation),n=Math.abs(Math.cos(t)),s=Math.abs(Math.sin(t)),i=this._getLabelSizes(),a=e.autoSkipPadding||0,l=i?i.widest.width+a:0,d=i?i.highest.height+a:0;return this.isHorizontal()?d*n>l*s?l/n:d/s:d*s<l*n?d/n:l/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,s=this.options,{grid:i,position:a,border:l}=s,d=i.offset,h=this.isHorizontal(),g=this.ticks.length+(d?1:0),b=qu(i),m=[],S=l.setContext(this.getContext()),k=S.display?S.width:0,w=k/2,_=function(le){return Ac(n,le,k)};let E,R,I,B,Q,te,$,M,ne,D,L,O;if(a==="top")E=_(this.bottom),te=this.bottom-b,M=E-w,D=_(e.top)+w,O=e.bottom;else if(a==="bottom")E=_(this.top),D=e.top,O=_(e.bottom)-w,te=E+w,M=this.top+b;else if(a==="left")E=_(this.right),Q=this.right-b,$=E-w,ne=_(e.left)+w,L=e.right;else if(a==="right")E=_(this.left),ne=e.left,L=_(e.right)-w,Q=E+w,$=this.left+b;else if(t==="x"){if(a==="center")E=_((e.top+e.bottom)/2+.5);else if(Gt(a)){const le=Object.keys(a)[0],pe=a[le];E=_(this.chart.scales[le].getPixelForValue(pe))}D=e.top,O=e.bottom,te=E+w,M=te+b}else if(t==="y"){if(a==="center")E=_((e.left+e.right)/2);else if(Gt(a)){const le=Object.keys(a)[0],pe=a[le];E=_(this.chart.scales[le].getPixelForValue(pe))}Q=E-w,$=Q-b,ne=e.left,L=e.right}const W=Ot(s.ticks.maxTicksLimit,g),X=Math.max(1,Math.ceil(g/W));for(R=0;R<g;R+=X){const le=this.getContext(R),pe=i.setContext(le),ae=l.setContext(le),xe=pe.lineWidth,be=pe.color,ee=ae.dash||[],A=ae.dashOffset,q=pe.tickWidth,J=pe.tickColor,ue=pe.tickBorderDash||[],fe=pe.tickBorderDashOffset;I=sP(this,R,d),I!==void 0&&(B=Ac(n,I,xe),h?Q=$=ne=L=B:te=M=D=O=B,m.push({tx1:Q,ty1:te,tx2:$,ty2:M,x1:ne,y1:D,x2:L,y2:O,width:xe,color:be,borderDash:ee,borderDashOffset:A,tickWidth:q,tickColor:J,tickBorderDash:ue,tickBorderDashOffset:fe}))}return this._ticksLength=g,this._borderValue=E,m}_computeLabelItems(e){const t=this.axis,n=this.options,{position:s,ticks:i}=n,a=this.isHorizontal(),l=this.ticks,{align:d,crossAlign:h,padding:f,mirror:g}=i,b=qu(n.grid),m=b+f,S=g?-f:m,k=-la(this.labelRotation),w=[];let _,E,R,I,B,Q,te,$,M,ne,D,L,O="middle";if(s==="top")Q=this.bottom-S,te=this._getXAxisLabelAlignment();else if(s==="bottom")Q=this.top+S,te=this._getXAxisLabelAlignment();else if(s==="left"){const X=this._getYAxisLabelAlignment(b);te=X.textAlign,B=X.x}else if(s==="right"){const X=this._getYAxisLabelAlignment(b);te=X.textAlign,B=X.x}else if(t==="x"){if(s==="center")Q=(e.top+e.bottom)/2+m;else if(Gt(s)){const X=Object.keys(s)[0],le=s[X];Q=this.chart.scales[X].getPixelForValue(le)+m}te=this._getXAxisLabelAlignment()}else if(t==="y"){if(s==="center")B=(e.left+e.right)/2-m;else if(Gt(s)){const X=Object.keys(s)[0],le=s[X];B=this.chart.scales[X].getPixelForValue(le)}te=this._getYAxisLabelAlignment(b).textAlign}t==="y"&&(d==="start"?O="top":d==="end"&&(O="bottom"));const W=this._getLabelSizes();for(_=0,E=l.length;_<E;++_){R=l[_],I=R.label;const X=i.setContext(this.getContext(_));$=this.getPixelForTick(_)+i.labelOffset,M=this._resolveTickFontOptions(_),ne=M.lineHeight,D=Rr(I)?I.length:1;const le=D/2,pe=X.color,ae=X.textStrokeColor,xe=X.textStrokeWidth;let be=te;a?(B=$,te==="inner"&&(_===E-1?be=this.options.reverse?"left":"right":_===0?be=this.options.reverse?"right":"left":be="center"),s==="top"?h==="near"||k!==0?L=-D*ne+ne/2:h==="center"?L=-W.highest.height/2-le*ne+ne:L=-W.highest.height+ne/2:h==="near"||k!==0?L=ne/2:h==="center"?L=W.highest.height/2-le*ne:L=W.highest.height-D*ne,g&&(L*=-1),k!==0&&!X.showLabelBackdrop&&(B+=ne/2*Math.sin(k))):(Q=$,L=(1-D)*ne/2);let ee;if(X.showLabelBackdrop){const A=Jn(X.backdropPadding),q=W.heights[_],J=W.widths[_];let ue=L-A.top,fe=0-A.left;switch(O){case"middle":ue-=q/2;break;case"bottom":ue-=q;break}switch(te){case"center":fe-=J/2;break;case"right":fe-=J;break;case"inner":_===E-1?fe-=J:_>0&&(fe-=J/2);break}ee={left:fe,top:ue,width:J+A.width,height:q+A.height,color:X.backdropColor}}w.push({label:I,font:M,textOffset:L,options:{rotation:k,color:pe,strokeColor:ae,strokeWidth:xe,textAlign:be,textBaseline:O,translation:[B,Q],backdrop:ee}})}return w}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-la(this.labelRotation))return e==="top"?"left":"right";let s="center";return t.align==="start"?s="left":t.align==="end"?s="right":t.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:s,padding:i}}=this.options,a=this._getLabelSizes(),l=e+i,d=a.widest.width;let h,f;return t==="left"?s?(f=this.right+i,n==="near"?h="left":n==="center"?(h="center",f+=d/2):(h="right",f+=d)):(f=this.right-l,n==="near"?h="right":n==="center"?(h="center",f-=d/2):(h="left",f=this.left)):t==="right"?s?(f=this.left+i,n==="near"?h="right":n==="center"?(h="center",f-=d/2):(h="left",f-=d)):(f=this.left+l,n==="near"?h="left":n==="center"?(h="center",f+=d/2):(h="right",f=this.right)):h="right",{textAlign:h,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:s,width:i,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,s,i,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const s=this.ticks.findIndex(i=>i.value===e);return s>=0?t.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const t=this.options.grid,n=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,a;const l=(d,h,f)=>{!f.width||!f.color||(n.save(),n.lineWidth=f.width,n.strokeStyle=f.color,n.setLineDash(f.borderDash||[]),n.lineDashOffset=f.borderDashOffset,n.beginPath(),n.moveTo(d.x,d.y),n.lineTo(h.x,h.y),n.stroke(),n.restore())};if(t.display)for(i=0,a=s.length;i<a;++i){const d=s[i];t.drawOnChartArea&&l({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),t.drawTicks&&l({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:s}}=this,i=n.setContext(this.getContext()),a=n.display?i.width:0;if(!a)return;const l=s.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let h,f,g,b;this.isHorizontal()?(h=Ac(e,this.left,a)-a/2,f=Ac(e,this.right,l)+l/2,g=b=d):(g=Ac(e,this.top,a)-a/2,b=Ac(e,this.bottom,l)+l/2,h=f=d),t.save(),t.lineWidth=i.width,t.strokeStyle=i.color,t.beginPath(),t.moveTo(h,g),t.lineTo(f,b),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,s=this._computeLabelArea();s&&ap(n,s);const i=this.getLabelItems(e);for(const a of i){const l=a.options,d=a.font,h=a.label,f=a.textOffset;Wc(n,h,0,f,d,l)}s&&op(n)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:s}}=this;if(!n.display)return;const i=Cn(n.font),a=Jn(n.padding),l=n.align;let d=i.lineHeight/2;t==="bottom"||t==="center"||Gt(t)?(d+=a.bottom,Rr(n.text)&&(d+=i.lineHeight*(n.text.length-1))):d+=a.top;const{titleX:h,titleY:f,maxWidth:g,rotation:b}=cP(this,d,t,l);Wc(e,n.text,0,0,i,{color:n.color,maxWidth:g,rotation:b,textAlign:lP(l,t,s),textBaseline:"middle",translation:[h,f]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=Ot(e.grid&&e.grid.z,-1),s=Ot(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Gc.prototype.draw?[{z:t,draw:i=>{this.draw(i)}}]:[{z:n,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:t,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",s=[];let i,a;for(i=0,a=t.length;i<a;++i){const l=t[i];l[n]===this.id&&(!e||l.type===e)&&s.push(l)}return s}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Cn(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Hf{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;hP(t)&&(n=this.register(t));const s=this.items,i=e.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,dP(e,a,n),this.override&&Fr.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,s=this.scope;n in t&&delete t[n],s&&n in Fr[s]&&(delete Fr[s][n],this.override&&delete Hc[n])}}function dP(r,e,t){const n=Ua(Object.create(null),[t?Fr.get(t):{},Fr.get(e),r.defaults]);Fr.set(e,n),r.defaultRoutes&&uP(e,r.defaultRoutes),r.descriptors&&Fr.describe(e,r.descriptors)}function uP(r,e){Object.keys(e).forEach(t=>{const n=t.split("."),s=n.pop(),i=[r].concat(n).join("."),a=e[t].split("."),l=a.pop(),d=a.join(".");Fr.route(i,s,d,l)})}function hP(r){return"id"in r&&"defaults"in r}class fP{constructor(){this.controllers=new Hf(Xl,"datasets",!0),this.elements=new Hf(Ko,"elements"),this.plugins=new Hf(Object,"plugins"),this.scales=new Hf(Gc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,n){[...t].forEach(s=>{const i=n||this._getRegistryForType(s);n||i.isForType(s)||i===this.plugins&&s.id?this._exec(e,i,s):hr(s,a=>{const l=n||this._getRegistryForType(a);this._exec(e,l,a)})})}_exec(e,t,n){const s=E1(e);kr(n["before"+s],[],n),t[e](n),kr(n["after"+s],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const s=t.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return s}}var Da=new fP;class pP{constructor(){this._init=void 0}notify(e,t,n,s){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const i=s?this._descriptors(e).filter(s):this._descriptors(e),a=this._notify(i,e,t,n);return t==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,t,n,s){s=s||{};for(const i of e){const a=i.plugin,l=a[n],d=[t,s,i.options];if(kr(l,d,a)===!1&&s.cancelable)return!1}return!0}invalidate(){Ut(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,s=Ot(n.options&&n.options.plugins,{}),i=gP(n);return s===!1&&!t?[]:xP(e,i,s,t)}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,s=(i,a)=>i.filter(l=>!a.some(d=>l.plugin.id===d.plugin.id));this._notify(s(t,n),e,"stop"),this._notify(s(n,t),e,"start")}}function gP(r){const e={},t=[],n=Object.keys(Da.plugins.items);for(let i=0;i<n.length;i++)t.push(Da.getPlugin(n[i]));const s=r.plugins||[];for(let i=0;i<s.length;i++){const a=s[i];t.indexOf(a)===-1&&(t.push(a),e[a.id]=!0)}return{plugins:t,localIds:e}}function mP(r,e){return!e&&r===!1?null:r===!0?{}:r}function xP(r,{plugins:e,localIds:t},n,s){const i=[],a=r.getContext();for(const l of e){const d=l.id,h=mP(n[d],s);h!==null&&i.push({plugin:l,options:bP(r.config,{plugin:l,local:t[d]},h,a)})}return i}function bP(r,{plugin:e,local:t},n,s){const i=r.pluginScopeKeys(e),a=r.getOptionScopes(n,i);return t&&e.defaults&&a.push(e.defaults),r.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Mm(r,e){const t=Fr.datasets[r]||{};return((e.datasets||{})[r]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function yP(r,e){let t=r;return r==="_index_"?t=e:r==="_value_"&&(t=e==="x"?"y":"x"),t}function vP(r,e){return r===e?"_index_":"_value_"}function Sb(r){if(r==="x"||r==="y"||r==="r")return r}function wP(r){if(r==="top"||r==="bottom")return"x";if(r==="left"||r==="right")return"y"}function Rm(r,...e){if(Sb(r))return r;for(const t of e){const n=t.axis||wP(t.position)||r.length>1&&Sb(r[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${r}' axis. Please provide 'axis' or 'position' option.`)}function Nb(r,e,t){if(t[e+"AxisID"]===r)return{axis:e}}function kP(r,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(n=>n.xAxisID===r||n.yAxisID===r);if(t.length)return Nb(r,"x",t[0])||Nb(r,"y",t[0])}return{}}function _P(r,e){const t=Hc[r.type]||{scales:{}},n=e.scales||{},s=Mm(r.type,e),i=Object.create(null);return Object.keys(n).forEach(a=>{const l=n[a];if(!Gt(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const d=Rm(a,l,kP(a,r),Fr.scales[l.type]),h=vP(d,s),f=t.scales||{};i[a]=sh(Object.create(null),[{axis:d},l,f[d],f[h]])}),r.data.datasets.forEach(a=>{const l=a.type||r.type,d=a.indexAxis||Mm(l,e),f=(Hc[l]||{}).scales||{};Object.keys(f).forEach(g=>{const b=yP(g,d),m=a[b+"AxisID"]||b;i[m]=i[m]||Object.create(null),sh(i[m],[{axis:b},n[m],f[g]])})}),Object.keys(i).forEach(a=>{const l=i[a];sh(l,[Fr.scales[l.type],Fr.scale])}),i}function Mw(r){const e=r.options||(r.options={});e.plugins=Ot(e.plugins,{}),e.scales=_P(r,e)}function Rw(r){return r=r||{},r.datasets=r.datasets||[],r.labels=r.labels||[],r}function SP(r){return r=r||{},r.data=Rw(r.data),Mw(r),r}const Cb=new Map,Dw=new Set;function Wf(r,e){let t=Cb.get(r);return t||(t=e(),Cb.set(r,t),Dw.add(t)),t}const Gu=(r,e,t)=>{const n=ql(e,t);n!==void 0&&r.add(n)};class NP{constructor(e){this._config=SP(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Rw(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Mw(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Wf(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Wf(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Wf(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,n=this.type;return Wf(`${n}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const n=this._scopeCache;let s=n.get(e);return(!s||t)&&(s=new Map,n.set(e,s)),s}getOptionScopes(e,t,n){const{options:s,type:i}=this,a=this._cachedScopes(e,n),l=a.get(t);if(l)return l;const d=new Set;t.forEach(f=>{e&&(d.add(e),f.forEach(g=>Gu(d,e,g))),f.forEach(g=>Gu(d,s,g)),f.forEach(g=>Gu(d,Hc[i]||{},g)),f.forEach(g=>Gu(d,Fr,g)),f.forEach(g=>Gu(d,Im,g))});const h=Array.from(d);return h.length===0&&h.push(Object.create(null)),Dw.has(t)&&a.set(t,h),h}chartOptionScopes(){const{options:e,type:t}=this;return[e,Hc[t]||{},Fr.datasets[t]||{},{type:t},Fr,Im]}resolveNamedOptions(e,t,n,s=[""]){const i={$shared:!0},{resolver:a,subPrefixes:l}=jb(this._resolverCache,e,s);let d=a;if(jP(a,t)){i.$shared=!1,n=Gl(n)?n():n;const h=this.createResolver(e,n,l);d=tu(a,n,h)}for(const h of t)i[h]=d[h];return i}createResolver(e,t,n=[""],s){const{resolver:i}=jb(this._resolverCache,e,n);return Gt(t)?tu(i,t,void 0,s):i}}function jb(r,e,t){let n=r.get(e);n||(n=new Map,r.set(e,n));const s=t.join();let i=n.get(s);return i||(i={resolver:D1(e,t),subPrefixes:t.filter(l=>!l.toLowerCase().includes("hover"))},n.set(s,i)),i}const CP=r=>Gt(r)&&Object.getOwnPropertyNames(r).some(e=>Gl(r[e]));function jP(r,e){const{isScriptable:t,isIndexable:n}=lw(r);for(const s of e){const i=t(s),a=n(s),l=(a||i)&&r[s];if(i&&(Gl(l)||CP(l))||a&&Rr(l))return!0}return!1}var PP="4.5.1";const AP=["top","bottom","left","right","chartArea"];function Pb(r,e){return r==="top"||r==="bottom"||AP.indexOf(r)===-1&&e==="x"}function Ab(r,e){return function(t,n){return t[r]===n[r]?t[e]-n[e]:t[r]-n[r]}}function Eb(r){const e=r.chart,t=e.options.animation;e.notifyPlugins("afterRender"),kr(t&&t.onComplete,[r],e)}function EP(r){const e=r.chart,t=e.options.animation;kr(t&&t.onProgress,[r],e)}function Ow(r){return B1()&&typeof r=="string"?r=document.getElementById(r):r&&r.length&&(r=r[0]),r&&r.canvas&&(r=r.canvas),r}const f0={},Lb=r=>{const e=Ow(r);return Object.values(f0).filter(t=>t.canvas===e).pop()};function LP(r,e,t){const n=Object.keys(r);for(const s of n){const i=+s;if(i>=e){const a=r[s];delete r[s],(t>0||i>e)&&(r[i+t]=a)}}}function IP(r,e,t,n){return!t||r.type==="mouseout"?null:n?e:r}let Jo=class{static defaults=Fr;static instances=f0;static overrides=Hc;static registry=Da;static version=PP;static getChart=Lb;static register(...e){Da.add(...e),Ib()}static unregister(...e){Da.remove(...e),Ib()}constructor(e,t){const n=this.config=new NP(t),s=Ow(e),i=Lb(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const a=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||J8(s)),this.platform.updateConfig(n);const l=this.platform.acquireContext(s,a.aspectRatio),d=l&&l.canvas,h=d&&d.height,f=d&&d.width;if(this.id=IC(),this.ctx=l,this.canvas=d,this.width=f,this.height=h,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new pP,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=KC(g=>this.update(g),a.resizeDelay||0),this._dataChanges=[],f0[this.id]=this,!l||!d){console.error("Failed to create chart: can't acquire context from the given item");return}Eo.listen(this,"complete",Eb),Eo.listen(this,"progress",EP),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:s,_aspectRatio:i}=this;return Ut(e)?t&&i?i:s?n/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Da}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():eb(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return X2(this.canvas,this.ctx),this}stop(){return Eo.stop(this),this}resize(e,t){Eo.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,s=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,e,t,i),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,eb(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),kr(n.onResize,[this,a],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};hr(t,(n,s)=>{n.id=s})}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,s=Object.keys(n).reduce((a,l)=>(a[l]=!1,a),{});let i=[];t&&(i=i.concat(Object.keys(t).map(a=>{const l=t[a],d=Rm(a,l),h=d==="r",f=d==="x";return{options:l,dposition:h?"chartArea":f?"bottom":"left",dtype:h?"radialLinear":f?"category":"linear"}}))),hr(i,a=>{const l=a.options,d=l.id,h=Rm(d,l),f=Ot(l.type,a.dtype);(l.position===void 0||Pb(l.position,h)!==Pb(a.dposition))&&(l.position=a.dposition),s[d]=!0;let g=null;if(d in n&&n[d].type===f)g=n[d];else{const b=Da.getScale(f);g=new b({id:d,type:f,ctx:this.ctx,chart:this}),n[g.id]=g}g.init(l,e)}),hr(s,(a,l)=>{a||delete n[l]}),hr(n,a=>{gs.configure(this,a,a.options),gs.addBox(this,a)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((s,i)=>s.index-i.index),n>t){for(let s=t;s<n;++s)this._destroyDatasetMeta(s);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(Ab("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((n,s)=>{t.filter(i=>i===n._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,s;for(this._removeUnreferencedMetasets(),n=0,s=t.length;n<s;n++){const i=t[n];let a=this.getDatasetMeta(n);const l=i.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(n),a=this.getDatasetMeta(n)),a.type=l,a.indexAxis=i.indexAxis||Mm(l,this.options),a.order=i.order||0,a.index=n,a.label=""+i.label,a.visible=this.isDatasetVisible(n),a.controller)a.controller.updateIndex(n),a.controller.linkScales();else{const d=Da.getController(l),{datasetElementType:h,dataElementType:f}=Fr.datasets[l];Object.assign(d,{dataElementType:Da.getElement(f),datasetElementType:h&&Da.getElement(h)}),a.controller=new d(this,n),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){hr(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let h=0,f=this.data.datasets.length;h<f;h++){const{controller:g}=this.getDatasetMeta(h),b=!s&&i.indexOf(g)===-1;g.buildOrUpdateElements(b),a=Math.max(+g.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),s||hr(i,h=>{h.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Ab("z","_idx"));const{_active:l,_lastEvent:d}=this;d?this._eventHandler(d,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){hr(this.scales,e=>{gs.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!H2(t,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:s,count:i}of t){const a=n==="_removeElements"?-i:i;LP(e,s,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=i=>new Set(e.filter(a=>a[0]===i).map((a,l)=>l+","+a.splice(1).join(","))),s=n(0);for(let i=1;i<t;i++)if(!H2(s,n(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;gs.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],hr(this.boxes,s=>{n&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,n=this.data.datasets.length;t<n;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,Gl(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),s={meta:n,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(n.controller._update(t),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Eo.has(this)?this.attached&&!Eo.running(this)&&Eo.start(this):(this.draw(),Eb({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let s,i;for(s=0,i=t.length;s<i;++s){const a=t[s];(!e||a.visible)&&n.push(a)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n={meta:e,index:e.index,cancelable:!0},s=yw(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(s&&ap(t,s),e.controller.draw(),s&&op(t),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return Do(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,s){const i=A8.modes[t];return typeof i=="function"?i(this,e,n,s):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let s=n.filter(i=>i&&i._dataset===t).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(s)),s}getContext(){return this.$context||(this.$context=Jl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!t.hidden}setDatasetVisibility(e,t){const n=this.getDatasetMeta(e);n.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const s=n?"show":"hide",i=this.getDatasetMeta(e),a=i.controller._resolveAnimations(void 0,s);kh(t)?(i.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),a.update(i,{visible:n}),this.update(l=>l.datasetIndex===e?s:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Eo.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),X2(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete f0[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(i,a)=>{t.addEventListener(this,i,a),e[i]=a},s=(i,a,l)=>{i.offsetX=a,i.offsetY=l,this._eventHandler(i)};hr(this.options.events,i=>n(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(d,h)=>{t.addEventListener(this,d,h),e[d]=h},s=(d,h)=>{e[d]&&(t.removeEventListener(this,d,h),delete e[d])},i=(d,h)=>{this.canvas&&this.resize(d,h)};let a;const l=()=>{s("attach",l),this.attached=!0,this.resize(),n("resize",i),n("detach",a)};a=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),n("attach",l)},t.isAttached(this.canvas)?l():a()}unbindEvents(){hr(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},hr(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const s=n?"set":"remove";let i,a,l,d;for(t==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),l=0,d=e.length;l<d;++l){a=e[l];const h=a&&this.getDatasetMeta(a.datasetIndex).controller;h&&h[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map(({datasetIndex:i,index:a})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[a],index:a}});!T0(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,n){const s=this.options.hover,i=(d,h)=>d.filter(f=>!h.some(g=>f.datasetIndex===g.datasetIndex&&f.index===g.index)),a=i(t,e),l=n?e:i(e,t);a.length&&this.updateHoverStyle(a,s.mode,!1),l.length&&s.mode&&this.updateHoverStyle(l,s.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},s=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,s)===!1)return;const i=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,s),(i||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:s=[],options:i}=this,a=t,l=this._getActiveElements(e,s,n,a),d=FC(e),h=IP(e,this._lastEvent,n,d);n&&(this._lastEvent=null,kr(i.onHover,[e,l,this],this),d&&kr(i.onClick,[e,l,this],this));const f=!T0(l,s);return(f||t)&&(this._active=l,this._updateHoverStyles(l,s,t)),this._lastEvent=h,f}_getActiveElements(e,t,n,s){if(e.type==="mouseout")return[];if(!n)return t;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}};function Ib(){return hr(Jo.instances,r=>r._plugins.invalidate())}function TP(r,e,t){const{startAngle:n,x:s,y:i,outerRadius:a,innerRadius:l,options:d}=e,{borderWidth:h,borderJoinStyle:f}=d,g=Math.min(h/a,ps(n-t));if(r.beginPath(),r.arc(s,i,a-h/2,n+g/2,t-g/2),l>0){const b=Math.min(h/l,ps(n-t));r.arc(s,i,l+h/2,t-b/2,n+b/2,!0)}else{const b=Math.min(h/2,a*ps(n-t));if(f==="round")r.arc(s,i,b,t-ar/2,n+ar/2,!0);else if(f==="bevel"){const m=2*b*b,S=-m*Math.cos(t+ar/2)+s,k=-m*Math.sin(t+ar/2)+i,w=m*Math.cos(n+ar/2)+s,_=m*Math.sin(n+ar/2)+i;r.lineTo(S,k),r.lineTo(w,_)}}r.closePath(),r.moveTo(0,0),r.rect(0,0,r.canvas.width,r.canvas.height),r.clip("evenodd")}function MP(r,e,t){const{startAngle:n,pixelMargin:s,x:i,y:a,outerRadius:l,innerRadius:d}=e;let h=s/l;r.beginPath(),r.arc(i,a,l,n-h,t+h),d>s?(h=s/d,r.arc(i,a,d,t+h,n-h,!0)):r.arc(i,a,s,t+vn,n-vn),r.closePath(),r.clip()}function RP(r){return R1(r,["outerStart","outerEnd","innerStart","innerEnd"])}function DP(r,e,t,n){const s=RP(r.options.borderRadius),i=(t-e)/2,a=Math.min(i,n*e/2),l=d=>{const h=(t-Math.min(i,d))*n/2;return Vn(d,0,Math.min(i,h))};return{outerStart:l(s.outerStart),outerEnd:l(s.outerEnd),innerStart:Vn(s.innerStart,0,a),innerEnd:Vn(s.innerEnd,0,a)}}function Ld(r,e,t,n){return{x:t+r*Math.cos(e),y:n+r*Math.sin(e)}}function B0(r,e,t,n,s,i){const{x:a,y:l,startAngle:d,pixelMargin:h,innerRadius:f}=e,g=Math.max(e.outerRadius+n+t-h,0),b=f>0?f+n+t+h:0;let m=0;const S=s-d;if(n){const X=f>0?f-n:0,le=g>0?g-n:0,pe=(X+le)/2,ae=pe!==0?S*pe/(pe+n):S;m=(S-ae)/2}const k=Math.max(.001,S*g-t/ar)/g,w=(S-k)/2,_=d+w+m,E=s-w-m,{outerStart:R,outerEnd:I,innerStart:B,innerEnd:Q}=DP(e,b,g,E-_),te=g-R,$=g-I,M=_+R/te,ne=E-I/$,D=b+B,L=b+Q,O=_+B/D,W=E-Q/L;if(r.beginPath(),i){const X=(M+ne)/2;if(r.arc(a,l,g,M,X),r.arc(a,l,g,X,ne),I>0){const xe=Ld($,ne,a,l);r.arc(xe.x,xe.y,I,ne,E+vn)}const le=Ld(L,E,a,l);if(r.lineTo(le.x,le.y),Q>0){const xe=Ld(L,W,a,l);r.arc(xe.x,xe.y,Q,E+vn,W+Math.PI)}const pe=(E-Q/b+(_+B/b))/2;if(r.arc(a,l,b,E-Q/b,pe,!0),r.arc(a,l,b,pe,_+B/b,!0),B>0){const xe=Ld(D,O,a,l);r.arc(xe.x,xe.y,B,O+Math.PI,_-vn)}const ae=Ld(te,_,a,l);if(r.lineTo(ae.x,ae.y),R>0){const xe=Ld(te,M,a,l);r.arc(xe.x,xe.y,R,_-vn,M)}}else{r.moveTo(a,l);const X=Math.cos(M)*g+a,le=Math.sin(M)*g+l;r.lineTo(X,le);const pe=Math.cos(ne)*g+a,ae=Math.sin(ne)*g+l;r.lineTo(pe,ae)}r.closePath()}function OP(r,e,t,n,s){const{fullCircles:i,startAngle:a,circumference:l}=e;let d=e.endAngle;if(i){B0(r,e,t,n,d,s);for(let h=0;h<i;++h)r.fill();isNaN(l)||(d=a+(l%Or||Or))}return B0(r,e,t,n,d,s),r.fill(),d}function FP(r,e,t,n,s){const{fullCircles:i,startAngle:a,circumference:l,options:d}=e,{borderWidth:h,borderJoinStyle:f,borderDash:g,borderDashOffset:b,borderRadius:m}=d,S=d.borderAlign==="inner";if(!h)return;r.setLineDash(g||[]),r.lineDashOffset=b,S?(r.lineWidth=h*2,r.lineJoin=f||"round"):(r.lineWidth=h,r.lineJoin=f||"bevel");let k=e.endAngle;if(i){B0(r,e,t,n,k,s);for(let w=0;w<i;++w)r.stroke();isNaN(l)||(k=a+(l%Or||Or))}S&&MP(r,e,k),d.selfJoin&&k-a>=ar&&m===0&&f!=="miter"&&TP(r,e,k),i||(B0(r,e,t,n,k,s),r.stroke())}class du extends Ko{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const s=this.getProps(["x","y"],n),{angle:i,distance:a}=Z5(s,{x:e,y:t}),{startAngle:l,endAngle:d,innerRadius:h,outerRadius:f,circumference:g}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),b=(this.options.spacing+this.options.borderWidth)/2,m=Ot(g,d-l),S=_h(i,l,d)&&l!==d,k=m>=Or||S,w=Mo(a,h+b,f+b);return k&&w}getCenterPoint(e){const{x:t,y:n,startAngle:s,endAngle:i,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:d,spacing:h}=this.options,f=(s+i)/2,g=(a+l+h+d)/2;return{x:t+Math.cos(f)*g,y:n+Math.sin(f)*g}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,s=(t.offset||0)/4,i=(t.spacing||0)/2,a=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=n>Or?Math.floor(n/Or):0,n===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const l=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(l)*s,Math.sin(l)*s);const d=1-Math.sin(Math.min(ar,n||0)),h=s*d;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,OP(e,this,h,i,a),FP(e,this,h,i,a),e.restore()}}function Fw(r,e,t=e){r.lineCap=Ot(t.borderCapStyle,e.borderCapStyle),r.setLineDash(Ot(t.borderDash,e.borderDash)),r.lineDashOffset=Ot(t.borderDashOffset,e.borderDashOffset),r.lineJoin=Ot(t.borderJoinStyle,e.borderJoinStyle),r.lineWidth=Ot(t.borderWidth,e.borderWidth),r.strokeStyle=Ot(t.borderColor,e.borderColor)}function BP(r,e,t){r.lineTo(t.x,t.y)}function zP(r){return r.stepped?oj:r.tension||r.cubicInterpolationMode==="monotone"?lj:BP}function Bw(r,e,t={}){const n=r.length,{start:s=0,end:i=n-1}=t,{start:a,end:l}=e,d=Math.max(s,a),h=Math.min(i,l),f=s<a&&i<a||s>l&&i>l;return{count:n,start:d,loop:e.loop,ilen:h<d&&!f?n+h-d:h-d}}function UP(r,e,t,n){const{points:s,options:i}=e,{count:a,start:l,loop:d,ilen:h}=Bw(s,t,n),f=zP(i);let{move:g=!0,reverse:b}=n||{},m,S,k;for(m=0;m<=h;++m)S=s[(l+(b?h-m:m))%a],!S.skip&&(g?(r.moveTo(S.x,S.y),g=!1):f(r,k,S,b,i.stepped),k=S);return d&&(S=s[(l+(b?h:0))%a],f(r,k,S,b,i.stepped)),!!d}function HP(r,e,t,n){const s=e.points,{count:i,start:a,ilen:l}=Bw(s,t,n),{move:d=!0,reverse:h}=n||{};let f=0,g=0,b,m,S,k,w,_;const E=I=>(a+(h?l-I:I))%i,R=()=>{k!==w&&(r.lineTo(f,w),r.lineTo(f,k),r.lineTo(f,_))};for(d&&(m=s[E(0)],r.moveTo(m.x,m.y)),b=0;b<=l;++b){if(m=s[E(b)],m.skip)continue;const I=m.x,B=m.y,Q=I|0;Q===S?(B<k?k=B:B>w&&(w=B),f=(g*f+I)/++g):(R(),r.lineTo(I,B),S=Q,g=0,k=w=B),_=B}R()}function Dm(r){const e=r.options,t=e.borderDash&&e.borderDash.length;return!r._decimated&&!r._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?HP:UP}function WP(r){return r.stepped?zj:r.tension||r.cubicInterpolationMode==="monotone"?Uj:Tc}function VP(r,e,t,n){let s=e._path;s||(s=e._path=new Path2D,e.path(s,t,n)&&s.closePath()),Fw(r,e.options),r.stroke(s)}function $P(r,e,t,n){const{segments:s,options:i}=e,a=Dm(e);for(const l of s)Fw(r,i,l.style),r.beginPath(),a(r,e,l,{start:t,end:t+n-1})&&r.closePath(),r.stroke()}const qP=typeof Path2D=="function";function GP(r,e,t,n){qP&&!e.options.segment?VP(r,e,t,n):$P(r,e,t,n)}class Yc extends Ko{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const s=n.spanGaps?this._loop:this._fullLoop;Ij(this._points,n,e,s,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Gj(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,s=e[t],i=this.points,a=bw(this,{property:t,start:s,end:s});if(!a.length)return;const l=[],d=WP(n);let h,f;for(h=0,f=a.length;h<f;++h){const{start:g,end:b}=a[h],m=i[g],S=i[b];if(m===S){l.push(m);continue}const k=Math.abs((s-m[t])/(S[t]-m[t])),w=d(m,S,k,n.stepped);w[t]=e[t],l.push(w)}return l.length===1?l[0]:l}pathSegment(e,t,n){return Dm(this)(e,this,t,n)}path(e,t,n){const s=this.segments,i=Dm(this);let a=this._loop;t=t||0,n=n||this.points.length-t;for(const l of s)a&=i(e,this,l,{start:t,end:t+n-1});return!!a}draw(e,t,n,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),GP(e,this,n,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Tb(r,e,t,n){const s=r.options,{[t]:i}=r.getProps([t],n);return Math.abs(e-i)<s.radius+s.hitRadius}class Bh extends Ko{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const s=this.options,{x:i,y:a}=this.getProps(["x","y"],n);return Math.pow(e-i,2)+Math.pow(t-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,t){return Tb(this,e,"x",t)}inYRange(e,t){return Tb(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);const n=t&&e.borderWidth||0;return(t+n)*2}draw(e,t){const n=this.options;this.skip||n.radius<.1||!Do(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,Tm(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function zw(r,e){const{x:t,y:n,base:s,width:i,height:a}=r.getProps(["x","y","base","width","height"],e);let l,d,h,f,g;return r.horizontal?(g=a/2,l=Math.min(t,s),d=Math.max(t,s),h=n-g,f=n+g):(g=i/2,l=t-g,d=t+g,h=Math.min(n,s),f=Math.max(n,s)),{left:l,top:h,right:d,bottom:f}}function Bl(r,e,t,n){return r?0:Vn(e,t,n)}function YP(r,e,t){const n=r.options.borderWidth,s=r.borderSkipped,i=ow(n);return{t:Bl(s.top,i.top,0,t),r:Bl(s.right,i.right,0,e),b:Bl(s.bottom,i.bottom,0,t),l:Bl(s.left,i.left,0,e)}}function KP(r,e,t){const{enableBorderRadius:n}=r.getProps(["enableBorderRadius"]),s=r.options.borderRadius,i=Fc(s),a=Math.min(e,t),l=r.borderSkipped,d=n||Gt(s);return{topLeft:Bl(!d||l.top||l.left,i.topLeft,0,a),topRight:Bl(!d||l.top||l.right,i.topRight,0,a),bottomLeft:Bl(!d||l.bottom||l.left,i.bottomLeft,0,a),bottomRight:Bl(!d||l.bottom||l.right,i.bottomRight,0,a)}}function JP(r){const e=zw(r),t=e.right-e.left,n=e.bottom-e.top,s=YP(r,t/2,n/2),i=KP(r,t/2,n/2);return{outer:{x:e.left,y:e.top,w:t,h:n,radius:i},inner:{x:e.left+s.l,y:e.top+s.t,w:t-s.l-s.r,h:n-s.t-s.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,i.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(s.b,s.r))}}}}function jg(r,e,t,n){const s=e===null,i=t===null,l=r&&!(s&&i)&&zw(r,n);return l&&(s||Mo(e,l.left,l.right))&&(i||Mo(t,l.top,l.bottom))}function XP(r){return r.topLeft||r.topRight||r.bottomLeft||r.bottomRight}function ZP(r,e){r.rect(e.x,e.y,e.w,e.h)}function Pg(r,e,t={}){const n=r.x!==t.x?-e:0,s=r.y!==t.y?-e:0,i=(r.x+r.w!==t.x+t.w?e:0)-n,a=(r.y+r.h!==t.y+t.h?e:0)-s;return{x:r.x+n,y:r.y+s,w:r.w+i,h:r.h+a,radius:r.radius}}class zh extends Ko{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:s}}=this,{inner:i,outer:a}=JP(this),l=XP(a.radius)?Sh:ZP;e.save(),(a.w!==i.w||a.h!==i.h)&&(e.beginPath(),l(e,Pg(a,t,i)),e.clip(),l(e,Pg(i,-t,a)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),l(e,Pg(i,t)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,t,n){return jg(this,e,t,n)}inXRange(e,t){return jg(this,e,null,t)}inYRange(e,t){return jg(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:s,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(t+s)/2:t,y:i?n:(n+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}var QP=Object.freeze({__proto__:null,ArcElement:du,BarElement:zh,LineElement:Yc,PointElement:Bh});const Om=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Mb=Om.map(r=>r.replace("rgb(","rgba(").replace(")",", 0.5)"));function Uw(r){return Om[r%Om.length]}function Hw(r){return Mb[r%Mb.length]}function eA(r,e){return r.borderColor=Uw(e),r.backgroundColor=Hw(e),++e}function tA(r,e){return r.backgroundColor=r.data.map(()=>Uw(e++)),e}function rA(r,e){return r.backgroundColor=r.data.map(()=>Hw(e++)),e}function nA(r){let e=0;return(t,n)=>{const s=r.getDatasetMeta(n).controller;s instanceof cp?e=tA(t,e):s instanceof Nw?e=rA(t,e):s&&(e=eA(t,e))}}function Rb(r){let e;for(e in r)if(r[e].borderColor||r[e].backgroundColor)return!0;return!1}function sA(r){return r&&(r.borderColor||r.backgroundColor)}function iA(){return Fr.borderColor!=="rgba(0,0,0,0.1)"||Fr.backgroundColor!=="rgba(0,0,0,0.1)"}var aA={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(r,e,t){if(!t.enabled)return;const{data:{datasets:n},options:s}=r.config,{elements:i}=s,a=Rb(n)||sA(s)||i&&Rb(i)||iA();if(!t.forceOverride&&a)return;const l=nA(r);n.forEach(l)}};function oA(r,e,t,n,s){const i=s.samples||n;if(i>=t)return r.slice(e,e+t);const a=[],l=(t-2)/(i-2);let d=0;const h=e+t-1;let f=e,g,b,m,S,k;for(a[d++]=r[f],g=0;g<i-2;g++){let w=0,_=0,E;const R=Math.floor((g+1)*l)+1+e,I=Math.min(Math.floor((g+2)*l)+1,t)+e,B=I-R;for(E=R;E<I;E++)w+=r[E].x,_+=r[E].y;w/=B,_/=B;const Q=Math.floor(g*l)+1+e,te=Math.min(Math.floor((g+1)*l)+1,t)+e,{x:$,y:M}=r[f];for(m=S=-1,E=Q;E<te;E++)S=.5*Math.abs(($-w)*(r[E].y-M)-($-r[E].x)*(_-M)),S>m&&(m=S,b=r[E],k=E);a[d++]=b,f=k}return a[d++]=r[h],a}function lA(r,e,t,n){let s=0,i=0,a,l,d,h,f,g,b,m,S,k;const w=[],_=e+t-1,E=r[e].x,I=r[_].x-E;for(a=e;a<e+t;++a){l=r[a],d=(l.x-E)/I*n,h=l.y;const B=d|0;if(B===f)h<S?(S=h,g=a):h>k&&(k=h,b=a),s=(i*s+l.x)/++i;else{const Q=a-1;if(!Ut(g)&&!Ut(b)){const te=Math.min(g,b),$=Math.max(g,b);te!==m&&te!==Q&&w.push({...r[te],x:s}),$!==m&&$!==Q&&w.push({...r[$],x:s})}a>0&&Q!==m&&w.push(r[Q]),w.push(l),f=B,i=0,S=k=h,g=b=m=a}}return w}function Ww(r){if(r._decimated){const e=r._data;delete r._decimated,delete r._data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function Db(r){r.data.datasets.forEach(e=>{Ww(e)})}function cA(r,e){const t=e.length;let n=0,s;const{iScale:i}=r,{min:a,max:l,minDefined:d,maxDefined:h}=i.getUserBounds();return d&&(n=Vn(Ro(e,i.axis,a).lo,0,t-1)),h?s=Vn(Ro(e,i.axis,l).hi+1,n,t)-n:s=t-n,{start:n,count:s}}var dA={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(r,e,t)=>{if(!t.enabled){Db(r);return}const n=r.width;r.data.datasets.forEach((s,i)=>{const{_data:a,indexAxis:l}=s,d=r.getDatasetMeta(i),h=a||s.data;if(Mr([l,r.options.indexAxis])==="y"||!d.controller.supportsDecimation)return;const f=r.scales[d.xAxisID];if(f.type!=="linear"&&f.type!=="time"||r.options.parsing)return;let{start:g,count:b}=cA(d,h);const m=t.threshold||4*n;if(b<=m){Ww(s);return}Ut(a)&&(s._data=h,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(k){this._data=k}}));let S;switch(t.algorithm){case"lttb":S=oA(h,g,b,n,t);break;case"min-max":S=lA(h,g,b,n);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}s._decimated=S})},destroy(r){Db(r)}};function uA(r,e,t){const n=r.segments,s=r.points,i=e.points,a=[];for(const l of n){let{start:d,end:h}=l;h=up(d,h,s);const f=Fm(t,s[d],s[h],l.loop);if(!e.segments){a.push({source:l,target:f,start:s[d],end:s[h]});continue}const g=bw(e,f);for(const b of g){const m=Fm(t,i[b.start],i[b.end],b.loop),S=xw(l,s,m);for(const k of S)a.push({source:k,target:b,start:{[t]:Ob(f,m,"start",Math.max)},end:{[t]:Ob(f,m,"end",Math.min)}})}}return a}function Fm(r,e,t,n){if(n)return;let s=e[r],i=t[r];return r==="angle"&&(s=ps(s),i=ps(i)),{property:r,start:s,end:i}}function hA(r,e){const{x:t=null,y:n=null}=r||{},s=e.points,i=[];return e.segments.forEach(({start:a,end:l})=>{l=up(a,l,s);const d=s[a],h=s[l];n!==null?(i.push({x:d.x,y:n}),i.push({x:h.x,y:n})):t!==null&&(i.push({x:t,y:d.y}),i.push({x:t,y:h.y}))}),i}function up(r,e,t){for(;e>r;e--){const n=t[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function Ob(r,e,t,n){return r&&e?n(r[t],e[t]):r?r[t]:e?e[t]:0}function Vw(r,e){let t=[],n=!1;return Rr(r)?(n=!0,t=r):t=hA(r,e),t.length?new Yc({points:t,options:{tension:0},_loop:n,_fullLoop:n}):null}function Fb(r){return r&&r.fill!==!1}function fA(r,e,t){let s=r[e].fill;const i=[e];let a;if(!t)return s;for(;s!==!1&&i.indexOf(s)===-1;){if(!hn(s))return s;if(a=r[s],!a)return!1;if(a.visible)return s;i.push(s),s=a.fill}return!1}function pA(r,e,t){const n=bA(r);if(Gt(n))return isNaN(n.value)?!1:n;let s=parseFloat(n);return hn(s)&&Math.floor(s)===s?gA(n[0],e,s,t):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function gA(r,e,t,n){return(r==="-"||r==="+")&&(t=e+t),t===e||t<0||t>=n?!1:t}function mA(r,e){let t=null;return r==="start"?t=e.bottom:r==="end"?t=e.top:Gt(r)?t=e.getPixelForValue(r.value):e.getBasePixel&&(t=e.getBasePixel()),t}function xA(r,e,t){let n;return r==="start"?n=t:r==="end"?n=e.options.reverse?e.min:e.max:Gt(r)?n=r.value:n=e.getBaseValue(),n}function bA(r){const e=r.options,t=e.fill;let n=Ot(t&&t.target,t);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function yA(r){const{scale:e,index:t,line:n}=r,s=[],i=n.segments,a=n.points,l=vA(e,t);l.push(Vw({x:null,y:e.bottom},n));for(let d=0;d<i.length;d++){const h=i[d];for(let f=h.start;f<=h.end;f++)wA(s,a[f],l)}return new Yc({points:s,options:{}})}function vA(r,e){const t=[],n=r.getMatchingVisibleMetas("line");for(let s=0;s<n.length;s++){const i=n[s];if(i.index===e)break;i.hidden||t.unshift(i.dataset)}return t}function wA(r,e,t){const n=[];for(let s=0;s<t.length;s++){const i=t[s],{first:a,last:l,point:d}=kA(i,e,"x");if(!(!d||a&&l)){if(a)n.unshift(d);else if(r.push(d),!l)break}}r.push(...n)}function kA(r,e,t){const n=r.interpolate(e,t);if(!n)return{};const s=n[t],i=r.segments,a=r.points;let l=!1,d=!1;for(let h=0;h<i.length;h++){const f=i[h],g=a[f.start][t],b=a[f.end][t];if(Mo(s,g,b)){l=s===g,d=s===b;break}}return{first:l,last:d,point:n}}class $w{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){const{x:s,y:i,radius:a}=this;return t=t||{start:0,end:Or},e.arc(s,i,a,t.end,t.start,!0),!n.bounds}interpolate(e){const{x:t,y:n,radius:s}=this,i=e.angle;return{x:t+Math.cos(i)*s,y:n+Math.sin(i)*s,angle:i}}}function _A(r){const{chart:e,fill:t,line:n}=r;if(hn(t))return SA(e,t);if(t==="stack")return yA(r);if(t==="shape")return!0;const s=NA(r);return s instanceof $w?s:Vw(s,n)}function SA(r,e){const t=r.getDatasetMeta(e);return t&&r.isDatasetVisible(e)?t.dataset:null}function NA(r){return(r.scale||{}).getPointPositionForValue?jA(r):CA(r)}function CA(r){const{scale:e={},fill:t}=r,n=mA(t,e);if(hn(n)){const s=e.isHorizontal();return{x:s?n:null,y:s?null:n}}return null}function jA(r){const{scale:e,fill:t}=r,n=e.options,s=e.getLabels().length,i=n.reverse?e.max:e.min,a=xA(t,e,i),l=[];if(n.grid.circular){const d=e.getPointPositionForValue(0,i);return new $w({x:d.x,y:d.y,radius:e.getDistanceFromCenterForValue(a)})}for(let d=0;d<s;++d)l.push(e.getPointPositionForValue(d,a));return l}function Ag(r,e,t){const n=_A(e),{chart:s,index:i,line:a,scale:l,axis:d}=e,h=a.options,f=h.fill,g=h.backgroundColor,{above:b=g,below:m=g}=f||{},S=s.getDatasetMeta(i),k=yw(s,S);n&&a.points.length&&(ap(r,t),PA(r,{line:a,target:n,above:b,below:m,area:t,scale:l,axis:d,clip:k}),op(r))}function PA(r,e){const{line:t,target:n,above:s,below:i,area:a,scale:l,clip:d}=e,h=t._loop?"angle":e.axis;r.save();let f=i;i!==s&&(h==="x"?(Bb(r,n,a.top),Eg(r,{line:t,target:n,color:s,scale:l,property:h,clip:d}),r.restore(),r.save(),Bb(r,n,a.bottom)):h==="y"&&(zb(r,n,a.left),Eg(r,{line:t,target:n,color:i,scale:l,property:h,clip:d}),r.restore(),r.save(),zb(r,n,a.right),f=s)),Eg(r,{line:t,target:n,color:f,scale:l,property:h,clip:d}),r.restore()}function Bb(r,e,t){const{segments:n,points:s}=e;let i=!0,a=!1;r.beginPath();for(const l of n){const{start:d,end:h}=l,f=s[d],g=s[up(d,h,s)];i?(r.moveTo(f.x,f.y),i=!1):(r.lineTo(f.x,t),r.lineTo(f.x,f.y)),a=!!e.pathSegment(r,l,{move:a}),a?r.closePath():r.lineTo(g.x,t)}r.lineTo(e.first().x,t),r.closePath(),r.clip()}function zb(r,e,t){const{segments:n,points:s}=e;let i=!0,a=!1;r.beginPath();for(const l of n){const{start:d,end:h}=l,f=s[d],g=s[up(d,h,s)];i?(r.moveTo(f.x,f.y),i=!1):(r.lineTo(t,f.y),r.lineTo(f.x,f.y)),a=!!e.pathSegment(r,l,{move:a}),a?r.closePath():r.lineTo(t,g.y)}r.lineTo(t,e.first().y),r.closePath(),r.clip()}function Eg(r,e){const{line:t,target:n,property:s,color:i,scale:a,clip:l}=e,d=uA(t,n,s);for(const{source:h,target:f,start:g,end:b}of d){const{style:{backgroundColor:m=i}={}}=h,S=n!==!0;r.save(),r.fillStyle=m,AA(r,a,l,S&&Fm(s,g,b)),r.beginPath();const k=!!t.pathSegment(r,h);let w;if(S){k?r.closePath():Ub(r,n,b,s);const _=!!n.pathSegment(r,f,{move:k,reverse:!0});w=k&&_,w||Ub(r,n,g,s)}r.closePath(),r.fill(w?"evenodd":"nonzero"),r.restore()}}function AA(r,e,t,n){const s=e.chart.chartArea,{property:i,start:a,end:l}=n||{};if(i==="x"||i==="y"){let d,h,f,g;i==="x"?(d=a,h=s.top,f=l,g=s.bottom):(d=s.left,h=a,f=s.right,g=l),r.beginPath(),t&&(d=Math.max(d,t.left),f=Math.min(f,t.right),h=Math.max(h,t.top),g=Math.min(g,t.bottom)),r.rect(d,h,f-d,g-h),r.clip()}}function Ub(r,e,t,n){const s=e.interpolate(t,n);s&&r.lineTo(s.x,s.y)}var H1={id:"filler",afterDatasetsUpdate(r,e,t){const n=(r.data.datasets||[]).length,s=[];let i,a,l,d;for(a=0;a<n;++a)i=r.getDatasetMeta(a),l=i.dataset,d=null,l&&l.options&&l instanceof Yc&&(d={visible:r.isDatasetVisible(a),index:a,fill:pA(l,a,n),chart:r,axis:i.controller.options.indexAxis,scale:i.vScale,line:l}),i.$filler=d,s.push(d);for(a=0;a<n;++a)d=s[a],!(!d||d.fill===!1)&&(d.fill=fA(s,a,t.propagate))},beforeDraw(r,e,t){const n=t.drawTime==="beforeDraw",s=r.getSortedVisibleDatasetMetas(),i=r.chartArea;for(let a=s.length-1;a>=0;--a){const l=s[a].$filler;l&&(l.line.updateControlPoints(i,l.axis),n&&l.fill&&Ag(r.ctx,l,i))}},beforeDatasetsDraw(r,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const n=r.getSortedVisibleDatasetMetas();for(let s=n.length-1;s>=0;--s){const i=n[s].$filler;Fb(i)&&Ag(r.ctx,i,r.chartArea)}},beforeDatasetDraw(r,e,t){const n=e.meta.$filler;!Fb(n)||t.drawTime!=="beforeDatasetDraw"||Ag(r.ctx,n,r.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Hb=(r,e)=>{let{boxHeight:t=e,boxWidth:n=e}=r;return r.usePointStyle&&(t=Math.min(t,e),n=r.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:t,itemHeight:Math.max(e,t)}},EA=(r,e)=>r!==null&&e!==null&&r.datasetIndex===e.datasetIndex&&r.index===e.index;class Wb extends Ko{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=kr(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(n=>e.filter(n,this.chart.data))),e.sort&&(t=t.sort((n,s)=>e.sort(n,s,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,s=Cn(n.font),i=s.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:d}=Hb(n,i);let h,f;t.font=s.string,this.isHorizontal()?(h=this.maxWidth,f=this._fitRows(a,i,l,d)+10):(f=this.maxHeight,h=this._fitCols(a,s,l,d)+10),this.width=Math.min(h,e.maxWidth||this.maxWidth),this.height=Math.min(f,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,s){const{ctx:i,maxWidth:a,options:{labels:{padding:l}}}=this,d=this.legendHitBoxes=[],h=this.lineWidths=[0],f=s+l;let g=e;i.textAlign="left",i.textBaseline="middle";let b=-1,m=-f;return this.legendItems.forEach((S,k)=>{const w=n+t/2+i.measureText(S.text).width;(k===0||h[h.length-1]+w+2*l>a)&&(g+=f,h[h.length-(k>0?0:1)]=0,m+=f,b++),d[k]={left:0,top:m,row:b,width:w,height:s},h[h.length-1]+=w+l}),g}_fitCols(e,t,n,s){const{ctx:i,maxHeight:a,options:{labels:{padding:l}}}=this,d=this.legendHitBoxes=[],h=this.columnSizes=[],f=a-e;let g=l,b=0,m=0,S=0,k=0;return this.legendItems.forEach((w,_)=>{const{itemWidth:E,itemHeight:R}=LA(n,t,i,w,s);_>0&&m+R+2*l>f&&(g+=b+l,h.push({width:b,height:m}),S+=b+l,k++,b=m=0),d[_]={left:S,top:m,col:k,width:E,height:R},b=Math.max(b,E),m+=R+l}),g+=b,h.push({width:b,height:m}),g}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:s},rtl:i}}=this,a=Wd(i,this.left,this.width);if(this.isHorizontal()){let l=0,d=fs(n,this.left+s,this.right-this.lineWidths[l]);for(const h of t)l!==h.row&&(l=h.row,d=fs(n,this.left+s,this.right-this.lineWidths[l])),h.top+=this.top+e+s,h.left=a.leftForLtr(a.x(d),h.width),d+=h.width+s}else{let l=0,d=fs(n,this.top+e+s,this.bottom-this.columnSizes[l].height);for(const h of t)h.col!==l&&(l=h.col,d=fs(n,this.top+e+s,this.bottom-this.columnSizes[l].height)),h.top=d,h.left+=this.left+s,h.left=a.leftForLtr(a.x(h.left),h.width),d+=h.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;ap(e,this),this._draw(),op(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:s}=this,{align:i,labels:a}=e,l=Fr.color,d=Wd(e.rtl,this.left,this.width),h=Cn(a.font),{padding:f}=a,g=h.size,b=g/2;let m;this.drawTitle(),s.textAlign=d.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=h.string;const{boxWidth:S,boxHeight:k,itemHeight:w}=Hb(a,g),_=function(Q,te,$){if(isNaN(S)||S<=0||isNaN(k)||k<0)return;s.save();const M=Ot($.lineWidth,1);if(s.fillStyle=Ot($.fillStyle,l),s.lineCap=Ot($.lineCap,"butt"),s.lineDashOffset=Ot($.lineDashOffset,0),s.lineJoin=Ot($.lineJoin,"miter"),s.lineWidth=M,s.strokeStyle=Ot($.strokeStyle,l),s.setLineDash(Ot($.lineDash,[])),a.usePointStyle){const ne={radius:k*Math.SQRT2/2,pointStyle:$.pointStyle,rotation:$.rotation,borderWidth:M},D=d.xPlus(Q,S/2),L=te+b;aw(s,ne,D,L,a.pointStyleWidth&&S)}else{const ne=te+Math.max((g-k)/2,0),D=d.leftForLtr(Q,S),L=Fc($.borderRadius);s.beginPath(),Object.values(L).some(O=>O!==0)?Sh(s,{x:D,y:ne,w:S,h:k,radius:L}):s.rect(D,ne,S,k),s.fill(),M!==0&&s.stroke()}s.restore()},E=function(Q,te,$){Wc(s,$.text,Q,te+w/2,h,{strikethrough:$.hidden,textAlign:d.textAlign($.textAlign)})},R=this.isHorizontal(),I=this._computeTitleHeight();R?m={x:fs(i,this.left+f,this.right-n[0]),y:this.top+f+I,line:0}:m={x:this.left+f,y:fs(i,this.top+I+f,this.bottom-t[0].height),line:0},pw(this.ctx,e.textDirection);const B=w+f;this.legendItems.forEach((Q,te)=>{s.strokeStyle=Q.fontColor,s.fillStyle=Q.fontColor;const $=s.measureText(Q.text).width,M=d.textAlign(Q.textAlign||(Q.textAlign=a.textAlign)),ne=S+b+$;let D=m.x,L=m.y;d.setWidth(this.width),R?te>0&&D+ne+f>this.right&&(L=m.y+=B,m.line++,D=m.x=fs(i,this.left+f,this.right-n[m.line])):te>0&&L+B>this.bottom&&(D=m.x=D+t[m.line].width+f,m.line++,L=m.y=fs(i,this.top+I+f,this.bottom-t[m.line].height));const O=d.x(D);if(_(O,L,Q),D=JC(M,D+S+b,R?D+ne:this.right,e.rtl),E(d.x(D),L,Q),R)m.x+=ne+f;else if(typeof Q.text!="string"){const W=h.lineHeight;m.y+=qw(Q,W)+f}else m.y+=B}),gw(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=Cn(t.font),s=Jn(t.padding);if(!t.display)return;const i=Wd(e.rtl,this.left,this.width),a=this.ctx,l=t.position,d=n.size/2,h=s.top+d;let f,g=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),f=this.top+h,g=fs(e.align,g,this.right-b);else{const S=this.columnSizes.reduce((k,w)=>Math.max(k,w.height),0);f=h+fs(e.align,this.top,this.bottom-S-e.labels.padding-this._computeTitleHeight())}const m=fs(l,g,g+b);a.textAlign=i.textAlign(T1(l)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=n.string,Wc(a,t.text,m,f,n)}_computeTitleHeight(){const e=this.options.title,t=Cn(e.font),n=Jn(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,s,i;if(Mo(e,this.left,this.right)&&Mo(t,this.top,this.bottom)){for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(s=i[n],Mo(e,s.left,s.left+s.width)&&Mo(t,s.top,s.top+s.height))return this.legendItems[n]}return null}handleEvent(e){const t=this.options;if(!MA(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,i=EA(s,n);s&&!i&&kr(t.onLeave,[e,s,this],this),this._hoveredItem=n,n&&!i&&kr(t.onHover,[e,n,this],this)}else n&&kr(t.onClick,[e,n,this],this)}}function LA(r,e,t,n,s){const i=IA(n,r,e,t),a=TA(s,n,e.lineHeight);return{itemWidth:i,itemHeight:a}}function IA(r,e,t,n){let s=r.text;return s&&typeof s!="string"&&(s=s.reduce((i,a)=>i.length>a.length?i:a)),e+t.size/2+n.measureText(s).width}function TA(r,e,t){let n=r;return typeof e.text!="string"&&(n=qw(e,t)),n}function qw(r,e){const t=r.text?r.text.length:0;return e*t}function MA(r,e){return!!((r==="mousemove"||r==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(r==="click"||r==="mouseup"))}var Uh={id:"legend",_element:Wb,start(r,e,t){const n=r.legend=new Wb({ctx:r.ctx,options:t,chart:r});gs.configure(r,n,t),gs.addBox(r,n)},stop(r){gs.removeBox(r,r.legend),delete r.legend},beforeUpdate(r,e,t){const n=r.legend;gs.configure(r,n,t),n.options=t},afterUpdate(r){const e=r.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(r,e){e.replay||r.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(r,e,t){const n=e.datasetIndex,s=t.chart;s.isDatasetVisible(n)?(s.hide(n),e.hidden=!0):(s.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:r=>r.chart.options.color,boxWidth:40,padding:10,generateLabels(r){const e=r.data.datasets,{labels:{usePointStyle:t,pointStyle:n,textAlign:s,color:i,useBorderRadius:a,borderRadius:l}}=r.legend.options;return r._getSortedDatasetMetas().map(d=>{const h=d.controller.getStyle(t?0:void 0),f=Jn(h.borderWidth);return{text:e[d.index].label,fillStyle:h.backgroundColor,fontColor:i,hidden:!d.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:h.borderColor,pointStyle:n||h.pointStyle,rotation:h.rotation,textAlign:s||h.textAlign,borderRadius:a&&(l||h.borderRadius),datasetIndex:d.index}},this)}},title:{color:r=>r.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:r=>!r.startsWith("on"),labels:{_scriptable:r=>!["generateLabels","filter","sort"].includes(r)}}};class W1 extends Ko{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const s=Rr(n.text)?n.text.length:1;this._padding=Jn(n.padding);const i=s*Cn(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:n,bottom:s,right:i,options:a}=this,l=a.align;let d=0,h,f,g;return this.isHorizontal()?(f=fs(l,n,i),g=t+e,h=i-n):(a.position==="left"?(f=n+e,g=fs(l,s,t),d=ar*-.5):(f=i-e,g=fs(l,t,s),d=ar*.5),h=s-t),{titleX:f,titleY:g,maxWidth:h,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=Cn(t.font),i=n.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:d,rotation:h}=this._drawArgs(i);Wc(e,t.text,0,0,n,{color:t.color,maxWidth:d,rotation:h,textAlign:T1(t.align),textBaseline:"middle",translation:[a,l]})}}function RA(r,e){const t=new W1({ctx:r.ctx,options:e,chart:r});gs.configure(r,t,e),gs.addBox(r,t),r.titleBlock=t}var hp={id:"title",_element:W1,start(r,e,t){RA(r,t)},stop(r){const e=r.titleBlock;gs.removeBox(r,e),delete r.titleBlock},beforeUpdate(r,e,t){const n=r.titleBlock;gs.configure(r,n,t),n.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Vf=new WeakMap;var DA={id:"subtitle",start(r,e,t){const n=new W1({ctx:r.ctx,options:t,chart:r});gs.configure(r,n,t),gs.addBox(r,n),Vf.set(r,n)},stop(r){gs.removeBox(r,Vf.get(r)),Vf.delete(r)},beforeUpdate(r,e,t){const n=Vf.get(r);gs.configure(r,n,t),n.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Qu={average(r){if(!r.length)return!1;let e,t,n=new Set,s=0,i=0;for(e=0,t=r.length;e<t;++e){const l=r[e].element;if(l&&l.hasValue()){const d=l.tooltipPosition();n.add(d.x),s+=d.y,++i}}return i===0||n.size===0?!1:{x:[...n].reduce((l,d)=>l+d)/n.size,y:s/i}},nearest(r,e){if(!r.length)return!1;let t=e.x,n=e.y,s=Number.POSITIVE_INFINITY,i,a,l;for(i=0,a=r.length;i<a;++i){const d=r[i].element;if(d&&d.hasValue()){const h=d.getCenterPoint(),f=Lm(e,h);f<s&&(s=f,l=d)}}if(l){const d=l.tooltipPosition();t=d.x,n=d.y}return{x:t,y:n}}};function Ma(r,e){return e&&(Rr(e)?Array.prototype.push.apply(r,e):r.push(e)),r}function Lo(r){return(typeof r=="string"||r instanceof String)&&r.indexOf(`
`)>-1?r.split(`
`):r}function OA(r,e){const{element:t,datasetIndex:n,index:s}=e,i=r.getDatasetMeta(n).controller,{label:a,value:l}=i.getLabelAndValue(s);return{chart:r,label:a,parsed:i.getParsed(s),raw:r.data.datasets[n].data[s],formattedValue:l,dataset:i.getDataset(),dataIndex:s,datasetIndex:n,element:t}}function Vb(r,e){const t=r.chart.ctx,{body:n,footer:s,title:i}=r,{boxWidth:a,boxHeight:l}=e,d=Cn(e.bodyFont),h=Cn(e.titleFont),f=Cn(e.footerFont),g=i.length,b=s.length,m=n.length,S=Jn(e.padding);let k=S.height,w=0,_=n.reduce((I,B)=>I+B.before.length+B.lines.length+B.after.length,0);if(_+=r.beforeBody.length+r.afterBody.length,g&&(k+=g*h.lineHeight+(g-1)*e.titleSpacing+e.titleMarginBottom),_){const I=e.displayColors?Math.max(l,d.lineHeight):d.lineHeight;k+=m*I+(_-m)*d.lineHeight+(_-1)*e.bodySpacing}b&&(k+=e.footerMarginTop+b*f.lineHeight+(b-1)*e.footerSpacing);let E=0;const R=function(I){w=Math.max(w,t.measureText(I).width+E)};return t.save(),t.font=h.string,hr(r.title,R),t.font=d.string,hr(r.beforeBody.concat(r.afterBody),R),E=e.displayColors?a+2+e.boxPadding:0,hr(n,I=>{hr(I.before,R),hr(I.lines,R),hr(I.after,R)}),E=0,t.font=f.string,hr(r.footer,R),t.restore(),w+=S.width,{width:w,height:k}}function FA(r,e){const{y:t,height:n}=e;return t<n/2?"top":t>r.height-n/2?"bottom":"center"}function BA(r,e,t,n){const{x:s,width:i}=n,a=t.caretSize+t.caretPadding;if(r==="left"&&s+i+a>e.width||r==="right"&&s-i-a<0)return!0}function zA(r,e,t,n){const{x:s,width:i}=t,{width:a,chartArea:{left:l,right:d}}=r;let h="center";return n==="center"?h=s<=(l+d)/2?"left":"right":s<=i/2?h="left":s>=a-i/2&&(h="right"),BA(h,r,e,t)&&(h="center"),h}function $b(r,e,t){const n=t.yAlign||e.yAlign||FA(r,t);return{xAlign:t.xAlign||e.xAlign||zA(r,e,t,n),yAlign:n}}function UA(r,e){let{x:t,width:n}=r;return e==="right"?t-=n:e==="center"&&(t-=n/2),t}function HA(r,e,t){let{y:n,height:s}=r;return e==="top"?n+=t:e==="bottom"?n-=s+t:n-=s/2,n}function qb(r,e,t,n){const{caretSize:s,caretPadding:i,cornerRadius:a}=r,{xAlign:l,yAlign:d}=t,h=s+i,{topLeft:f,topRight:g,bottomLeft:b,bottomRight:m}=Fc(a);let S=UA(e,l);const k=HA(e,d,h);return d==="center"?l==="left"?S+=h:l==="right"&&(S-=h):l==="left"?S-=Math.max(f,b)+s:l==="right"&&(S+=Math.max(g,m)+s),{x:Vn(S,0,n.width-e.width),y:Vn(k,0,n.height-e.height)}}function $f(r,e,t){const n=Jn(t.padding);return e==="center"?r.x+r.width/2:e==="right"?r.x+r.width-n.right:r.x+n.left}function Gb(r){return Ma([],Lo(r))}function WA(r,e,t){return Jl(r,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Yb(r,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?r.override(t):r}const Gw={beforeTitle:jo,title(r){if(r.length>0){const e=r[0],t=e.chart.data.labels,n=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return t[e.dataIndex]}return""},afterTitle:jo,beforeBody:jo,beforeLabel:jo,label(r){if(this&&this.options&&this.options.mode==="dataset")return r.label+": "+r.formattedValue||r.formattedValue;let e=r.dataset.label||"";e&&(e+=": ");const t=r.formattedValue;return Ut(t)||(e+=t),e},labelColor(r){const t=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(r){const t=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:jo,afterBody:jo,beforeFooter:jo,footer:jo,afterFooter:jo};function Ys(r,e,t,n){const s=r[e].call(t,n);return typeof s>"u"?Gw[e].call(t,n):s}class Kb extends Ko{static positioners=Qu;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),s=n.enabled&&t.options.animation&&n.animations,i=new vw(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=WA(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:n}=t,s=Ys(n,"beforeTitle",this,e),i=Ys(n,"title",this,e),a=Ys(n,"afterTitle",this,e);let l=[];return l=Ma(l,Lo(s)),l=Ma(l,Lo(i)),l=Ma(l,Lo(a)),l}getBeforeBody(e,t){return Gb(Ys(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,s=[];return hr(e,i=>{const a={before:[],lines:[],after:[]},l=Yb(n,i);Ma(a.before,Lo(Ys(l,"beforeLabel",this,i))),Ma(a.lines,Ys(l,"label",this,i)),Ma(a.after,Lo(Ys(l,"afterLabel",this,i))),s.push(a)}),s}getAfterBody(e,t){return Gb(Ys(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,s=Ys(n,"beforeFooter",this,e),i=Ys(n,"footer",this,e),a=Ys(n,"afterFooter",this,e);let l=[];return l=Ma(l,Lo(s)),l=Ma(l,Lo(i)),l=Ma(l,Lo(a)),l}_createItems(e){const t=this._active,n=this.chart.data,s=[],i=[],a=[];let l=[],d,h;for(d=0,h=t.length;d<h;++d)l.push(OA(this.chart,t[d]));return e.filter&&(l=l.filter((f,g,b)=>e.filter(f,g,b,n))),e.itemSort&&(l=l.sort((f,g)=>e.itemSort(f,g,n))),hr(l,f=>{const g=Yb(e.callbacks,f);s.push(Ys(g,"labelColor",this,f)),i.push(Ys(g,"labelPointStyle",this,f)),a.push(Ys(g,"labelTextColor",this,f))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=a,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),s=this._active;let i,a=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const l=Qu[n.position].call(this,s,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);const d=this._size=Vb(this,n),h=Object.assign({},l,d),f=$b(this.chart,n,h),g=qb(n,h,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,i={opacity:1,x:g.x,y:g.y,width:d.width,height:d.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,s){const i=this.getCaretPosition(e,n,s);t.lineTo(i.x1,i.y1),t.lineTo(i.x2,i.y2),t.lineTo(i.x3,i.y3)}getCaretPosition(e,t,n){const{xAlign:s,yAlign:i}=this,{caretSize:a,cornerRadius:l}=n,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:g}=Fc(l),{x:b,y:m}=e,{width:S,height:k}=t;let w,_,E,R,I,B;return i==="center"?(I=m+k/2,s==="left"?(w=b,_=w-a,R=I+a,B=I-a):(w=b+S,_=w+a,R=I-a,B=I+a),E=w):(s==="left"?_=b+Math.max(d,f)+a:s==="right"?_=b+S-Math.max(h,g)-a:_=this.caretX,i==="top"?(R=m,I=R-a,w=_-a,E=_+a):(R=m+k,I=R+a,w=_+a,E=_-a),B=R),{x1:w,x2:_,x3:E,y1:R,y2:I,y3:B}}drawTitle(e,t,n){const s=this.title,i=s.length;let a,l,d;if(i){const h=Wd(n.rtl,this.x,this.width);for(e.x=$f(this,n.titleAlign,n),t.textAlign=h.textAlign(n.titleAlign),t.textBaseline="middle",a=Cn(n.titleFont),l=n.titleSpacing,t.fillStyle=n.titleColor,t.font=a.string,d=0;d<i;++d)t.fillText(s[d],h.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,d+1===i&&(e.y+=n.titleMarginBottom-l)}}_drawColorBox(e,t,n,s,i){const a=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:d,boxWidth:h}=i,f=Cn(i.bodyFont),g=$f(this,"left",i),b=s.x(g),m=d<f.lineHeight?(f.lineHeight-d)/2:0,S=t.y+m;if(i.usePointStyle){const k={radius:Math.min(h,d)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},w=s.leftForLtr(b,h)+h/2,_=S+d/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,Tm(e,k,w,_),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,Tm(e,k,w,_)}else{e.lineWidth=Gt(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const k=s.leftForLtr(b,h),w=s.leftForLtr(s.xPlus(b,1),h-2),_=Fc(a.borderRadius);Object.values(_).some(E=>E!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Sh(e,{x:k,y:S,w:h,h:d,radius:_}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Sh(e,{x:w,y:S+1,w:h-2,h:d-2,radius:_}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(k,S,h,d),e.strokeRect(k,S,h,d),e.fillStyle=a.backgroundColor,e.fillRect(w,S+1,h-2,d-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:s}=this,{bodySpacing:i,bodyAlign:a,displayColors:l,boxHeight:d,boxWidth:h,boxPadding:f}=n,g=Cn(n.bodyFont);let b=g.lineHeight,m=0;const S=Wd(n.rtl,this.x,this.width),k=function($){t.fillText($,S.x(e.x+m),e.y+b/2),e.y+=b+i},w=S.textAlign(a);let _,E,R,I,B,Q,te;for(t.textAlign=a,t.textBaseline="middle",t.font=g.string,e.x=$f(this,w,n),t.fillStyle=n.bodyColor,hr(this.beforeBody,k),m=l&&w!=="right"?a==="center"?h/2+f:h+2+f:0,I=0,Q=s.length;I<Q;++I){for(_=s[I],E=this.labelTextColors[I],t.fillStyle=E,hr(_.before,k),R=_.lines,l&&R.length&&(this._drawColorBox(t,e,I,S,n),b=Math.max(g.lineHeight,d)),B=0,te=R.length;B<te;++B)k(R[B]),b=g.lineHeight;hr(_.after,k)}m=0,b=g.lineHeight,hr(this.afterBody,k),e.y-=i}drawFooter(e,t,n){const s=this.footer,i=s.length;let a,l;if(i){const d=Wd(n.rtl,this.x,this.width);for(e.x=$f(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=d.textAlign(n.footerAlign),t.textBaseline="middle",a=Cn(n.footerFont),t.fillStyle=n.footerColor,t.font=a.string,l=0;l<i;++l)t.fillText(s[l],d.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+n.footerSpacing}}drawBackground(e,t,n,s){const{xAlign:i,yAlign:a}=this,{x:l,y:d}=e,{width:h,height:f}=n,{topLeft:g,topRight:b,bottomLeft:m,bottomRight:S}=Fc(s.cornerRadius);t.fillStyle=s.backgroundColor,t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.beginPath(),t.moveTo(l+g,d),a==="top"&&this.drawCaret(e,t,n,s),t.lineTo(l+h-b,d),t.quadraticCurveTo(l+h,d,l+h,d+b),a==="center"&&i==="right"&&this.drawCaret(e,t,n,s),t.lineTo(l+h,d+f-S),t.quadraticCurveTo(l+h,d+f,l+h-S,d+f),a==="bottom"&&this.drawCaret(e,t,n,s),t.lineTo(l+m,d+f),t.quadraticCurveTo(l,d+f,l,d+f-m),a==="center"&&i==="left"&&this.drawCaret(e,t,n,s),t.lineTo(l,d+g),t.quadraticCurveTo(l,d,l+g,d),t.closePath(),t.fill(),s.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,s=n&&n.x,i=n&&n.y;if(s||i){const a=Qu[e.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=Vb(this,e),d=Object.assign({},a,this._size),h=$b(t,e,d),f=qb(e,d,h,t);(s._to!==f.x||i._to!==f.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const a=Jn(t.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&l&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,s,t),pw(e,t.textDirection),i.y+=a.top,this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),gw(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,s=e.map(({datasetIndex:l,index:d})=>{const h=this.chart.getDatasetMeta(l);if(!h)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:h.data[d],index:d}}),i=!T0(n,s),a=this._positionChanged(s,t);(i||a)&&(this._active=s,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,n=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],a=this._getActiveElements(e,i,t,n),l=this._positionChanged(a,e),d=t||!T0(a,i)||l;return d&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),d}_getActiveElements(e,t,n,s){const i=this.options;if(e.type==="mouseout")return[];if(!s)return t.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:n,caretY:s,options:i}=this,a=Qu[i.position].call(this,e,t);return a!==!1&&(n!==a.x||s!==a.y)}}var Hh={id:"tooltip",_element:Kb,positioners:Qu,afterInit(r,e,t){t&&(r.tooltip=new Kb({chart:r,options:t}))},beforeUpdate(r,e,t){r.tooltip&&r.tooltip.initialize(t)},reset(r,e,t){r.tooltip&&r.tooltip.initialize(t)},afterDraw(r){const e=r.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(r.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(r.ctx),r.notifyPlugins("afterTooltipDraw",t)}},afterEvent(r,e){if(r.tooltip){const t=e.replay;r.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(r,e)=>e.bodyFont.size,boxWidth:(r,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Gw},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:r=>r!=="filter"&&r!=="itemSort"&&r!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},VA=Object.freeze({__proto__:null,Colors:aA,Decimation:dA,Filler:H1,Legend:Uh,SubTitle:DA,Title:hp,Tooltip:Hh});const $A=(r,e,t,n)=>(typeof e=="string"?(t=r.push(e)-1,n.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function qA(r,e,t,n){const s=r.indexOf(e);if(s===-1)return $A(r,e,t,n);const i=r.lastIndexOf(e);return s!==i?t:s}const GA=(r,e)=>r===null?null:Vn(Math.round(r),0,e);function Jb(r){const e=this.getLabels();return r>=0&&r<e.length?e[r]:r}class fp extends Gc{static id="category";static defaults={ticks:{callback:Jb}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const n=this.getLabels();for(const{index:s,label:i}of t)n[s]===i&&n.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Ut(e))return null;const n=this.getLabels();return t=isFinite(t)&&n[t]===e?t:qA(n,e,Ot(t,e),this._addedLabels),GA(t,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),t||(s=this.getLabels().length-1)),this.min=n,this.max=s}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,s=[];let i=this.getLabels();i=e===0&&t===i.length-1?i:i.slice(e,t+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let a=e;a<=t;a++)s.push({value:a});return s}getLabelForValue(e){return Jb.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function YA(r,e){const t=[],{bounds:s,step:i,min:a,max:l,precision:d,count:h,maxTicks:f,maxDigits:g,includeBounds:b}=r,m=i||1,S=f-1,{min:k,max:w}=e,_=!Ut(a),E=!Ut(l),R=!Ut(h),I=(w-k)/(g+1);let B=V2((w-k)/S/m)*m,Q,te,$,M;if(B<1e-14&&!_&&!E)return[{value:k},{value:w}];M=Math.ceil(w/B)-Math.floor(k/B),M>S&&(B=V2(M*B/S/m)*m),Ut(d)||(Q=Math.pow(10,d),B=Math.ceil(B*Q)/Q),s==="ticks"?(te=Math.floor(k/B)*B,$=Math.ceil(w/B)*B):(te=k,$=w),_&&E&&i&&WC((l-a)/i,B/1e3)?(M=Math.round(Math.min((l-a)/B,f)),B=(l-a)/M,te=a,$=l):R?(te=_?a:te,$=E?l:$,M=h-1,B=($-te)/M):(M=($-te)/B,ih(M,Math.round(M),B/1e3)?M=Math.round(M):M=Math.ceil(M));const ne=Math.max($2(B),$2(te));Q=Math.pow(10,Ut(d)?ne:d),te=Math.round(te*Q)/Q,$=Math.round($*Q)/Q;let D=0;for(_&&(b&&te!==a?(t.push({value:a}),te<a&&D++,ih(Math.round((te+D*B)*Q)/Q,a,Xb(a,I,r))&&D++):te<a&&D++);D<M;++D){const L=Math.round((te+D*B)*Q)/Q;if(E&&L>l)break;t.push({value:L})}return E&&b&&$!==l?t.length&&ih(t[t.length-1].value,l,Xb(l,I,r))?t[t.length-1].value=l:t.push({value:l}):(!E||$===l)&&t.push({value:$}),t}function Xb(r,e,{horizontal:t,minRotation:n}){const s=la(n),i=(t?Math.sin(s):Math.cos(s))||.001,a=.75*e*(""+r).length;return Math.min(e/i,a)}class z0 extends Gc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Ut(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this;const a=d=>s=t?s:d,l=d=>i=n?i:d;if(e){const d=za(s),h=za(i);d<0&&h<0?l(0):d>0&&h>0&&a(0)}if(s===i){let d=i===0?1:Math.abs(i*.05);l(i+d),e||a(s-d)}this.min=s,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:n}=e,s;return n?(s=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),t=t||11),t&&(s=Math.min(t,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const s={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},i=this._range||this,a=YA(s,i);return e.bounds==="ticks"&&X5(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const s=(n-t)/Math.max(e.length-1,1)/2;t-=s,n+=s}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return Fh(e,this.chart.options.locale,this.options.ticks.format)}}class pp extends z0{static id="linear";static defaults={ticks:{callback:ip.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=hn(e)?e:0,this.max=hn(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=la(this.options.ticks.minRotation),s=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,i.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Ch=r=>Math.floor(Ol(r)),Lc=(r,e)=>Math.pow(10,Ch(r)+e);function Zb(r){return r/Math.pow(10,Ch(r))===1}function Qb(r,e,t){const n=Math.pow(10,t),s=Math.floor(r/n);return Math.ceil(e/n)-s}function KA(r,e){const t=e-r;let n=Ch(t);for(;Qb(r,e,n)>10;)n++;for(;Qb(r,e,n)<10;)n--;return Math.min(n,Ch(r))}function JA(r,{min:e,max:t}){e=gi(r.min,e);const n=[],s=Ch(e);let i=KA(e,t),a=i<0?Math.pow(10,Math.abs(i)):1;const l=Math.pow(10,i),d=s>i?Math.pow(10,s):0,h=Math.round((e-d)*a)/a,f=Math.floor((e-d)/l/10)*l*10;let g=Math.floor((h-f)/Math.pow(10,i)),b=gi(r.min,Math.round((d+f+g*Math.pow(10,i))*a)/a);for(;b<t;)n.push({value:b,major:Zb(b),significand:g}),g>=10?g=g<15?15:20:g++,g>=20&&(i++,g=2,a=i>=0?1:a),b=Math.round((d+f+g*Math.pow(10,i))*a)/a;const m=gi(r.max,b);return n.push({value:m,major:Zb(m),significand:g}),n}class Yw extends Gc{static id="logarithmic";static defaults={ticks:{callback:ip.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=z0.prototype.parse.apply(this,[e,t]);if(n===0){this._zero=!0;return}return hn(n)&&n>0?n:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=hn(e)?Math.max(0,e):null,this.max=hn(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!hn(this._userMin)&&(this.min=e===Lc(this.min,0)?Lc(this.min,-1):Lc(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,s=this.max;const i=l=>n=e?n:l,a=l=>s=t?s:l;n===s&&(n<=0?(i(1),a(10)):(i(Lc(n,-1)),a(Lc(s,1)))),n<=0&&i(Lc(s,-1)),s<=0&&a(Lc(n,1)),this.min=n,this.max=s}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},n=JA(t,this);return e.bounds==="ticks"&&X5(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":Fh(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Ol(e),this._valueRange=Ol(this.max)-Ol(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Ol(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function Bm(r){const e=r.ticks;if(e.display&&r.display){const t=Jn(e.backdropPadding);return Ot(e.font&&e.font.size,Fr.font.size)+t.height}return 0}function XA(r,e,t){return t=Rr(t)?t:[t],{w:aj(r,e.string,t),h:t.length*e.lineHeight}}function ey(r,e,t,n,s){return r===n||r===s?{start:e-t/2,end:e+t/2}:r<n||r>s?{start:e-t,end:e}:{start:e,end:e+t}}function ZA(r){const e={l:r.left+r._padding.left,r:r.right-r._padding.right,t:r.top+r._padding.top,b:r.bottom-r._padding.bottom},t=Object.assign({},e),n=[],s=[],i=r._pointLabels.length,a=r.options.pointLabels,l=a.centerPointLabels?ar/i:0;for(let d=0;d<i;d++){const h=a.setContext(r.getPointLabelContext(d));s[d]=h.padding;const f=r.getPointPosition(d,r.drawingArea+s[d],l),g=Cn(h.font),b=XA(r.ctx,g,r._pointLabels[d]);n[d]=b;const m=ps(r.getIndexAngle(d)+l),S=Math.round(L1(m)),k=ey(S,f.x,b.w,0,180),w=ey(S,f.y,b.h,90,270);QA(t,e,m,k,w)}r.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),r._pointLabelItems=rE(r,n,s)}function QA(r,e,t,n,s){const i=Math.abs(Math.sin(t)),a=Math.abs(Math.cos(t));let l=0,d=0;n.start<e.l?(l=(e.l-n.start)/i,r.l=Math.min(r.l,e.l-l)):n.end>e.r&&(l=(n.end-e.r)/i,r.r=Math.max(r.r,e.r+l)),s.start<e.t?(d=(e.t-s.start)/a,r.t=Math.min(r.t,e.t-d)):s.end>e.b&&(d=(s.end-e.b)/a,r.b=Math.max(r.b,e.b+d))}function eE(r,e,t){const n=r.drawingArea,{extra:s,additionalAngle:i,padding:a,size:l}=t,d=r.getPointPosition(e,n+s+a,i),h=Math.round(L1(ps(d.angle+vn))),f=iE(d.y,l.h,h),g=nE(h),b=sE(d.x,l.w,g);return{visible:!0,x:d.x,y:f,textAlign:g,left:b,top:f,right:b+l.w,bottom:f+l.h}}function tE(r,e){if(!e)return!0;const{left:t,top:n,right:s,bottom:i}=r;return!(Do({x:t,y:n},e)||Do({x:t,y:i},e)||Do({x:s,y:n},e)||Do({x:s,y:i},e))}function rE(r,e,t){const n=[],s=r._pointLabels.length,i=r.options,{centerPointLabels:a,display:l}=i.pointLabels,d={extra:Bm(i)/2,additionalAngle:a?ar/s:0};let h;for(let f=0;f<s;f++){d.padding=t[f],d.size=e[f];const g=eE(r,f,d);n.push(g),l==="auto"&&(g.visible=tE(g,h),g.visible&&(h=g))}return n}function nE(r){return r===0||r===180?"center":r<180?"left":"right"}function sE(r,e,t){return t==="right"?r-=e:t==="center"&&(r-=e/2),r}function iE(r,e,t){return t===90||t===270?r-=e/2:(t>270||t<90)&&(r-=e),r}function aE(r,e,t){const{left:n,top:s,right:i,bottom:a}=t,{backdropColor:l}=e;if(!Ut(l)){const d=Fc(e.borderRadius),h=Jn(e.backdropPadding);r.fillStyle=l;const f=n-h.left,g=s-h.top,b=i-n+h.width,m=a-s+h.height;Object.values(d).some(S=>S!==0)?(r.beginPath(),Sh(r,{x:f,y:g,w:b,h:m,radius:d}),r.fill()):r.fillRect(f,g,b,m)}}function oE(r,e){const{ctx:t,options:{pointLabels:n}}=r;for(let s=e-1;s>=0;s--){const i=r._pointLabelItems[s];if(!i.visible)continue;const a=n.setContext(r.getPointLabelContext(s));aE(t,a,i);const l=Cn(a.font),{x:d,y:h,textAlign:f}=i;Wc(t,r._pointLabels[s],d,h+l.lineHeight/2,l,{color:a.color,textAlign:f,textBaseline:"middle"})}}function Kw(r,e,t,n){const{ctx:s}=r;if(t)s.arc(r.xCenter,r.yCenter,e,0,Or);else{let i=r.getPointPosition(0,e);s.moveTo(i.x,i.y);for(let a=1;a<n;a++)i=r.getPointPosition(a,e),s.lineTo(i.x,i.y)}}function lE(r,e,t,n,s){const i=r.ctx,a=e.circular,{color:l,lineWidth:d}=e;!a&&!n||!l||!d||t<0||(i.save(),i.strokeStyle=l,i.lineWidth=d,i.setLineDash(s.dash||[]),i.lineDashOffset=s.dashOffset,i.beginPath(),Kw(r,t,a,n),i.closePath(),i.stroke(),i.restore())}function cE(r,e,t){return Jl(r,{label:t,index:e,type:"pointLabel"})}class Wh extends z0{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ip.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Jn(Bm(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=hn(e)&&!isNaN(e)?e:0,this.max=hn(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Bm(this.options))}generateTickLabels(e){z0.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,n)=>{const s=kr(this.options.pointLabels.callback,[t,n],this);return s||s===0?s:""}).filter((t,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?ZA(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,s){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,s))}getIndexAngle(e){const t=Or/(this._pointLabels.length||1),n=this.options.startAngle||0;return ps(e*t+la(n))}getDistanceFromCenterForValue(e){if(Ut(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Ut(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return cE(this.getContext(),e,n)}}getPointPosition(e,t,n=0){const s=this.getIndexAngle(e)-vn+n;return{x:Math.cos(s)*t+this.xCenter,y:Math.sin(s)*t+this.yCenter,angle:s}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:s,bottom:i}=this._pointLabelItems[e];return{left:t,top:n,right:s,bottom:i}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),Kw(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:s,border:i}=t,a=this._pointLabels.length;let l,d,h;if(t.pointLabels.display&&oE(this,a),s.display&&this.ticks.forEach((f,g)=>{if(g!==0||g===0&&this.min<0){d=this.getDistanceFromCenterForValue(f.value);const b=this.getContext(g),m=s.setContext(b),S=i.setContext(b);lE(this,m,d,a,S)}}),n.display){for(e.save(),l=a-1;l>=0;l--){const f=n.setContext(this.getPointLabelContext(l)),{color:g,lineWidth:b}=f;!b||!g||(e.lineWidth=b,e.strokeStyle=g,e.setLineDash(f.borderDash),e.lineDashOffset=f.borderDashOffset,d=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),h=this.getPointPosition(l,d),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(h.x,h.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const s=this.getIndexAngle(0);let i,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(s),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((l,d)=>{if(d===0&&this.min>=0&&!t.reverse)return;const h=n.setContext(this.getContext(d)),f=Cn(h.font);if(i=this.getDistanceFromCenterForValue(this.ticks[d].value),h.showLabelBackdrop){e.font=f.string,a=e.measureText(l.label).width,e.fillStyle=h.backdropColor;const g=Jn(h.backdropPadding);e.fillRect(-a/2-g.left,-i-f.size/2-g.top,a+g.width,f.size+g.height)}Wc(e,l.label,0,-i,f,{color:h.color,strokeColor:h.textStrokeColor,strokeWidth:h.textStrokeWidth})}),e.restore()}drawTitle(){}}const gp={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Js=Object.keys(gp);function ty(r,e){return r-e}function ry(r,e){if(Ut(e))return null;const t=r._adapter,{parser:n,round:s,isoWeekday:i}=r._parseOpts;let a=e;return typeof n=="function"&&(a=n(a)),hn(a)||(a=typeof n=="string"?t.parse(a,n):t.parse(a)),a===null?null:(s&&(a=s==="week"&&(eu(i)||i===!0)?t.startOf(a,"isoWeek",i):t.startOf(a,s)),+a)}function ny(r,e,t,n){const s=Js.length;for(let i=Js.indexOf(r);i<s-1;++i){const a=gp[Js[i]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((t-e)/(l*a.size))<=n)return Js[i]}return Js[s-1]}function dE(r,e,t,n,s){for(let i=Js.length-1;i>=Js.indexOf(t);i--){const a=Js[i];if(gp[a].common&&r._adapter.diff(s,n,a)>=e-1)return a}return Js[t?Js.indexOf(t):0]}function uE(r){for(let e=Js.indexOf(r)+1,t=Js.length;e<t;++e)if(gp[Js[e]].common)return Js[e]}function sy(r,e,t){if(!t)r[e]=!0;else if(t.length){const{lo:n,hi:s}=I1(t,e),i=t[n]>=e?t[n]:t[s];r[i]=!0}}function hE(r,e,t,n){const s=r._adapter,i=+s.startOf(e[0].value,n),a=e[e.length-1].value;let l,d;for(l=i;l<=a;l=+s.add(l,1,n))d=t[l],d>=0&&(e[d].major=!0);return e}function iy(r,e,t){const n=[],s={},i=e.length;let a,l;for(a=0;a<i;++a)l=e[a],s[l]=a,n.push({value:l,major:!1});return i===0||!t?n:hE(r,n,s,t)}class zm extends Gc{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const n=e.time||(e.time={}),s=this._adapter=new S8._date(e.adapters.date);s.init(t),sh(n.displayFormats,s.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:ry(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:s,max:i,minDefined:a,maxDefined:l}=this.getUserBounds();function d(h){!a&&!isNaN(h.min)&&(s=Math.min(s,h.min)),!l&&!isNaN(h.max)&&(i=Math.max(i,h.max))}(!a||!l)&&(d(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&d(this.getMinMax(!1))),s=hn(s)&&!isNaN(s)?s:+t.startOf(Date.now(),n),i=hn(i)&&!isNaN(i)?i:+t.endOf(Date.now(),n)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,s=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,a=this.max,l=GC(s,i,a);return this._unit=t.unit||(n.autoSkip?ny(t.minUnit,this.min,this.max,this._getLabelCapacity(i)):dE(this,l.length,t.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:uE(this._unit),this.initOffsets(s),e.reverse&&l.reverse(),iy(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,n=0,s,i;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?t=1-s:t=(this.getDecimalForValue(e[1])-s)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?n=i:n=(i-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;t=Vn(t,0,a),n=Vn(n,0,a),this._offsets={start:t,end:n,factor:1/(t+1+n)}}_generate(){const e=this._adapter,t=this.min,n=this.max,s=this.options,i=s.time,a=i.unit||ny(i.minUnit,t,n,this._getLabelCapacity(t)),l=Ot(s.ticks.stepSize,1),d=a==="week"?i.isoWeekday:!1,h=eu(d)||d===!0,f={};let g=t,b,m;if(h&&(g=+e.startOf(g,"isoWeek",d)),g=+e.startOf(g,h?"day":a),e.diff(n,t,a)>1e5*l)throw new Error(t+" and "+n+" are too far apart with stepSize of "+l+" "+a);const S=s.ticks.source==="data"&&this.getDataTimestamps();for(b=g,m=0;b<n;b=+e.add(b,l,a),m++)sy(f,b,S);return(b===n||s.bounds==="ticks"||m===1)&&sy(f,b,S),Object.keys(f).sort(ty).map(k=>+k)}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const s=this.options.time.displayFormats,i=this._unit,a=t||s[i];return this._adapter.format(e,a)}_tickFormatFunction(e,t,n,s){const i=this.options,a=i.ticks.callback;if(a)return kr(a,[e,t,n],this);const l=i.time.displayFormats,d=this._unit,h=this._majorUnit,f=d&&l[d],g=h&&l[h],b=n[t],m=h&&g&&b&&b.major;return this._adapter.format(e,s||(m?g:f))}generateTickLabels(e){let t,n,s;for(t=0,n=e.length;t<n;++t)s=e[t],s.label=this._tickFormatFunction(s.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,s=la(this.isHorizontal()?t.maxRotation:t.minRotation),i=Math.cos(s),a=Math.sin(s),l=this._resolveTickFontOptions(0).size;return{w:n*i+l*a,h:n*a+l*i}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,s=n[t.unit]||n.millisecond,i=this._tickFormatFunction(e,0,iy(this,[e],this._majorUnit),s),a=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],t,n;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(t=0,n=s.length;t<n;++t)e=e.concat(s[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const s=this.getLabels();for(t=0,n=s.length;t<n;++t)e.push(ry(this,s[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return ew(e.sort(ty))}}function qf(r,e,t){let n=0,s=r.length-1,i,a,l,d;t?(e>=r[n].pos&&e<=r[s].pos&&({lo:n,hi:s}=Ro(r,"pos",e)),{pos:i,time:l}=r[n],{pos:a,time:d}=r[s]):(e>=r[n].time&&e<=r[s].time&&({lo:n,hi:s}=Ro(r,"time",e)),{time:i,pos:l}=r[n],{time:a,pos:d}=r[s]);const h=a-i;return h?l+(d-l)*(e-i)/h:l}class fE extends zm{static id="timeseries";static defaults=zm.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=qf(t,this.min),this._tableRange=qf(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,s=[],i=[];let a,l,d,h,f;for(a=0,l=e.length;a<l;++a)h=e[a],h>=t&&h<=n&&s.push(h);if(s.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(a=0,l=s.length;a<l;++a)f=s[a+1],d=s[a-1],h=s[a],Math.round((f+d)/2)!==h&&i.push({time:h,pos:a/(l-1)});return i}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(t)||n.length===1)&&n.push(t),n.sort((s,i)=>s-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return t.length&&n.length?e=this.normalize(t.concat(n)):e=t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(qf(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return qf(this._table,n*this._tableRange+this._minPos,!0)}}var pE=Object.freeze({__proto__:null,CategoryScale:fp,LinearScale:pp,LogarithmicScale:Yw,RadialLinearScale:Wh,TimeScale:zm,TimeSeriesScale:fE});const gE=[_8,QP,VA,pE],Jw="label";function ay(r,e){typeof r=="function"?r(e):r&&(r.current=e)}function mE(r,e){const t=r.options;t&&e&&Object.assign(t,e)}function Xw(r,e){r.labels=e}function Zw(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Jw;const n=[];r.datasets=e.map(s=>{const i=r.datasets.find(a=>a[t]===s[t]);return!i||!s.data||n.includes(i)?{...s}:(n.push(i),Object.assign(i,s),i)})}function xE(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Jw;const t={labels:[],datasets:[]};return Xw(t,r.labels),Zw(t,r.datasets,e),t}function bE(r,e){const{height:t=150,width:n=300,redraw:s=!1,datasetIdKey:i,type:a,data:l,options:d,plugins:h=[],fallbackContent:f,updateMode:g,...b}=r,m=U.useRef(null),S=U.useRef(null),k=()=>{m.current&&(S.current=new Jo(m.current,{type:a,data:xE(l,i),options:d&&{...d},plugins:h}),ay(e,S.current))},w=()=>{ay(e,null),S.current&&(S.current.destroy(),S.current=null)};return U.useEffect(()=>{!s&&S.current&&d&&mE(S.current,d)},[s,d]),U.useEffect(()=>{!s&&S.current&&Xw(S.current.config.data,l.labels)},[s,l.labels]),U.useEffect(()=>{!s&&S.current&&l.datasets&&Zw(S.current.config.data,l.datasets,i)},[s,l.datasets]),U.useEffect(()=>{S.current&&(s?(w(),setTimeout(k)):S.current.update(g))},[s,d,l.labels,l.datasets,g]),U.useEffect(()=>{S.current&&(w(),setTimeout(k))},[a]),U.useEffect(()=>(k(),()=>w()),[]),Ho.createElement("canvas",{ref:m,role:"img",height:t,width:n,...b},f)}const yE=U.forwardRef(bE);function uu(r,e){return Jo.register(e),U.forwardRef((t,n)=>Ho.createElement(yE,{...t,ref:n,type:r}))}const U0=uu("line",Sw),Oa=uu("bar",_w),V1=uu("radar",jw),$1=uu("doughnut",cp),q1=uu("pie",Cw),H0=uu("scatter",Pw),vE=(r,e)=>{const t=e?10:20;return r.slice(0,t)},wE=(r,e,t)=>r.map((n,s)=>({...n,_originalIndex:s})).sort((n,s)=>{const i=parseFloat(n[e])||0;return(parseFloat(s[e])||0)-i}).slice(0,t),kE=(r,e,t)=>r.map((n,s)=>({...n,_originalIndex:s})).sort((n,s)=>{const i=parseFloat(n[e])||0,a=parseFloat(s[e])||0;return i-a}).slice(0,t),_E=(r,e)=>!e||e.length===0?r:r.filter((t,n)=>e.includes(n)),Um=()=>window.innerWidth<768,SE=(r,e)=>r.map((n,s)=>({...n,_originalIndex:s})).sort(()=>Math.random()-.5).slice(0,e);Jo.register(Wh,du,Hh,Uh);const jh=({value:r,max:e=100,options:t})=>{const n=U.useRef(null);return U.useEffect(()=>{if(!n.current)return;const s=n.current,i=s.getContext("2d"),a=s.parentElement,l=a.clientWidth,d=a.clientHeight;s.width=l,s.height=d;const h=s.width,f=s.height,g=h/2,b=f*.65,m=Math.min(h,f)*.35;i.clearRect(0,0,h,f),i.beginPath(),i.arc(g,b,m+15,Math.PI*.75,Math.PI*2.25),i.lineWidth=2,i.strokeStyle="rgba(59, 130, 246, 0.2)",i.stroke(),i.beginPath(),i.arc(g,b,m,Math.PI*.75,Math.PI*2.25),i.lineWidth=28,i.strokeStyle="#e5e7eb",i.lineCap="round",i.stroke();const S=Math.min(r/e,1),k=Math.PI*.75+S*Math.PI*1.5,w=i.createLinearGradient(g-m,b,g+m,b);w.addColorStop(0,"#ef4444"),w.addColorStop(.5,"#f59e0b"),w.addColorStop(1,"#10b981"),i.beginPath(),i.arc(g,b,m,Math.PI*.75,k),i.lineWidth=28,i.strokeStyle=w,i.lineCap="round",i.stroke();const _=Math.PI*.75+S*Math.PI*1.5,E=m-15,R=g+Math.cos(_)*E,I=b+Math.sin(_)*E;i.shadowColor="rgba(0, 0, 0, 0.3)",i.shadowBlur=8,i.shadowOffsetX=2,i.shadowOffsetY=2,i.beginPath(),i.moveTo(g,b),i.lineTo(R,I),i.lineWidth=4,i.strokeStyle="#1f2937",i.lineCap="round",i.stroke(),i.shadowColor="transparent",i.beginPath(),i.arc(g,b,12,0,2*Math.PI),i.fillStyle="#1f2937",i.fill(),i.beginPath(),i.arc(g,b,6,0,2*Math.PI),i.fillStyle="#3b82f6",i.fill(),i.font="bold 42px Inter, system-ui",i.fillStyle="#1f2937",i.textAlign="center",i.textBaseline="middle",i.fillText(Math.round(r),g,b+m+40),i.font="16px Inter, system-ui",i.fillStyle="#6b7280",i.fillText(`/ ${e}`,g,b+m+70),i.font="11px Inter, system-ui",i.fillStyle="#9ca3af";for(let B=0;B<=10;B++){const Q=Math.PI*.75+B/10*Math.PI*1.5,te=g+Math.cos(Q)*(m+35),$=b+Math.sin(Q)*(m+35),M=Math.round(B/10*e);i.fillText(M.toString(),te,$)}},[r,e]),c.jsx("canvas",{ref:n,style:{width:"100%",height:"100%",display:"block"}})},Ie={BAR:"bar",COLUMN:"column",LINE:"line",AREA:"area",PIE:"pie",DOUGHNUT:"doughnut",SCATTER:"scatter",BUBBLE:"bubble",RADAR:"radar",COMPARISON:"comparison",STACKED_BAR:"stacked",GAUGE:"gauge"},NE=r=>{const e={[Ie.BAR]:{name:"Bar Chart",description:"Horizontal bars for comparing categories",indexAxis:"y",stacked:!1,features:{sort:!0,gradient:!0,trendline:!0,logScale:!0,comparison:!0,labels:!0,threeD:!0}},[Ie.COLUMN]:{name:"Column Chart",description:"Vertical bars for category comparison",indexAxis:"x",stacked:!1,features:{sort:!0,gradient:!0,trendline:!0,logScale:!0,comparison:!0,labels:!0,threeD:!0}},[Ie.LINE]:{name:"Line Chart",description:"Trends or changes over time",indexAxis:"x",stacked:!1,features:{sort:!1,gradient:!0,trendline:!0,logScale:!0,comparison:!0,labels:!0,threeD:!0}},[Ie.AREA]:{name:"Area Chart",description:"Filled area under a line showing volume or magnitude",indexAxis:"x",stacked:!0,features:{sort:!1,gradient:!0,trendline:!0,logScale:!0,comparison:!0,labels:!0,threeD:!1}},[Ie.PIE]:{name:"Pie Chart",description:"Circular slices representing parts of a whole",features:{sort:!1,gradient:!0,trendline:!1,logScale:!1,comparison:!1,labels:!0,threeD:!0}},[Ie.DOUGHNUT]:{name:"Doughnut Chart",description:"Like a pie chart with a central hole",features:{sort:!1,gradient:!0,trendline:!1,logScale:!1,comparison:!1,labels:!0,threeD:!0}},[Ie.SCATTER]:{name:"Scatter Plot",description:"Points showing relationships between two variables",features:{sort:!1,gradient:!0,trendline:!0,logScale:!0,comparison:!1,labels:!0,threeD:!1}},[Ie.BUBBLE]:{name:"Bubble Chart",description:"Scatter plot with variable bubble sizes",features:{sort:!1,gradient:!0,trendline:!1,logScale:!0,comparison:!1,labels:!0,threeD:!1}},[Ie.RADAR]:{name:"Radar Chart",description:"Values displayed on multiple axes from a central point",features:{sort:!1,gradient:!0,trendline:!1,logScale:!1,comparison:!0,labels:!0,threeD:!1}},[Ie.COMPARISON]:{name:"Comparison Chart",description:"Side-by-side vertical bars to compare series",indexAxis:"x",stacked:!1,features:{sort:!0,gradient:!0,trendline:!1,logScale:!0,comparison:!0,labels:!0,threeD:!0}},[Ie.STACKED_BAR]:{name:"Stacked Bar Chart",description:"Bars stacked to show parts of a whole across categories",indexAxis:"x",stacked:!0,features:{sort:!0,gradient:!0,trendline:!1,logScale:!0,comparison:!1,labels:!0,threeD:!0}},[Ie.GAUGE]:{name:"Gauge Chart",description:"Circular gauge showing current progress or performance",features:{sort:!1,gradient:!0,trendline:!1,logScale:!1,comparison:!1,labels:!0,threeD:!1}}};return e[r]||e[Ie.BAR]},G1={[Ie.BAR]:{perspective:"horizontal",depthAxis:"x",supports3D:!0,depthRatio:.3,angleX:45,angleY:20},[Ie.COLUMN]:{perspective:"vertical",depthAxis:"y",supports3D:!0,depthRatio:.3,angleX:45,angleY:20},[Ie.PIE]:{perspective:"circular",supports3D:!0,depth:25,angle:25},[Ie.DOUGHNUT]:{perspective:"circular",supports3D:!0,depth:20,angle:25,innerDepth:.6},[Ie.COMPARISON]:{perspective:"vertical",depthAxis:"y",supports3D:!0,depthRatio:.25,angleX:45,angleY:20},[Ie.STACKED_BAR]:{perspective:"vertical",depthAxis:"y",supports3D:!0,depthRatio:.3,angleX:45,angleY:20}},CE=(r,e,t={})=>{const n=G1[e];if(!n||!n.supports3D)return r;const s=t.shadow3DDepth||8,i=t.shadow3DPosition||"bottom-right",l=((h,f)=>{const g={"bottom-right":{x:f,y:f},"bottom-left":{x:-f,y:f},"top-right":{x:f,y:-f},"top-left":{x:-f,y:-f},bottom:{x:0,y:f},right:{x:f,y:0},left:{x:-f,y:0},top:{x:0,y:-f}};return g[h]||g["bottom-right"]})(i,s);return{...r,datasets:r.datasets.map((h,f)=>{if(h.label?.includes("3D Depth")||h.label?.includes("Trend"))return h;const g=lh(h.backgroundColor,.5);return{...h,shadowOffsetX:l.x,shadowOffsetY:l.y,shadowBlur:s/2,shadowColor:g,borderWidth:2,borderColor:lh(h.backgroundColor,.2)}})}},jE=(r,e,t={})=>{const n=G1[e];if(!n||!n.supports3D)return r;const s=t.shadow3DDepth||n.depth||20;return{...r,options:{...r.options,plugins:{...r.options?.plugins,threeDEffect:{enabled:!0,depth:s,angle:n.angle}}}}},PE={id:"threeDEffect",beforeDatasetsDraw:(r,e,t)=>{if(!t||!t.enabled)return;const{ctx:n,chartArea:s,data:i}=r;if(!s||!i||!i.datasets)return;const{top:a,bottom:l,left:d,right:h,width:f,height:g}=s,b=(d+h)/2,m=(a+l)/2,S=Math.min(f,g)/2,k=t.depth||20,w=(t.angle||25)*Math.PI/180;n.save(),i.datasets.forEach((_,E)=>{const R=r.getDatasetMeta(E);if(R.data){for(let I=k;I>0;I-=1){const B=I*Math.sin(w),Q=1-I/k*.4;R.data.forEach((te,$)=>{const M=te,ne=M.startAngle||0,D=M.endAngle||0,L=M.outerRadius||S,O=M.innerRadius||0;let W=Array.isArray(_.backgroundColor)?_.backgroundColor[$]:_.backgroundColor;typeof W!="string"&&(W="#2563eb");const X=I===k?lh(W,.5):lh(W,.3);if(n.globalAlpha=Q,n.beginPath(),n.arc(b,m+B,L,ne,D),n.arc(b,m+B,O,D,ne,!0),n.closePath(),n.fillStyle=X,n.fill(),I===k&&ne<Math.PI&&D>Math.PI){n.globalAlpha=Q*.8;const le=lh(W,.4),pe=b+Math.cos(ne)*L,ae=m+Math.sin(ne)*L,xe=b+Math.cos(D)*L,be=m+Math.sin(D)*L;n.beginPath(),n.moveTo(pe,ae),n.lineTo(pe,ae+B),n.arc(b,m+B,L,ne,D),n.lineTo(xe,be),n.arc(b,m,L,D,ne,!0),n.closePath(),n.fillStyle=le,n.fill()}})}n.globalAlpha=1}}),n.restore()}},AE={id:"threeDBar",beforeDatasetsDraw:(r,e,t)=>{const{ctx:n,data:s,chartArea:i,scales:a}=r;if(!i||!s.datasets.some(h=>h.shadowOffsetX||h.shadowOffsetY))return;const d=r.config.options.indexAxis==="y";n.save(),s.datasets.forEach((h,f)=>{const g=r.getDatasetMeta(f);if(!g.data||!h.shadowOffsetX||h.label?.includes("Trend"))return;const b=h.shadowOffsetX||0,m=h.shadowOffsetY||0;let S=h.shadowColor||"rgba(0, 0, 0, 0.3)";typeof S!="string"&&(S="rgba(0, 0, 0, 0.3)"),g.data.forEach((k,w)=>{const{x:_,y:E,width:R,height:I,base:B}=k.getProps(["x","y","width","height","base"],!0),Q=3;for(let te=Q;te>0;te--){const $=te/Q,M=b*$,ne=m*$,D=.15*$;let L=S;S.includes("rgba")?L=S.replace(/[\d.]+\)$/,`${D})`):S.includes("rgb")?L=S.replace("rgb","rgba").replace(")",`, ${D})`):L=`rgba(0, 0, 0, ${D})`,n.fillStyle=L,n.beginPath(),n.rect(_+M,E+ne,R,I),n.fill()}if(Math.abs(b)>2||Math.abs(m)>2){let te=Array.isArray(h.backgroundColor)?h.backgroundColor[w]:h.backgroundColor;typeof te!="string"&&(te="#2563eb");const $=Hm(te,.3);n.fillStyle=$,b>0&&(n.beginPath(),n.moveTo(_+R,E),n.lineTo(_+R+b,E+m),n.lineTo(_+R+b,E+I+m),n.lineTo(_+R,E+I),n.closePath(),n.fill()),m>0&&(n.beginPath(),n.moveTo(_,E+I),n.lineTo(_+b,E+I+m),n.lineTo(_+R+b,E+I+m),n.lineTo(_+R,E+I),n.closePath(),n.fill())}})}),n.restore()}},lh=(r,e=.3)=>Array.isArray(r)?r.map(t=>Hm(t,e)):Hm(r,e),Hm=(r,e)=>{let t,n,s,i=1;if(r.startsWith("#")){const a=r.replace("#","");t=parseInt(a.substr(0,2),16),n=parseInt(a.substr(2,2),16),s=parseInt(a.substr(4,2),16)}else if(r.startsWith("rgb")){const a=r.match(/\d+\.?\d*/g);a&&(t=parseInt(a[0]),n=parseInt(a[1]),s=parseInt(a[2]),i=a[3]?parseFloat(a[3]):1)}else return r;return t=Math.max(0,Math.floor(t*(1-e))),n=Math.max(0,Math.floor(n*(1-e))),s=Math.max(0,Math.floor(s*(1-e))),`rgba(${t}, ${n}, ${s}, ${i})`},EE=(r,e,t,n,s)=>{if(!t)return r;const i=G1[e];if(!i||!i.supports3D||!r||typeof r!="object")return r;const a={...r};return(e===Ie.BAR||e===Ie.COLUMN||e===Ie.COMPARISON||e===Ie.STACKED_BAR)&&(a.layout||(a.layout={}),a.layout.padding||(a.layout.padding={}),a.layout.padding={...a.layout.padding,right:(a.layout.padding.right||0)+s+10,bottom:(a.layout.padding.bottom||0)+s+10},a.elements||(a.elements={}),a.elements.bar||(a.elements.bar={}),a.elements.bar.borderRadius={topLeft:4,topRight:4,bottomLeft:0,bottomRight:0}),(e===Ie.PIE||e===Ie.DOUGHNUT)&&(a.plugins||(a.plugins={}),a.plugins.threeDEffect={enabled:!0,depth:s,angle:i.angle}),a};/*!
 * chartjs-plugin-datalabels v2.2.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2022 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */var oy=(function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var r=window.screen;if(r)return(r.deviceXDPI||1)/(r.logicalXDPI||1)}return 1})(),ch={toTextLines:function(r){var e=[],t;for(r=[].concat(r);r.length;)t=r.pop(),typeof t=="string"?e.unshift.apply(e,t.split(`
`)):Array.isArray(t)?r.push.apply(r,t):Ut(r)||e.unshift(""+t);return e},textSize:function(r,e,t){var n=[].concat(e),s=n.length,i=r.font,a=0,l;for(r.font=t.string,l=0;l<s;++l)a=Math.max(r.measureText(n[l]).width,a);return r.font=i,{height:s*t.lineHeight,width:a}},bound:function(r,e,t){return Math.max(r,Math.min(e,t))},arrayDiff:function(r,e){var t=r.slice(),n=[],s,i,a,l;for(s=0,a=e.length;s<a;++s)l=e[s],i=t.indexOf(l),i===-1?n.push([l,1]):t.splice(i,1);for(s=0,a=t.length;s<a;++s)n.push([t[s],-1]);return n},rasterize:function(r){return Math.round(r*oy)/oy}};function Lg(r,e){var t=e.x,n=e.y;if(t===null)return{x:0,y:-1};if(n===null)return{x:1,y:0};var s=r.x-t,i=r.y-n,a=Math.sqrt(s*s+i*i);return{x:a?s/a:0,y:a?i/a:-1}}function LE(r,e,t,n,s){switch(s){case"center":t=n=0;break;case"bottom":t=0,n=1;break;case"right":t=1,n=0;break;case"left":t=-1,n=0;break;case"top":t=0,n=-1;break;case"start":t=-t,n=-n;break;case"end":break;default:s*=Math.PI/180,t=Math.cos(s),n=Math.sin(s);break}return{x:r,y:e,vx:t,vy:n}}var IE=0,Qw=1,ek=2,tk=4,rk=8;function Gf(r,e,t){var n=IE;return r<t.left?n|=Qw:r>t.right&&(n|=ek),e<t.top?n|=rk:e>t.bottom&&(n|=tk),n}function TE(r,e){for(var t=r.x0,n=r.y0,s=r.x1,i=r.y1,a=Gf(t,n,e),l=Gf(s,i,e),d,h,f;!(!(a|l)||a&l);)d=a||l,d&rk?(h=t+(s-t)*(e.top-n)/(i-n),f=e.top):d&tk?(h=t+(s-t)*(e.bottom-n)/(i-n),f=e.bottom):d&ek?(f=n+(i-n)*(e.right-t)/(s-t),h=e.right):d&Qw&&(f=n+(i-n)*(e.left-t)/(s-t),h=e.left),d===a?(t=h,n=f,a=Gf(t,n,e)):(s=h,i=f,l=Gf(s,i,e));return{x0:t,x1:s,y0:n,y1:i}}function Yf(r,e){var t=e.anchor,n=r,s,i;return e.clamp&&(n=TE(n,e.area)),t==="start"?(s=n.x0,i=n.y0):t==="end"?(s=n.x1,i=n.y1):(s=(n.x0+n.x1)/2,i=(n.y0+n.y1)/2),LE(s,i,r.vx,r.vy,e.align)}var Kf={arc:function(r,e){var t=(r.startAngle+r.endAngle)/2,n=Math.cos(t),s=Math.sin(t),i=r.innerRadius,a=r.outerRadius;return Yf({x0:r.x+n*i,y0:r.y+s*i,x1:r.x+n*a,y1:r.y+s*a,vx:n,vy:s},e)},point:function(r,e){var t=Lg(r,e.origin),n=t.x*r.options.radius,s=t.y*r.options.radius;return Yf({x0:r.x-n,y0:r.y-s,x1:r.x+n,y1:r.y+s,vx:t.x,vy:t.y},e)},bar:function(r,e){var t=Lg(r,e.origin),n=r.x,s=r.y,i=0,a=0;return r.horizontal?(n=Math.min(r.x,r.base),i=Math.abs(r.base-r.x)):(s=Math.min(r.y,r.base),a=Math.abs(r.base-r.y)),Yf({x0:n,y0:s+a,x1:n+i,y1:s,vx:t.x,vy:t.y},e)},fallback:function(r,e){var t=Lg(r,e.origin);return Yf({x0:r.x,y0:r.y,x1:r.x+(r.width||0),y1:r.y+(r.height||0),vx:t.x,vy:t.y},e)}},Oo=ch.rasterize;function ME(r){var e=r.borderWidth||0,t=r.padding,n=r.size.height,s=r.size.width,i=-s/2,a=-n/2;return{frame:{x:i-t.left-e,y:a-t.top-e,w:s+t.width+e*2,h:n+t.height+e*2},text:{x:i,y:a,w:s,h:n}}}function RE(r,e){var t=e.chart.getDatasetMeta(e.datasetIndex).vScale;if(!t)return null;if(t.xCenter!==void 0&&t.yCenter!==void 0)return{x:t.xCenter,y:t.yCenter};var n=t.getBasePixel();return r.horizontal?{x:n,y:null}:{x:null,y:n}}function DE(r){return r instanceof du?Kf.arc:r instanceof Bh?Kf.point:r instanceof zh?Kf.bar:Kf.fallback}function OE(r,e,t,n,s,i){var a=Math.PI/2;if(i){var l=Math.min(i,s/2,n/2),d=e+l,h=t+l,f=e+n-l,g=t+s-l;r.moveTo(e,h),d<f&&h<g?(r.arc(d,h,l,-Math.PI,-a),r.arc(f,h,l,-a,0),r.arc(f,g,l,0,a),r.arc(d,g,l,a,Math.PI)):d<f?(r.moveTo(d,t),r.arc(f,h,l,-a,a),r.arc(d,h,l,a,Math.PI+a)):h<g?(r.arc(d,h,l,-Math.PI,0),r.arc(d,g,l,0,Math.PI)):r.arc(d,h,l,-Math.PI,Math.PI),r.closePath(),r.moveTo(e,t)}else r.rect(e,t,n,s)}function FE(r,e,t){var n=t.backgroundColor,s=t.borderColor,i=t.borderWidth;!n&&(!s||!i)||(r.beginPath(),OE(r,Oo(e.x)+i/2,Oo(e.y)+i/2,Oo(e.w)-i,Oo(e.h)-i,t.borderRadius),r.closePath(),n&&(r.fillStyle=n,r.fill()),s&&i&&(r.strokeStyle=s,r.lineWidth=i,r.lineJoin="miter",r.stroke()))}function BE(r,e,t){var n=t.lineHeight,s=r.w,i=r.x,a=r.y+n/2;return e==="center"?i+=s/2:(e==="end"||e==="right")&&(i+=s),{h:n,w:s,x:i,y:a}}function zE(r,e,t){var n=r.shadowBlur,s=t.stroked,i=Oo(t.x),a=Oo(t.y),l=Oo(t.w);s&&r.strokeText(e,i,a,l),t.filled&&(n&&s&&(r.shadowBlur=0),r.fillText(e,i,a,l),n&&s&&(r.shadowBlur=n))}function UE(r,e,t,n){var s=n.textAlign,i=n.color,a=!!i,l=n.font,d=e.length,h=n.textStrokeColor,f=n.textStrokeWidth,g=h&&f,b;if(!(!d||!a&&!g))for(t=BE(t,s,l),r.font=l.string,r.textAlign=s,r.textBaseline="middle",r.shadowBlur=n.textShadowBlur,r.shadowColor=n.textShadowColor,a&&(r.fillStyle=i),g&&(r.lineJoin="round",r.lineWidth=f,r.strokeStyle=h),b=0,d=e.length;b<d;++b)zE(r,e[b],{stroked:g,filled:a,w:t.w,x:t.x,y:t.y+t.h*b})}var nk=function(r,e,t,n){var s=this;s._config=r,s._index=n,s._model=null,s._rects=null,s._ctx=e,s._el=t};Ua(nk.prototype,{_modelize:function(r,e,t,n){var s=this,i=s._index,a=Cn(Mr([t.font,{}],n,i)),l=Mr([t.color,Fr.color],n,i);return{align:Mr([t.align,"center"],n,i),anchor:Mr([t.anchor,"center"],n,i),area:n.chart.chartArea,backgroundColor:Mr([t.backgroundColor,null],n,i),borderColor:Mr([t.borderColor,null],n,i),borderRadius:Mr([t.borderRadius,0],n,i),borderWidth:Mr([t.borderWidth,0],n,i),clamp:Mr([t.clamp,!1],n,i),clip:Mr([t.clip,!1],n,i),color:l,display:r,font:a,lines:e,offset:Mr([t.offset,4],n,i),opacity:Mr([t.opacity,1],n,i),origin:RE(s._el,n),padding:Jn(Mr([t.padding,4],n,i)),positioner:DE(s._el),rotation:Mr([t.rotation,0],n,i)*(Math.PI/180),size:ch.textSize(s._ctx,e,a),textAlign:Mr([t.textAlign,"start"],n,i),textShadowBlur:Mr([t.textShadowBlur,0],n,i),textShadowColor:Mr([t.textShadowColor,l],n,i),textStrokeColor:Mr([t.textStrokeColor,l],n,i),textStrokeWidth:Mr([t.textStrokeWidth,0],n,i)}},update:function(r){var e=this,t=null,n=null,s=e._index,i=e._config,a,l,d,h=Mr([i.display,!0],r,s);h&&(a=r.dataset.data[s],l=Ot(kr(i.formatter,[a,r]),a),d=Ut(l)?[]:ch.toTextLines(l),d.length&&(t=e._modelize(h,d,i,r),n=ME(t))),e._model=t,e._rects=n},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(r,e){var t=this,n=r.ctx,s=t._model,i=t._rects,a;this.visible()&&(n.save(),s.clip&&(a=s.area,n.beginPath(),n.rect(a.left,a.top,a.right-a.left,a.bottom-a.top),n.clip()),n.globalAlpha=ch.bound(0,s.opacity,1),n.translate(Oo(e.x),Oo(e.y)),n.rotate(s.rotation),FE(n,i.frame,s),UE(n,s.lines,i.text,s),n.restore())}});var HE=Number.MIN_SAFE_INTEGER||-9007199254740991,WE=Number.MAX_SAFE_INTEGER||9007199254740991;function Yu(r,e,t){var n=Math.cos(t),s=Math.sin(t),i=e.x,a=e.y;return{x:i+n*(r.x-i)-s*(r.y-a),y:a+s*(r.x-i)+n*(r.y-a)}}function ly(r,e){var t=WE,n=HE,s=e.origin,i,a,l,d,h;for(i=0;i<r.length;++i)a=r[i],l=a.x-s.x,d=a.y-s.y,h=e.vx*l+e.vy*d,t=Math.min(t,h),n=Math.max(n,h);return{min:t,max:n}}function Jf(r,e){var t=e.x-r.x,n=e.y-r.y,s=Math.sqrt(t*t+n*n);return{vx:(e.x-r.x)/s,vy:(e.y-r.y)/s,origin:r,ln:s}}var sk=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};Ua(sk.prototype,{center:function(){var r=this._rect;return{x:r.x+r.w/2,y:r.y+r.h/2}},update:function(r,e,t){this._rotation=t,this._rect={x:e.x+r.x,y:e.y+r.y,w:e.w,h:e.h}},contains:function(r){var e=this,t=1,n=e._rect;return r=Yu(r,e.center(),-e._rotation),!(r.x<n.x-t||r.y<n.y-t||r.x>n.x+n.w+t*2||r.y>n.y+n.h+t*2)},intersects:function(r){var e=this._points(),t=r._points(),n=[Jf(e[0],e[1]),Jf(e[0],e[3])],s,i,a;for(this._rotation!==r._rotation&&n.push(Jf(t[0],t[1]),Jf(t[0],t[3])),s=0;s<n.length;++s)if(i=ly(e,n[s]),a=ly(t,n[s]),i.max<a.min||a.max<i.min)return!1;return!0},_points:function(){var r=this,e=r._rect,t=r._rotation,n=r.center();return[Yu({x:e.x,y:e.y},n,t),Yu({x:e.x+e.w,y:e.y},n,t),Yu({x:e.x+e.w,y:e.y+e.h},n,t),Yu({x:e.x,y:e.y+e.h},n,t)]}});function ik(r,e,t){var n=e.positioner(r,e),s=n.vx,i=n.vy;if(!s&&!i)return{x:n.x,y:n.y};var a=t.w,l=t.h,d=e.rotation,h=Math.abs(a/2*Math.cos(d))+Math.abs(l/2*Math.sin(d)),f=Math.abs(a/2*Math.sin(d))+Math.abs(l/2*Math.cos(d)),g=1/Math.max(Math.abs(s),Math.abs(i));return h*=s*g,f*=i*g,h+=e.offset*s,f+=e.offset*i,{x:n.x+h,y:n.y+f}}function VE(r,e){var t,n,s,i;for(t=r.length-1;t>=0;--t)for(s=r[t].$layout,n=t-1;n>=0&&s._visible;--n)i=r[n].$layout,i._visible&&s._box.intersects(i._box)&&e(s,i);return r}function $E(r){var e,t,n,s,i,a,l;for(e=0,t=r.length;e<t;++e)n=r[e],s=n.$layout,s._visible&&(l=new Proxy(n._el,{get:(d,h)=>d.getProps([h],!0)[h]}),i=n.geometry(),a=ik(l,n.model(),i),s._box.update(a,i,n.rotation()));return VE(r,function(d,h){var f=d._hidable,g=h._hidable;f&&g||g?h._visible=!1:f&&(d._visible=!1)})}var dh={prepare:function(r){var e=[],t,n,s,i,a;for(t=0,s=r.length;t<s;++t)for(n=0,i=r[t].length;n<i;++n)a=r[t][n],e.push(a),a.$layout={_box:new sk,_hidable:!1,_visible:!0,_set:t,_idx:a._index};return e.sort(function(l,d){var h=l.$layout,f=d.$layout;return h._idx===f._idx?f._set-h._set:f._idx-h._idx}),this.update(e),e},update:function(r){var e=!1,t,n,s,i,a;for(t=0,n=r.length;t<n;++t)s=r[t],i=s.model(),a=s.$layout,a._hidable=i&&i.display==="auto",a._visible=s.visible(),e|=a._hidable;e&&$E(r)},lookup:function(r,e){var t,n;for(t=r.length-1;t>=0;--t)if(n=r[t].$layout,n&&n._visible&&n._box.contains(e))return r[t];return null},draw:function(r,e){var t,n,s,i,a,l;for(t=0,n=e.length;t<n;++t)s=e[t],i=s.$layout,i._visible&&(a=s.geometry(),l=ik(s._el,s.model(),a),i._box.update(l,a,s.rotation()),s.draw(r,l))}},qE=function(r){if(Ut(r))return null;var e=r,t,n,s;if(Gt(r))if(!Ut(r.label))e=r.label;else if(!Ut(r.r))e=r.r;else for(e="",t=Object.keys(r),s=0,n=t.length;s<n;++s)e+=(s!==0?", ":"")+t[s]+": "+r[t[s]];return""+e},GE={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:qE,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},Ks="$datalabels",ak="$default";function YE(r,e){var t=r.datalabels,n={},s=[],i,a;return t===!1?null:(t===!0&&(t={}),e=Ua({},[e,t]),i=e.labels||{},a=Object.keys(i),delete e.labels,a.length?a.forEach(function(l){i[l]&&s.push(Ua({},[e,i[l],{_key:l}]))}):s.push(e),n=s.reduce(function(l,d){return hr(d.listeners||{},function(h,f){l[f]=l[f]||{},l[f][d._key||ak]=h}),delete d.listeners,l},{}),{labels:s,listeners:n})}function Wm(r,e,t,n){if(e){var s=t.$context,i=t.$groups,a;e[i._set]&&(a=e[i._set][i._key],a&&kr(a,[s,n])===!0&&(r[Ks]._dirty=!0,t.update(s)))}}function KE(r,e,t,n,s){var i,a;!t&&!n||(t?n?t!==n&&(a=i=!0):a=!0:i=!0,a&&Wm(r,e.leave,t,s),i&&Wm(r,e.enter,n,s))}function JE(r,e){var t=r[Ks],n=t._listeners,s,i;if(!(!n.enter&&!n.leave)){if(e.type==="mousemove")i=dh.lookup(t._labels,e);else if(e.type!=="mouseout")return;s=t._hovered,t._hovered=i,KE(r,n,s,i,e)}}function XE(r,e){var t=r[Ks],n=t._listeners.click,s=n&&dh.lookup(t._labels,e);s&&Wm(r,n,s,e)}var ZE={id:"datalabels",defaults:GE,beforeInit:function(r){r[Ks]={_actives:[]}},beforeUpdate:function(r){var e=r[Ks];e._listened=!1,e._listeners={},e._datasets=[],e._labels=[]},afterDatasetUpdate:function(r,e,t){var n=e.index,s=r[Ks],i=s._datasets[n]=[],a=r.isDatasetVisible(n),l=r.data.datasets[n],d=YE(l,t),h=e.meta.data||[],f=r.ctx,g,b,m,S,k,w,_,E;for(f.save(),g=0,m=h.length;g<m;++g)if(_=h[g],_[Ks]=[],a&&_&&r.getDataVisibility(g)&&!_.skip)for(b=0,S=d.labels.length;b<S;++b)k=d.labels[b],w=k._key,E=new nk(k,f,_,g),E.$groups={_set:n,_key:w||ak},E.$context={active:!1,chart:r,dataIndex:g,dataset:l,datasetIndex:n},E.update(E.$context),_[Ks].push(E),i.push(E);f.restore(),Ua(s._listeners,d.listeners,{merger:function(R,I,B){I[R]=I[R]||{},I[R][e.index]=B[R],s._listened=!0}})},afterUpdate:function(r){r[Ks]._labels=dh.prepare(r[Ks]._datasets)},afterDatasetsDraw:function(r){dh.draw(r,r[Ks]._labels)},beforeEvent:function(r,e){if(r[Ks]._listened){var t=e.event;switch(t.type){case"mousemove":case"mouseout":JE(r,t);break;case"click":XE(r,t);break}}},afterEvent:function(r){var e=r[Ks],t=e._actives,n=e._actives=r.getActiveElements(),s=ch.arrayDiff(t,n),i,a,l,d,h,f,g;for(i=0,a=s.length;i<a;++i)if(h=s[i],h[1])for(g=h[0].element[Ks]||[],l=0,d=g.length;l<d;++l)f=g[l],f.$context.active=h[1]===1,f.update(f.$context);(e._dirty||s.length)&&(dh.update(e._labels),r.render()),delete e._dirty}};function ok({onClose:r,onExportImage:e,onExportCSV:t,onExportJSON:n,chartData:s=null,chartTitle:i="Chart",chartId:a=null}){const[l,d]=U.useState({format:"png",background:"#ffffff",dpi:300,filename:"",includeMetadata:!1,includeWatermark:!1,watermarkText:"Generated by Syla Analytics"}),[h,f]=U.useState(!1),[g,b]=U.useState(null),[m,S]=U.useState({x:0,y:0}),[k,w]=U.useState(!1),[_,E]=U.useState({x:0,y:0}),[R,I]=U.useState(!1),B=U.useRef(null);U.useEffect(()=>{if(!R&&B.current){const L=window.innerWidth,O=window.innerHeight,W=B.current.offsetWidth,X=B.current.offsetHeight,pe=L-W-20,ae=(O-X)/2;S({x:pe,y:ae}),I(!0)}},[R]),U.useEffect(()=>{if(!l.filename){const L=new Date().toISOString().slice(0,16).replace(/[:-]/g,""),O=(i||"chart").replace(/[^a-zA-Z0-9]/g,"_");d(W=>({...W,filename:`${O}_${L}`}))}},[i,l.filename]);const Q=L=>{if(L.target.closest(".drag-handle")){w(!0);const O=B.current.getBoundingClientRect();E({x:L.clientX-O.left,y:L.clientY-O.top}),L.preventDefault()}},te=L=>{if(k&&B.current){const O=window.innerWidth,W=window.innerHeight,X=B.current.offsetWidth,le=B.current.offsetHeight,pe=Math.max(0,Math.min(O-X,L.clientX-_.x)),ae=Math.max(0,Math.min(W-le,L.clientY-_.y));S({x:pe,y:ae})}},$=()=>{w(!1)};U.useEffect(()=>(k?(document.addEventListener("mousemove",te),document.addEventListener("mouseup",$),document.body.style.userSelect="none"):(document.removeEventListener("mousemove",te),document.removeEventListener("mouseup",$),document.body.style.userSelect=""),()=>{document.removeEventListener("mousemove",te),document.removeEventListener("mouseup",$),document.body.style.userSelect=""}),[k,_]);const M=(L,O)=>{d(W=>({...W,[L]:O}))},ne=async()=>{try{f(!0),b({type:"loading",message:"Preparing export..."});const{format:L,background:O,dpi:W,filename:X,includeMetadata:le}=l,pe=X.includes(".")?X:`${X}.${L}`;if(L==="csv")t&&(await t(),b({type:"success",message:"CSV data exported successfully!",action:"download"}));else if(L==="json")n&&(await n(),b({type:"success",message:"JSON data exported successfully!",action:"download"}));else if(e)if(L==="png"||L==="jpeg"){const ae={format:L,background:O||"#ffffff",dpi:W,filename:pe,includeMetadata:le,includeWatermark:l.includeWatermark,watermarkText:l.watermarkText,useCustomBackground:!0};await e(L,ae),b({type:"success",message:`${L.toUpperCase()} with white background exported successfully!`,action:"download"})}else{const ae={format:L,background:O||"#ffffff",dpi:W,filename:pe,includeMetadata:le,includeWatermark:l.includeWatermark,watermarkText:l.watermarkText};await e(L,ae),b({type:"success",message:`${L.toUpperCase()} exported successfully!`,action:"download"})}setTimeout(()=>{b(null)},3e3)}catch(L){console.error("Export failed:",L),b({type:"error",message:L.message||"Export failed. Please try again."}),setTimeout(()=>{b(null)},5e3)}finally{f(!1)}},D=[{value:"#ffffff",label:"White (Recommended)",preview:"#ffffff"},{value:"transparent",label:"Transparent",preview:"linear-gradient(45deg, #ccc 25%, transparent 25%), linear-gradient(-45deg, #ccc 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #ccc 75%), linear-gradient(-45deg, transparent 75%, #ccc 75%)"},{value:"#f8fafc",label:"Light Gray",preview:"#f8fafc"},{value:"#000000",label:"Black",preview:"#000000"}];return c.jsxs("div",{ref:B,className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl border border-gray-200 dark:border-slate-600 w-[90vw] sm:w-80 max-h-[85vh] overflow-hidden z-50",style:{position:"fixed",left:window.innerWidth<640?"5vw":`${m.x}px`,top:window.innerWidth<640?"10vh":`${m.y}px`,transform:k?"scale(1.02)":"scale(1)",transition:k?"none":"transform 0.2s ease-out",opacity:R?1:0},onMouseDown:Q,children:[c.jsx("div",{className:"drag-handle p-3 border-b border-gray-200 dark:border-slate-600 cursor-move bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"p-1.5 bg-blue-100 dark:bg-blue-900/40 rounded-lg",children:c.jsx(Vo,{size:16,className:"text-blue-600 dark:text-blue-400"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-sm text-gray-800 dark:text-slate-200",children:"Export Chart"}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:"High-quality export"})]})]}),c.jsx("button",{onClick:r,className:"p-1.5 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:c.jsx(lu,{size:16,className:"text-gray-500"})})]})}),c.jsxs("div",{className:"p-3 max-h-80 overflow-y-auto",children:[c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Export Format"}),c.jsx("div",{className:"grid grid-cols-2 gap-1.5",children:[{value:"png",label:"PNG",desc:"High quality",icon:u0},{value:"jpeg",label:"JPEG",desc:"Compressed",icon:u0},{value:"svg",label:"SVG",desc:"Vector",icon:u0},{value:"pdf",label:"PDF",desc:"Print ready",icon:Kn},{value:"csv",label:"CSV",desc:"Raw data",icon:Kn},{value:"json",label:"JSON",desc:"Structured",icon:Kn}].map(L=>c.jsxs("button",{onClick:()=>M("format",L.value),className:`p-2 rounded-lg border-2 text-left transition-all ${l.format===L.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"border-gray-200 dark:border-slate-600 hover:border-gray-300 dark:hover:border-slate-500"}`,children:[c.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[c.jsx(L.icon,{size:14}),c.jsx("span",{className:"font-medium text-xs",children:L.label})]}),c.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400",children:L.desc})]},L.value))})]}),["png","jpeg","svg","pdf"].includes(l.format)&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Background"}),c.jsx("div",{className:"grid grid-cols-1 gap-1.5",children:D.map(L=>c.jsxs("button",{onClick:()=>M("background",L.value),className:`p-2 rounded-lg border-2 text-left transition-all flex items-center gap-2 ${l.background===L.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-slate-600 hover:border-gray-300 dark:hover:border-slate-500"}`,children:[c.jsx("div",{className:"w-6 h-6 rounded border border-gray-300 flex-shrink-0",style:{background:L.value==="transparent"?L.preview:L.value,backgroundSize:L.value==="transparent"?"6px 6px":void 0}}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-medium text-xs",children:L.label}),L.value==="#ffffff"&&c.jsx("div",{className:"text-xs text-green-600 dark:text-green-400",children:"Recommended"})]}),l.background===L.value&&c.jsx(C0,{size:14,className:"text-blue-600 dark:text-blue-400"})]},L.value))})]}),["png","jpeg","pdf"].includes(l.format)&&c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Resolution (DPI)"}),c.jsx("div",{className:"flex gap-1.5",children:[72,150,300,600].map(L=>c.jsx("button",{onClick:()=>M("dpi",L),className:`px-2 py-1.5 rounded-lg text-xs font-medium transition-all flex-1 ${l.dpi===L?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":"bg-gray-100 hover:bg-gray-200 dark:bg-slate-700 dark:hover:bg-slate-600"}`,children:L},L))}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"300 DPI recommended for print"})]})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Filename"}),c.jsx("input",{type:"text",value:l.filename,onChange:L=>M("filename",L.target.value),placeholder:"chart_export",className:"w-full rounded-lg border border-gray-300 dark:border-slate-600 px-2 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-slate-700"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"checkbox",checked:l.includeMetadata,onChange:L=>M("includeMetadata",L.target.checked),className:"rounded w-3 h-3"}),c.jsx("span",{className:"text-xs",children:"Include metadata file"})]}),["png","jpeg","pdf"].includes(l.format)&&c.jsxs(c.Fragment,{children:[c.jsxs("label",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"checkbox",checked:l.includeWatermark,onChange:L=>M("includeWatermark",L.target.checked),className:"rounded w-3 h-3"}),c.jsx("span",{className:"text-xs",children:"Add watermark"})]}),l.includeWatermark&&c.jsx("input",{type:"text",value:l.watermarkText,onChange:L=>M("watermarkText",L.target.value),placeholder:"Watermark text",className:"w-full ml-5 rounded border border-gray-300 dark:border-slate-600 px-2 py-1 text-xs dark:bg-slate-700"})]})]})]}),g&&c.jsxs("div",{className:`mx-3 mb-3 p-2.5 rounded-lg border ${g.type==="success"?"bg-green-50 border-green-200 text-green-800 dark:bg-green-900/20 dark:border-green-700 dark:text-green-300":g.type==="error"?"bg-red-50 border-red-200 text-red-800 dark:bg-red-900/20 dark:border-red-700 dark:text-red-300":"bg-blue-50 border-blue-200 text-blue-800 dark:bg-blue-900/20 dark:border-blue-700 dark:text-blue-300"}`,children:[c.jsxs("div",{className:"flex items-center gap-2",children:[g.type==="success"&&c.jsx(C0,{size:14}),g.type==="loading"&&c.jsx("div",{className:"w-3 h-3 border-2 border-current border-t-transparent rounded-full animate-spin"}),c.jsx("span",{className:"text-xs font-medium",children:g.message})]}),g.action==="download"&&c.jsx("p",{className:"text-xs mt-1 opacity-75",children:"Check your downloads folder."})]}),c.jsxs("div",{className:"p-3 border-t border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-800/50",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:ne,disabled:h||!l.filename.trim(),className:`flex-1 px-3 py-2 rounded-lg font-medium text-white text-sm transition-all ${h||!l.filename.trim()?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 shadow-md hover:shadow-lg"}`,children:h?c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Exporting..."]}):c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx(Vo,{size:14}),"Export"]})}),c.jsx("button",{onClick:r,className:"px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors text-sm",children:"Cancel"})]}),c.jsx("div",{className:"mt-2 text-xs text-gray-500 dark:text-slate-400 text-center",children:c.jsxs("div",{className:"flex items-center justify-center gap-3",children:[c.jsx("span",{children:l.format.toUpperCase()}),["png","jpeg","pdf"].includes(l.format)&&c.jsxs("span",{children:[l.dpi," DPI"]}),c.jsx("span",{children:l.background==="#ffffff"?"White BG":"Custom BG"})]})})]})]})}Jo.register(fp,pp,Yw,Wh,zh,Bh,Yc,du,hp,Hh,Uh,H1,ZE,PE,AE);const Xf=r=>r==null||r===""?0:+String(r).replace(/,/g,"")||0,Ig=(r,e,t)=>r+(e-r)*t,Fd=r=>{if(!r)return null;const e=r.replace("#",""),t=parseInt(e.length===3?e.split("").map(n=>n+n).join(""):e,16);return{r:t>>16&255,g:t>>8&255,b:t&255}},Vm=({r,g:e,b:t})=>"#"+[r,e,t].map(n=>n.toString(16).padStart(2,"0")).join(""),QE=(r,e,t)=>{const n=Fd(r),s=Fd(e);return!n||!s?r:Vm({r:Math.round(Ig(n.r,s.r,t)),g:Math.round(Ig(n.g,s.g,t)),b:Math.round(Ig(n.b,s.b,t))})},e7=(r,e)=>{if(!r||r.length<2)return Array(e).fill(r?.[0]||"#2563eb");const t=[];for(let n=0;n<e;n++){const s=e===1?0:n/(e-1),i=1/(r.length-1),a=Math.min(Math.floor(s/i),r.length-2),l=(s-a*i)/i;t.push(QE(r[a],r[a+1],l))}return t},t7=r=>{const e=r.length;if(e<2)return r.map(()=>null);const t=r.map((f,g)=>g),n=r,s=t.reduce((f,g)=>f+g,0)/e,i=n.reduce((f,g)=>f+g,0)/e;let a=0,l=0;for(let f=0;f<e;f++)a+=(t[f]-s)*(n[f]-i),l+=(t[f]-s)**2;const d=l?a/l:0,h=i-d*s;return t.map(f=>d*f+h)},r7=()=>document?.body?.classList.contains("dark")?"#E6EEF8":"#0f172a";function Y1({data:r=[],columns:e=[],types:t={},options:n={},chartTitle:s="",xAxis:i="",yAxis:a="",setXAxis:l=()=>{},setYAxis:d=()=>{},onBarClick:h=()=>{},onLegendToggle:f=()=>{},selectedBars:g=[],selectionMode:b=!1,dataPayload:m=null}){const S=ms(),k=U.useRef(null),[w,_]=U.useState([]),[E,R]=U.useState(null),[I,B]=U.useState(!1),[Q,te]=U.useState(!1);U.useEffect(()=>{r&&r.length>0&&(localStorage.setItem("uploadedData",JSON.stringify(r)),localStorage.setItem("uploadedColumns",JSON.stringify(e)),_(new Array(r.length).fill(null)))},[r,e]),U.useEffect(()=>{!i&&e[0]&&l(e[0]),!a&&e[1]&&d(e[1])},[e,i,a,l,d]);const $=U.useMemo(()=>{if(!r||r.length===0)return[];if(ee?.selectedRowIndices&&ee.selectedRowIndices.length>0)return _E(r,ee.selectedRowIndices);const Z=Um();return vE(r,Z)},[r,ee?.selectedRowIndices]),M=U.useMemo(()=>$.map((Z,we)=>Z?.[i]??`Row ${we+1}`),[$,i]),ne=U.useMemo(()=>$.map(Z=>Xf(Z?.[a])),[$,a]),D=U.useMemo(()=>n.compareField?r.map(Z=>Xf(Z?.[n.compareField])):null,[r,n.compareField]),L=M.map((Z,we)=>({l:Z,v:ne[we],c:D?D[we]:null,raw:r[we],i:we}));n.sort==="asc"&&L.sort((Z,we)=>Z.v-we.v),n.sort==="desc"&&L.sort((Z,we)=>we.v-Z.v);const O=L.map(Z=>Z.l),W=L.map(Z=>Z.v),X=D?L.map(Z=>Z.c):null,le=L.map(Z=>Z.i),pe=Math.max(1e-6,Math.min(...[...W,...X||[]].filter(Z=>Z>0))||1),ae=n.logScale?W.map(Z=>Z>0?Z:pe*.01):W,xe=X?n.logScale?X.map(Z=>Z>0?Z:pe*.01):X:null,be=n.type===Ie.COLUMN||n.type===Ie.COMPARISON||n.type===Ie.STACKED_BAR,ee=U.useMemo(()=>{const Z=n.color||"#2563eb",we=O.length||1;let me;n.gradient&&n.gradientStops?.length>1?me=e7(n.gradientStops,we):me=Array(we).fill(Z);const Me=me.map((De,Ye)=>{const We=le[Ye];let mt=w[We]||De;if(g.includes(O[Ye])){const rt=Fd(mt);rt&&(mt=Vm({r:Math.min(255,rt.r+40),g:Math.min(255,rt.g+40),b:Math.min(255,rt.b+40)}))}return mt}),Be=Me.map(De=>g.length>0&&g.includes(O[Me.indexOf(De)])?"#ff6b6b":De);if(n.type===Ie.PIE||n.type===Ie.DOUGHNUT){let De={labels:O,datasets:[{label:a||"Value",data:W,backgroundColor:Me,borderColor:"#fff",borderWidth:2}]};return n.enable3D&&(De=jE(De,n.type,{shadow3DDepth:n.shadow3DDepth||20})),De}if(n.type===Ie.SCATTER||n.type===Ie.BUBBLE){const De=ae.map((Ye,We)=>{let mt;if(n.type===Ie.BUBBLE){const rt=Math.max(...ae.filter(Ct=>Ct>0));mt=15+Math.abs(Ye)/(rt||1)*40}return{x:We,y:Ye,r:mt}});return{labels:O,datasets:[{label:a||"Value",data:De,backgroundColor:n.type===Ie.BUBBLE?Me.map(Ye=>{const We=Fd(Ye);return We?`rgba(${We.r}, ${We.g}, ${We.b}, 0.5)`:Ye}):Me,borderColor:n.type===Ie.BUBBLE?Me.map(Ye=>{const We=Fd(Ye);return We?`rgba(${We.r}, ${We.g}, ${We.b}, 0.8)`:Ye}):Be,borderWidth:(n.type===Ie.BUBBLE,2),showLine:!1,pointRadius:n.type===Ie.BUBBLE?void 0:6,pointHoverRadius:n.type===Ie.BUBBLE?void 0:8,pointStyle:"circle",hoverBorderWidth:n.type===Ie.BUBBLE?3:void 0}]}}if(n.type===Ie.RADAR)return{labels:O,datasets:[{label:a||"Value",data:ae,backgroundColor:`${Z}33`,borderColor:Z,borderWidth:2,pointBackgroundColor:Z,pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:Z}]};if(n.type===Ie.AREA){const We=document.createElement("canvas").getContext("2d").createLinearGradient(0,0,0,400),mt=n.color||"#2563eb",rt=n.gradientStops?.[1]||"#93c5fd";return We.addColorStop(0,mt),We.addColorStop(1,rt),{labels:O,datasets:[{label:a||"Value",type:"line",data:ae,originalData:W,backgroundColor:We,borderColor:mt,borderWidth:3,tension:.4,fill:!0,pointRadius:4,pointHoverRadius:6}]}}let ke="bar";n.type===Ie.LINE?ke="line":(n.type===Ie.BAR||n.type===Ie.COLUMN||n.type===Ie.COMPARISON||n.type===Ie.STACKED_BAR)&&(ke="bar");const re={label:a||"Value",type:ke,data:ae,originalData:W,backgroundColor:Me,borderColor:Be,borderWidth:g.length>0||n.type===Ie.LINE?3:1,tension:n.type===Ie.LINE?.4:void 0,fill:!1},Xe=[re];if(n.type===Ie.COMPARISON&&xe&&(re.barPercentage=.8,re.categoryPercentage=.7,Xe.push({label:n.compareField||"Comparison",type:"bar",data:xe,originalData:X,backgroundColor:"#10b981",borderColor:"#059669",borderWidth:1,barPercentage:.8,categoryPercentage:.7})),n.compareMode&&n.compareParam1&&n.compareParam2){const De=r.map(We=>Xf(We?.[n.compareParam1])),Ye=r.map(We=>Xf(We?.[n.compareParam2]));Xe.length=0,Xe.push({label:n.compareParam1,type:"bar",data:De,originalData:De,backgroundColor:n.compareParam1Color||"#2563eb",borderColor:n.compareParam1Color||"#1d4ed8",borderWidth:1,barPercentage:.8,categoryPercentage:.7}),Xe.push({label:n.compareParam2,type:"bar",data:Ye,originalData:Ye,backgroundColor:n.compareParam2Color||"#10b981",borderColor:n.compareParam2Color||"#059669",borderWidth:1,barPercentage:.8,categoryPercentage:.7})}n.type===Ie.STACKED_BAR&&Xe.push({label:`${a} (Secondary)`,type:"bar",data:ae.map(De=>De*.6),originalData:W.map(De=>De*.6),backgroundColor:Me.map(De=>{const Ye=Fd(De);return Ye?Vm({r:Math.max(0,Ye.r-40),g:Math.min(255,Ye.g+40),b:Math.max(0,Ye.b-40)}):De}),borderColor:"#059669",borderWidth:1}),xe&&n.type!==Ie.COMPARISON&&n.type!==Ie.STACKED_BAR&&Xe.push({label:n.compareField,type:re.type,data:xe,originalData:X,backgroundColor:X.map((De,Ye)=>Me[Ye]),borderColor:"#dc2626",yAxisID:"y1"}),n.trendline&&n.type!==Ie.PIE&&Xe.push({label:`${a} Trend`,type:"line",data:t7(ae),borderColor:"#059669",backgroundColor:"transparent",fill:!1,pointRadius:0,pointHoverRadius:0,borderWidth:2,borderDash:[5,5],order:0});let ct={labels:O,datasets:Xe};const Qe=[Ie.BAR,Ie.COLUMN,Ie.COMPARISON,Ie.STACKED_BAR].includes(n.type);return n.enable3D&&Qe&&(ct=CE(ct,n.type,{shadow3DDepth:n.shadow3DDepth||8,shadow3DPosition:n.shadow3DPosition||"bottom-right"})),ct},[n,O,W,ae,w,a,le,xe,X,g,r]),A=U.useMemo(()=>{const Z=r7(),we=n.logScale?"logarithmic":"linear",me={indexAxis:be?"y":"x",maintainAspectRatio:!1,responsive:!0,interaction:{intersect:!1,mode:b?"point":"index"},onClick:(ke,re)=>{if(re.length>0){const Xe=re[0],ct=Xe.index,Qe=Xe.datasetIndex;h(Qe,O[ct])}},onHover:(ke,re)=>{b&&(ke.native.target.style.cursor=re.length>0?"pointer":"crosshair")},plugins:{legend:{labels:{color:Z,usePointStyle:!0,filter:ke=>!ke.text.includes("3D Depth")&&!ke.text.includes("3D Side")},onClick:(ke,re,Xe)=>{const ct=re.datasetIndex,Qe=Xe.chart,De=Qe.getDatasetMeta(ct);De.hidden=De.hidden===null?!Qe.data.datasets[ct].hidden:null,Qe.update(),f(ct)}},datalabels:{color:Z,display:ke=>ke.dataset.label?.includes("3D Depth")||ke.dataset.label?.includes("3D Side")?!1:ke.dataset?.datalabels?.display??!!n.showLabels,anchor:n.labelPosition==="outside"?"end":"center",align:n.labelPosition==="outside"?"end":"center",offset:n.labelPosition==="outside"?8:0,clip:!1,font:{size:11,weight:n.labelPosition==="outside"?"600":"500"},padding:n.labelPosition==="outside"?4:2,backgroundColor:n.labelPosition==="outside"?"rgba(255, 255, 255, 0.9)":"transparent",borderRadius:n.labelPosition==="outside"?4:0,formatter:(ke,re)=>{if(n.type===Ie.PIE||n.type===Ie.DOUGHNUT){const ct=re.dataset.data.reduce((De,Ye)=>De+Ye,0);return`${(ke/ct*100).toFixed(1)}%`}const Xe=re.dataset.originalData?re.dataset.originalData[re.dataIndex]:ke;return n.labelPosition==="outside"&&Xe?.toLocaleString()||Xe}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff",borderColor:"#2563eb",borderWidth:1,filter:ke=>!ke.dataset.label?.includes("3D Depth")&&!ke.dataset.label?.includes("3D Side"),callbacks:{title:ke=>{if((n.type===Ie.SCATTER||n.type===Ie.BUBBLE)&&ke[0]){const re=Math.round(ke[0].parsed.x);return O[re]||`Point ${re}`}return ke[0]?.label||""},label:ke=>{const re=ke.dataset.originalData?ke.dataset.originalData[ke.dataIndex]:ke.formattedValue,Xe=g.includes(O[ke.dataIndex])?" (Selected)":"";return`${ke.dataset.label}: ${re?.toLocaleString()||re}${Xe}`}}}},scales:n.type===Ie.PIE||n.type===Ie.DOUGHNUT?{}:n.type===Ie.RADAR?{}:n.type===Ie.STACKED_BAR?{x:{stacked:!0,type:we,ticks:{color:Z,callback:ke=>ke.toLocaleString()},grid:{color:"rgba(0,0,0,0.1)"},min:n.logScale?pe*.1:void 0},y:{stacked:!0,ticks:{color:Z,maxRotation:45,minRotation:0},grid:{color:"rgba(0,0,0,0.1)"}}}:n.type===Ie.COMPARISON?{x:{stacked:!1,type:we,ticks:{color:Z,callback:ke=>ke.toLocaleString()},grid:{color:"rgba(0,0,0,0.1)"},min:n.logScale?pe*.1:void 0},y:{stacked:!1,ticks:{color:Z,maxRotation:0},grid:{color:"rgba(0,0,0,0.1)"}}}:be?{x:{type:we,ticks:{color:Z,callback:ke=>ke.toLocaleString()},min:n.logScale?pe*.1:void 0,grid:{color:"rgba(0,0,0,0.1)"}},y:{ticks:{color:Z,maxRotation:0},grid:{color:"rgba(0,0,0,0.1)"}}}:{x:n.type===Ie.SCATTER||n.type===Ie.BUBBLE?{type:"linear",position:"bottom",ticks:{color:Z},grid:{color:"rgba(0,0,0,0.1)"}}:{ticks:{color:Z},grid:{color:"rgba(0,0,0,0.1)"}},y:{type:we,ticks:{color:Z,callback:ke=>ke.toLocaleString()},min:n.logScale?pe*.1:void 0,grid:{color:"rgba(0,0,0,0.1)"}}}},Me=[Ie.BAR,Ie.COLUMN,Ie.PIE,Ie.DOUGHNUT,Ie.COMPARISON,Ie.STACKED_BAR].includes(n.type);if(n.enable3D&&Me){const re=(n.shadow3DDepth||(n.type===Ie.PIE||n.type===Ie.DOUGHNUT?20:8))+15;me.layout={padding:{top:re,right:re,bottom:re,left:re}}}else n.showLabels&&n.labelPosition==="outside"&&(me.layout={padding:{top:30,right:20,bottom:10,left:20}});be&&n.enable3D?me.elements={bar:{borderRadius:{topLeft:0,topRight:6,bottomLeft:0,bottomRight:6}}}:be&&(me.elements={bar:{borderRadius:{topLeft:0,topRight:8,bottomLeft:0,bottomRight:8}}});const Be=EE(me,n.type,n.enable3D,n.shadow3DPosition,n.shadow3DDepth||8);return n.compareField&&n.type!==Ie.PIE&&n.type!==Ie.SCATTER&&(Be.scales.y1={type:we,position:"right",grid:{drawOnChartArea:!1},ticks:{color:Z,callback:function(ke){return ke.toLocaleString()}},min:n.logScale?pe*.1:void 0}),n.type===Ie.RADAR&&(Be.scales={r:{beginAtZero:!0,ticks:{color:Z,backdropColor:"transparent"},grid:{color:"rgba(0,0,0,0.1)"},pointLabels:{color:Z,font:{size:11}}}}),Be},[n,O,a,h,f,g,b,pe,be]);if(n.type===Ie.GAUGE){const Z=W.reduce((we,me)=>we+me,0)/(W.length||1);return c.jsxs("div",{className:"rounded-2xl bg-white border shadow-sm dark:bg-ink/80 dark:border-white/5 p-5",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsx("div",{className:"flex-1",children:c.jsx("h3",{className:"font-display text-lg font-medium mb-2 text-gray-800 dark:text-slate-200",children:s||"Data Visualization"})}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsxs("button",{onClick:()=>S("/forecast"),className:"flex items-center gap-2 px-2.5 py-1.5 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-lg hover:from-blue-600 hover:to-indigo-700 transition-all duration-200 shadow-md hover:shadow-lg text-sm font-medium",children:[c.jsx(Uc,{size:16}),"Forecast"]})})]}),c.jsx("div",{className:"mt-4 rounded-xl p-4 bg-gradient-to-b from-gray-50 to-white border dark:from-black/20 dark:to-black/10 dark:border-white/10",children:c.jsx("div",{style:{height:400,position:"relative"},children:c.jsx(jh,{value:Z,max:Math.max(...W)*1.2,options:A})})})]})}const J=(()=>{switch(n.type){case Ie.BAR:case Ie.COLUMN:case Ie.COMPARISON:case Ie.STACKED_BAR:return Oa;case Ie.LINE:case Ie.AREA:return U0;case Ie.PIE:return q1;case Ie.DOUGHNUT:return $1;case Ie.SCATTER:case Ie.BUBBLE:return H0;case Ie.RADAR:return V1;default:return Oa}})(),ue=(Z,we={})=>{const me=k.current;if(!me?.canvas){alert("Chart not ready for export");return}try{let Me;if((Z==="png"||Z==="jpeg")&&we.useCustomBackground){const ke=me.canvas,re=document.createElement("canvas");re.width=ke.width,re.height=ke.height;const Xe=re.getContext("2d"),ct=we.background||"#ffffff";Xe.fillStyle=ct,Xe.fillRect(0,0,re.width,re.height),Xe.drawImage(ke,0,0);const Qe=Z==="jpeg"?"image/jpeg":"image/png",De=Z==="jpeg"?.95:1;Me=re.toDataURL(Qe,De)}else{const ke=Z==="jpeg"?"image/jpeg":"image/png";Me=me.toBase64Image(ke)}const Be=document.createElement("a");Be.href=Me,Be.download=we.filename||`${s||"chart"}.${Z}`,document.body.appendChild(Be),Be.click(),document.body.removeChild(Be)}catch(Me){console.error("Export failed:",Me),alert("Failed to export chart: "+Me.message)}},fe=Z=>{if(r.length){if(Z==="csv"){const we=Object.keys(r[0]),me=[we.join(","),...r.map(re=>we.map(Xe=>`"${re[Xe]??""}"`).join(","))].join(`
`),Me=new Blob([me],{type:"text/csv"}),Be=URL.createObjectURL(Me),ke=document.createElement("a");ke.href=Be,ke.download=`${s||"data"}.csv`,ke.click(),URL.revokeObjectURL(Be)}else if(Z==="json"){const we=new Blob([JSON.stringify(r,null,2)],{type:"application/json"}),me=URL.createObjectURL(we),Me=document.createElement("a");Me.href=me,Me.download=`${s||"data"}.json`,Me.click(),URL.revokeObjectURL(me)}}},de=(Z,we)=>{const me=O.indexOf(we);if(me!==-1){const Me=le[me];b||R({index:Me,label:we})}h(Z,we)},ce=Z=>{if(E){const we=[...w];we[E.index]=Z,_(we),R(null)}};return!r||r.length===0?c.jsx("div",{className:"rounded-2xl bg-white border shadow-sm dark:bg-ink/80 dark:border-white/5 p-8 text-center",children:c.jsx("div",{className:"text-gray-500 dark:text-slate-400",children:"No data available for visualization"})}):c.jsxs("div",{className:"rounded-2xl bg-white border shadow-sm dark:bg-ink/80 dark:border-white/5 p-5",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-3 mb-4",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h3",{className:"font-display text-base sm:text-lg font-medium mb-2 text-gray-800 dark:text-slate-200 truncate",children:s||"Data Visualization"}),r.length>(Um()?10:20)&&c.jsx("div",{className:"mb-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-700",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("span",{className:"text-sm text-blue-700 dark:text-blue-300",children:["Showing ",$.length," of ",r.length," rows",ee?.selectedRowIndices?" (custom selection)":" (auto-limited)"]}),c.jsx("button",{onClick:()=>window.dispatchEvent(new CustomEvent("openRowSelectionModal")),className:"text-sm text-blue-600 hover:text-blue-700 underline",children:"Customize"})]})}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 text-xs sm:text-sm text-gray-500 dark:text-slate-400",children:[c.jsxs("span",{children:[r.length.toLocaleString()," data points"]}),n.logScale&&c.jsx("span",{children:"Log Scale"}),g.length>0&&c.jsxs("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-full text-xs",children:[g.length," selected"]}),b&&c.jsx("span",{className:"px-2 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 rounded-full",children:"Selection Mode"})]})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2 w-full sm:w-auto",children:[c.jsxs("button",{onClick:()=>S("/editing"),className:"flex items-center gap-1.5 px-2 sm:px-2.5 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all duration-200 shadow-md hover:shadow-lg text-xs sm:text-sm font-medium flex-1 sm:flex-initial justify-center",title:"Edit Chart",children:[c.jsx(U5,{size:14,className:"sm:w-4 sm:h-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Edit Chart"}),c.jsx("span",{className:"sm:hidden",children:"Edit"})]}),c.jsxs("button",{onClick:()=>S("/forecast"),className:"flex items-center gap-1.5 px-2 sm:px-2.5 py-1.5 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-lg hover:from-blue-600 hover:to-indigo-700 transition-all duration-200 shadow-md hover:shadow-lg text-xs sm:text-sm font-medium flex-1 sm:flex-initial justify-center",title:"Generate AI Forecast",children:[c.jsx(Uc,{size:14,className:"sm:w-4 sm:h-4"}),"Forecast"]}),c.jsxs("button",{onClick:()=>B(!I),className:"flex items-center gap-1.5 px-2 sm:px-2.5 py-1.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 dark:border-white/20 dark:text-slate-300 dark:hover:bg-slate-800 transition-colors text-xs sm:text-sm font-medium flex-1 sm:flex-initial justify-center",title:"Export Chart",children:[c.jsx(Vo,{size:14,className:"sm:w-4 sm:h-4"}),"Export"]})]})]}),c.jsx("div",{className:"mt-4 rounded-xl p-2 sm:p-4 bg-gradient-to-b from-gray-50 to-white border dark:from-black/20 dark:to-black/10 dark:border-white/10",children:c.jsx("div",{style:{height:window.innerWidth<640?300:n.enable3D?500:450,position:"relative",overflow:"visible",padding:n.enable3D?"30px 20px":"20px 0"},children:c.jsx(J,{ref:k,data:ee,options:{...A,onClick:(Z,we)=>{if(we.length>0){const me=we[0],Me=me.index,Be=me.datasetIndex;de(Be,O[Me])}}}})})}),n.compareMode&&n.compareParam1&&n.compareParam2&&c.jsxs("div",{className:"mt-4 p-4 border rounded-xl bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border-blue-200 dark:border-blue-700",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Comparing Parameters"}),c.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),c.jsx("span",{children:n.compareParam1})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),c.jsx("span",{children:n.compareParam2})]})]})]}),c.jsx("div",{className:"text-xs text-center text-gray-600 dark:text-slate-400",children:"Both parameters are displayed simultaneously for comparison"})]}),E&&!b&&c.jsx("div",{className:"mt-4 p-4 border rounded-xl bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("span",{className:"text-sm font-medium",children:["Edit color for: ",c.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:E.label})]}),c.jsx("input",{type:"color",onChange:Z=>ce(Z.target.value),className:"w-10 h-8 rounded border"}),c.jsx("button",{onClick:()=>R(null),className:"px-3 py-1 text-sm border rounded-lg hover:bg-white dark:hover:bg-slate-800 transition-colors",children:"Done"})]})}),I&&c.jsx(ok,{onClose:()=>B(!1),onExportImage:ue,onExportCSV:()=>fe("csv"),onExportJSON:()=>fe("json"),chartData:r,chartTitle:s}),b&&c.jsx("div",{className:"mt-4 text-sm text-gray-600 dark:text-slate-400 text-center",children:"Click on chart elements to select them for bulk operations"})]})}function xi({onReportChange:r,theme:e,setTheme:t}){const{user:n}=U.useContext(yi),[s,i]=U.useState(!0),[a,l]=U.useState("Bar"),[d,h]=U.useState(!1),f=[{title:"PDF → Word",path:"/tools/pdf-to-word",icon:Kn},{title:"PDF → Excel",path:"/tools/pdf-to-excel",icon:Qd},{title:"Merge PDF",path:"/tools/merge",icon:Nm},{title:"Compress PDF",path:"/tools/compress",icon:O5},{title:"CSV → Excel",path:"/tools/csv-to-excel",icon:Qd},{title:"Excel → CSV",path:"/tools/excel-to-csv",icon:Kn},{title:"CSV → PDF",path:"/tools/csv-to-pdf",icon:Kn},{title:"Excel → PDF",path:"/tools/excel-to-pdf",icon:Kn},{title:"PDF → CSV",path:"/tools/pdf-to-csv",icon:Kn}],g=()=>{const b=e==="dark"?"light":"dark";t(b),localStorage.setItem("theme",b)};return c.jsxs("aside",{className:`${s?"w-16":"w-64"} flex flex-col transition-all duration-300 relative
      bg-white text-gray-900 border-r border-gray-200
      dark:bg-ink/80 dark:text-slate-200 dark:border-white/5 rounded-r-2xl shadow-soft neon-border
      hidden lg:flex`,children:[c.jsx("button",{onClick:()=>i(!s),className:`absolute top-4 -right-3 z-10 p-1.5 rounded-full
        bg-gray-200 dark:bg-black/50 border border-gray-300 dark:border-white/10
        hover:bg-gray-300 dark:hover:bg-white/10 transition`,children:s?c.jsx("svg",{className:"w-4 h-4 text-gray-700 dark:text-slate-300",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M8 5v14l11-7z"})}):c.jsx("svg",{className:"w-4 h-4 text-gray-700 dark:text-slate-300",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M16 19V5L5 12z"})})}),!s&&n&&c.jsx("div",{className:"px-3 py-4 border-b border-gray-200 dark:border-white/10",children:c.jsxs("div",{className:"flex items-center gap-3",children:[n.avatar_url?c.jsx("img",{src:n.avatar_url,alt:n.name,className:"w-10 h-10 rounded-full object-cover"}):c.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-700 rounded-full flex items-center justify-center text-white font-medium",children:n.name?.charAt(0)?.toUpperCase()||"U"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium text-gray-800 dark:text-slate-200 truncate",children:n.name}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 truncate",children:n.email})]})]})}),c.jsxs("div",{className:"flex-1 px-3 py-5 space-y-2 overflow-y-auto",children:[c.jsxs(zt,{to:"/",className:"flex items-center px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-white/5 group",children:[c.jsx(h6,{className:"w-4 h-4 mr-2 text-gray-600 dark:text-slate-300"}),!s&&c.jsx("span",{children:"Overview"})]}),c.jsxs("div",{className:"flex items-center px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-white/5 group",children:[c.jsx(t6,{className:"w-4 h-4 mr-2 text-gray-600 dark:text-slate-300"}),!s&&c.jsx("span",{children:"Data Source"})]}),c.jsxs(zt,{to:"/forecast",className:"flex items-center px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-white/5 group",children:[c.jsx(AN,{className:"w-4 h-4 mr-2 text-gray-600 dark:text-slate-300"}),!s&&c.jsx("span",{children:"AI Forecast"})]}),c.jsxs("div",{className:"px-3",children:[c.jsxs("div",{className:"flex items-center rounded-lg cursor-pointer mb-2 hover:bg-gray-100 dark:hover:bg-white/5 group",children:[c.jsx(rh,{className:"w-4 h-4 mr-2 text-gray-600 dark:text-slate-300"}),!s&&c.jsx("span",{children:"Reports"})]}),!s&&c.jsxs("select",{value:a,onChange:b=>{l(b.target.value),r?.(b.target.value)},className:"w-full mt-1 rounded-lg px-2 py-1 text-sm bg-gray-100 border border-gray-300 text-gray-800 dark:bg-black/40 dark:border-white/10 dark:text-slate-200",children:[c.jsx("option",{children:"Bar"}),c.jsx("option",{children:"Line"}),c.jsx("option",{children:"Pie"}),c.jsx("option",{children:"Map"})]})]}),c.jsxs("div",{className:"mt-3 px-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Nm,{className:"w-4 h-4 mr-2 text-gray-600 dark:text-slate-300"}),!s&&c.jsx("span",{className:"font-medium",children:"File Tools"})]}),!s&&c.jsx("button",{onClick:()=>h(!d),className:"text-xs px-2 py-1 rounded border",children:d?"Hide":"Show"})]}),!s&&d&&c.jsx("div",{className:"mt-2 space-y-1",children:f.map((b,m)=>c.jsxs(zt,{to:b.path,className:"flex items-center gap-2 px-2 py-1 rounded hover:bg-gray-100 dark:hover:bg-white/5",children:[c.jsx(b.icon,{className:"w-4 h-4 text-gray-600"}),c.jsx("span",{className:"text-sm",children:b.title})]},m))})]}),c.jsxs("div",{className:"mt-4 px-3",children:[c.jsxs(zt,{to:"/settings",className:"flex items-center px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-white/5 group",children:[c.jsx($l,{className:"w-4 h-4 mr-2 text-gray-600 dark:text-slate-300"}),!s&&c.jsx("span",{children:"Settings"})]}),c.jsxs("div",{className:"mt-4 px-3",children:[c.jsxs(zt,{to:"/help",className:"flex items-center px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-white/5 group cursor-pointer",children:[c.jsx(w1,{className:"w-4 h-4 mr-2 text-gray-600 dark:text-slate-300"}),!s&&c.jsx("span",{children:"Help"})]}),c.jsxs(zt,{to:"/docs",className:"flex items-center px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-white/5 group cursor-pointer",children:[c.jsx(wm,{className:"w-4 h-4 mr-2 text-gray-600 dark:text-slate-300"}),!s&&c.jsx("span",{children:"Docs"})]}),c.jsxs(zt,{to:"/pricing",className:"flex items-center px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-white/5 group cursor-pointer",children:[c.jsx(D5,{className:"w-4 h-4 mr-2 text-gray-600 dark:text-slate-300"}),!s&&c.jsx("span",{children:"Pricing"})]})]})]})]}),c.jsxs("div",{className:"px-3 py-4 border-t border-gray-200 dark:border-white/10 space-y-2",children:[c.jsx("button",{onClick:g,className:"w-full flex items-center justify-center px-3 py-2 rounded-lg bg-gray-100 hover:bg-gray-200 text-sm text-gray-800 dark:bg-black/40 dark:hover:bg-white/5 dark:text-slate-200 transition",children:e==="dark"?c.jsxs(c.Fragment,{children:[c.jsx(jm,{className:"w-4 h-4 mr-2"}),!s&&"Dark Mode"]}):c.jsxs(c.Fragment,{children:[c.jsx(Am,{className:"w-4 h-4 mr-2 text-yellow-500"}),!s&&"Light Mode"]})}),c.jsxs(zt,{to:"/login",className:"w-full flex items-center justify-center px-3 py-2 rounded-lg bg-gray-100 hover:bg-gray-200 text-sm text-gray-800 dark:bg-black/40 dark:hover:bg-white/5 dark:text-slate-200 transition",children:[c.jsx("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),!s&&"Log in"]}),c.jsxs(zt,{to:"/signup",className:"w-full flex items-center justify-center px-3 py-2 rounded-lg bg-neonBlue text-white shadow-neon hover:animate-glow text-sm transition",children:[c.jsx("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),!s&&"Sign up"]})]})]})}const n7=[{title:"PDF → Word",description:"Convert PDF to editable Word document.",icon:Kn,link:"/tools/pdf-to-word"},{title:"Word → PDF",description:"Convert Word to PDF document.",icon:T2,link:"/tools/word-to-pdf"},{title:"Image → PDF",description:"Convert images to PDF.",icon:u0,link:"/tools/image-to-pdf"},{title:"PDF → Excel",description:"Convert PDF to Excel.",icon:Qd,link:"/tools/pdf-to-excel"},{title:"Merge PDF",description:"Combine multiple PDFs.",icon:Nm,link:"/tools/merge"},{title:"Compress File",description:"Reduce PDF/Excel/CSV size.",icon:O5,link:"/tools/compress"},{title:"CSV → Excel",description:"Convert CSV to Excel.",icon:QN,link:"/tools/csv-to-excel"},{title:"Excel → CSV",description:"Export Excel to CSV.",icon:HN,link:"/tools/excel-to-csv"},{title:"CSV → PDF",description:"Convert CSV into PDF.",icon:Kn,link:"/tools/csv-to-pdf"},{title:"Excel → PDF",description:"Turn Excel into PDF.",icon:T2,link:"/tools/excel-to-pdf"},{title:"PDF → CSV",description:"Extract tables from PDF into CSV.",icon:$N,link:"/tools/pdf-to-csv"},{title:"PDF → Excel (alt)",description:"Alternative conversion route (if needed).",icon:Qd,link:"/tools/pdf-to-excel"}];function s7(){return c.jsx("section",{className:"py-6 bg-transparent",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:[c.jsx("h2",{className:"text-3xl font-display text-center mb-8 text-primary",children:"Our File Tools"}),c.jsx("div",{className:"grid gap-4 grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:n7.map((r,e)=>{const t=r.icon;return c.jsxs(zt,{to:r.link,className:`group p-3 sm:p-4 md:p-5 flex flex-col items-center text-center 
                           rounded-2xl bg-gradient-to-br from-blue-400/40 to-blue-600/40 
                           border border-blue-200/30 shadow-lg shadow-blue-300/40
                           hover:scale-105 active:scale-95 transition-all duration-200`,title:r.title,children:[c.jsxs("div",{className:"relative w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 flex items-center justify-center",children:[c.jsx(t,{size:24,className:"sm:w-7 sm:h-7 md:w-8 md:h-8 text-white drop-shadow-lg"}),c.jsx("span",{className:"absolute top-1 left-1 w-2 h-2 rounded-full bg-white/30 blur-sm"})]}),c.jsx("h3",{className:"mt-2 sm:mt-3 md:mt-4 font-display font-semibold text-xs sm:text-sm md:text-base text-white",children:r.title}),c.jsx("p",{className:"mt-1 sm:mt-2 text-xs sm:text-sm text-white/80 line-clamp-2",children:r.description})]},e)})})]})})}function mp(){const r=[{title:"PDF → Word",path:"/tools/pdf-to-word"},{title:"PDF → Excel",path:"/tools/pdf-to-excel"},{title:"Merge PDF",path:"/tools/merge"},{title:"Compress PDF",path:"/tools/compress"},{title:"CSV → Excel",path:"/tools/csv-to-excel"},{title:"Excel → CSV",path:"/tools/excel-to-csv"},{title:"CSV → PDF",path:"/tools/csv-to-pdf"},{title:"Excel → PDF",path:"/tools/excel-to-pdf"},{title:"PDF → CSV",path:"/tools/pdf-to-csv"}];return c.jsxs("footer",{className:"mt-16 border-t border-gray-300 bg-gray-700 dark:bg-slate-900 py-10",children:[c.jsxs("div",{className:"mx-auto max-w-7xl px-4 flex flex-col md:flex-row items-start justify-between gap-10",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("img",{src:"/favicon.png",alt:"Syla logo",className:"w-8 h-8"}),c.jsxs("span",{className:"font-display text-lg tracking-wide text-white",children:["Syla ",c.jsx("span",{className:"text-neonBlue",children:"Analytics"})]})]}),c.jsxs("div",{className:"flex-1 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 sm:gap-8 text-sm",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-200 mb-3",children:"General"}),c.jsxs("ul",{className:"space-y-2",children:[c.jsx("li",{children:c.jsx(zt,{to:"/help",className:"text-gray-300 hover:text-neonYellow transition-colors duration-200",children:"Help"})}),c.jsx("li",{children:c.jsx(zt,{to:"/pricing",className:"text-gray-300 hover:text-neonYellow transition-colors duration-200",children:"Pricing"})}),c.jsx("li",{children:c.jsx(zt,{to:"/docs",className:"text-gray-300 hover:text-neonYellow transition-colors duration-200",children:"Docs"})})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-200 mb-3",children:"Account"}),c.jsxs("ul",{className:"space-y-2",children:[c.jsx("li",{children:c.jsx(zt,{to:"/settings",className:"text-gray-300 hover:text-neonYellow transition-colors duration-200",children:"Settings"})}),c.jsx("li",{children:c.jsx(zt,{to:"/login",className:"text-gray-300 hover:text-neonYellow transition-colors duration-200",children:"Log in"})}),c.jsx("li",{children:c.jsx(zt,{to:"/signup",className:"text-gray-300 hover:text-neonYellow transition-colors duration-200",children:"Sign up"})})]})]}),c.jsxs("div",{className:"col-span-2",children:[c.jsx("h3",{className:"font-semibold text-gray-200 mb-3",children:"File Tools"}),c.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 gap-y-2 gap-x-4 sm:gap-x-6",children:r.map((e,t)=>c.jsx("li",{children:c.jsx(zt,{to:e.path,className:"text-gray-300 hover:text-neonYellow transition-colors duration-200",children:e.title})},t))})]})]})]}),c.jsxs("div",{className:"mt-10 text-center text-xs text-gray-400",children:["© ",new Date().getFullYear()," Syla Analytics. All rights reserved."]})]})}const cy=()=>{const[r,e]=U.useState(!1);return r?c.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500 to-blue-700 flex items-center justify-center text-white font-bold text-lg",children:"SA"}):c.jsx("img",{src:"/favicon.png",alt:"Syla Analytics Logo",className:"w-10 h-10 rounded-xl",onError:()=>e(!0)})};function Bi(){const r=ms(),{user:e,logout:t,theme:n,setTheme:s,checkAuthStatus:i}=U.useContext(yi),[a,l]=U.useState(!1),[d,h]=U.useState(!1),[f,g]=U.useState(""),[b,m]=U.useState([]),[S,k]=U.useState(!1),[w,_]=U.useState([]),[E,R]=U.useState(!1),I=U.useRef(null),B=U.useRef(null),Q=U.useRef(null),te=async()=>{if(e)try{const X=await fetch("/api/notifications/",{method:"GET",credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(X.ok){const le=await X.json();_(le)}}catch(X){console.error("Failed to fetch notifications:",X)}};U.useEffect(()=>{e&&te()},[e]),U.useEffect(()=>{if(!f.trim()){m([]),k(!1);return}const X=setTimeout(async()=>{try{R(!0);const le=await fetch(`/api/search?q=${encodeURIComponent(f)}`,{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(le.ok){const pe=await le.json();m(pe.results||[]),k(!0)}}catch(le){console.error("Search failed:",le),m([])}finally{R(!1)}},300);return()=>clearTimeout(X)},[f]),U.useEffect(()=>{const X=le=>{I.current&&!I.current.contains(le.target)&&l(!1),B.current&&!B.current.contains(le.target)&&h(!1),Q.current&&!Q.current.contains(le.target)&&k(!1)};return document.addEventListener("mousedown",X),()=>document.removeEventListener("mousedown",X)},[]);const $=async()=>{try{await t(),r("/")}catch(X){console.error("Logout failed:",X)}l(!1)},M=()=>{s(n==="light"?"dark":"light")},ne=async X=>{try{await fetch(`/api/notifications/${X}`,{method:"PATCH",credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({read:!0})}),_(le=>le.map(pe=>pe.id===X?{...pe,read:!0}:pe)),await te()}catch(le){console.error("Failed to mark notification as read:",le)}},D=X=>{X.read||ne(X.id),X.action_url&&r(X.action_url),h(!1)},L=X=>{X.url&&r(X.url),k(!1),g("")},O=w.filter(X=>!X.read).length,W=()=>{if(e?.avatar_url){const le=(e.avatar_url.startsWith("http"),e.avatar_url);return c.jsx("img",{src:le,alt:e.name||"User",className:"w-8 h-8 rounded-full object-cover",onError:pe=>{console.error("Avatar failed to load:",le),pe.target.style.display="none",pe.target.nextSibling&&(pe.target.nextSibling.style.display="flex")}},e.avatar_url)}const X=e?.name?.charAt(0)?.toUpperCase()||"U";return c.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-700 rounded-full flex items-center justify-center text-white text-sm font-medium",children:X})};return e?c.jsx("nav",{className:"bg-white dark:bg-slate-900 shadow-sm",style:{zIndex:"var(--z-navbar)"},children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex justify-between items-center h-16",children:[c.jsxs(zt,{to:"/",className:"flex items-center gap-3",children:[c.jsx(cy,{}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold text-gray-800 dark:text-slate-200",children:"Syla Analytics"}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Futuristic Data Intelligence"})]})]}),c.jsx("div",{className:"hidden lg:flex flex-1 max-w-md mx-8 relative",ref:Q,children:c.jsxs("div",{className:"relative w-full",children:[c.jsx(Dh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),c.jsx("input",{type:"text",placeholder:"Search charts, data, or ask questions...",value:f,onChange:X=>g(X.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:border-slate-600 dark:bg-slate-700 dark:text-slate-200"}),S&&c.jsx("div",{className:"absolute top-full left-0 mt-2 w-full bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-600 rounded-lg shadow-lg max-h-64 overflow-y-auto",style:{zIndex:"var(--z-dropdowns)"},children:E?c.jsx("div",{className:"p-3 text-center text-gray-500",children:c.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full mx-auto"})}):b.length>0?b.map((X,le)=>c.jsxs("button",{onClick:()=>L(X),className:"w-full p-3 text-left hover:bg-gray-50 dark:hover:bg-slate-700 border-b border-gray-100 dark:border-slate-700 last:border-b-0",children:[c.jsx("div",{className:"font-medium text-gray-900 dark:text-slate-200",children:X.title}),X.description&&c.jsx("div",{className:"text-sm text-gray-600 dark:text-slate-400",children:X.description}),X.type&&c.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:X.type})]},le)):f&&c.jsx("div",{className:"p-3 text-center text-gray-500",children:"No results found"})})]})}),c.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[c.jsx("button",{onClick:M,className:"hidden md:block p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:`Switch to ${n==="light"?"dark":"light"} mode`,children:n==="light"?c.jsx(jm,{size:20}):c.jsx(Am,{size:20})}),c.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[c.jsx(zt,{to:"/help",className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",children:c.jsx(w1,{size:20,className:"text-gray-600 dark:text-slate-300"})}),c.jsx(zt,{to:"/pricing",className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",children:c.jsx(D5,{size:20,className:"text-gray-600 dark:text-slate-300"})})]}),c.jsxs("div",{className:"relative",ref:B,children:[c.jsxs("button",{onClick:()=>h(!d),className:"relative p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Notifications",children:[c.jsx(Od,{size:20}),O>0&&c.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full text-xs text-white flex items-center justify-center font-medium",children:O>99?"99+":O})]}),d&&c.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-600 rounded-lg shadow-lg",style:{zIndex:"var(--z-dropdowns)"},children:[c.jsxs("div",{className:"p-3 border-b border-gray-200 dark:border-slate-600 flex items-center justify-between",children:[c.jsx("h3",{className:"font-medium text-gray-800 dark:text-slate-200",children:"Notifications"}),O>0&&c.jsxs("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded-full",children:[O," new"]})]}),c.jsx("div",{className:"max-h-64 overflow-y-auto",children:w.length>0?w.slice(0,5).map(X=>c.jsx("button",{onClick:()=>D(X),className:`w-full p-3 text-left border-b border-gray-100 dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors ${X.read?"":"bg-blue-50 dark:bg-blue-900/10"}`,children:c.jsxs("div",{className:"flex items-start gap-2",children:[!X.read&&c.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-medium text-sm text-gray-800 dark:text-slate-200",children:X.title}),c.jsx("div",{className:"text-sm text-gray-600 dark:text-slate-400 line-clamp-2",children:X.message}),c.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-500 mt-1",children:new Date(X.created_at).toLocaleString()})]})]})},X.id)):c.jsx("div",{className:"p-4 text-center text-gray-500",children:"No notifications"})}),c.jsx("div",{className:"p-3 text-center border-t border-gray-200 dark:border-slate-600",children:c.jsx(zt,{to:"/notifications",className:"text-sm text-blue-600 hover:text-blue-700",onClick:()=>h(!1),children:"View all notifications"})})]})]}),c.jsxs("div",{className:"relative",ref:I,children:[c.jsxs("button",{onClick:()=>l(!a),className:"flex items-center gap-1 sm:gap-2 p-1.5 sm:p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",children:[W(),c.jsx("span",{className:"hidden sm:block text-sm font-medium text-gray-700 dark:text-slate-300",children:e.name}),c.jsx(vh,{size:16,className:"hidden sm:block text-gray-500"})]}),a&&c.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-600 rounded-lg shadow-lg",style:{zIndex:"var(--z-dropdowns)"},children:[c.jsxs("div",{className:"p-3 border-b border-gray-200 dark:border-slate-600",children:[c.jsx("div",{className:"font-medium text-gray-800 dark:text-slate-200",children:e.name}),c.jsx("div",{className:"text-sm text-gray-600 dark:text-slate-400",children:e.email})]}),c.jsxs("div",{className:"py-1",children:[c.jsxs(zt,{to:"/profile",onClick:()=>l(!1),className:"flex items-center gap-3 px-3 py-2 text-sm text-gray-700 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",children:[c.jsx(Oc,{size:16}),"Profile"]}),c.jsxs(zt,{to:"/settings",onClick:()=>l(!1),className:"flex items-center gap-3 px-3 py-2 text-sm text-gray-700 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",children:[c.jsx($l,{size:16}),"Settings"]})]}),c.jsx("div",{className:"border-t border-gray-200 dark:border-slate-600 py-1",children:c.jsxs("button",{onClick:$,className:"flex items-center gap-3 px-3 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors w-full text-left",children:[c.jsx(p6,{size:16}),"Sign Out"]})})]})]})]})]})})}):c.jsx("nav",{className:"bg-white dark:bg-slate-900 shadow-sm",style:{zIndex:"var(--z-navbar)"},children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex justify-between items-center h-16",children:[c.jsxs(zt,{to:"/",className:"flex items-center gap-3",children:[c.jsx(cy,{}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold text-gray-800 dark:text-slate-200",children:"Syla Analytics"}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Futuristic Data Intelligence"})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:M,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:`Switch to ${n==="light"?"dark":"light"} mode`,children:n==="light"?c.jsx(jm,{size:20}):c.jsx(Am,{size:20})}),c.jsx(zt,{to:"/login",className:"px-4 py-2 text-gray-700 hover:text-gray-900 dark:text-slate-300 dark:hover:text-slate-100 transition-colors",children:"Sign In"}),c.jsx(zt,{to:"/signup",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Get Started"})]})]})})})}function lk({options:r={},setOptions:e=()=>{},columns:t=[],data:n=[],onSaveChart:s=()=>{},onLoadPreset:i=()=>{}}){const[a,l]=U.useState({...r}),[d,h]=U.useState("display"),[f,g]=U.useState({filters:!0,display:!0,colors:!1,advanced:!1});U.useEffect(()=>l({...r}),[r]);const b=M=>{const ne={...a,...M};l(ne),e(ne)},m=t.filter(M=>n.length?n.slice(0,100).some(D=>typeof D[M]=="number"||!isNaN(Number(D[M]))):!0),S=t.filter(M=>!m.includes(M)),k=M=>n.length?[...new Set(n.map(D=>D[M]).filter(D=>D!=null))].slice(0,50):[],w=()=>{const M=a.gradientStops||[a.color||"#2563eb","#ffffff"];if(M.length>=5)return;const ne=M[M.length-1];b({gradientStops:[...M,ne],gradient:!0})},_=M=>{const ne=a.gradientStops||[];if(ne.length<=2)return;const D=ne.filter((L,O)=>O!==M);b({gradientStops:D})},E=(M,ne)=>{const D=[...a.gradientStops||[]];D[M]=ne,b({gradientStops:D,gradient:!0})},R=[{name:"Blue",colors:["#2563eb","#3b82f6","#60a5fa"]},{name:"Green",colors:["#059669","#10b981","#34d399"]},{name:"Purple",colors:["#7c3aed","#8b5cf6","#a78bfa"]},{name:"Orange",colors:["#ea580c","#f97316","#fb923c"]},{name:"Pink",colors:["#db2777","#ec4899","#f472b6"]},{name:"Teal",colors:["#0d9488","#14b8a6","#5eead4"]}],I=M=>{b({color:M.colors[0],gradientStops:M.colors,gradient:M.colors.length>1})},B=[{value:Ie.BAR,label:"Bar",icon:rh},{value:Ie.LINE,label:"Line",icon:M5},{value:Ie.AREA,label:"Area",icon:T5},{value:Ie.PIE,label:"Pie",icon:N0},{value:Ie.SCATTER,label:"Scatter",icon:P0},{value:Ie.COLUMN,label:"Column",icon:_m},{value:Ie.DOUGHNUT,label:"Doughnut",icon:N0},{value:Ie.BUBBLE,label:"Bubble",icon:P0},{value:Ie.RADAR,label:"Radar",icon:W5},{value:Ie.COMPARISON,label:"Compare",icon:rh},{value:Ie.STACKED_BAR,label:"Stacked",icon:Cm},{value:Ie.GAUGE,label:"Gauge",icon:B5}],Q=()=>{b({type:"bar",color:"#2563eb",gradient:!1,gradientStops:["#2563eb","#ff6b6b"],showLabels:!1,trendline:!1,sort:"none",logScale:!1,compareField:"",topN:0,groupOthers:!1})},te=[{id:"filters",label:"Filters",icon:F5},{id:"display",label:"Display",icon:rh},{id:"colors",label:"Colors",icon:_1},{id:"advanced",label:"Advanced",icon:$l}];return(NE(a.type)||{}).features,c.jsxs("div",{className:"mt-4 rounded-2xl bg-white border border-gray-200 shadow-sm dark:bg-ink/80 dark:border-white/5",children:[c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200 dark:border-white/10",children:[c.jsxs("h3",{className:"font-display text-sm flex items-center gap-2 font-medium",children:[c.jsx($l,{size:16,className:"text-neonBlue"}),"Chart Options"]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:Q,className:"p-1.5 text-gray-500 hover:text-gray-700 dark:hover:text-slate-300 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Reset to defaults",children:c.jsx(nh,{size:14})}),c.jsx("button",{onClick:()=>s(a),className:"p-1.5 text-blue-500 hover:text-blue-700 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",title:"Save configuration",children:c.jsx(L0,{size:14})})]})]}),c.jsx("div",{className:"flex border-b border-gray-200 dark:border-white/10",children:te.map(M=>c.jsxs("button",{onClick:()=>h(M.id),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium transition-colors ${d===M.id?"text-blue-600 border-b-2 border-blue-600 bg-blue-50/50 dark:bg-blue-900/20 dark:text-blue-400":"text-gray-600 hover:text-gray-900 dark:text-slate-400 dark:hover:text-slate-200 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:[c.jsx(M.icon,{size:16}),M.label]},M.id))}),c.jsxs("div",{className:"p-4",children:[d==="filters"&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Dataset Source"}),c.jsxs("select",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm dark:border-slate-600 dark:bg-slate-800",children:[c.jsx("option",{children:"Current uploaded data"}),c.jsx("option",{children:"Load from saved dataset..."})]})]}),S.includes("Country")&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Country Filter"}),c.jsx("select",{multiple:!0,className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm dark:border-slate-600 dark:bg-slate-800",style:{minHeight:"80px"},children:k("Country").map(M=>c.jsx("option",{value:M,children:M},M))}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Hold Ctrl/Cmd to select multiple"})]}),S.includes("Company")&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Company Filter"}),c.jsx("select",{multiple:!0,className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm dark:border-slate-600 dark:bg-slate-800",style:{minHeight:"80px"},children:k("Company").map(M=>c.jsx("option",{value:M,children:M},M))})]}),S.includes("Campaign")&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Campaign Filter"}),c.jsx("input",{type:"text",placeholder:"Search campaigns...",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm mb-2 dark:border-slate-600 dark:bg-slate-800"}),c.jsx("div",{className:"max-h-32 overflow-y-auto border rounded-lg p-2 bg-gray-50 dark:bg-slate-700",children:k("Campaign").map(M=>c.jsxs("label",{className:"flex items-center gap-2 py-1 text-sm",children:[c.jsx("input",{type:"checkbox",className:"rounded"}),c.jsx("span",{children:M}),c.jsxs("span",{className:"text-xs text-gray-500 ml-auto",children:["(",n.filter(ne=>ne.Campaign===M).length,")"]})]},M))})]}),t.includes("Date")&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Date Range"}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Start Date"}),c.jsx("input",{type:"date",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm dark:border-slate-600 dark:bg-slate-800"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"End Date"}),c.jsx("input",{type:"date",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm dark:border-slate-600 dark:bg-slate-800"})]})]})]}),m.length>0&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Numeric Filters"}),m.slice(0,2).map(M=>c.jsxs("div",{className:"mb-3",children:[c.jsxs("label",{className:"block text-xs text-gray-500 mb-1",children:[M," Range"]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsx("input",{type:"number",placeholder:"Min",className:"rounded-lg border border-gray-300 px-3 py-2 text-sm dark:border-slate-600 dark:bg-slate-800"}),c.jsx("input",{type:"number",placeholder:"Max",className:"rounded-lg border border-gray-300 px-3 py-2 text-sm dark:border-slate-600 dark:bg-slate-800"})]})]},M))]})]}),d==="display"&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Group By"}),c.jsxs("select",{value:a.aggregateBy||"",onChange:M=>{const ne=M.target.value;b({aggregateBy:ne}),e({...a,aggregateBy:ne})},className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm dark:border-slate-600 dark:bg-slate-800",children:[c.jsx("option",{value:"",children:"No grouping"}),S.map(M=>c.jsx("option",{value:M,children:M},M))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Metric"}),c.jsx("select",{value:a.metric||"",onChange:M=>{const ne=M.target.value;b({metric:ne}),e({...a,metric:ne})},className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm dark:border-slate-600 dark:bg-slate-800",children:m.map(M=>c.jsx("option",{value:M,children:M},M))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Function"}),c.jsxs("select",{value:a.aggregateFunction||"sum",onChange:M=>{const ne=M.target.value;b({aggregateFunction:ne}),e({...a,aggregateFunction:ne})},className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm dark:border-slate-600 dark:bg-slate-800",children:[c.jsx("option",{value:"sum",children:"Sum"}),c.jsx("option",{value:"mean",children:"Average"}),c.jsx("option",{value:"median",children:"Median"}),c.jsx("option",{value:"count",children:"Count"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Chart Type"}),c.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:B.map(M=>{const ne=M.icon;return c.jsxs("button",{onClick:()=>b({type:M.value}),className:`flex flex-col items-center justify-center p-4 rounded-2xl text-sm font-medium transition-all ${a.type===M.value?"border-blue-500 bg-gradient-to-br from-blue-500 to-blue-700 text-white shadow-lg":"border-gray-200 hover:border-gray-300 dark:border-slate-600 dark:hover:border-slate-500 bg-gradient-to-br from-blue-400/40 to-blue-600/40 text-white shadow-md"}`,children:[c.jsx(ne,{size:24,className:"mb-1 drop-shadow-lg"}),M.label]},M.value)})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Orientation"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>b({orientation:"horizontal"}),className:`flex-1 py-2 px-3 rounded-lg text-sm ${a.orientation==="horizontal"?"bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-400":"bg-gray-100 hover:bg-gray-200 dark:bg-slate-700"}`,children:"Horizontal"}),c.jsx("button",{onClick:()=>b({orientation:"vertical"}),className:`flex-1 py-2 px-3 rounded-lg text-sm ${a.orientation!=="horizontal"?"bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-400":"bg-gray-100 hover:bg-gray-200 dark:bg-slate-700"}`,children:"Vertical"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Data Labels"}),c.jsxs("div",{className:"space-y-3 p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[c.jsxs("label",{className:"flex items-center gap-3",children:[c.jsx("input",{type:"checkbox",checked:a.showLabels||!1,onChange:M=>b({showLabels:M.target.checked}),className:"rounded"}),c.jsx("span",{className:"text-sm",children:"Show Data Labels"})]}),a.showLabels&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-gray-600 dark:text-slate-400 mb-2",children:"Label Position"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsx("button",{onClick:()=>b({labelPosition:"center"}),className:`py-2 px-3 rounded-lg text-sm transition-colors ${(a.labelPosition||"center")==="center"?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 hover:border-blue-400"}`,children:"Centered"}),c.jsx("button",{onClick:()=>b({labelPosition:"outside"}),className:`py-2 px-3 rounded-lg text-sm transition-colors ${a.labelPosition==="outside"?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 hover:border-blue-400"}`,children:"Outside"})]}),c.jsx("p",{className:"text-xs text-gray-500 mt-2",children:a.labelPosition==="outside"?"Labels appear outside chart elements":"Labels appear centered on chart elements"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Sort By"}),c.jsxs("select",{value:a.sort||"none",onChange:M=>b({sort:M.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm dark:border-slate-600 dark:bg-slate-800",children:[c.jsx("option",{value:"none",children:"None"}),c.jsx("option",{value:"asc",children:"Ascending"}),c.jsx("option",{value:"desc",children:"Descending"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Show Top N Groups"}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("input",{type:"number",min:"0",max:"50",value:a.topN||0,onChange:M=>b({topN:parseInt(M.target.value)||0}),className:"w-24 rounded-lg border border-gray-300 px-3 py-2 text-sm dark:border-slate-600 dark:bg-slate-800",placeholder:"All"}),c.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[c.jsx("input",{type:"checkbox",checked:a.groupOthers||!1,onChange:M=>b({groupOthers:M.target.checked}),className:"rounded"}),'Group remainder as "Others"']})]}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"0 = show all groups"})]})]}),d==="colors"&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Color Presets"}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:R.map(M=>c.jsxs("button",{onClick:()=>I(M),className:"p-3 rounded-lg border border-gray-200 hover:border-gray-300 dark:border-slate-600 dark:hover:border-slate-500 transition-colors",children:[c.jsx("div",{className:"flex gap-1 justify-center mb-2",children:M.colors.map((ne,D)=>c.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:ne}},D))}),c.jsx("div",{className:"text-xs font-medium",children:M.name})]},M.name))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Primary Color"}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("input",{type:"color",value:a.color||"#2563eb",onChange:M=>b({color:M.target.value}),className:"w-12 h-10 rounded-lg border border-gray-300"}),c.jsx("input",{type:"text",value:a.color||"#2563eb",onChange:M=>b({color:M.target.value}),className:"flex-1 rounded-lg border border-gray-300 px-3 py-2 text-sm font-mono dark:border-slate-600 dark:bg-slate-800",placeholder:"#2563eb"})]})]}),c.jsx("div",{children:c.jsxs("label",{className:"flex items-center gap-3",children:[c.jsx("input",{type:"checkbox",checked:a.gradient||!1,onChange:M=>b({gradient:M.target.checked}),className:"rounded"}),c.jsx("span",{className:"text-sm font-medium",children:"Enable Gradient"})]})}),a.gradient&&c.jsxs("div",{children:[c.jsx("div",{className:"flex items-center justify-between mb-3",children:c.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:["Gradient Colors (",(a.gradientStops||[]).length," / 5)"]})}),c.jsx("div",{className:"grid grid-cols-3 gap-3 mb-3",children:(a.gradientStops||[a.color||"#2563eb","#ffffff"]).map((M,ne)=>c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("input",{type:"color",value:M,onChange:D=>E(ne,D.target.value),className:"w-full h-10 rounded-lg border-2 border-gray-300 cursor-pointer hover:border-blue-400 transition-colors"})}),c.jsx("button",{onClick:()=>_(ne),disabled:(a.gradientStops||[]).length<=2,className:"w-full px-2 py-1 text-xs bg-red-100 text-red-600 rounded hover:bg-red-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Remove"})]},ne))}),c.jsx("button",{onClick:w,disabled:(a.gradientStops||[]).length>=5,className:"w-full px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"+ Add Color Stop"}),c.jsxs("div",{className:"mt-3",children:[c.jsx("label",{className:"block text-xs text-gray-500 mb-2",children:"Preview"}),c.jsx("div",{className:"h-12 rounded-lg border-2 border-gray-300",style:{background:a.gradientStops&&a.gradientStops.length>1?`linear-gradient(to right, ${a.gradientStops.join(", ")})`:`linear-gradient(to right, ${a.color||"#2563eb"}, #60a5fa)`}})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Series Colors"}),c.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Click on chart elements to customize individual colors"}),c.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[c.jsx("div",{className:"text-sm",children:"Interactive color editing:"}),c.jsxs("ul",{className:"text-xs text-gray-600 dark:text-slate-400 mt-1 space-y-1",children:[c.jsx("li",{children:"• Click any bar/point to open color picker"}),c.jsx("li",{children:'• Use "Apply to all" to extend color to similar items'}),c.jsx("li",{children:"• Save color profiles for reuse"})]})]})]})]}),d==="advanced"&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-700 dark:text-slate-300 mb-3",children:"Interactivity"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("label",{className:"flex items-center gap-3",children:[c.jsx("input",{type:"checkbox",checked:a.showLabels||!1,onChange:M=>b({showLabels:M.target.checked}),className:"rounded"}),c.jsx("span",{className:"text-sm",children:"Show Data Labels"})]}),(a.type==="line"||a.type==="bar"||a.type==="area")&&c.jsxs("label",{className:"flex items-center gap-3",children:[c.jsx("input",{type:"checkbox",checked:a.trendline||!1,onChange:M=>b({trendline:M.target.checked}),className:"rounded"}),c.jsx("span",{className:"text-sm",children:"Show Trendline"})]}),(a.type==="bar"||a.type==="line"||a.type==="scatter")&&c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-3 mb-2",children:[c.jsx("input",{type:"checkbox",checked:a.logScale||!1,onChange:M=>b({logScale:M.target.checked}),className:"rounded"}),c.jsx("span",{className:"text-sm",children:"Logarithmic Scale"})]}),a.logScale&&c.jsx("input",{type:"number",min:"0.001",step:"0.001",value:a.logMin||"",onChange:M=>b({logMin:parseFloat(M.target.value)||void 0}),placeholder:"Min value (auto)",className:"ml-6 w-32 rounded border px-2 py-1 text-xs dark:border-slate-600 dark:bg-slate-800"})]}),(a.type===Ie.BAR||a.type===Ie.COLUMN||a.type===Ie.PIE||a.type===Ie.DOUGHNUT||a.type===Ie.COMPARISON||a.type===Ie.STACKED_BAR)&&c.jsxs("div",{className:"space-y-3 p-4 bg-gradient-to-br from-indigo-50 to-blue-50 dark:from-indigo-900/20 dark:to-blue-900/20 rounded-lg border border-indigo-200 dark:border-indigo-700",children:[c.jsxs("label",{className:"flex items-center gap-3",children:[c.jsx("input",{type:"checkbox",checked:a.enable3D||!1,onChange:M=>b({enable3D:M.target.checked}),className:"rounded"}),c.jsx("span",{className:"text-sm font-medium",children:"Enable 3D Effect"})]}),a.enable3D&&c.jsxs("div",{className:"ml-6 space-y-4 pt-2",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs text-gray-600 dark:text-slate-400 mb-2",children:["3D Depth: ",a.shadow3DDepth||(a.type===Ie.PIE||a.type===Ie.DOUGHNUT?20:8),"px"]}),c.jsx("input",{type:"range",min:a.type===Ie.PIE||a.type===Ie.DOUGHNUT?10:5,max:a.type===Ie.PIE||a.type===Ie.DOUGHNUT?40:20,value:a.shadow3DDepth||(a.type===Ie.PIE||a.type===Ie.DOUGHNUT?20:8),onChange:M=>b({shadow3DDepth:parseInt(M.target.value)}),className:"w-full accent-blue-600"}),c.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[c.jsx("span",{children:"Subtle"}),c.jsx("span",{children:"Dramatic"})]})]}),(a.type===Ie.BAR||a.type===Ie.COLUMN||a.type===Ie.COMPARISON||a.type===Ie.STACKED_BAR)&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-gray-600 dark:text-slate-400 mb-2",children:"Shadow Direction"}),c.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{value:"top-left",label:"↖",desc:"Top Left"},{value:"top",label:"↑",desc:"Top"},{value:"top-right",label:"↗",desc:"Top Right"},{value:"left",label:"←",desc:"Left"},{value:"bottom-right",label:"↘",desc:"Bottom Right (Default)"},{value:"right",label:"→",desc:"Right"},{value:"bottom-left",label:"↙",desc:"Bottom Left"},{value:"bottom",label:"↓",desc:"Bottom"}].map(M=>c.jsx("button",{onClick:()=>b({shadow3DPosition:M.value}),className:`px-3 py-2 rounded-lg text-xs font-medium transition-all ${(a.shadow3DPosition||"bottom-right")===M.value?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 hover:border-blue-400"}`,title:M.desc,children:c.jsx("span",{className:"text-xl",children:M.label})},M.value))})]}),c.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white dark:bg-slate-800 rounded border border-indigo-200 dark:border-indigo-700",children:[c.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-600 rounded shadow-lg transform rotate-3"}),c.jsx("div",{className:"text-xs text-gray-600 dark:text-slate-400",children:a.type===Ie.PIE||a.type===Ie.DOUGHNUT?"3D depth effect will create layered circular slices":"3D depth effect creates realistic bar depth and shadows"})]})]})]})]})]}),c.jsxs("div",{className:"pt-4 border-t border-gray-200 dark:border-white/10",children:[c.jsx("h4",{className:"font-medium text-gray-700 dark:text-slate-300 mb-3",children:"Compare Parameters"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("label",{className:"flex items-center gap-3",children:[c.jsx("input",{type:"checkbox",checked:a.compareMode||!1,onChange:M=>b({compareMode:M.target.checked}),className:"rounded"}),c.jsx("span",{className:"text-sm",children:"Enable Compare Mode (Simultaneous)"})]}),a.compareMode&&c.jsxs("div",{className:"ml-6 space-y-4",children:[c.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/10 rounded-lg",children:[c.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Parameter 1"}),c.jsxs("select",{value:a.compareParam1||"",onChange:M=>b({compareParam1:M.target.value}),className:"w-full rounded border px-2 py-1.5 text-sm dark:border-slate-600 dark:bg-slate-800 mb-2",children:[c.jsx("option",{value:"",children:"Select parameter..."}),m.map(M=>c.jsx("option",{value:M,children:M},M))]}),a.compareParam1&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xs",children:"Color:"}),c.jsx("input",{type:"color",value:a.compareParam1Color||"#2563eb",onChange:M=>b({compareParam1Color:M.target.value}),className:"w-10 h-8 rounded border cursor-pointer"}),c.jsx("input",{type:"text",value:a.compareParam1Color||"#2563eb",onChange:M=>b({compareParam1Color:M.target.value}),className:"flex-1 rounded border px-2 py-1 text-xs font-mono dark:border-slate-600 dark:bg-slate-800"})]})]}),c.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/10 rounded-lg",children:[c.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Parameter 2"}),c.jsxs("select",{value:a.compareParam2||"",onChange:M=>b({compareParam2:M.target.value}),className:"w-full rounded border px-2 py-1.5 text-sm dark:border-slate-600 dark:bg-slate-800 mb-2",children:[c.jsx("option",{value:"",children:"Select parameter..."}),m.map(M=>c.jsx("option",{value:M,children:M},M))]}),a.compareParam2&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xs",children:"Color:"}),c.jsx("input",{type:"color",value:a.compareParam2Color||"#10b981",onChange:M=>b({compareParam2Color:M.target.value}),className:"w-10 h-8 rounded border cursor-pointer"}),c.jsx("input",{type:"text",value:a.compareParam2Color||"#10b981",onChange:M=>b({compareParam2Color:M.target.value}),className:"flex-1 rounded border px-2 py-1 text-xs font-mono dark:border-slate-600 dark:bg-slate-800"})]})]}),a.compareParam1&&a.compareParam2&&c.jsx("div",{className:"p-3 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg",children:c.jsx("p",{className:"text-xs text-gray-600 dark:text-slate-400",children:"✓ Both parameters will be displayed side-by-side on the same chart for direct comparison."})})]})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-700 dark:text-slate-300 mb-3",children:"Export Settings"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Default Format"}),c.jsxs("select",{value:a.exportFormat||"png",onChange:M=>b({exportFormat:M.target.value}),className:"w-full rounded border px-2 py-1 text-sm dark:border-slate-600 dark:bg-slate-800",children:[c.jsx("option",{value:"png",children:"PNG"}),c.jsx("option",{value:"svg",children:"SVG"}),c.jsx("option",{value:"pdf",children:"PDF"}),c.jsx("option",{value:"csv",children:"CSV (data)"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"DPI"}),c.jsx("input",{type:"number",min:"72",max:"600",value:a.exportDPI||300,onChange:M=>b({exportDPI:parseInt(M.target.value)||300}),className:"w-full rounded border px-2 py-1 text-sm dark:border-slate-600 dark:bg-slate-800"})]})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-700 dark:text-slate-300 mb-3",children:"Performance"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"flex items-center gap-3",children:[c.jsx("input",{type:"checkbox",checked:a.enableAnimations!==!1,onChange:M=>b({enableAnimations:M.target.checked}),className:"rounded"}),c.jsx("span",{className:"text-sm",children:"Enable Animations"})]}),c.jsxs("label",{className:"flex items-center gap-3",children:[c.jsx("input",{type:"checkbox",checked:a.enableTooltips!==!1,onChange:M=>b({enableTooltips:M.target.checked}),className:"rounded"}),c.jsx("span",{className:"text-sm",children:"Enable Tooltips"})]})]})]})]}),c.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-white/10 flex items-center justify-between",children:[c.jsx("div",{className:"text-xs text-gray-500",children:n.length>0&&`${n.length.toLocaleString()} data points`}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>window.dispatchEvent(new CustomEvent("exportChart",{detail:{format:"png"}})),className:"px-3 py-1.5 text-xs bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Export PNG"}),c.jsx("button",{onClick:()=>window.dispatchEvent(new CustomEvent("exportData",{detail:{format:"csv"}})),className:"px-3 py-1.5 text-xs border border-gray-300 rounded-lg hover:bg-gray-50 dark:border-slate-600 dark:hover:bg-slate-700 transition-colors",children:"Export CSV"})]})]})]})]})}const i7="modulepreload",a7=function(r){return"/"+r},dy={},Tg=function(e,t,n){let s=Promise.resolve();if(t&&t.length>0){let d=function(h){return Promise.all(h.map(f=>Promise.resolve(f).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");s=d(t.map(h=>{if(h=a7(h),h in dy)return;dy[h]=!0;const f=h.endsWith(".css"),g=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const b=document.createElement("link");if(b.rel=f?"stylesheet":i7,f||(b.as="script"),b.crossOrigin="",b.href=h,l&&b.setAttribute("nonce",l),document.head.appendChild(b),f)return new Promise((m,S)=>{b.addEventListener("load",m),b.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})};function xr(r){"@babel/helpers - typeof";return xr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xr(r)}var ua=Uint8Array,mi=Uint16Array,K1=Int32Array,J1=new ua([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),X1=new ua([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),uy=new ua([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ck=function(r,e){for(var t=new mi(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var s=new K1(t[30]),n=1;n<30;++n)for(var i=t[n];i<t[n+1];++i)s[i]=i-t[n]<<5|n;return{b:t,r:s}},dk=ck(J1,2),o7=dk.b,$m=dk.r;o7[28]=258,$m[258]=28;var l7=ck(X1,0),hy=l7.r,qm=new mi(32768);for(var Dr=0;Dr<32768;++Dr){var Al=(Dr&43690)>>1|(Dr&21845)<<1;Al=(Al&52428)>>2|(Al&13107)<<2,Al=(Al&61680)>>4|(Al&3855)<<4,qm[Dr]=((Al&65280)>>8|(Al&255)<<8)>>1}var uh=(function(r,e,t){for(var n=r.length,s=0,i=new mi(e);s<n;++s)r[s]&&++i[r[s]-1];var a=new mi(e);for(s=1;s<e;++s)a[s]=a[s-1]+i[s-1]<<1;var l;if(t){l=new mi(1<<e);var d=15-e;for(s=0;s<n;++s)if(r[s])for(var h=s<<4|r[s],f=e-r[s],g=a[r[s]-1]++<<f,b=g|(1<<f)-1;g<=b;++g)l[qm[g]>>d]=h}else for(l=new mi(n),s=0;s<n;++s)r[s]&&(l[s]=qm[a[r[s]-1]++]>>15-r[s]);return l}),Vc=new ua(288);for(var Dr=0;Dr<144;++Dr)Vc[Dr]=8;for(var Dr=144;Dr<256;++Dr)Vc[Dr]=9;for(var Dr=256;Dr<280;++Dr)Vc[Dr]=7;for(var Dr=280;Dr<288;++Dr)Vc[Dr]=8;var W0=new ua(32);for(var Dr=0;Dr<32;++Dr)W0[Dr]=5;var c7=uh(Vc,9,0),d7=uh(W0,5,0),uk=function(r){return(r+7)/8|0},u7=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new ua(r.subarray(e,t))},Po=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8},Ku=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8,r[n+2]|=t>>16},Mg=function(r,e){for(var t=[],n=0;n<r.length;++n)r[n]&&t.push({s:n,f:r[n]});var s=t.length,i=t.slice();if(!s)return{t:fk,l:0};if(s==1){var a=new ua(t[0].s+1);return a[t[0].s]=1,{t:a,l:1}}t.sort(function(B,Q){return B.f-Q.f}),t.push({s:-1,f:25001});var l=t[0],d=t[1],h=0,f=1,g=2;for(t[0]={s:-1,f:l.f+d.f,l,r:d};f!=s-1;)l=t[t[h].f<t[g].f?h++:g++],d=t[h!=f&&t[h].f<t[g].f?h++:g++],t[f++]={s:-1,f:l.f+d.f,l,r:d};for(var b=i[0].s,n=1;n<s;++n)i[n].s>b&&(b=i[n].s);var m=new mi(b+1),S=Gm(t[f-1],m,0);if(S>e){var n=0,k=0,w=S-e,_=1<<w;for(i.sort(function(Q,te){return m[te.s]-m[Q.s]||Q.f-te.f});n<s;++n){var E=i[n].s;if(m[E]>e)k+=_-(1<<S-m[E]),m[E]=e;else break}for(k>>=w;k>0;){var R=i[n].s;m[R]<e?k-=1<<e-m[R]++-1:++n}for(;n>=0&&k;--n){var I=i[n].s;m[I]==e&&(--m[I],++k)}S=e}return{t:new ua(m),l:S}},Gm=function(r,e,t){return r.s==-1?Math.max(Gm(r.l,e,t+1),Gm(r.r,e,t+1)):e[r.s]=t},fy=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new mi(++e),n=0,s=r[0],i=1,a=function(d){t[n++]=d},l=1;l<=e;++l)if(r[l]==s&&l!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(s),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(s);i=1,s=r[l]}return{c:t.subarray(0,n),n:e}},Ju=function(r,e){for(var t=0,n=0;n<e.length;++n)t+=r[n]*e[n];return t},hk=function(r,e,t){var n=t.length,s=uk(e+2);r[s]=n&255,r[s+1]=n>>8,r[s+2]=r[s]^255,r[s+3]=r[s+1]^255;for(var i=0;i<n;++i)r[s+i+4]=t[i];return(s+4+n)*8},py=function(r,e,t,n,s,i,a,l,d,h,f){Po(e,f++,t),++s[256];for(var g=Mg(s,15),b=g.t,m=g.l,S=Mg(i,15),k=S.t,w=S.l,_=fy(b),E=_.c,R=_.n,I=fy(k),B=I.c,Q=I.n,te=new mi(19),$=0;$<E.length;++$)++te[E[$]&31];for(var $=0;$<B.length;++$)++te[B[$]&31];for(var M=Mg(te,7),ne=M.t,D=M.l,L=19;L>4&&!ne[uy[L-1]];--L);var O=h+5<<3,W=Ju(s,Vc)+Ju(i,W0)+a,X=Ju(s,b)+Ju(i,k)+a+14+3*L+Ju(te,ne)+2*te[16]+3*te[17]+7*te[18];if(d>=0&&O<=W&&O<=X)return hk(e,f,r.subarray(d,d+h));var le,pe,ae,xe;if(Po(e,f,1+(X<W)),f+=2,X<W){le=uh(b,m,0),pe=b,ae=uh(k,w,0),xe=k;var be=uh(ne,D,0);Po(e,f,R-257),Po(e,f+5,Q-1),Po(e,f+10,L-4),f+=14;for(var $=0;$<L;++$)Po(e,f+3*$,ne[uy[$]]);f+=3*L;for(var ee=[E,B],A=0;A<2;++A)for(var q=ee[A],$=0;$<q.length;++$){var J=q[$]&31;Po(e,f,be[J]),f+=ne[J],J>15&&(Po(e,f,q[$]>>5&127),f+=q[$]>>12)}}else le=c7,pe=Vc,ae=d7,xe=W0;for(var $=0;$<l;++$){var ue=n[$];if(ue>255){var J=ue>>18&31;Ku(e,f,le[J+257]),f+=pe[J+257],J>7&&(Po(e,f,ue>>23&31),f+=J1[J]);var fe=ue&31;Ku(e,f,ae[fe]),f+=xe[fe],fe>3&&(Ku(e,f,ue>>5&8191),f+=X1[fe])}else Ku(e,f,le[ue]),f+=pe[ue]}return Ku(e,f,le[256]),f+pe[256]},h7=new K1([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),fk=new ua(0),f7=function(r,e,t,n,s,i){var a=i.z||r.length,l=new ua(n+a+5*(1+Math.ceil(a/7e3))+s),d=l.subarray(n,l.length-s),h=i.l,f=(i.r||0)&7;if(e){f&&(d[0]=i.r>>3);for(var g=h7[e-1],b=g>>13,m=g&8191,S=(1<<t)-1,k=i.p||new mi(32768),w=i.h||new mi(S+1),_=Math.ceil(t/3),E=2*_,R=function(ke){return(r[ke]^r[ke+1]<<_^r[ke+2]<<E)&S},I=new K1(25e3),B=new mi(288),Q=new mi(32),te=0,$=0,M=i.i||0,ne=0,D=i.w||0,L=0;M+2<a;++M){var O=R(M),W=M&32767,X=w[O];if(k[W]=X,w[O]=W,D<=M){var le=a-M;if((te>7e3||ne>24576)&&(le>423||!h)){f=py(r,d,0,I,B,Q,$,ne,L,M-L,f),ne=te=$=0,L=M;for(var pe=0;pe<286;++pe)B[pe]=0;for(var pe=0;pe<30;++pe)Q[pe]=0}var ae=2,xe=0,be=m,ee=W-X&32767;if(le>2&&O==R(M-ee))for(var A=Math.min(b,le)-1,q=Math.min(32767,M),J=Math.min(258,le);ee<=q&&--be&&W!=X;){if(r[M+ae]==r[M+ae-ee]){for(var ue=0;ue<J&&r[M+ue]==r[M+ue-ee];++ue);if(ue>ae){if(ae=ue,xe=ee,ue>A)break;for(var fe=Math.min(ee,ue-2),de=0,pe=0;pe<fe;++pe){var ce=M-ee+pe&32767,Z=k[ce],we=ce-Z&32767;we>de&&(de=we,X=ce)}}}W=X,X=k[W],ee+=W-X&32767}if(xe){I[ne++]=268435456|$m[ae]<<18|hy[xe];var me=$m[ae]&31,Me=hy[xe]&31;$+=J1[me]+X1[Me],++B[257+me],++Q[Me],D=M+ae,++te}else I[ne++]=r[M],++B[r[M]]}}for(M=Math.max(M,D);M<a;++M)I[ne++]=r[M],++B[r[M]];f=py(r,d,h,I,B,Q,$,ne,L,M-L,f),h||(i.r=f&7|d[f/8|0]<<3,f-=7,i.h=w,i.p=k,i.i=M,i.w=D)}else{for(var M=i.w||0;M<a+h;M+=65535){var Be=M+65535;Be>=a&&(d[f/8|0]=h,Be=a),f=hk(d,f+1,r.subarray(M,Be))}i.i=a}return u7(l,0,n+uk(f)+s)},pk=function(){var r=1,e=0;return{p:function(t){for(var n=r,s=e,i=t.length|0,a=0;a!=i;){for(var l=Math.min(a+2655,i);a<l;++a)s+=n+=t[a];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}r=n,e=s},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},p7=function(r,e,t,n,s){if(!s&&(s={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),a=new ua(i.length+r.length);a.set(i),a.set(r,i.length),r=a,s.w=i.length}return f7(r,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,n,s)},gk=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},g7=function(r,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=n<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var s=pk();s.p(e.dictionary),gk(r,2,s.d())}};function Ym(r,e){e||(e={});var t=pk();t.p(r);var n=p7(r,e,e.dictionary?6:2,4);return g7(n,e),gk(n,n.length-4,t.d()),n}var m7=typeof TextDecoder<"u"&&new TextDecoder,x7=0;try{m7.decode(fk,{stream:!0}),x7=1}catch{}function b7(r){if(Array.isArray(r))return r}function y7(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,s,i,a,l=[],d=!0,h=!1;try{if(i=(t=t.call(r)).next,e!==0)for(;!(d=(n=i.call(t)).done)&&(l.push(n.value),l.length!==e);d=!0);}catch(f){h=!0,s=f}finally{try{if(!d&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(h)throw s}}return l}}function gy(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function v7(r,e){if(r){if(typeof r=="string")return gy(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?gy(r,e):void 0}}function w7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function my(r,e){return b7(r)||y7(r,e)||v7(r,e)||w7()}function xy(r,e="utf8"){return new TextDecoder(e).decode(r)}const k7=new TextEncoder;function _7(r){return k7.encode(r)}const S7=1024*8,N7=(()=>{const r=new Uint8Array(4),e=new Uint32Array(r.buffer);return!((e[0]=1)&r[0])})(),Rg={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Z1{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=S7,t={}){let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const s=t.offset?t.offset>>>0:0,i=e.byteLength-s;let a=s;(ArrayBuffer.isView(e)||e instanceof Z1)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+s),e=e.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=e,this.length=i,this.byteLength=i,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,i),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,s=new Uint8Array(n);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const n=Rg[t].BYTES_PER_ELEMENT*e,s=this.byteOffset+this.offset,i=this.buffer.slice(s,s+n);if(this.littleEndian===N7&&t!=="uint8"&&t!=="int8"){const l=new Uint8Array(this.buffer.slice(s,s+n));l.reverse();const d=new Rg[t](l.buffer);return this.offset+=n,d.reverse(),d}const a=new Rg[t](i);return this.offset+=n,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let n=0;n<e;n++)t+=this.readChar();return t}readUtf8(e=1){return xy(this.readBytes(e))}decodeText(e=1,t="utf8"){return xy(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(_7(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function hu(r){let e=r.length;for(;--e>=0;)r[e]=0}const C7=3,j7=258,mk=29,P7=256,A7=P7+1+mk,xk=30,E7=512,L7=new Array((A7+2)*2);hu(L7);const I7=new Array(xk*2);hu(I7);const T7=new Array(E7);hu(T7);const M7=new Array(j7-C7+1);hu(M7);const R7=new Array(mk);hu(R7);const D7=new Array(xk);hu(D7);const O7=(r,e,t,n)=>{let s=r&65535|0,i=r>>>16&65535|0,a=0;for(;t!==0;){a=t>2e3?2e3:t,t-=a;do s=s+e[n++]|0,i=i+s|0;while(--a);s%=65521,i%=65521}return s|i<<16|0};var Km=O7;const F7=()=>{let r,e=[];for(var t=0;t<256;t++){r=t;for(var n=0;n<8;n++)r=r&1?3988292384^r>>>1:r>>>1;e[t]=r}return e},B7=new Uint32Array(F7()),z7=(r,e,t,n)=>{const s=B7,i=n+t;r^=-1;for(let a=n;a<i;a++)r=r>>>8^s[(r^e[a])&255];return r^-1};var Ta=z7,Jm={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},bk={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const U7=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var H7=function(r){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const n in t)U7(t,n)&&(r[n]=t[n])}}return r},W7=r=>{let e=0;for(let n=0,s=r.length;n<s;n++)e+=r[n].length;const t=new Uint8Array(e);for(let n=0,s=0,i=r.length;n<i;n++){let a=r[n];t.set(a,s),s+=a.length}return t},yk={assign:H7,flattenChunks:W7};let vk=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{vk=!1}const Ph=new Uint8Array(256);for(let r=0;r<256;r++)Ph[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;Ph[254]=Ph[254]=1;var V7=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let e,t,n,s,i,a=r.length,l=0;for(s=0;s<a;s++)t=r.charCodeAt(s),(t&64512)===55296&&s+1<a&&(n=r.charCodeAt(s+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),s++)),l+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(l),i=0,s=0;i<l;s++)t=r.charCodeAt(s),(t&64512)===55296&&s+1<a&&(n=r.charCodeAt(s+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),s++)),t<128?e[i++]=t:t<2048?(e[i++]=192|t>>>6,e[i++]=128|t&63):t<65536?(e[i++]=224|t>>>12,e[i++]=128|t>>>6&63,e[i++]=128|t&63):(e[i++]=240|t>>>18,e[i++]=128|t>>>12&63,e[i++]=128|t>>>6&63,e[i++]=128|t&63);return e};const $7=(r,e)=>{if(e<65534&&r.subarray&&vk)return String.fromCharCode.apply(null,r.length===e?r:r.subarray(0,e));let t="";for(let n=0;n<e;n++)t+=String.fromCharCode(r[n]);return t};var q7=(r,e)=>{const t=e||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,e));let n,s;const i=new Array(t*2);for(s=0,n=0;n<t;){let a=r[n++];if(a<128){i[s++]=a;continue}let l=Ph[a];if(l>4){i[s++]=65533,n+=l-1;continue}for(a&=l===2?31:l===3?15:7;l>1&&n<t;)a=a<<6|r[n++]&63,l--;if(l>1){i[s++]=65533;continue}a<65536?i[s++]=a:(a-=65536,i[s++]=55296|a>>10&1023,i[s++]=56320|a&1023)}return $7(i,s)},G7=(r,e)=>{e=e||r.length,e>r.length&&(e=r.length);let t=e-1;for(;t>=0&&(r[t]&192)===128;)t--;return t<0||t===0?e:t+Ph[r[t]]>e?t:e},Xm={string2buf:V7,buf2string:q7,utf8border:G7};function Y7(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var K7=Y7;const Zf=16209,J7=16191;var X7=function(e,t){let n,s,i,a,l,d,h,f,g,b,m,S,k,w,_,E,R,I,B,Q,te,$,M,ne;const D=e.state;n=e.next_in,M=e.input,s=n+(e.avail_in-5),i=e.next_out,ne=e.output,a=i-(t-e.avail_out),l=i+(e.avail_out-257),d=D.dmax,h=D.wsize,f=D.whave,g=D.wnext,b=D.window,m=D.hold,S=D.bits,k=D.lencode,w=D.distcode,_=(1<<D.lenbits)-1,E=(1<<D.distbits)-1;e:do{S<15&&(m+=M[n++]<<S,S+=8,m+=M[n++]<<S,S+=8),R=k[m&_];t:for(;;){if(I=R>>>24,m>>>=I,S-=I,I=R>>>16&255,I===0)ne[i++]=R&65535;else if(I&16){B=R&65535,I&=15,I&&(S<I&&(m+=M[n++]<<S,S+=8),B+=m&(1<<I)-1,m>>>=I,S-=I),S<15&&(m+=M[n++]<<S,S+=8,m+=M[n++]<<S,S+=8),R=w[m&E];r:for(;;){if(I=R>>>24,m>>>=I,S-=I,I=R>>>16&255,I&16){if(Q=R&65535,I&=15,S<I&&(m+=M[n++]<<S,S+=8,S<I&&(m+=M[n++]<<S,S+=8)),Q+=m&(1<<I)-1,Q>d){e.msg="invalid distance too far back",D.mode=Zf;break e}if(m>>>=I,S-=I,I=i-a,Q>I){if(I=Q-I,I>f&&D.sane){e.msg="invalid distance too far back",D.mode=Zf;break e}if(te=0,$=b,g===0){if(te+=h-I,I<B){B-=I;do ne[i++]=b[te++];while(--I);te=i-Q,$=ne}}else if(g<I){if(te+=h+g-I,I-=g,I<B){B-=I;do ne[i++]=b[te++];while(--I);if(te=0,g<B){I=g,B-=I;do ne[i++]=b[te++];while(--I);te=i-Q,$=ne}}}else if(te+=g-I,I<B){B-=I;do ne[i++]=b[te++];while(--I);te=i-Q,$=ne}for(;B>2;)ne[i++]=$[te++],ne[i++]=$[te++],ne[i++]=$[te++],B-=3;B&&(ne[i++]=$[te++],B>1&&(ne[i++]=$[te++]))}else{te=i-Q;do ne[i++]=ne[te++],ne[i++]=ne[te++],ne[i++]=ne[te++],B-=3;while(B>2);B&&(ne[i++]=ne[te++],B>1&&(ne[i++]=ne[te++]))}}else if((I&64)===0){R=w[(R&65535)+(m&(1<<I)-1)];continue r}else{e.msg="invalid distance code",D.mode=Zf;break e}break}}else if((I&64)===0){R=k[(R&65535)+(m&(1<<I)-1)];continue t}else if(I&32){D.mode=J7;break e}else{e.msg="invalid literal/length code",D.mode=Zf;break e}break}}while(n<s&&i<l);B=S>>3,n-=B,S-=B<<3,m&=(1<<S)-1,e.next_in=n,e.next_out=i,e.avail_in=n<s?5+(s-n):5-(n-s),e.avail_out=i<l?257+(l-i):257-(i-l),D.hold=m,D.bits=S};const Id=15,by=852,yy=592,vy=0,Dg=1,wy=2,Z7=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Q7=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),eL=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),tL=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),rL=(r,e,t,n,s,i,a,l)=>{const d=l.bits;let h=0,f=0,g=0,b=0,m=0,S=0,k=0,w=0,_=0,E=0,R,I,B,Q,te,$=null,M;const ne=new Uint16Array(Id+1),D=new Uint16Array(Id+1);let L=null,O,W,X;for(h=0;h<=Id;h++)ne[h]=0;for(f=0;f<n;f++)ne[e[t+f]]++;for(m=d,b=Id;b>=1&&ne[b]===0;b--);if(m>b&&(m=b),b===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,l.bits=1,0;for(g=1;g<b&&ne[g]===0;g++);for(m<g&&(m=g),w=1,h=1;h<=Id;h++)if(w<<=1,w-=ne[h],w<0)return-1;if(w>0&&(r===vy||b!==1))return-1;for(D[1]=0,h=1;h<Id;h++)D[h+1]=D[h]+ne[h];for(f=0;f<n;f++)e[t+f]!==0&&(a[D[e[t+f]]++]=f);if(r===vy?($=L=a,M=20):r===Dg?($=Z7,L=Q7,M=257):($=eL,L=tL,M=0),E=0,f=0,h=g,te=i,S=m,k=0,B=-1,_=1<<m,Q=_-1,r===Dg&&_>by||r===wy&&_>yy)return 1;for(;;){O=h-k,a[f]+1<M?(W=0,X=a[f]):a[f]>=M?(W=L[a[f]-M],X=$[a[f]-M]):(W=96,X=0),R=1<<h-k,I=1<<S,g=I;do I-=R,s[te+(E>>k)+I]=O<<24|W<<16|X|0;while(I!==0);for(R=1<<h-1;E&R;)R>>=1;if(R!==0?(E&=R-1,E+=R):E=0,f++,--ne[h]===0){if(h===b)break;h=e[t+a[f]]}if(h>m&&(E&Q)!==B){for(k===0&&(k=m),te+=g,S=h-k,w=1<<S;S+k<b&&(w-=ne[S+k],!(w<=0));)S++,w<<=1;if(_+=1<<S,r===Dg&&_>by||r===wy&&_>yy)return 1;B=E&Q,s[B]=m<<24|S<<16|te-i|0}}return E!==0&&(s[te+E]=h-k<<24|64<<16|0),l.bits=m,0};var hh=rL;const nL=0,wk=1,kk=2,{Z_FINISH:ky,Z_BLOCK:sL,Z_TREES:Qf,Z_OK:$c,Z_STREAM_END:iL,Z_NEED_DICT:aL,Z_STREAM_ERROR:zi,Z_DATA_ERROR:_k,Z_MEM_ERROR:Sk,Z_BUF_ERROR:oL,Z_DEFLATED:_y}=bk,xp=16180,Sy=16181,Ny=16182,Cy=16183,jy=16184,Py=16185,Ay=16186,Ey=16187,Ly=16188,Iy=16189,V0=16190,Ao=16191,Og=16192,Ty=16193,Fg=16194,My=16195,Ry=16196,Dy=16197,Oy=16198,e0=16199,t0=16200,Fy=16201,By=16202,zy=16203,Uy=16204,Hy=16205,Bg=16206,Wy=16207,Vy=16208,$r=16209,Nk=16210,Ck=16211,lL=852,cL=592,dL=15,uL=dL,$y=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function hL(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Kc=r=>{if(!r)return 1;const e=r.state;return!e||e.strm!==r||e.mode<xp||e.mode>Ck?1:0},jk=r=>{if(Kc(r))return zi;const e=r.state;return r.total_in=r.total_out=e.total=0,r.msg="",e.wrap&&(r.adler=e.wrap&1),e.mode=xp,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(lL),e.distcode=e.distdyn=new Int32Array(cL),e.sane=1,e.back=-1,$c},Pk=r=>{if(Kc(r))return zi;const e=r.state;return e.wsize=0,e.whave=0,e.wnext=0,jk(r)},Ak=(r,e)=>{let t;if(Kc(r))return zi;const n=r.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?zi:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=t,n.wbits=e,Pk(r))},Ek=(r,e)=>{if(!r)return zi;const t=new hL;r.state=t,t.strm=r,t.window=null,t.mode=xp;const n=Ak(r,e);return n!==$c&&(r.state=null),n},fL=r=>Ek(r,uL);let qy=!0,zg,Ug;const pL=r=>{if(qy){zg=new Int32Array(512),Ug=new Int32Array(32);let e=0;for(;e<144;)r.lens[e++]=8;for(;e<256;)r.lens[e++]=9;for(;e<280;)r.lens[e++]=7;for(;e<288;)r.lens[e++]=8;for(hh(wk,r.lens,0,288,zg,0,r.work,{bits:9}),e=0;e<32;)r.lens[e++]=5;hh(kk,r.lens,0,32,Ug,0,r.work,{bits:5}),qy=!1}r.lencode=zg,r.lenbits=9,r.distcode=Ug,r.distbits=5},Lk=(r,e,t,n)=>{let s;const i=r.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(e.subarray(t-i.wsize,t),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>n&&(s=n),i.window.set(e.subarray(t-n,t-n+s),i.wnext),n-=s,n?(i.window.set(e.subarray(t-n,t),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},gL=(r,e)=>{let t,n,s,i,a,l,d,h,f,g,b,m,S,k,w=0,_,E,R,I,B,Q,te,$;const M=new Uint8Array(4);let ne,D;const L=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Kc(r)||!r.output||!r.input&&r.avail_in!==0)return zi;t=r.state,t.mode===Ao&&(t.mode=Og),a=r.next_out,s=r.output,d=r.avail_out,i=r.next_in,n=r.input,l=r.avail_in,h=t.hold,f=t.bits,g=l,b=d,$=$c;e:for(;;)switch(t.mode){case xp:if(t.wrap===0){t.mode=Og;break}for(;f<16;){if(l===0)break e;l--,h+=n[i++]<<f,f+=8}if(t.wrap&2&&h===35615){t.wbits===0&&(t.wbits=15),t.check=0,M[0]=h&255,M[1]=h>>>8&255,t.check=Ta(t.check,M,2,0),h=0,f=0,t.mode=Sy;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((h&255)<<8)+(h>>8))%31){r.msg="incorrect header check",t.mode=$r;break}if((h&15)!==_y){r.msg="unknown compression method",t.mode=$r;break}if(h>>>=4,f-=4,te=(h&15)+8,t.wbits===0&&(t.wbits=te),te>15||te>t.wbits){r.msg="invalid window size",t.mode=$r;break}t.dmax=1<<t.wbits,t.flags=0,r.adler=t.check=1,t.mode=h&512?Iy:Ao,h=0,f=0;break;case Sy:for(;f<16;){if(l===0)break e;l--,h+=n[i++]<<f,f+=8}if(t.flags=h,(t.flags&255)!==_y){r.msg="unknown compression method",t.mode=$r;break}if(t.flags&57344){r.msg="unknown header flags set",t.mode=$r;break}t.head&&(t.head.text=h>>8&1),t.flags&512&&t.wrap&4&&(M[0]=h&255,M[1]=h>>>8&255,t.check=Ta(t.check,M,2,0)),h=0,f=0,t.mode=Ny;case Ny:for(;f<32;){if(l===0)break e;l--,h+=n[i++]<<f,f+=8}t.head&&(t.head.time=h),t.flags&512&&t.wrap&4&&(M[0]=h&255,M[1]=h>>>8&255,M[2]=h>>>16&255,M[3]=h>>>24&255,t.check=Ta(t.check,M,4,0)),h=0,f=0,t.mode=Cy;case Cy:for(;f<16;){if(l===0)break e;l--,h+=n[i++]<<f,f+=8}t.head&&(t.head.xflags=h&255,t.head.os=h>>8),t.flags&512&&t.wrap&4&&(M[0]=h&255,M[1]=h>>>8&255,t.check=Ta(t.check,M,2,0)),h=0,f=0,t.mode=jy;case jy:if(t.flags&1024){for(;f<16;){if(l===0)break e;l--,h+=n[i++]<<f,f+=8}t.length=h,t.head&&(t.head.extra_len=h),t.flags&512&&t.wrap&4&&(M[0]=h&255,M[1]=h>>>8&255,t.check=Ta(t.check,M,2,0)),h=0,f=0}else t.head&&(t.head.extra=null);t.mode=Py;case Py:if(t.flags&1024&&(m=t.length,m>l&&(m=l),m&&(t.head&&(te=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(i,i+m),te)),t.flags&512&&t.wrap&4&&(t.check=Ta(t.check,n,m,i)),l-=m,i+=m,t.length-=m),t.length))break e;t.length=0,t.mode=Ay;case Ay:if(t.flags&2048){if(l===0)break e;m=0;do te=n[i+m++],t.head&&te&&t.length<65536&&(t.head.name+=String.fromCharCode(te));while(te&&m<l);if(t.flags&512&&t.wrap&4&&(t.check=Ta(t.check,n,m,i)),l-=m,i+=m,te)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Ey;case Ey:if(t.flags&4096){if(l===0)break e;m=0;do te=n[i+m++],t.head&&te&&t.length<65536&&(t.head.comment+=String.fromCharCode(te));while(te&&m<l);if(t.flags&512&&t.wrap&4&&(t.check=Ta(t.check,n,m,i)),l-=m,i+=m,te)break e}else t.head&&(t.head.comment=null);t.mode=Ly;case Ly:if(t.flags&512){for(;f<16;){if(l===0)break e;l--,h+=n[i++]<<f,f+=8}if(t.wrap&4&&h!==(t.check&65535)){r.msg="header crc mismatch",t.mode=$r;break}h=0,f=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),r.adler=t.check=0,t.mode=Ao;break;case Iy:for(;f<32;){if(l===0)break e;l--,h+=n[i++]<<f,f+=8}r.adler=t.check=$y(h),h=0,f=0,t.mode=V0;case V0:if(t.havedict===0)return r.next_out=a,r.avail_out=d,r.next_in=i,r.avail_in=l,t.hold=h,t.bits=f,aL;r.adler=t.check=1,t.mode=Ao;case Ao:if(e===sL||e===Qf)break e;case Og:if(t.last){h>>>=f&7,f-=f&7,t.mode=Bg;break}for(;f<3;){if(l===0)break e;l--,h+=n[i++]<<f,f+=8}switch(t.last=h&1,h>>>=1,f-=1,h&3){case 0:t.mode=Ty;break;case 1:if(pL(t),t.mode=e0,e===Qf){h>>>=2,f-=2;break e}break;case 2:t.mode=Ry;break;case 3:r.msg="invalid block type",t.mode=$r}h>>>=2,f-=2;break;case Ty:for(h>>>=f&7,f-=f&7;f<32;){if(l===0)break e;l--,h+=n[i++]<<f,f+=8}if((h&65535)!==(h>>>16^65535)){r.msg="invalid stored block lengths",t.mode=$r;break}if(t.length=h&65535,h=0,f=0,t.mode=Fg,e===Qf)break e;case Fg:t.mode=My;case My:if(m=t.length,m){if(m>l&&(m=l),m>d&&(m=d),m===0)break e;s.set(n.subarray(i,i+m),a),l-=m,i+=m,d-=m,a+=m,t.length-=m;break}t.mode=Ao;break;case Ry:for(;f<14;){if(l===0)break e;l--,h+=n[i++]<<f,f+=8}if(t.nlen=(h&31)+257,h>>>=5,f-=5,t.ndist=(h&31)+1,h>>>=5,f-=5,t.ncode=(h&15)+4,h>>>=4,f-=4,t.nlen>286||t.ndist>30){r.msg="too many length or distance symbols",t.mode=$r;break}t.have=0,t.mode=Dy;case Dy:for(;t.have<t.ncode;){for(;f<3;){if(l===0)break e;l--,h+=n[i++]<<f,f+=8}t.lens[L[t.have++]]=h&7,h>>>=3,f-=3}for(;t.have<19;)t.lens[L[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,ne={bits:t.lenbits},$=hh(nL,t.lens,0,19,t.lencode,0,t.work,ne),t.lenbits=ne.bits,$){r.msg="invalid code lengths set",t.mode=$r;break}t.have=0,t.mode=Oy;case Oy:for(;t.have<t.nlen+t.ndist;){for(;w=t.lencode[h&(1<<t.lenbits)-1],_=w>>>24,E=w>>>16&255,R=w&65535,!(_<=f);){if(l===0)break e;l--,h+=n[i++]<<f,f+=8}if(R<16)h>>>=_,f-=_,t.lens[t.have++]=R;else{if(R===16){for(D=_+2;f<D;){if(l===0)break e;l--,h+=n[i++]<<f,f+=8}if(h>>>=_,f-=_,t.have===0){r.msg="invalid bit length repeat",t.mode=$r;break}te=t.lens[t.have-1],m=3+(h&3),h>>>=2,f-=2}else if(R===17){for(D=_+3;f<D;){if(l===0)break e;l--,h+=n[i++]<<f,f+=8}h>>>=_,f-=_,te=0,m=3+(h&7),h>>>=3,f-=3}else{for(D=_+7;f<D;){if(l===0)break e;l--,h+=n[i++]<<f,f+=8}h>>>=_,f-=_,te=0,m=11+(h&127),h>>>=7,f-=7}if(t.have+m>t.nlen+t.ndist){r.msg="invalid bit length repeat",t.mode=$r;break}for(;m--;)t.lens[t.have++]=te}}if(t.mode===$r)break;if(t.lens[256]===0){r.msg="invalid code -- missing end-of-block",t.mode=$r;break}if(t.lenbits=9,ne={bits:t.lenbits},$=hh(wk,t.lens,0,t.nlen,t.lencode,0,t.work,ne),t.lenbits=ne.bits,$){r.msg="invalid literal/lengths set",t.mode=$r;break}if(t.distbits=6,t.distcode=t.distdyn,ne={bits:t.distbits},$=hh(kk,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,ne),t.distbits=ne.bits,$){r.msg="invalid distances set",t.mode=$r;break}if(t.mode=e0,e===Qf)break e;case e0:t.mode=t0;case t0:if(l>=6&&d>=258){r.next_out=a,r.avail_out=d,r.next_in=i,r.avail_in=l,t.hold=h,t.bits=f,X7(r,b),a=r.next_out,s=r.output,d=r.avail_out,i=r.next_in,n=r.input,l=r.avail_in,h=t.hold,f=t.bits,t.mode===Ao&&(t.back=-1);break}for(t.back=0;w=t.lencode[h&(1<<t.lenbits)-1],_=w>>>24,E=w>>>16&255,R=w&65535,!(_<=f);){if(l===0)break e;l--,h+=n[i++]<<f,f+=8}if(E&&(E&240)===0){for(I=_,B=E,Q=R;w=t.lencode[Q+((h&(1<<I+B)-1)>>I)],_=w>>>24,E=w>>>16&255,R=w&65535,!(I+_<=f);){if(l===0)break e;l--,h+=n[i++]<<f,f+=8}h>>>=I,f-=I,t.back+=I}if(h>>>=_,f-=_,t.back+=_,t.length=R,E===0){t.mode=Hy;break}if(E&32){t.back=-1,t.mode=Ao;break}if(E&64){r.msg="invalid literal/length code",t.mode=$r;break}t.extra=E&15,t.mode=Fy;case Fy:if(t.extra){for(D=t.extra;f<D;){if(l===0)break e;l--,h+=n[i++]<<f,f+=8}t.length+=h&(1<<t.extra)-1,h>>>=t.extra,f-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=By;case By:for(;w=t.distcode[h&(1<<t.distbits)-1],_=w>>>24,E=w>>>16&255,R=w&65535,!(_<=f);){if(l===0)break e;l--,h+=n[i++]<<f,f+=8}if((E&240)===0){for(I=_,B=E,Q=R;w=t.distcode[Q+((h&(1<<I+B)-1)>>I)],_=w>>>24,E=w>>>16&255,R=w&65535,!(I+_<=f);){if(l===0)break e;l--,h+=n[i++]<<f,f+=8}h>>>=I,f-=I,t.back+=I}if(h>>>=_,f-=_,t.back+=_,E&64){r.msg="invalid distance code",t.mode=$r;break}t.offset=R,t.extra=E&15,t.mode=zy;case zy:if(t.extra){for(D=t.extra;f<D;){if(l===0)break e;l--,h+=n[i++]<<f,f+=8}t.offset+=h&(1<<t.extra)-1,h>>>=t.extra,f-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){r.msg="invalid distance too far back",t.mode=$r;break}t.mode=Uy;case Uy:if(d===0)break e;if(m=b-d,t.offset>m){if(m=t.offset-m,m>t.whave&&t.sane){r.msg="invalid distance too far back",t.mode=$r;break}m>t.wnext?(m-=t.wnext,S=t.wsize-m):S=t.wnext-m,m>t.length&&(m=t.length),k=t.window}else k=s,S=a-t.offset,m=t.length;m>d&&(m=d),d-=m,t.length-=m;do s[a++]=k[S++];while(--m);t.length===0&&(t.mode=t0);break;case Hy:if(d===0)break e;s[a++]=t.length,d--,t.mode=t0;break;case Bg:if(t.wrap){for(;f<32;){if(l===0)break e;l--,h|=n[i++]<<f,f+=8}if(b-=d,r.total_out+=b,t.total+=b,t.wrap&4&&b&&(r.adler=t.check=t.flags?Ta(t.check,s,b,a-b):Km(t.check,s,b,a-b)),b=d,t.wrap&4&&(t.flags?h:$y(h))!==t.check){r.msg="incorrect data check",t.mode=$r;break}h=0,f=0}t.mode=Wy;case Wy:if(t.wrap&&t.flags){for(;f<32;){if(l===0)break e;l--,h+=n[i++]<<f,f+=8}if(t.wrap&4&&h!==(t.total&4294967295)){r.msg="incorrect length check",t.mode=$r;break}h=0,f=0}t.mode=Vy;case Vy:$=iL;break e;case $r:$=_k;break e;case Nk:return Sk;case Ck:default:return zi}return r.next_out=a,r.avail_out=d,r.next_in=i,r.avail_in=l,t.hold=h,t.bits=f,(t.wsize||b!==r.avail_out&&t.mode<$r&&(t.mode<Bg||e!==ky))&&Lk(r,r.output,r.next_out,b-r.avail_out),g-=r.avail_in,b-=r.avail_out,r.total_in+=g,r.total_out+=b,t.total+=b,t.wrap&4&&b&&(r.adler=t.check=t.flags?Ta(t.check,s,b,r.next_out-b):Km(t.check,s,b,r.next_out-b)),r.data_type=t.bits+(t.last?64:0)+(t.mode===Ao?128:0)+(t.mode===e0||t.mode===Fg?256:0),(g===0&&b===0||e===ky)&&$===$c&&($=oL),$},mL=r=>{if(Kc(r))return zi;let e=r.state;return e.window&&(e.window=null),r.state=null,$c},xL=(r,e)=>{if(Kc(r))return zi;const t=r.state;return(t.wrap&2)===0?zi:(t.head=e,e.done=!1,$c)},bL=(r,e)=>{const t=e.length;let n,s,i;return Kc(r)||(n=r.state,n.wrap!==0&&n.mode!==V0)?zi:n.mode===V0&&(s=1,s=Km(s,e,t,0),s!==n.check)?_k:(i=Lk(r,e,t,t),i?(n.mode=Nk,Sk):(n.havedict=1,$c))};var yL=Pk,vL=Ak,wL=jk,kL=fL,_L=Ek,SL=gL,NL=mL,CL=xL,jL=bL,PL="pako inflate (from Nodeca project)",To={inflateReset:yL,inflateReset2:vL,inflateResetKeep:wL,inflateInit:kL,inflateInit2:_L,inflate:SL,inflateEnd:NL,inflateGetHeader:CL,inflateSetDictionary:jL,inflateInfo:PL};function AL(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var EL=AL;const Ik=Object.prototype.toString,{Z_NO_FLUSH:LL,Z_FINISH:IL,Z_OK:Ah,Z_STREAM_END:Hg,Z_NEED_DICT:Wg,Z_STREAM_ERROR:TL,Z_DATA_ERROR:Gy,Z_MEM_ERROR:ML}=bk;function Vh(r){this.options=yk.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(r&&r.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new K7,this.strm.avail_out=0;let t=To.inflateInit2(this.strm,e.windowBits);if(t!==Ah)throw new Error(Jm[t]);if(this.header=new EL,To.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Xm.string2buf(e.dictionary):Ik.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=To.inflateSetDictionary(this.strm,e.dictionary),t!==Ah)))throw new Error(Jm[t])}Vh.prototype.push=function(r,e){const t=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let i,a,l;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?IL:LL,Ik.call(r)==="[object ArrayBuffer]"?t.input=new Uint8Array(r):t.input=r,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),i=To.inflate(t,a),i===Wg&&s&&(i=To.inflateSetDictionary(t,s),i===Ah?i=To.inflate(t,a):i===Gy&&(i=Wg));t.avail_in>0&&i===Hg&&t.state.wrap>0&&r[t.next_in]!==0;)To.inflateReset(t),i=To.inflate(t,a);switch(i){case TL:case Gy:case Wg:case ML:return this.onEnd(i),this.ended=!0,!1}if(l=t.avail_out,t.next_out&&(t.avail_out===0||i===Hg))if(this.options.to==="string"){let d=Xm.utf8border(t.output,t.next_out),h=t.next_out-d,f=Xm.buf2string(t.output,d);t.next_out=h,t.avail_out=n-h,h&&t.output.set(t.output.subarray(d,d+h),0),this.onData(f)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(i===Ah&&l===0)){if(i===Hg)return i=To.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Vh.prototype.onData=function(r){this.chunks.push(r)};Vh.prototype.onEnd=function(r){r===Ah&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=yk.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function RL(r,e){const t=new Vh(e);if(t.push(r),t.err)throw t.msg||Jm[t.err];return t.result}var DL=Vh,OL=RL,FL={Inflate:DL,inflate:OL};const{Inflate:BL,inflate:zL}=FL;var Yy=BL,UL=zL;const Tk=[];for(let r=0;r<256;r++){let e=r;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;Tk[r]=e}const Ky=4294967295;function HL(r,e,t){let n=r;for(let s=0;s<t;s++)n=Tk[(n^e[s])&255]^n>>>8;return n}function WL(r,e){return(HL(Ky,r,e)^Ky)>>>0}function Jy(r,e,t){const n=r.readUint32(),s=WL(new Uint8Array(r.buffer,r.byteOffset+r.offset-e-4,e),e);if(s!==n)throw new Error(`CRC mismatch for chunk ${t}. Expected ${n}, found ${s}`)}function Mk(r,e,t){for(let n=0;n<t;n++)e[n]=r[n]}function Rk(r,e,t,n){let s=0;for(;s<n;s++)e[s]=r[s];for(;s<t;s++)e[s]=r[s]+e[s-n]&255}function Dk(r,e,t,n){let s=0;if(t.length===0)for(;s<n;s++)e[s]=r[s];else for(;s<n;s++)e[s]=r[s]+t[s]&255}function Ok(r,e,t,n,s){let i=0;if(t.length===0){for(;i<s;i++)e[i]=r[i];for(;i<n;i++)e[i]=r[i]+(e[i-s]>>1)&255}else{for(;i<s;i++)e[i]=r[i]+(t[i]>>1)&255;for(;i<n;i++)e[i]=r[i]+(e[i-s]+t[i]>>1)&255}}function Fk(r,e,t,n,s){let i=0;if(t.length===0){for(;i<s;i++)e[i]=r[i];for(;i<n;i++)e[i]=r[i]+e[i-s]&255}else{for(;i<s;i++)e[i]=r[i]+t[i]&255;for(;i<n;i++)e[i]=r[i]+VL(e[i-s],t[i],t[i-s])&255}}function VL(r,e,t){const n=r+e-t,s=Math.abs(n-r),i=Math.abs(n-e),a=Math.abs(n-t);return s<=i&&s<=a?r:i<=a?e:t}function $L(r,e,t,n,s,i){switch(r){case 0:Mk(e,t,s);break;case 1:Rk(e,t,s,i);break;case 2:Dk(e,t,n,s);break;case 3:Ok(e,t,n,s,i);break;case 4:Fk(e,t,n,s,i);break;default:throw new Error(`Unsupported filter: ${r}`)}}const qL=new Uint16Array([255]),GL=new Uint8Array(qL.buffer),YL=GL[0]===255;function KL(r){const{data:e,width:t,height:n,channels:s,depth:i}=r,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*s,d=new Uint8Array(n*t*l);let h=0;for(let f=0;f<7;f++){const g=a[f],b=Math.ceil((t-g.x)/g.xStep),m=Math.ceil((n-g.y)/g.yStep);if(b<=0||m<=0)continue;const S=b*l,k=new Uint8Array(S);for(let w=0;w<m;w++){const _=e[h++],E=e.subarray(h,h+S);h+=S;const R=new Uint8Array(S);$L(_,E,R,k,S,l),k.set(R);for(let I=0;I<b;I++){const B=g.x+I*g.xStep,Q=g.y+w*g.yStep;if(!(B>=t||Q>=n))for(let te=0;te<l;te++)d[(Q*t+B)*l+te]=R[I*l+te]}}}if(i===16){const f=new Uint16Array(d.buffer);if(YL)for(let g=0;g<f.length;g++)f[g]=JL(f[g]);return f}else return d}function JL(r){return(r&255)<<8|r>>8&255}const XL=new Uint16Array([255]),ZL=new Uint8Array(XL.buffer),QL=ZL[0]===255,eI=new Uint8Array(0);function Xy(r){const{data:e,width:t,height:n,channels:s,depth:i}=r,a=Math.ceil(i/8)*s,l=Math.ceil(i/8*s*t),d=new Uint8Array(n*l);let h=eI,f=0,g,b;for(let m=0;m<n;m++){switch(g=e.subarray(f+1,f+1+l),b=d.subarray(m*l,(m+1)*l),e[f]){case 0:Mk(g,b,l);break;case 1:Rk(g,b,l,a);break;case 2:Dk(g,b,h,l);break;case 3:Ok(g,b,h,l,a);break;case 4:Fk(g,b,h,l,a);break;default:throw new Error(`Unsupported filter: ${e[f]}`)}h=b,f+=l+1}if(i===16){const m=new Uint16Array(d.buffer);if(QL)for(let S=0;S<m.length;S++)m[S]=tI(m[S]);return m}else return d}function tI(r){return(r&255)<<8|r>>8&255}const p0=Uint8Array.of(137,80,78,71,13,10,26,10);function Zy(r){if(!rI(r.readBytes(p0.length)))throw new Error("wrong PNG signature")}function rI(r){if(r.length<p0.length)return!1;for(let e=0;e<p0.length;e++)if(r[e]!==p0[e])return!1;return!0}const nI="tEXt",sI=0,Bk=new TextDecoder("latin1");function iI(r){if(oI(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const aI=/^[\u0000-\u00FF]*$/;function oI(r){if(!aI.test(r))throw new Error("invalid latin1 text")}function lI(r,e,t){const n=zk(e);r[n]=cI(e,t-n.length-1)}function zk(r){for(r.mark();r.readByte()!==sI;);const e=r.offset;r.reset();const t=Bk.decode(r.readBytes(e-r.offset-1));return r.skip(1),iI(t),t}function cI(r,e){return Bk.decode(r.readBytes(e))}const pi={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Vg={UNKNOWN:-1,DEFLATE:0},Qy={UNKNOWN:-1,ADAPTIVE:0},$g={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},r0={NONE:0,BACKGROUND:1,PREVIOUS:2},qg={SOURCE:0,OVER:1};class dI extends Z1{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:n=!1}=t;this._checkCrc=n,this._inflator=new Yy,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Vg.UNKNOWN,this._filterMethod=Qy.UNKNOWN,this._interlaceMethod=$g.UNKNOWN,this._colorType=pi.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Zy(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(Zy(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const n=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case nI:lI(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?Jy(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const n=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=n+e;break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?Jy(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=uI(this.readUint8());const t=this.readUint8();this._colorType=t;let n;switch(t){case pi.GREYSCALE:n=1;break;case pi.TRUECOLOUR:n=3;break;case pi.INDEXED_COLOUR:n=1;break;case pi.GREYSCALE_ALPHA:n=2;break;case pi.TRUECOLOUR_ALPHA:n=4;break;case pi.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==Vg.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let s=0;s<t;s++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,n=this.offset+this.byteOffset;if(n+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case pi.GREYSCALE:case pi.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case pi.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const n=this.readByte();this._palette[t].push(n)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case pi.UNKNOWN:case pi.GREYSCALE_ALPHA:case pi.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=zk(this),n=this.readUint8();if(n!==Vg.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const s=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:UL(s)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:t,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=Xy({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)t.data=n.data;else{const s=this._apng.frames.at(e-1);this.disposeFrame(n,s,t),this.addFrameDataToCanvas(t,n)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,n){switch(e.disposeOp){case r0.NONE:break;case r0.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let i=0;i<this._png.width;i++){const a=(s*e.width+i)*this._png.channels;for(let l=0;l<this._png.channels;l++)n.data[a+l]=0}break;case r0.PREVIOUS:n.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const n=1<<this._png.depth,s=(i,a)=>{const l=((i+t.yOffset)*this._png.width+t.xOffset+a)*this._png.channels,d=(i*t.width+a)*this._png.channels;return{index:l,frameIndex:d}};switch(t.blendOp){case qg.SOURCE:for(let i=0;i<t.height;i++)for(let a=0;a<t.width;a++){const{index:l,frameIndex:d}=s(i,a);for(let h=0;h<this._png.channels;h++)e.data[l+h]=t.data[d+h]}break;case qg.OVER:for(let i=0;i<t.height;i++)for(let a=0;a<t.width;a++){const{index:l,frameIndex:d}=s(i,a);for(let h=0;h<this._png.channels;h++){const f=t.data[d+this._png.channels-1]/n,g=h%(this._png.channels-1)===0?1:t.data[d+h],b=Math.floor(f*g+(1-f)*e.data[l+h]);e.data[l+h]+=b}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==Qy.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===$g.NO_INTERLACE)this._png.data=Xy({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===$g.ADAM7)this._png.data=KL({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:r0.NONE,blendOp:qg.SOURCE,data:e}),this._inflator=new Yy,this._writingDataChunks=!1}}function uI(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var ev;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(ev||(ev={}));function hI(r,e){return new dI(r,e).decode()}var Tt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Gg(){Tt.console&&typeof Tt.console.log=="function"&&Tt.console.log.apply(Tt.console,arguments)}var Nr={log:Gg,warn:function(r){Tt.console&&(typeof Tt.console.warn=="function"?Tt.console.warn.apply(Tt.console,arguments):Gg.call(null,arguments))},error:function(r){Tt.console&&(typeof Tt.console.error=="function"?Tt.console.error.apply(Tt.console,arguments):Gg(r))}};function Yg(r,e,t){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){Mc(n.response,e,t)},n.onerror=function(){Nr.error("could not download file")},n.send()}function tv(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function n0(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var Mc=Tt.saveAs||((typeof window>"u"?"undefined":xr(window))!=="object"||window!==Tt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var n=Tt.URL||Tt.webkitURL,s=document.createElement("a");e=e||r.name||"download",s.download=e,s.rel="noopener",typeof r=="string"?(s.href=r,s.origin!==location.origin?tv(s.href)?Yg(r,e,t):n0(s,s.target="_blank"):n0(s)):(s.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){n0(s)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(tv(r))Yg(r,e,t);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){n0(n)})}else navigator.msSaveOrOpenBlob((function(s,i){return i===void 0?i={autoBom:!1}:xr(i)!=="object"&&(Nr.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(r,t),e)}:function(r,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return Yg(r,e,t);var s=r.type==="application/octet-stream",i=/constructor/i.test(Tt.HTMLElement)||Tt.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||s&&i)&&(typeof FileReader>"u"?"undefined":xr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var f=l.result;f=a?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location=f,n=null},l.readAsDataURL(r)}else{var d=Tt.URL||Tt.webkitURL,h=d.createObjectURL(r);n?n.location=h:location.href=h,n=null,setTimeout(function(){d.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Uk(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<t.length;n++){var s=t[n].re,i=t[n].process,a=s.exec(r);a&&(e=i(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),d=this.g.toString(16),h=this.b.toString(16);return l.length==1&&(l="0"+l),d.length==1&&(d="0"+d),h.length==1&&(h="0"+h),"#"+l+d+h}}var g0=Tt.atob.bind(Tt),rv=Tt.btoa.bind(Tt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Kg(r,e){var t=r[0],n=r[1],s=r[2],i=r[3];t=ls(t,n,s,i,e[0],7,-680876936),i=ls(i,t,n,s,e[1],12,-389564586),s=ls(s,i,t,n,e[2],17,606105819),n=ls(n,s,i,t,e[3],22,-1044525330),t=ls(t,n,s,i,e[4],7,-176418897),i=ls(i,t,n,s,e[5],12,1200080426),s=ls(s,i,t,n,e[6],17,-1473231341),n=ls(n,s,i,t,e[7],22,-45705983),t=ls(t,n,s,i,e[8],7,1770035416),i=ls(i,t,n,s,e[9],12,-1958414417),s=ls(s,i,t,n,e[10],17,-42063),n=ls(n,s,i,t,e[11],22,-1990404162),t=ls(t,n,s,i,e[12],7,1804603682),i=ls(i,t,n,s,e[13],12,-40341101),s=ls(s,i,t,n,e[14],17,-1502002290),t=cs(t,n=ls(n,s,i,t,e[15],22,1236535329),s,i,e[1],5,-165796510),i=cs(i,t,n,s,e[6],9,-1069501632),s=cs(s,i,t,n,e[11],14,643717713),n=cs(n,s,i,t,e[0],20,-373897302),t=cs(t,n,s,i,e[5],5,-701558691),i=cs(i,t,n,s,e[10],9,38016083),s=cs(s,i,t,n,e[15],14,-660478335),n=cs(n,s,i,t,e[4],20,-405537848),t=cs(t,n,s,i,e[9],5,568446438),i=cs(i,t,n,s,e[14],9,-1019803690),s=cs(s,i,t,n,e[3],14,-187363961),n=cs(n,s,i,t,e[8],20,1163531501),t=cs(t,n,s,i,e[13],5,-1444681467),i=cs(i,t,n,s,e[2],9,-51403784),s=cs(s,i,t,n,e[7],14,1735328473),t=ds(t,n=cs(n,s,i,t,e[12],20,-1926607734),s,i,e[5],4,-378558),i=ds(i,t,n,s,e[8],11,-2022574463),s=ds(s,i,t,n,e[11],16,1839030562),n=ds(n,s,i,t,e[14],23,-35309556),t=ds(t,n,s,i,e[1],4,-1530992060),i=ds(i,t,n,s,e[4],11,1272893353),s=ds(s,i,t,n,e[7],16,-155497632),n=ds(n,s,i,t,e[10],23,-1094730640),t=ds(t,n,s,i,e[13],4,681279174),i=ds(i,t,n,s,e[0],11,-358537222),s=ds(s,i,t,n,e[3],16,-722521979),n=ds(n,s,i,t,e[6],23,76029189),t=ds(t,n,s,i,e[9],4,-640364487),i=ds(i,t,n,s,e[12],11,-421815835),s=ds(s,i,t,n,e[15],16,530742520),t=us(t,n=ds(n,s,i,t,e[2],23,-995338651),s,i,e[0],6,-198630844),i=us(i,t,n,s,e[7],10,1126891415),s=us(s,i,t,n,e[14],15,-1416354905),n=us(n,s,i,t,e[5],21,-57434055),t=us(t,n,s,i,e[12],6,1700485571),i=us(i,t,n,s,e[3],10,-1894986606),s=us(s,i,t,n,e[10],15,-1051523),n=us(n,s,i,t,e[1],21,-2054922799),t=us(t,n,s,i,e[8],6,1873313359),i=us(i,t,n,s,e[15],10,-30611744),s=us(s,i,t,n,e[6],15,-1560198380),n=us(n,s,i,t,e[13],21,1309151649),t=us(t,n,s,i,e[4],6,-145523070),i=us(i,t,n,s,e[11],10,-1120210379),s=us(s,i,t,n,e[2],15,718787259),n=us(n,s,i,t,e[9],21,-343485551),r[0]=zl(t,r[0]),r[1]=zl(n,r[1]),r[2]=zl(s,r[2]),r[3]=zl(i,r[3])}function bp(r,e,t,n,s,i){return e=zl(zl(e,r),zl(n,i)),zl(e<<s|e>>>32-s,t)}function ls(r,e,t,n,s,i,a){return bp(e&t|~e&n,r,e,s,i,a)}function cs(r,e,t,n,s,i,a){return bp(e&n|t&~n,r,e,s,i,a)}function ds(r,e,t,n,s,i,a){return bp(e^t^n,r,e,s,i,a)}function us(r,e,t,n,s,i,a){return bp(t^(e|~n),r,e,s,i,a)}function Hk(r){var e,t=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)Kg(n,fI(r.substring(e-64,e)));r=r.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)s[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(Kg(n,s),e=0;e<16;e++)s[e]=0;return s[14]=8*t,Kg(n,s),n}function fI(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}var nv="0123456789abcdef".split("");function pI(r){for(var e="",t=0;t<4;t++)e+=nv[r>>8*t+4&15]+nv[r>>8*t&15];return e}function gI(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function Zm(r){return Hk(r).map(gI).join("")}var mI=(function(r){for(var e=0;e<r.length;e++)r[e]=pI(r[e]);return r.join("")})(Hk("hello"))!="5d41402abc4b2a76b9719d911017c592";function zl(r,e){if(mI){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Qm(r,e){var t,n,s,i;if(r!==t){for(var a=(s=r,i=1+(256/r.length|0),new Array(i+1).join(s)),l=[],d=0;d<256;d++)l[d]=d;var h=0;for(d=0;d<256;d++){var f=l[d];h=(h+f+a.charCodeAt(d))%256,l[d]=l[h],l[h]=f}t=r,n=l}else l=n;var g=e.length,b=0,m=0,S="";for(d=0;d<g;d++)m=(m+(f=l[b=(b+1)%256]))%256,l[b]=l[m],l[m]=f,a=l[(l[b]+l[m])%256],S+=String.fromCharCode(e.charCodeAt(d)^a);return S}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var sv={print:4,modify:8,copy:16,"annot-forms":32};function Rd(r,e,t,n){this.v=1,this.r=2;var s=192;r.forEach(function(l){if(sv.perm!==void 0)throw new Error("Invalid permission: "+l);s+=sv[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(e+this.padding).substr(0,32),a=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,a),this.P=-(1+(255^s)),this.encryptionKey=Zm(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Qm(this.encryptionKey,this.padding)}function Dd(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,n=0;n<t;n++){var s=r.charCodeAt(n);e+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):r[n]}return e}function iv(r){if(xr(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,s){if(s=s||!1,typeof t!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var i=Math.random().toString(35);return e[t][i]=[n,!!s],i},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in e[t]){var a=e[t][i];try{a[0].apply(r,n)}catch(l){Tt.console&&Nr.error("jsPDF PubSub Error",l.message,l)}a[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function $0(r){if(!(this instanceof $0))return new $0(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function Wk(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function Dc(r,e,t,n,s){if(!(this instanceof Dc))return new Dc(r,e,t,n,s);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,Wk.call(this,n,s)}function Bd(r,e,t,n,s){if(!(this instanceof Bd))return new Bd(r,e,t,n,s);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,Wk.call(this,n,s)}function xt(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],a=[],l=1,d=16,h="S",f=null;xr(r=r||{})==="object"&&(t=r.orientation,n=r.unit||n,s=r.format||s,i=r.compress||r.compressPdf||i,(f=r.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),l=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(d=r.floatPrecision),h=r.defaultPathOperation||"S"),a=r.filters||(i===!0?["FlateEncode"]:a),n=n||"mm",t=(""+(t||"P")).toLowerCase();var g=r.putOnlyUsedFonts||!1,b={},m={internal:{},__private__:{}};m.__private__.PubSub=iv;var S="1.3",k=m.__private__.getPdfVersion=function(){return S};m.__private__.setPdfVersion=function(N){S=N};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return w};var _=m.__private__.getPageFormat=function(N){return w[N]};s=s||"a4";var E="compat",R="advanced",I=E;function B(){this.saveGraphicsState(),re(new wt(vt,0,0,-vt,0,Fs()*vt).toString()+" cm"),this.setFontSize(this.getFontSize()/vt),h="n",I=R}function Q(){this.restoreGraphicsState(),h="S",I=E}var te=m.__private__.combineFontStyleAndFontWeight=function(N,z){if(N=="bold"&&z=="normal"||N=="bold"&&z==400||N=="normal"&&z=="italic"||N=="bold"&&z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return z&&(N=z==400||z==="normal"?N==="italic"?"italic":"normal":z!=700&&z!=="bold"||N!=="normal"?(z==700?"bold":z)+""+N:"bold"),N};m.advancedAPI=function(N){var z=I===E;return z&&B.call(this),typeof N!="function"||(N(this),z&&Q.call(this)),this},m.compatAPI=function(N){var z=I===R;return z&&Q.call(this),typeof N!="function"||(N(this),z&&B.call(this)),this},m.isAdvancedAPI=function(){return I===R};var $,M=function(N){if(I!==R)throw new Error(N+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ne=m.roundToPrecision=m.__private__.roundToPrecision=function(N,z){var oe=e||z;if(isNaN(N)||isNaN(oe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return N.toFixed(oe).replace(/0+$/,"")};$=m.hpf=m.__private__.hpf=typeof d=="number"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return ne(N,d)}:d==="smart"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return ne(N,N>-1&&N<1?16:5)}:function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return ne(N,16)};var D=m.f2=m.__private__.f2=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f2");return ne(N,2)},L=m.__private__.f3=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f3");return ne(N,3)},O=m.scale=m.__private__.scale=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.scale");return I===E?N*vt:I===R?N:void 0},W=function(N){return O((function(z){return I===E?Fs()-z:I===R?z:void 0})(N))};m.__private__.setPrecision=m.setPrecision=function(N){typeof parseInt(N,10)=="number"&&(e=parseInt(N,10))};var X,le="00000000000000000000000000000000",pe=m.__private__.getFileId=function(){return le},ae=m.__private__.setFileId=function(N){return le=N!==void 0&&/^[a-fA-F0-9]{32}$/.test(N)?N.toUpperCase():le.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(Gr=new Rd(f.userPermissions,f.userPassword,f.ownerPassword,le)),le};m.setFileId=function(N){return ae(N),this},m.getFileId=function(){return pe()};var xe=m.__private__.convertDateToPDFDate=function(N){var z=N.getTimezoneOffset(),oe=z<0?"+":"-",ge=Math.floor(Math.abs(z/60)),Ne=Math.abs(z%60),Fe=[oe,J(ge),"'",J(Ne),"'"].join("");return["D:",N.getFullYear(),J(N.getMonth()+1),J(N.getDate()),J(N.getHours()),J(N.getMinutes()),J(N.getSeconds()),Fe].join("")},be=m.__private__.convertPDFDateToDate=function(N){var z=parseInt(N.substr(2,4),10),oe=parseInt(N.substr(6,2),10)-1,ge=parseInt(N.substr(8,2),10),Ne=parseInt(N.substr(10,2),10),Fe=parseInt(N.substr(12,2),10),He=parseInt(N.substr(14,2),10);return new Date(z,oe,ge,Ne,Fe,He,0)},ee=m.__private__.setCreationDate=function(N){var z;if(N===void 0&&(N=new Date),N instanceof Date)z=xe(N);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(N))throw new Error("Invalid argument passed to jsPDF.setCreationDate");z=N}return X=z},A=m.__private__.getCreationDate=function(N){var z=X;return N==="jsDate"&&(z=be(X)),z};m.setCreationDate=function(N){return ee(N),this},m.getCreationDate=function(N){return A(N)};var q,J=m.__private__.padd2=function(N){return("0"+parseInt(N)).slice(-2)},ue=m.__private__.padd2Hex=function(N){return("00"+(N=N.toString())).substr(N.length)},fe=0,de=[],ce=[],Z=0,we=[],me=[],Me=!1,Be=ce;m.__private__.setCustomOutputDestination=function(N){Me=!0,Be=N};var ke=function(N){Me||(Be=N)};m.__private__.resetCustomOutputDestination=function(){Me=!1,Be=ce};var re=m.__private__.out=function(N){return N=N.toString(),Z+=N.length+1,Be.push(N),Be},Xe=m.__private__.write=function(N){return re(arguments.length===1?N.toString():Array.prototype.join.call(arguments," "))},ct=m.__private__.getArrayBuffer=function(N){for(var z=N.length,oe=new ArrayBuffer(z),ge=new Uint8Array(oe);z--;)ge[z]=N.charCodeAt(z);return oe},Qe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Qe};var De=r.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(N){return De=I===R?N/vt:N,this};var Ye,We=m.__private__.getFontSize=m.getFontSize=function(){return I===E?De:De*vt},mt=r.R2L||!1;m.__private__.setR2L=m.setR2L=function(N){return mt=N,this},m.__private__.getR2L=m.getR2L=function(){return mt};var rt,Yt=m.__private__.setZoomMode=function(N){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(N))Ye=N;else if(isNaN(N)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(N)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+N+'" is not recognized.');Ye=N}else Ye=parseInt(N,10)};m.__private__.getZoomMode=function(){return Ye};var Ct,Mt=m.__private__.setPageMode=function(N){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(N)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+N+'" is not recognized.');rt=N};m.__private__.getPageMode=function(){return rt};var sr=m.__private__.setLayoutMode=function(N){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(N)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+N+'" is not recognized.');Ct=N};m.__private__.getLayoutMode=function(){return Ct},m.__private__.setDisplayMode=m.setDisplayMode=function(N,z,oe){return Yt(N),sr(z),Mt(oe),this};var Et={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(N){if(Object.keys(Et).indexOf(N)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Et[N]},m.__private__.getDocumentProperties=function(){return Et},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(N){for(var z in Et)Et.hasOwnProperty(z)&&N[z]&&(Et[z]=N[z]);return this},m.__private__.setDocumentProperty=function(N,z){if(Object.keys(Et).indexOf(N)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Et[N]=z};var bt,vt,ut,br,Kt,ht={},Rt={},or=[],yt={},Ht={},Lt={},Lr={},jr=null,Jt=0,jt=[],Zt=new iv(m),ga=r.hotfixes||[],jn={},vi={},Es=[],wt=function N(z,oe,ge,Ne,Fe,He){if(!(this instanceof N))return new N(z,oe,ge,Ne,Fe,He);isNaN(z)&&(z=1),isNaN(oe)&&(oe=0),isNaN(ge)&&(ge=0),isNaN(Ne)&&(Ne=1),isNaN(Fe)&&(Fe=0),isNaN(He)&&(He=0),this._matrix=[z,oe,ge,Ne,Fe,He]};Object.defineProperty(wt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(wt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(wt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(wt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(wt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(wt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(wt.prototype,"a",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(wt.prototype,"b",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(wt.prototype,"c",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(wt.prototype,"d",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(wt.prototype,"e",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(wt.prototype,"f",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(wt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(wt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(wt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(wt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),wt.prototype.join=function(N){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map($).join(N)},wt.prototype.multiply=function(N){var z=N.sx*this.sx+N.shy*this.shx,oe=N.sx*this.shy+N.shy*this.sy,ge=N.shx*this.sx+N.sy*this.shx,Ne=N.shx*this.shy+N.sy*this.sy,Fe=N.tx*this.sx+N.ty*this.shx+this.tx,He=N.tx*this.shy+N.ty*this.sy+this.ty;return new wt(z,oe,ge,Ne,Fe,He)},wt.prototype.decompose=function(){var N=this.sx,z=this.shy,oe=this.shx,ge=this.sy,Ne=this.tx,Fe=this.ty,He=Math.sqrt(N*N+z*z),it=(N/=He)*oe+(z/=He)*ge;oe-=N*it,ge-=z*it;var ft=Math.sqrt(oe*oe+ge*ge);return it/=ft,N*(ge/=ft)<z*(oe/=ft)&&(N=-N,z=-z,it=-it,He=-He),{scale:new wt(He,0,0,ft,0,0),translate:new wt(1,0,0,1,Ne,Fe),rotate:new wt(N,z,-z,N,0,0),skew:new wt(1,0,it,1,0,0)}},wt.prototype.toString=function(N){return this.join(" ")},wt.prototype.inversed=function(){var N=this.sx,z=this.shy,oe=this.shx,ge=this.sy,Ne=this.tx,Fe=this.ty,He=1/(N*ge-z*oe),it=ge*He,ft=-z*He,Pt=-oe*He,At=N*He;return new wt(it,ft,Pt,At,-it*Ne-Pt*Fe,-ft*Ne-At*Fe)},wt.prototype.applyToPoint=function(N){var z=N.x*this.sx+N.y*this.shx+this.tx,oe=N.x*this.shy+N.y*this.sy+this.ty;return new Ci(z,oe)},wt.prototype.applyToRectangle=function(N){var z=this.applyToPoint(N),oe=this.applyToPoint(new Ci(N.x+N.w,N.y+N.h));return new ro(z.x,z.y,oe.x-z.x,oe.y-z.y)},wt.prototype.clone=function(){var N=this.sx,z=this.shy,oe=this.shx,ge=this.sy,Ne=this.tx,Fe=this.ty;return new wt(N,z,oe,ge,Ne,Fe)},m.Matrix=wt;var xs=m.matrixMult=function(N,z){return z.multiply(N)},Zs=new wt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Zs;var Tn=function(N,z){if(!Ht[N]){var oe=(z instanceof Dc?"Sh":"P")+(Object.keys(yt).length+1).toString(10);z.id=oe,Ht[N]=oe,yt[oe]=z,Zt.publish("addPattern",z)}};m.ShadingPattern=Dc,m.TilingPattern=Bd,m.addShadingPattern=function(N,z){return M("addShadingPattern()"),Tn(N,z),this},m.beginTilingPattern=function(N){M("beginTilingPattern()"),Rs(N.boundingBox[0],N.boundingBox[1],N.boundingBox[2]-N.boundingBox[0],N.boundingBox[3]-N.boundingBox[1],N.matrix)},m.endTilingPattern=function(N,z){M("endTilingPattern()"),z.stream=me[q].join(`
`),Tn(N,z),Zt.publish("endTilingPattern",z),Es.pop().restore()};var Ls,yr=m.__private__.newObject=function(){var N=qr();return rn(N,!0),N},qr=m.__private__.newObjectDeferred=function(){return fe++,de[fe]=function(){return Z},fe},rn=function(N,z){return z=typeof z=="boolean"&&z,de[N]=Z,z&&re(N+" 0 obj"),N},Ui=m.__private__.newAdditionalObject=function(){var N={objId:qr(),content:""};return we.push(N),N},ma=qr(),Qs=qr(),wi=m.__private__.decodeColorString=function(N){var z=N.split(" ");if(z.length!==2||z[1]!=="g"&&z[1]!=="G")z.length!==5||z[4]!=="k"&&z[4]!=="K"||(z=[(1-z[0])*(1-z[3]),(1-z[1])*(1-z[3]),(1-z[2])*(1-z[3]),"r"]);else{var oe=parseFloat(z[0]);z=[oe,oe,oe,"r"]}for(var ge="#",Ne=0;Ne<3;Ne++)ge+=("0"+Math.floor(255*parseFloat(z[Ne])).toString(16)).slice(-2);return ge},Pn=m.__private__.encodeColorString=function(N){var z;typeof N=="string"&&(N={ch1:N});var oe=N.ch1,ge=N.ch2,Ne=N.ch3,Fe=N.ch4,He=N.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof oe=="string"&&oe.charAt(0)!=="#"){var it=new Uk(oe);if(it.ok)oe=it.toHex();else if(!/^\d*\.?\d*$/.test(oe))throw new Error('Invalid color "'+oe+'" passed to jsPDF.encodeColorString.')}if(typeof oe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(oe)&&(oe="#"+oe[1]+oe[1]+oe[2]+oe[2]+oe[3]+oe[3]),typeof oe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(oe)){var ft=parseInt(oe.substr(1),16);oe=ft>>16&255,ge=ft>>8&255,Ne=255&ft}if(ge===void 0||Fe===void 0&&oe===ge&&ge===Ne)z=typeof oe=="string"?oe+" "+He[0]:N.precision===2?D(oe/255)+" "+He[0]:L(oe/255)+" "+He[0];else if(Fe===void 0||xr(Fe)==="object"){if(Fe&&!isNaN(Fe.a)&&Fe.a===0)return["1.","1.","1.",He[1]].join(" ");z=typeof oe=="string"?[oe,ge,Ne,He[1]].join(" "):N.precision===2?[D(oe/255),D(ge/255),D(Ne/255),He[1]].join(" "):[L(oe/255),L(ge/255),L(Ne/255),He[1]].join(" ")}else z=typeof oe=="string"?[oe,ge,Ne,Fe,He[2]].join(" "):N.precision===2?[D(oe),D(ge),D(Ne),D(Fe),He[2]].join(" "):[L(oe),L(ge),L(Ne),L(Fe),He[2]].join(" ");return z},Is=m.__private__.getFilters=function(){return a},bs=m.__private__.putStream=function(N){var z=(N=N||{}).data||"",oe=N.filters||Is(),ge=N.alreadyAppliedFilters||[],Ne=N.addLength1||!1,Fe=z.length,He=N.objectId,it=function(fn){return fn};if(f!==null&&He===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(it=Gr.encryptor(He,0));var ft={};oe===!0&&(oe=["FlateEncode"]);var Pt=N.additionalKeyValues||[],At=(ft=xt.API.processDataByFilters!==void 0?xt.API.processDataByFilters(z,oe):{data:z,reverseChain:[]}).reverseChain+(Array.isArray(ge)?ge.join(" "):ge.toString());if(ft.data.length!==0&&(Pt.push({key:"Length",value:ft.data.length}),Ne===!0&&Pt.push({key:"Length1",value:Fe})),At.length!=0)if(At.split("/").length-1==1)Pt.push({key:"Filter",value:At});else{Pt.push({key:"Filter",value:"["+At+"]"});for(var Qt=0;Qt<Pt.length;Qt+=1)if(Pt[Qt].key==="DecodeParms"){for(var Ir=[],sn=0;sn<ft.reverseChain.split("/").length-1;sn+=1)Ir.push("null");Ir.push(Pt[Qt].value),Pt[Qt].value="["+Ir.join(" ")+"]"}}re("<<");for(var vr=0;vr<Pt.length;vr++)re("/"+Pt[vr].key+" "+Pt[vr].value);re(">>"),ft.data.length!==0&&(re("stream"),re(it(ft.data)),re("endstream"))},qa=m.__private__.putPage=function(N){var z=N.number,oe=N.data,ge=N.objId,Ne=N.contentsObjId;rn(ge,!0),re("<</Type /Page"),re("/Parent "+N.rootDictionaryObjId+" 0 R"),re("/Resources "+N.resourceDictionaryObjId+" 0 R"),re("/MediaBox ["+parseFloat($(N.mediaBox.bottomLeftX))+" "+parseFloat($(N.mediaBox.bottomLeftY))+" "+$(N.mediaBox.topRightX)+" "+$(N.mediaBox.topRightY)+"]"),N.cropBox!==null&&re("/CropBox ["+$(N.cropBox.bottomLeftX)+" "+$(N.cropBox.bottomLeftY)+" "+$(N.cropBox.topRightX)+" "+$(N.cropBox.topRightY)+"]"),N.bleedBox!==null&&re("/BleedBox ["+$(N.bleedBox.bottomLeftX)+" "+$(N.bleedBox.bottomLeftY)+" "+$(N.bleedBox.topRightX)+" "+$(N.bleedBox.topRightY)+"]"),N.trimBox!==null&&re("/TrimBox ["+$(N.trimBox.bottomLeftX)+" "+$(N.trimBox.bottomLeftY)+" "+$(N.trimBox.topRightX)+" "+$(N.trimBox.topRightY)+"]"),N.artBox!==null&&re("/ArtBox ["+$(N.artBox.bottomLeftX)+" "+$(N.artBox.bottomLeftY)+" "+$(N.artBox.topRightX)+" "+$(N.artBox.topRightY)+"]"),typeof N.userUnit=="number"&&N.userUnit!==1&&re("/UserUnit "+N.userUnit),Zt.publish("putPage",{objId:ge,pageContext:jt[z],pageNumber:z,page:oe}),re("/Contents "+Ne+" 0 R"),re(">>"),re("endobj");var Fe=oe.join(`
`);return I===R&&(Fe+=`
Q`),rn(Ne,!0),bs({data:Fe,filters:Is(),objectId:Ne}),re("endobj"),ge},ei=m.__private__.putPages=function(){var N,z,oe=[];for(N=1;N<=Jt;N++)jt[N].objId=qr(),jt[N].contentsObjId=qr();for(N=1;N<=Jt;N++)oe.push(qa({number:N,data:me[N],objId:jt[N].objId,contentsObjId:jt[N].contentsObjId,mediaBox:jt[N].mediaBox,cropBox:jt[N].cropBox,bleedBox:jt[N].bleedBox,trimBox:jt[N].trimBox,artBox:jt[N].artBox,userUnit:jt[N].userUnit,rootDictionaryObjId:ma,resourceDictionaryObjId:Qs}));rn(ma,!0),re("<</Type /Pages");var ge="/Kids [";for(z=0;z<Jt;z++)ge+=oe[z]+" 0 R ";re(ge+"]"),re("/Count "+Jt),re(">>"),re("endobj"),Zt.publish("postPutPages")},xa=function(N){Zt.publish("putFont",{font:N,out:re,newObject:yr,putStream:bs}),N.isAlreadyPutted!==!0&&(N.objectNumber=yr(),re("<<"),re("/Type /Font"),re("/BaseFont /"+Dd(N.postScriptName)),re("/Subtype /Type1"),typeof N.encoding=="string"&&re("/Encoding /"+N.encoding),re("/FirstChar 32"),re("/LastChar 255"),re(">>"),re("endobj"))},Ga=function(N){N.objectNumber=yr();var z=[];z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Form"}),z.push({key:"BBox",value:"["+[$(N.x),$(N.y),$(N.x+N.width),$(N.y+N.height)].join(" ")+"]"}),z.push({key:"Matrix",value:"["+N.matrix.toString()+"]"});var oe=N.pages[1].join(`
`);bs({data:oe,additionalKeyValues:z,objectId:N.objectNumber}),re("endobj")},Ya=function(N,z){z||(z=21);var oe=yr(),ge=(function(He,it){var ft,Pt=[],At=1/(it-1);for(ft=0;ft<1;ft+=At)Pt.push(ft);if(Pt.push(1),He[0].offset!=0){var Qt={offset:0,color:He[0].color};He.unshift(Qt)}if(He[He.length-1].offset!=1){var Ir={offset:1,color:He[He.length-1].color};He.push(Ir)}for(var sn="",vr=0,fn=0;fn<Pt.length;fn++){for(ft=Pt[fn];ft>He[vr+1].offset;)vr++;var Yr=He[vr].offset,An=(ft-Yr)/(He[vr+1].offset-Yr),Bs=He[vr].color,Qn=He[vr+1].color;sn+=ue(Math.round((1-An)*Bs[0]+An*Qn[0]).toString(16))+ue(Math.round((1-An)*Bs[1]+An*Qn[1]).toString(16))+ue(Math.round((1-An)*Bs[2]+An*Qn[2]).toString(16))}return sn.trim()})(N.colors,z),Ne=[];Ne.push({key:"FunctionType",value:"0"}),Ne.push({key:"Domain",value:"[0.0 1.0]"}),Ne.push({key:"Size",value:"["+z+"]"}),Ne.push({key:"BitsPerSample",value:"8"}),Ne.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ne.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),bs({data:ge,additionalKeyValues:Ne,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:oe}),re("endobj"),N.objectNumber=yr(),re("<< /ShadingType "+N.type),re("/ColorSpace /DeviceRGB");var Fe="/Coords ["+$(parseFloat(N.coords[0]))+" "+$(parseFloat(N.coords[1]))+" ";N.type===2?Fe+=$(parseFloat(N.coords[2]))+" "+$(parseFloat(N.coords[3])):Fe+=$(parseFloat(N.coords[2]))+" "+$(parseFloat(N.coords[3]))+" "+$(parseFloat(N.coords[4]))+" "+$(parseFloat(N.coords[5])),re(Fe+="]"),N.matrix&&re("/Matrix ["+N.matrix.toString()+"]"),re("/Function "+oe+" 0 R"),re("/Extend [true true]"),re(">>"),re("endobj")},Xo=function(N,z){var oe=qr(),ge=yr();z.push({resourcesOid:oe,objectOid:ge}),N.objectNumber=ge;var Ne=[];Ne.push({key:"Type",value:"/Pattern"}),Ne.push({key:"PatternType",value:"1"}),Ne.push({key:"PaintType",value:"1"}),Ne.push({key:"TilingType",value:"1"}),Ne.push({key:"BBox",value:"["+N.boundingBox.map($).join(" ")+"]"}),Ne.push({key:"XStep",value:$(N.xStep)}),Ne.push({key:"YStep",value:$(N.yStep)}),Ne.push({key:"Resources",value:oe+" 0 R"}),N.matrix&&Ne.push({key:"Matrix",value:"["+N.matrix.toString()+"]"}),bs({data:N.stream,additionalKeyValues:Ne,objectId:N.objectNumber}),re("endobj")},pu=function(N){for(var z in N.objectNumber=yr(),re("<<"),N)switch(z){case"opacity":re("/ca "+D(N[z]));break;case"stroke-opacity":re("/CA "+D(N[z]))}re(">>"),re("endobj")},_r=function(N){rn(N.resourcesOid,!0),re("<<"),re("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var z in re("/Font <<"),ht)ht.hasOwnProperty(z)&&(g===!1||g===!0&&b.hasOwnProperty(z))&&re("/"+z+" "+ht[z].objectNumber+" 0 R");re(">>")})(),(function(){if(Object.keys(yt).length>0){for(var z in re("/Shading <<"),yt)yt.hasOwnProperty(z)&&yt[z]instanceof Dc&&yt[z].objectNumber>=0&&re("/"+z+" "+yt[z].objectNumber+" 0 R");Zt.publish("putShadingPatternDict"),re(">>")}})(),(function(z){if(Object.keys(yt).length>0){for(var oe in re("/Pattern <<"),yt)yt.hasOwnProperty(oe)&&yt[oe]instanceof m.TilingPattern&&yt[oe].objectNumber>=0&&yt[oe].objectNumber<z&&re("/"+oe+" "+yt[oe].objectNumber+" 0 R");Zt.publish("putTilingPatternDict"),re(">>")}})(N.objectOid),(function(){if(Object.keys(Lt).length>0){var z;for(z in re("/ExtGState <<"),Lt)Lt.hasOwnProperty(z)&&Lt[z].objectNumber>=0&&re("/"+z+" "+Lt[z].objectNumber+" 0 R");Zt.publish("putGStateDict"),re(">>")}})(),(function(){for(var z in re("/XObject <<"),jn)jn.hasOwnProperty(z)&&jn[z].objectNumber>=0&&re("/"+z+" "+jn[z].objectNumber+" 0 R");Zt.publish("putXobjectDict"),re(">>")})(),re(">>"),re("endobj")},Zc=function(N){Rt[N.fontName]=Rt[N.fontName]||{},Rt[N.fontName][N.fontStyle]=N.id},Zo=function(N,z,oe,ge,Ne){var Fe={id:"F"+(Object.keys(ht).length+1).toString(10),postScriptName:N,fontName:z,fontStyle:oe,encoding:ge,isStandardFont:Ne||!1,metadata:{}};return Zt.publish("addFont",{font:Fe,instance:this}),ht[Fe.id]=Fe,Zc(Fe),Fe.id},ys=m.__private__.pdfEscape=m.pdfEscape=function(N,z){return(function(oe,ge){var Ne,Fe,He,it,ft,Pt,At,Qt,Ir;if(He=(ge=ge||{}).sourceEncoding||"Unicode",ft=ge.outputEncoding,(ge.autoencode||ft)&&ht[bt].metadata&&ht[bt].metadata[He]&&ht[bt].metadata[He].encoding&&(it=ht[bt].metadata[He].encoding,!ft&&ht[bt].encoding&&(ft=ht[bt].encoding),!ft&&it.codePages&&(ft=it.codePages[0]),typeof ft=="string"&&(ft=it[ft]),ft)){for(At=!1,Pt=[],Ne=0,Fe=oe.length;Ne<Fe;Ne++)(Qt=ft[oe.charCodeAt(Ne)])?Pt.push(String.fromCharCode(Qt)):Pt.push(oe[Ne]),Pt[Ne].charCodeAt(0)>>8&&(At=!0);oe=Pt.join("")}for(Ne=oe.length;At===void 0&&Ne!==0;)oe.charCodeAt(Ne-1)>>8&&(At=!0),Ne--;if(!At)return oe;for(Pt=ge.noBOM?[]:[254,255],Ne=0,Fe=oe.length;Ne<Fe;Ne++){if((Ir=(Qt=oe.charCodeAt(Ne))>>8)>>8)throw new Error("Character at position "+Ne+" of string '"+oe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Pt.push(Ir),Pt.push(Qt-(Ir<<8))}return String.fromCharCode.apply(void 0,Pt)})(N,z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ba=m.__private__.beginPage=function(N){me[++Jt]=[],jt[Jt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(N[0]),topRightY:Number(N[1])}},Ka(Jt),ke(me[q])},Qc=function(N,z){var oe,ge,Ne;switch(t=z||t,typeof N=="string"&&(oe=_(N.toLowerCase()),Array.isArray(oe)&&(ge=oe[0],Ne=oe[1])),Array.isArray(N)&&(ge=N[0]*vt,Ne=N[1]*vt),isNaN(ge)&&(ge=s[0],Ne=s[1]),(ge>14400||Ne>14400)&&(Nr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ge=Math.min(14400,ge),Ne=Math.min(14400,Ne)),s=[ge,Ne],t.substr(0,1)){case"l":Ne>ge&&(s=[Ne,ge]);break;case"p":ge>Ne&&(s=[Ne,ge])}ba(s),eo(Ms),re(to),nc!==0&&re(nc+" J"),sc!==0&&re(sc+" j"),Zt.publish("addPage",{pageNumber:Jt})},Qo=function(N){N>0&&N<=Jt&&(me.splice(N,1),jt.splice(N,1),Jt--,q>Jt&&(q=Jt),this.setPage(q))},Ka=function(N){N>0&&N<=Jt&&(q=N)},vs=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return me.length-1},ed=function(N,z,oe){var ge,Ne=void 0;return oe=oe||{},N=N!==void 0?N:ht[bt].fontName,z=z!==void 0?z:ht[bt].fontStyle,ge=N.toLowerCase(),Rt[ge]!==void 0&&Rt[ge][z]!==void 0?Ne=Rt[ge][z]:Rt[N]!==void 0&&Rt[N][z]!==void 0?Ne=Rt[N][z]:oe.disableWarning===!1&&Nr.warn("Unable to look up font label for font '"+N+"', '"+z+"'. Refer to getFontList() for available fonts."),Ne||oe.noFallback||(Ne=Rt.times[z])==null&&(Ne=Rt.times.normal),Ne},Mn=m.__private__.putInfo=function(){var N=yr(),z=function(ge){return ge};for(var oe in f!==null&&(z=Gr.encryptor(N,0)),re("<<"),re("/Producer ("+ys(z("jsPDF "+xt.version))+")"),Et)Et.hasOwnProperty(oe)&&Et[oe]&&re("/"+oe.substr(0,1).toUpperCase()+oe.substr(1)+" ("+ys(z(Et[oe]))+")");re("/CreationDate ("+ys(z(X))+")"),re(">>"),re("endobj")},gu=m.__private__.putCatalog=function(N){var z=(N=N||{}).rootDictionaryObjId||ma;switch(yr(),re("<<"),re("/Type /Catalog"),re("/Pages "+z+" 0 R"),Ye||(Ye="fullwidth"),Ye){case"fullwidth":re("/OpenAction [3 0 R /FitH null]");break;case"fullheight":re("/OpenAction [3 0 R /FitV null]");break;case"fullpage":re("/OpenAction [3 0 R /Fit]");break;case"original":re("/OpenAction [3 0 R /XYZ null null 1]");break;default:var oe=""+Ye;oe.substr(oe.length-1)==="%"&&(Ye=parseInt(Ye)/100),typeof Ye=="number"&&re("/OpenAction [3 0 R /XYZ null null "+D(Ye)+"]")}switch(Ct||(Ct="continuous"),Ct){case"continuous":re("/PageLayout /OneColumn");break;case"single":re("/PageLayout /SinglePage");break;case"two":case"twoleft":re("/PageLayout /TwoColumnLeft");break;case"tworight":re("/PageLayout /TwoColumnRight")}rt&&re("/PageMode /"+rt),Zt.publish("putCatalog"),re(">>"),re("endobj")},nn=m.__private__.putTrailer=function(){re("trailer"),re("<<"),re("/Size "+(fe+1)),re("/Root "+fe+" 0 R"),re("/Info "+(fe-1)+" 0 R"),f!==null&&re("/Encrypt "+Gr.oid+" 0 R"),re("/ID [ <"+le+"> <"+le+"> ]"),re(">>")},td=m.__private__.putHeader=function(){re("%PDF-"+S),re("%ºß¬à")},Ja=m.__private__.putXRef=function(){var N="0000000000";re("xref"),re("0 "+(fe+1)),re("0000000000 65535 f ");for(var z=1;z<=fe;z++)typeof de[z]=="function"?re((N+de[z]()).slice(-10)+" 00000 n "):de[z]!==void 0?re((N+de[z]).slice(-10)+" 00000 n "):re("0000000000 00000 n ")},Ts=m.__private__.buildDocument=function(){var N;fe=0,Z=0,ce=[],de=[],we=[],ma=qr(),Qs=qr(),ke(ce),Zt.publish("buildDocument"),td(),ei(),(function(){Zt.publish("putAdditionalObjects");for(var oe=0;oe<we.length;oe++){var ge=we[oe];rn(ge.objId,!0),re(ge.content),re("endobj")}Zt.publish("postPutAdditionalObjects")})(),N=[],(function(){for(var oe in ht)ht.hasOwnProperty(oe)&&(g===!1||g===!0&&b.hasOwnProperty(oe))&&xa(ht[oe])})(),(function(){var oe;for(oe in Lt)Lt.hasOwnProperty(oe)&&pu(Lt[oe])})(),(function(){for(var oe in jn)jn.hasOwnProperty(oe)&&Ga(jn[oe])})(),(function(oe){var ge;for(ge in yt)yt.hasOwnProperty(ge)&&(yt[ge]instanceof Dc?Ya(yt[ge]):yt[ge]instanceof Bd&&Xo(yt[ge],oe))})(N),Zt.publish("putResources"),N.forEach(_r),_r({resourcesOid:Qs,objectOid:Number.MAX_SAFE_INTEGER}),Zt.publish("postPutResources"),f!==null&&(Gr.oid=yr(),re("<<"),re("/Filter /Standard"),re("/V "+Gr.v),re("/R "+Gr.r),re("/U <"+Gr.toHexString(Gr.U)+">"),re("/O <"+Gr.toHexString(Gr.O)+">"),re("/P "+Gr.P),re(">>"),re("endobj")),Mn(),gu();var z=Z;return Ja(),nn(),re("startxref"),re(""+z),re("%%EOF"),ke(me[q]),ce.join(`
`)},ti=m.__private__.getBlob=function(N){return new Blob([ct(N)],{type:"application/pdf"})},Xn=m.output=m.__private__.output=(Ls=function(N,z){switch(typeof(z=z||{})=="string"?z={filename:z}:z.filename=z.filename||"generated.pdf",N){case void 0:return Ts();case"save":m.save(z.filename);break;case"arraybuffer":return ct(Ts());case"blob":return ti(Ts());case"bloburi":case"bloburl":if(Tt.URL!==void 0&&typeof Tt.URL.createObjectURL=="function")return Tt.URL&&Tt.URL.createObjectURL(ti(Ts()))||void 0;Nr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var oe="",ge=Ts();try{oe=rv(ge)}catch{oe=rv(unescape(encodeURIComponent(ge)))}return"data:application/pdf;filename="+z.filename+";base64,"+oe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Tt)==="[object Window]"){var Ne="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Fe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';z.pdfObjectUrl&&(Ne=z.pdfObjectUrl,Fe="");var He='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ne+'"'+Fe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(z)+");<\/script></body></html>",it=Tt.open();return it!==null&&it.document.write(He),it}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Tt)==="[object Window]"){var ft='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+z.filename+'" width="500px" height="400px" /></body></html>',Pt=Tt.open();if(Pt!==null){Pt.document.write(ft);var At=this;Pt.document.documentElement.querySelector("#pdfViewer").onload=function(){Pt.document.title=z.filename,Pt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(At.output("bloburl"))}}return Pt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Tt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Qt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",z)+'"></iframe></body></html>',Ir=Tt.open();if(Ir!==null&&(Ir.document.write(Qt),Ir.document.title=z.filename),Ir||typeof safari>"u")return Ir;break;case"datauri":case"dataurl":return Tt.document.location.href=this.output("datauristring",z);default:return null}},Ls.foo=function(){try{return Ls.apply(this,arguments)}catch(oe){var N=oe.stack||"";~N.indexOf(" at ")&&(N=N.split(" at ")[1]);var z="Error in function "+N.split(`
`)[0].split("<")[0]+": "+oe.message;if(!Tt.console)throw new Error(z);Tt.console.error(z,oe),Tt.alert&&alert(z)}},Ls.foo.bar=Ls,Ls.foo),Xa=function(N){return Array.isArray(ga)===!0&&ga.indexOf(N)>-1};switch(n){case"pt":vt=1;break;case"mm":vt=72/25.4;break;case"cm":vt=72/2.54;break;case"in":vt=72;break;case"px":vt=Xa("px_scaling")==1?.75:96/72;break;case"pc":case"em":vt=12;break;case"ex":vt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);vt=n}var Gr=null;ee(),ae();var Za=m.__private__.getPageInfo=m.getPageInfo=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:jt[N].objId,pageNumber:N,pageContext:jt[N]}},rd=m.__private__.getPageInfoByObjId=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var z in jt)if(jt[z].objId===N)break;return Za(z)},ec=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:jt[q].objId,pageNumber:q,pageContext:jt[q]}};m.addPage=function(){return Qc.apply(this,arguments),this},m.setPage=function(){return Ka.apply(this,arguments),ke.call(this,me[q]),this},m.insertPage=function(N){return this.addPage(),this.movePage(q,N),this},m.movePage=function(N,z){var oe,ge;if(N>z){oe=me[N],ge=jt[N];for(var Ne=N;Ne>z;Ne--)me[Ne]=me[Ne-1],jt[Ne]=jt[Ne-1];me[z]=oe,jt[z]=ge,this.setPage(z)}else if(N<z){oe=me[N],ge=jt[N];for(var Fe=N;Fe<z;Fe++)me[Fe]=me[Fe+1],jt[Fe]=jt[Fe+1];me[z]=oe,jt[z]=ge,this.setPage(z)}return this},m.deletePage=function(){return Qo.apply(this,arguments),this},m.__private__.text=m.text=function(N,z,oe,ge,Ne){var Fe,He,it,ft,Pt,At,Qt,Ir,sn,vr=(ge=ge||{}).scope||this;if(typeof N=="number"&&typeof z=="number"&&(typeof oe=="string"||Array.isArray(oe))){var fn=oe;oe=z,z=N,N=fn}if(arguments[3]instanceof wt==0?(it=arguments[4],ft=arguments[5],xr(Qt=arguments[3])==="object"&&Qt!==null||(typeof it=="string"&&(ft=it,it=null),typeof Qt=="string"&&(ft=Qt,Qt=null),typeof Qt=="number"&&(it=Qt,Qt=null),ge={flags:Qt,angle:it,align:ft})):(M("The transform parameter of text() with a Matrix value"),sn=Ne),isNaN(z)||isNaN(oe)||N==null)throw new Error("Invalid arguments passed to jsPDF.text");if(N.length===0)return vr;var Yr,An="",Bs=typeof ge.lineHeightFactor=="number"?ge.lineHeightFactor:Zn,Qn=vr.internal.scaleFactor;function od(er){return er=er.split("	").join(Array(ge.TabLen||9).join(" ")),ys(er,Qt)}function ya(er){for(var cr,Ur=er.concat(),an=[],oi=Ur.length;oi--;)typeof(cr=Ur.shift())=="string"?an.push(cr):Array.isArray(er)&&(cr.length===1||cr[1]===void 0&&cr[2]===void 0)?an.push(cr[0]):an.push([cr[0],cr[1],cr[2]]);return an}function io(er,cr){var Ur;if(typeof er=="string")Ur=cr(er)[0];else if(Array.isArray(er)){for(var an,oi,cc=er.concat(),dl=[],Xi=cc.length;Xi--;)typeof(an=cc.shift())=="string"?dl.push(cr(an)[0]):Array.isArray(an)&&typeof an[0]=="string"&&(oi=cr(an[0],an[1],an[2]),dl.push([oi[0],oi[1],oi[2]]));Ur=dl}return Ur}var va=!1,ao=!0;if(typeof N=="string")va=!0;else if(Array.isArray(N)){var wa=N.concat();He=[];for(var oo,Dn=wa.length;Dn--;)(typeof(oo=wa.shift())!="string"||Array.isArray(oo)&&typeof oo[0]!="string")&&(ao=!1);va=ao}if(va===!1)throw new Error('Type of text must be string or Array. "'+N+'" is not recognized.');typeof N=="string"&&(N=N.match(/[\r?\n]/)?N.split(/\r\n|\r|\n/g):[N]);var lo=De/vr.internal.scaleFactor,co=lo*(Bs-1);switch(ge.baseline){case"bottom":oe-=co;break;case"top":oe+=lo-co;break;case"hanging":oe+=lo-2*co;break;case"middle":oe+=lo/2-co}if((At=ge.maxWidth||0)>0&&(typeof N=="string"?N=vr.splitTextToSize(N,At):Object.prototype.toString.call(N)==="[object Array]"&&(N=N.reduce(function(er,cr){return er.concat(vr.splitTextToSize(cr,At))},[]))),Fe={text:N,x:z,y:oe,options:ge,mutex:{pdfEscape:ys,activeFontKey:bt,fonts:ht,activeFontSize:De}},Zt.publish("preProcessText",Fe),N=Fe.text,it=(ge=Fe.options).angle,sn instanceof wt==0&&it&&typeof it=="number"){it*=Math.PI/180,ge.rotationDirection===0&&(it=-it),I===R&&(it=-it);var oc=Math.cos(it),lc=Math.sin(it);sn=new wt(oc,lc,-lc,oc,0,0)}else it&&it instanceof wt&&(sn=it);I!==R||sn||(sn=Zs),(Pt=ge.charSpace||si)!==void 0&&(An+=$(O(Pt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ir=ge.horizontalScale)!==void 0&&(An+=$(100*Ir)+` Tz
`),ge.lang;var Br=-1,ii=ge.renderingMode!==void 0?ge.renderingMode:ge.stroke,ji=vr.internal.getCurrentPageInfo().pageContext;switch(ii){case 0:case!1:case"fill":Br=0;break;case 1:case!0:case"stroke":Br=1;break;case 2:case"fillThenStroke":Br=2;break;case 3:case"invisible":Br=3;break;case 4:case"fillAndAddForClipping":Br=4;break;case 5:case"strokeAndAddPathForClipping":Br=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Br=6;break;case 7:case"addToPathForClipping":Br=7}var ld=ji.usedRenderingMode!==void 0?ji.usedRenderingMode:-1;Br!==-1?An+=Br+` Tr
`:ld!==-1&&(An+=`0 Tr
`),Br!==-1&&(ji.usedRenderingMode=Br),ft=ge.align||"left";var ks,ka=De*Bs,al=vr.internal.pageSize.getWidth(),ol=ht[bt];Pt=ge.charSpace||si,At=ge.maxWidth||0,Qt=Object.assign({autoencode:!0,noBOM:!0},ge.flags);var Gi=[],zs=function(er){return vr.getStringUnitWidth(er,{font:ol,charSpace:Pt,fontSize:De,doKerning:!1})*De/Qn};if(Object.prototype.toString.call(N)==="[object Array]"){var _s;He=ya(N),ft!=="left"&&(ks=He.map(zs));var Ss,_a=0;if(ft==="right"){z-=ks[0],N=[],Dn=He.length;for(var Pi=0;Pi<Dn;Pi++)Pi===0?(Ss=ws(z),_s=Vi(oe)):(Ss=O(_a-ks[Pi]),_s=-ka),N.push([He[Pi],Ss,_s]),_a=ks[Pi]}else if(ft==="center"){z-=ks[0]/2,N=[],Dn=He.length;for(var Yi=0;Yi<Dn;Yi++)Yi===0?(Ss=ws(z),_s=Vi(oe)):(Ss=O((_a-ks[Yi])/2),_s=-ka),N.push([He[Yi],Ss,_s]),_a=ks[Yi]}else if(ft==="left"){N=[],Dn=He.length;for(var Ki=0;Ki<Dn;Ki++)N.push(He[Ki])}else if(ft==="justify"&&ol.encoding==="Identity-H"){N=[],Dn=He.length,At=At!==0?At:al;for(var Ai=0,Kr=0;Kr<Dn;Kr++)if(_s=Kr===0?Vi(oe):-ka,Ss=Kr===0?ws(z):Ai,Kr<Dn-1){var uo=O((At-ks[Kr])/(He[Kr].split(" ").length-1)),Ei=He[Kr].split(" ");N.push([Ei[0]+" ",Ss,_s]),Ai=0;for(var ai=1;ai<Ei.length;ai++){var ho=(zs(Ei[ai-1]+" "+Ei[ai])-zs(Ei[ai]))*Qn+uo;ai==Ei.length-1?N.push([Ei[ai],ho,0]):N.push([Ei[ai]+" ",ho,0]),Ai-=ho}}else N.push([He[Kr],Ss,_s]);N.push(["",Ai,0])}else{if(ft!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(N=[],Dn=He.length,At=At!==0?At:al,Kr=0;Kr<Dn;Kr++){_s=Kr===0?Vi(oe):-ka,Ss=Kr===0?ws(z):0;var fo=He[Kr].split(" ").length-1,ll=fo>0?(At-ks[Kr])/fo:0;Kr<Dn-1?Gi.push($(O(ll))):Gi.push(0),N.push([He[Kr],Ss,_s])}}}(typeof ge.R2L=="boolean"?ge.R2L:mt)===!0&&(N=io(N,function(er,cr,Ur){return[er.split("").reverse().join(""),cr,Ur]})),Fe={text:N,x:z,y:oe,options:ge,mutex:{pdfEscape:ys,activeFontKey:bt,fonts:ht,activeFontSize:De}},Zt.publish("postProcessText",Fe),N=Fe.text,Yr=Fe.mutex.isHex||!1;var cl=ht[bt].encoding;cl!=="WinAnsiEncoding"&&cl!=="StandardEncoding"||(N=io(N,function(er,cr,Ur){return[od(er),cr,Ur]})),He=ya(N),N=[];for(var Ji,Sa,Na,po=Array.isArray(He[0])?1:0,Ca="",go=function(er,cr,Ur){var an="";return Ur instanceof wt?(Ur=typeof ge.angle=="number"?xs(Ur,new wt(1,0,0,1,er,cr)):xs(new wt(1,0,0,1,er,cr),Ur),I===R&&(Ur=xs(new wt(1,0,0,-1,0,0),Ur)),an=Ur.join(" ")+` Tm
`):an=$(er)+" "+$(cr)+` Td
`,an},zr=0;zr<He.length;zr++){switch(Ca="",po){case 1:Na=(Yr?"<":"(")+He[zr][0]+(Yr?">":")"),Ji=parseFloat(He[zr][1]),Sa=parseFloat(He[zr][2]);break;case 0:Na=(Yr?"<":"(")+He[zr]+(Yr?">":")"),Ji=ws(z),Sa=Vi(oe)}Gi!==void 0&&Gi[zr]!==void 0&&(Ca=Gi[zr]+` Tw
`),zr===0?N.push(Ca+go(Ji,Sa,sn)+Na):po===0?N.push(Ca+Na):po===1&&N.push(Ca+go(Ji,Sa,sn)+Na)}N=po===0?N.join(` Tj
T* `):N.join(` Tj
`),N+=` Tj
`;var es=`BT
/`;return es+=bt+" "+De+` Tf
`,es+=$(De*Bs)+` TL
`,es+=ni+`
`,es+=An,es+=N,re(es+="ET"),b[bt]=!0,vr};var Qa=m.__private__.clip=m.clip=function(N){return re(N==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return Qa("evenodd")},m.__private__.discardPath=m.discardPath=function(){return re("n"),this};var ki=m.__private__.isValidStyle=function(N){var z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(N)!==-1&&(z=!0),z};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(N){return ki(N)&&(h=N),this};var el=m.__private__.getStyle=m.getStyle=function(N){var z=h;switch(N){case"D":case"S":z="S";break;case"F":z="f";break;case"FD":case"DF":z="B";break;case"f":case"f*":case"B":case"B*":z=N}return z},Xt=m.close=function(){return re("h"),this};m.stroke=function(){return re("S"),this},m.fill=function(N){return Hi("f",N),this},m.fillEvenOdd=function(N){return Hi("f*",N),this},m.fillStroke=function(N){return Hi("B",N),this},m.fillStrokeEvenOdd=function(N){return Hi("B*",N),this};var Hi=function(N,z){xr(z)==="object"?nd(z,N):re(N)},tl=function(N){N===null||I===R&&N===void 0||(N=el(N),re(N))};function tc(N,z,oe,ge,Ne){var Fe=new Bd(z||this.boundingBox,oe||this.xStep,ge||this.yStep,this.gState,Ne||this.matrix);Fe.stream=this.stream;var He=N+"$$"+this.cloneIndex+++"$$";return Tn(He,Fe),Fe}var nd=function(N,z){var oe=Ht[N.key],ge=yt[oe];if(ge instanceof Dc)re("q"),re(sd(z)),ge.gState&&m.setGState(ge.gState),re(N.matrix.toString()+" cm"),re("/"+oe+" sh"),re("Q");else if(ge instanceof Bd){var Ne=new wt(1,0,0,-1,0,Fs());N.matrix&&(Ne=Ne.multiply(N.matrix||Zs),oe=tc.call(ge,N.key,N.boundingBox,N.xStep,N.yStep,Ne).id),re("q"),re("/Pattern cs"),re("/"+oe+" scn"),ge.gState&&m.setGState(ge.gState),re(z),re("Q")}},sd=function(N){switch(N){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},rl=m.moveTo=function(N,z){return re($(O(N))+" "+$(W(z))+" m"),this},Wi=m.lineTo=function(N,z){return re($(O(N))+" "+$(W(z))+" l"),this},ri=m.curveTo=function(N,z,oe,ge,Ne,Fe){return re([$(O(N)),$(W(z)),$(O(oe)),$(W(ge)),$(O(Ne)),$(W(Fe)),"c"].join(" ")),this};m.__private__.line=m.line=function(N,z,oe,ge,Ne){if(isNaN(N)||isNaN(z)||isNaN(oe)||isNaN(ge)||!ki(Ne))throw new Error("Invalid arguments passed to jsPDF.line");return I===E?this.lines([[oe-N,ge-z]],N,z,[1,1],Ne||"S"):this.lines([[oe-N,ge-z]],N,z,[1,1]).stroke()},m.__private__.lines=m.lines=function(N,z,oe,ge,Ne,Fe){var He,it,ft,Pt,At,Qt,Ir,sn,vr,fn,Yr,An;if(typeof N=="number"&&(An=oe,oe=z,z=N,N=An),ge=ge||[1,1],Fe=Fe||!1,isNaN(z)||isNaN(oe)||!Array.isArray(N)||!Array.isArray(ge)||!ki(Ne)||typeof Fe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(rl(z,oe),He=ge[0],it=ge[1],Pt=N.length,fn=z,Yr=oe,ft=0;ft<Pt;ft++)(At=N[ft]).length===2?(fn=At[0]*He+fn,Yr=At[1]*it+Yr,Wi(fn,Yr)):(Qt=At[0]*He+fn,Ir=At[1]*it+Yr,sn=At[2]*He+fn,vr=At[3]*it+Yr,fn=At[4]*He+fn,Yr=At[5]*it+Yr,ri(Qt,Ir,sn,vr,fn,Yr));return Fe&&Xt(),tl(Ne),this},m.path=function(N){for(var z=0;z<N.length;z++){var oe=N[z],ge=oe.c;switch(oe.op){case"m":rl(ge[0],ge[1]);break;case"l":Wi(ge[0],ge[1]);break;case"c":ri.apply(this,ge);break;case"h":Xt()}}return this},m.__private__.rect=m.rect=function(N,z,oe,ge,Ne){if(isNaN(N)||isNaN(z)||isNaN(oe)||isNaN(ge)||!ki(Ne))throw new Error("Invalid arguments passed to jsPDF.rect");return I===E&&(ge=-ge),re([$(O(N)),$(W(z)),$(O(oe)),$(O(ge)),"re"].join(" ")),tl(Ne),this},m.__private__.triangle=m.triangle=function(N,z,oe,ge,Ne,Fe,He){if(isNaN(N)||isNaN(z)||isNaN(oe)||isNaN(ge)||isNaN(Ne)||isNaN(Fe)||!ki(He))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[oe-N,ge-z],[Ne-oe,Fe-ge],[N-Ne,z-Fe]],N,z,[1,1],He,!0),this},m.__private__.roundedRect=m.roundedRect=function(N,z,oe,ge,Ne,Fe,He){if(isNaN(N)||isNaN(z)||isNaN(oe)||isNaN(ge)||isNaN(Ne)||isNaN(Fe)||!ki(He))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var it=4/3*(Math.SQRT2-1);return Ne=Math.min(Ne,.5*oe),Fe=Math.min(Fe,.5*ge),this.lines([[oe-2*Ne,0],[Ne*it,0,Ne,Fe-Fe*it,Ne,Fe],[0,ge-2*Fe],[0,Fe*it,-Ne*it,Fe,-Ne,Fe],[2*Ne-oe,0],[-Ne*it,0,-Ne,-Fe*it,-Ne,-Fe],[0,2*Fe-ge],[0,-Fe*it,Ne*it,-Fe,Ne,-Fe]],N+Ne,z,[1,1],He,!0),this},m.__private__.ellipse=m.ellipse=function(N,z,oe,ge,Ne){if(isNaN(N)||isNaN(z)||isNaN(oe)||isNaN(ge)||!ki(Ne))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Fe=4/3*(Math.SQRT2-1)*oe,He=4/3*(Math.SQRT2-1)*ge;return rl(N+oe,z),ri(N+oe,z-He,N+Fe,z-ge,N,z-ge),ri(N-Fe,z-ge,N-oe,z-He,N-oe,z),ri(N-oe,z+He,N-Fe,z+ge,N,z+ge),ri(N+Fe,z+ge,N+oe,z+He,N+oe,z),tl(Ne),this},m.__private__.circle=m.circle=function(N,z,oe,ge){if(isNaN(N)||isNaN(z)||isNaN(oe)||!ki(ge))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(N,z,oe,oe,ge)},m.setFont=function(N,z,oe){return oe&&(z=te(z,oe)),bt=ed(N,z,{disableWarning:!1}),this};var _i=m.__private__.getFont=m.getFont=function(){return ht[ed.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var N,z,oe={};for(N in Rt)if(Rt.hasOwnProperty(N))for(z in oe[N]=[],Rt[N])Rt[N].hasOwnProperty(z)&&oe[N].push(z);return oe},m.addFont=function(N,z,oe,ge,Ne){var Fe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Fe.indexOf(arguments[3])!==-1?Ne=arguments[3]:arguments[3]&&Fe.indexOf(arguments[3])==-1&&(oe=te(oe,ge)),Zo.call(this,N,z,oe,Ne=Ne||"Identity-H")};var Zn,Ms=r.lineWidth||.200025,St=m.__private__.getLineWidth=m.getLineWidth=function(){return Ms},eo=m.__private__.setLineWidth=m.setLineWidth=function(N){return Ms=N,re($(O(N))+" w"),this};m.__private__.setLineDash=xt.API.setLineDash=xt.API.setLineDashPattern=function(N,z){if(N=N||[],z=z||0,isNaN(z)||!Array.isArray(N))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return N=N.map(function(oe){return $(O(oe))}).join(" "),z=$(O(z)),re("["+N+"] "+z+" d"),this};var Si=m.__private__.getLineHeight=m.getLineHeight=function(){return De*Zn};m.__private__.getLineHeight=m.getLineHeight=function(){return De*Zn};var mu=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(N){return typeof(N=N||1.15)=="number"&&(Zn=N),this},id=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Zn};mu(r.lineHeight);var ws=m.__private__.getHorizontalCoordinate=function(N){return O(N)},Vi=m.__private__.getVerticalCoordinate=function(N){return I===R?N:jt[q].mediaBox.topRightY-jt[q].mediaBox.bottomLeftY-O(N)},ad=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(N){return $(ws(N))},nl=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(N){return $(Vi(N))},to=r.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return wi(to)},m.__private__.setStrokeColor=m.setDrawColor=function(N,z,oe,ge){return to=Pn({ch1:N,ch2:z,ch3:oe,ch4:ge,pdfColorType:"draw",precision:2}),re(to),this};var rc=r.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return wi(rc)},m.__private__.setFillColor=m.setFillColor=function(N,z,oe,ge){return rc=Pn({ch1:N,ch2:z,ch3:oe,ch4:ge,pdfColorType:"fill",precision:2}),re(rc),this};var ni=r.textColor||"0 g",Ni=m.__private__.getTextColor=m.getTextColor=function(){return wi(ni)};m.__private__.setTextColor=m.setTextColor=function(N,z,oe,ge){return ni=Pn({ch1:N,ch2:z,ch3:oe,ch4:ge,pdfColorType:"text",precision:3}),this};var si=r.charSpace,sl=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(si||0)};m.__private__.setCharSpace=m.setCharSpace=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return si=N,this};var nc=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(N){var z=m.CapJoinStyles[N];if(z===void 0)throw new Error("Line cap style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return nc=z,re(z+" J"),this};var sc=0;m.__private__.setLineJoin=m.setLineJoin=function(N){var z=m.CapJoinStyles[N];if(z===void 0)throw new Error("Line join style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return sc=z,re(z+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(N){if(N=N||0,isNaN(N))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return re($(O(N))+" M"),this},m.GState=$0,m.setGState=function(N){(N=typeof N=="string"?Lt[Lr[N]]:$i(null,N)).equals(jr)||(re("/"+N.id+" gs"),jr=N)};var $i=function(N,z){if(!N||!Lr[N]){var oe=!1;for(var ge in Lt)if(Lt.hasOwnProperty(ge)&&Lt[ge].equals(z)){oe=!0;break}if(oe)z=Lt[ge];else{var Ne="GS"+(Object.keys(Lt).length+1).toString(10);Lt[Ne]=z,z.id=Ne}return N&&(Lr[N]=z.id),Zt.publish("addGState",z),z}};m.addGState=function(N,z){return $i(N,z),this},m.saveGraphicsState=function(){return re("q"),or.push({key:bt,size:De,color:ni}),this},m.restoreGraphicsState=function(){re("Q");var N=or.pop();return bt=N.key,De=N.size,ni=N.color,jr=null,this},m.setCurrentTransformationMatrix=function(N){return re(N.toString()+" cm"),this},m.comment=function(N){return re("#"+N),this};var Ci=function(N,z){var oe=N||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return oe},set:function(Fe){isNaN(Fe)||(oe=parseFloat(Fe))}});var ge=z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ge},set:function(Fe){isNaN(Fe)||(ge=parseFloat(Fe))}});var Ne="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ne},set:function(Fe){Ne=Fe.toString()}}),this},ro=function(N,z,oe,ge){Ci.call(this,N,z),this.type="rect";var Ne=oe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ne},set:function(He){isNaN(He)||(Ne=parseFloat(He))}});var Fe=ge||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Fe},set:function(He){isNaN(He)||(Fe=parseFloat(He))}}),this},no=function(){this.page=Jt,this.currentPage=q,this.pages=me.slice(0),this.pagesContext=jt.slice(0),this.x=ut,this.y=br,this.matrix=Kt,this.width=so(q),this.height=Ds(q),this.outputDestination=Be,this.id="",this.objectNumber=-1};no.prototype.restore=function(){Jt=this.page,q=this.currentPage,jt=this.pagesContext,me=this.pages,ut=this.x,br=this.y,Kt=this.matrix,ic(q,this.width),Os(q,this.height),Be=this.outputDestination};var Rs=function(N,z,oe,ge,Ne){Es.push(new no),Jt=q=0,me=[],ut=N,br=z,Kt=Ne,ba([oe,ge])};for(var qi in m.beginFormObject=function(N,z,oe,ge,Ne){return Rs(N,z,oe,ge,Ne),this},m.endFormObject=function(N){return(function(z){if(vi[z])Es.pop().restore();else{var oe=new no,ge="Xo"+(Object.keys(jn).length+1).toString(10);oe.id=ge,vi[z]=ge,jn[ge]=oe,Zt.publish("addFormObject",oe),Es.pop().restore()}})(N),this},m.doFormObject=function(N,z){var oe=jn[vi[N]];return re("q"),re(z.toString()+" cm"),re("/"+oe.id+" Do"),re("Q"),this},m.getFormObject=function(N){var z=jn[vi[N]];return{x:z.x,y:z.y,width:z.width,height:z.height,matrix:z.matrix}},m.save=function(N,z){return N=N||"generated.pdf",(z=z||{}).returnPromise=z.returnPromise||!1,z.returnPromise===!1?(Mc(ti(Ts()),N),typeof Mc.unload=="function"&&Tt.setTimeout&&setTimeout(Mc.unload,911),this):new Promise(function(oe,ge){try{var Ne=Mc(ti(Ts()),N);typeof Mc.unload=="function"&&Tt.setTimeout&&setTimeout(Mc.unload,911),oe(Ne)}catch(Fe){ge(Fe.message)}})},xt.API)xt.API.hasOwnProperty(qi)&&(qi==="events"&&xt.API.events.length?(function(N,z){var oe,ge,Ne;for(Ne=z.length-1;Ne!==-1;Ne--)oe=z[Ne][0],ge=z[Ne][1],N.subscribe.apply(N,[oe].concat(typeof ge=="function"?[ge]:ge))})(Zt,xt.API.events):m[qi]=xt.API[qi]);function so(N){return jt[N].mediaBox.topRightX-jt[N].mediaBox.bottomLeftX}function ic(N,z){jt[N].mediaBox.topRightX=z+jt[N].mediaBox.bottomLeftX}function Ds(N){return jt[N].mediaBox.topRightY-jt[N].mediaBox.bottomLeftY}function Os(N,z){jt[N].mediaBox.topRightY=z+jt[N].mediaBox.bottomLeftY}var ac=m.getPageWidth=function(N){return so(N=N||q)/vt},Rn=m.setPageWidth=function(N,z){ic(N,z*vt)},Fs=m.getPageHeight=function(N){return Ds(N=N||q)/vt},il=m.setPageHeight=function(N,z){Os(N,z*vt)};return m.internal={pdfEscape:ys,getStyle:el,getFont:_i,getFontSize:We,getCharSpace:sl,getTextColor:Ni,getLineHeight:Si,getLineHeightFactor:id,getLineWidth:St,write:Xe,getHorizontalCoordinate:ws,getVerticalCoordinate:Vi,getCoordinateString:ad,getVerticalCoordinateString:nl,collections:{},newObject:yr,newAdditionalObject:Ui,newObjectDeferred:qr,newObjectDeferredBegin:rn,getFilters:Is,putStream:bs,events:Zt,scaleFactor:vt,pageSize:{getWidth:function(){return ac(q)},setWidth:function(N){Rn(q,N)},getHeight:function(){return Fs(q)},setHeight:function(N){il(q,N)}},encryptionOptions:f,encryption:Gr,getEncryptor:function(N){return f!==null?Gr.encryptor(N,0):function(z){return z}},output:Xn,getNumberOfPages:vs,pages:me,out:re,f2:D,f3:L,getPageInfo:Za,getPageInfoByObjId:rd,getCurrentPageInfo:ec,getPDFVersion:k,Point:Ci,Rectangle:ro,Matrix:wt,hasHotfix:Xa},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return ac(q)},set:function(N){Rn(q,N)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return Fs(q)},set:function(N){il(q,N)},enumerable:!0,configurable:!0}),(function(N){for(var z=0,oe=Qe.length;z<oe;z++){var ge=Zo.call(this,N[z][0],N[z][1],N[z][2],Qe[z][3],!0);g===!1&&(b[ge]=!0);var Ne=N[z][0].split("-");Zc({id:ge,fontName:Ne[0],fontStyle:Ne[1]||""})}Zt.publish("addFonts",{fonts:ht,dictionary:Rt})}).call(m,Qe),bt="F1",Qc(s,t),Zt.publish("initialized"),m}Rd.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},Rd.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Rd.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},Rd.prototype.processOwnerPassword=function(r,e){return Qm(Zm(e).substr(0,5),r)},Rd.prototype.encryptor=function(r,e){var t=Zm(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return Qm(t,n)}},$0.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||xr(r)!==xr(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;n++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},xt.API={events:[]},xt.version="3.0.3";var un=xt.API,Q1=1,Jc=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Td=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Bt=function(r){return r.toFixed(2)},El=function(r){return r.toFixed(5)};un.__acroform__={};var Xs=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},av=function(r){return r*Q1},Ra=function(r){var e=new $k,t=lt.internal.getHeight(r)||0,n=lt.internal.getWidth(r)||0;return e.BBox=[0,0,Number(Bt(n)),Number(Bt(t))],e},xI=un.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<e},bI=un.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<e)},yI=un.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},xn=un.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return yI(r,e-1)},bn=un.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return xI(r,e-1)},yn=un.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return bI(r,e-1)},vI=un.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,s=r[0],i=r[1],a=r[2],l=r[3],d={};return d.lowerLeft_X=t(s)||0,d.lowerLeft_Y=n(i+l)||0,d.upperRight_X=t(s+a)||0,d.upperRight_Y=n(i)||0,[Number(Bt(d.lowerLeft_X)),Number(Bt(d.lowerLeft_Y)),Number(Bt(d.upperRight_X)),Number(Bt(d.upperRight_Y))]},wI=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,n=e1(r,t),s=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+s+" "+Bt(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=Ra(r);return i.scope=r.scope,i.stream=e.join(`
`),i}},e1=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=r.multiline?s.map(function(D){return D.split(`
`)}):s.map(function(D){return[D]});var i=t,a=lt.internal.getHeight(r)||0;a=a<0?-a:a;var l=lt.internal.getWidth(r)||0;l=l<0?-l:l;var d=function(D,L,O){if(D+1<s.length){var W=L+" "+s[D+1][0];return s0(W,r,O).width<=l-4}return!1};i++;e:for(;i>0;){e="",i--;var h,f,g=s0("3",r,i).height,b=r.multiline?a-i:(a-g)/2,m=b+=2,S=0,k=0,w=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+s0(e,r,i=12).width+", FieldWidth:"+l+`
`;break}for(var _="",E=0,R=0;R<s.length;R++)if(s.hasOwnProperty(R)){var I=!1;if(s[R].length!==1&&w!==s[R].length-1){if((g+2)*(E+2)+2>a)continue e;_+=s[R][w],I=!0,k=R,R--}else{_=(_+=s[R][w]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var B=parseInt(R),Q=d(B,_,i),te=R>=s.length-1;if(Q&&!te){_+=" ",w=0;continue}if(Q||te){if(te)k=B;else if(r.multiline&&(g+2)*(E+2)+2>a)continue e}else{if(!r.multiline||(g+2)*(E+2)+2>a)continue e;k=B}}for(var $="",M=S;M<=k;M++){var ne=s[M];if(r.multiline){if(M===k){$+=ne[w]+" ",w=(w+1)%ne.length;continue}if(M===S){$+=ne[ne.length-1]+" ";continue}}$+=ne[0]+" "}switch($=$.substr($.length-1)==" "?$.substr(0,$.length-1):$,f=s0($,r,i).width,r.textAlign){case"right":h=l-f-2;break;case"center":h=(l-f)/2;break;default:h=2}e+=Bt(h)+" "+Bt(m)+` Td
`,e+="("+Jc($)+`) Tj
`,e+=-Bt(h)+` 0 Td
`,m=-(i+2),f=0,S=I?k:k+1,E++,_=""}break}return n.text=e,n.fontSize=i,n},s0=function(r,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:s}},kI={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},_I=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},SI=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(ha.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(kI)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Q1=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new qk,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&_I(i,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(n,s){var i=!n;for(var a in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var l=n[a],d=[],h=l.Rect;if(l.Rect&&(l.Rect=vI(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=lt.createDefaultAppearanceStream(l),xr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(d=l.getKeyValueListForStream()),l.Rect=h,l.hasAppearanceStream&&!l.appearanceStreamContent){var f=wI(l);d.push({key:"AP",value:"<</N "+f+">>"}),s.internal.acroformPlugin.xForms.push(f)}if(l.appearanceStreamContent){var g="";for(var b in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(b)){var m=l.appearanceStreamContent[b];if(g+="/"+b+" ",g+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var a in m)if(m.hasOwnProperty(a)){var S=m[a];typeof S=="function"&&(S=S.call(s,l)),g+="/"+a+" "+S+" ",s.internal.acroformPlugin.xForms.indexOf(S)>=0||s.internal.acroformPlugin.xForms.push(S)}}else typeof(S=m)=="function"&&(S=S.call(s,l)),g+="/"+a+" "+S,s.internal.acroformPlugin.xForms.indexOf(S)>=0||s.internal.acroformPlugin.xForms.push(S);g+=">>"}d.push({key:"AP",value:`<<
`+g+">>"})}s.internal.putStream({additionalKeyValues:d,objectId:l.objId}),s.internal.out("endobj")}i&&(function(k,w){for(var _ in k)if(k.hasOwnProperty(_)){var E=_,R=k[_];w.internal.newObjectDeferredBegin(R.objId,!0),xr(R)==="object"&&typeof R.putStream=="function"&&R.putStream(),delete k[E]}})(s.internal.acroformPlugin.xForms,s)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},Vk=un.__acroform__.arrayToPdfArray=function(r,e,t){var n=function(a){return a};if(Array.isArray(r)){for(var s="[",i=0;i<r.length;i++)switch(i!==0&&(s+=" "),xr(r[i])){case"boolean":case"number":case"object":s+=r[i].toString();break;case"string":r[i].substr(0,1)!=="/"?(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),s+="("+Jc(n(r[i].toString()))+")"):s+=r[i].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Jg=function(r,e,t){var n=function(s){return s};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(r=r||"").toString(),"("+Jc(n(r))+")"},Ba=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ba.prototype.toString=function(){return this.objId+" 0 R"},Ba.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},Ba.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],s=this[n];s&&(Array.isArray(s)?r.push({key:n,value:Vk(s,this.objId,this.scope)}):s instanceof Ba?(s.scope=this.scope,r.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&r.push({key:n,value:s}))}return r};var $k=function(){Ba.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};Xs($k,Ba);var qk=function(){Ba.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Jc(t(r))+")"}},set:function(t){r=t}})};Xs(qk,Ba);var ha=function r(){Ba.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');e=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!xn(e,3)},set:function(_){_?this.F=bn(e,3):this.F=yn(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');t=_}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(_){n=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(_){n[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(_){n[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(_){n[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(_){n[3]=_}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof q0)return;i="FieldObject"+r.FieldNum++}var _=function(E){return E};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+Jc(_(i))+")"},set:function(_){i=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(_){i=_}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(_){a=_}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(_){l=_}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(_){d=_}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/Q1:h},set:function(_){h=_}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(_){f=_}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof q0||this instanceof zc))return Jg(g,this.objId,this.scope)},set:function(_){_=_.toString(),g=_}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof Wn==0?Jg(b,this.objId,this.scope):b},set:function(_){_=_.toString(),b=this instanceof Wn==0?_.substr(0,1)==="("?Td(_.substr(1,_.length-2)):Td(_):_}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Wn==1?Td(b.substr(1,b.length-1)):b},set:function(_){_=_.toString(),b=this instanceof Wn==1?"/"+_:_}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Wn==0?Jg(m,this.objId,this.scope):m},set:function(_){_=_.toString(),m=this instanceof Wn==0?_.substr(0,1)==="("?Td(_.substr(1,_.length-2)):Td(_):_}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Wn==1?Td(m.substr(1,m.length-1)):m},set:function(_){_=_.toString(),m=this instanceof Wn==1?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var S,k=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return k},set:function(_){_=!!_,k=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(S)return S},set:function(_){S=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,1)},set:function(_){_?this.Ff=bn(this.Ff,1):this.Ff=yn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,2)},set:function(_){_?this.Ff=bn(this.Ff,2):this.Ff=yn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,3)},set:function(_){_?this.Ff=bn(this.Ff,3):this.Ff=yn(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');w=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(w){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:w=2;break;case"center":case 1:w=1;break;default:w=0}}})};Xs(ha,Ba);var Vd=function(){ha.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Vk(e,this.objId,this.scope)},set:function(t){var n,s;s=[],typeof(n=t)=="string"&&(s=(function(i,a,l){l||(l=1);for(var d,h=[];d=a.exec(i);)h.push(d[l]);return h})(n,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,18)},set:function(t){t?this.Ff=bn(this.Ff,18):this.Ff=yn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=bn(this.Ff,19):this.Ff=yn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,20)},set:function(t){t?(this.Ff=bn(this.Ff,20),e.sort()):this.Ff=yn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,22)},set:function(t){t?this.Ff=bn(this.Ff,22):this.Ff=yn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,23)},set:function(t){t?this.Ff=bn(this.Ff,23):this.Ff=yn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,27)},set:function(t){t?this.Ff=bn(this.Ff,27):this.Ff=yn(this.Ff,27)}}),this.hasAppearanceStream=!1};Xs(Vd,ha);var $d=function(){Vd.call(this),this.fontName="helvetica",this.combo=!1};Xs($d,Vd);var qd=function(){$d.call(this),this.combo=!0};Xs(qd,$d);var m0=function(){qd.call(this),this.edit=!0};Xs(m0,qd);var Wn=function(){ha.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,15)},set:function(t){t?this.Ff=bn(this.Ff,15):this.Ff=yn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,16)},set:function(t){t?this.Ff=bn(this.Ff,16):this.Ff=yn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,17)},set:function(t){t?this.Ff=bn(this.Ff,17):this.Ff=yn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,26)},set:function(t){t?this.Ff=bn(this.Ff,26):this.Ff=yn(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(i){return i};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,s=[];for(n in s.push("<<"),e)s.push("/"+n+" ("+Jc(t(e[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(t){xr(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};Xs(Wn,ha);var x0=function(){Wn.call(this),this.pushButton=!0};Xs(x0,Wn);var Gd=function(){Wn.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};Xs(Gd,Wn);var q0=function(){var r,e;ha.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,a=[];for(i in a.push("<<"),n)a.push("/"+i+" ("+Jc(s(n[i]))+")");return a.push(">>"),a.join(`
`)},set:function(s){xr(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){t="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=lt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Xs(q0,ha),Gd.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},Gd.prototype.createOption=function(r){var e=new q0;return e.Parent=this,e.optionName=r,this.Kids.push(e),NI.call(this.scope,e),e};var b0=function(){Wn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=lt.CheckBox.createAppearanceStream()};Xs(b0,Wn);var zc=function(){ha.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,13)},set:function(e){e?this.Ff=bn(this.Ff,13):this.Ff=yn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,21)},set:function(e){e?this.Ff=bn(this.Ff,21):this.Ff=yn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,23)},set:function(e){e?this.Ff=bn(this.Ff,23):this.Ff=yn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,24)},set:function(e){e?this.Ff=bn(this.Ff,24):this.Ff=yn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,25)},set:function(e){e?this.Ff=bn(this.Ff,25):this.Ff=yn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,26)},set:function(e){e?this.Ff=bn(this.Ff,26):this.Ff=yn(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Xs(zc,ha);var y0=function(){zc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,14)},set:function(r){r?this.Ff=bn(this.Ff,14):this.Ff=yn(this.Ff,14)}}),this.password=!0};Xs(y0,zc);var lt={CheckBox:{createAppearanceStream:function(){return{N:{On:lt.CheckBox.YesNormal},D:{On:lt.CheckBox.YesPushDown,Off:lt.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=Ra(r);e.scope=r.scope;var t=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,s=r.scope.__private__.encodeColorString(r.color),i=e1(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+Bt(lt.internal.getWidth(r))+" "+Bt(lt.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+Bt(i.fontSize)+" Tf "+s),t.push("BT"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=Ra(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),s=[],i=lt.internal.getHeight(r),a=lt.internal.getWidth(r),l=e1(r,r.caption);return s.push("1 g"),s.push("0 0 "+Bt(a)+" "+Bt(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Bt(a-1)+" "+Bt(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+t+" "+Bt(l.fontSize)+" Tf "+n),s.push(l.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(r){var e=Ra(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Bt(lt.internal.getWidth(r))+" "+Bt(lt.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:lt.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=lt.RadioButton.Circle.YesNormal,e.D[r]=lt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=Ra(r);e.scope=r.scope;var t=[],n=lt.internal.getWidth(r)<=lt.internal.getHeight(r)?lt.internal.getWidth(r)/4:lt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var s=lt.internal.Bezier_C,i=Number((n*s).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+El(lt.internal.getWidth(r)/2)+" "+El(lt.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),t.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),t.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),t.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=Ra(r);e.scope=r.scope;var t=[],n=lt.internal.getWidth(r)<=lt.internal.getHeight(r)?lt.internal.getWidth(r)/4:lt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*lt.internal.Bezier_C).toFixed(5)),a=Number((n*lt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+El(lt.internal.getWidth(r)/2)+" "+El(lt.internal.getHeight(r)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),t.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),t.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),t.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+El(lt.internal.getWidth(r)/2)+" "+El(lt.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),t.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),t.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),t.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=Ra(r);e.scope=r.scope;var t=[],n=lt.internal.getWidth(r)<=lt.internal.getHeight(r)?lt.internal.getWidth(r)/4:lt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*lt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+El(lt.internal.getWidth(r)/2)+" "+El(lt.internal.getHeight(r)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),t.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),t.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),t.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:lt.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=lt.RadioButton.Cross.YesNormal,e.D[r]=lt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=Ra(r);e.scope=r.scope;var t=[],n=lt.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+Bt(lt.internal.getWidth(r)-2)+" "+Bt(lt.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(Bt(n.x1.x)+" "+Bt(n.x1.y)+" m"),t.push(Bt(n.x2.x)+" "+Bt(n.x2.y)+" l"),t.push(Bt(n.x4.x)+" "+Bt(n.x4.y)+" m"),t.push(Bt(n.x3.x)+" "+Bt(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=Ra(r);e.scope=r.scope;var t=lt.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+Bt(lt.internal.getWidth(r))+" "+Bt(lt.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Bt(lt.internal.getWidth(r)-2)+" "+Bt(lt.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(Bt(t.x1.x)+" "+Bt(t.x1.y)+" m"),n.push(Bt(t.x2.x)+" "+Bt(t.x2.y)+" l"),n.push(Bt(t.x4.x)+" "+Bt(t.x4.y)+" m"),n.push(Bt(t.x3.x)+" "+Bt(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(r){var e=Ra(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Bt(lt.internal.getWidth(r))+" "+Bt(lt.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};lt.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=lt.internal.getWidth(r),t=lt.internal.getHeight(r),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},lt.internal.getWidth=function(r){var e=0;return xr(r)==="object"&&(e=av(r.Rect[2])),e},lt.internal.getHeight=function(r){var e=0;return xr(r)==="object"&&(e=av(r.Rect[3])),e};var NI=un.addField=function(r){if(SI(this,r),!(r instanceof ha))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};un.AcroFormChoiceField=Vd,un.AcroFormListBox=$d,un.AcroFormComboBox=qd,un.AcroFormEditBox=m0,un.AcroFormButton=Wn,un.AcroFormPushButton=x0,un.AcroFormRadioButton=Gd,un.AcroFormCheckBox=b0,un.AcroFormTextField=zc,un.AcroFormPasswordField=y0,un.AcroFormAppearance=lt,un.AcroForm={ChoiceField:Vd,ListBox:$d,ComboBox:qd,EditBox:m0,Button:Wn,PushButton:x0,RadioButton:Gd,CheckBox:b0,TextField:zc,PasswordField:y0,Appearance:lt},xt.AcroForm={ChoiceField:Vd,ListBox:$d,ComboBox:qd,EditBox:m0,Button:Wn,PushButton:x0,RadioButton:Gd,CheckBox:b0,TextField:zc,PasswordField:y0,Appearance:lt};xt.AcroForm;function Gk(r){return r.reduce(function(e,t,n){return e[t]=n,e},{})}(function(r){var e="addImage_";r.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=r.__addimage__.getImageFileTypeByImageData=function(D,L){var O,W,X,le,pe,ae=t;if((L=L||t)==="RGBA"||D.data!==void 0&&D.data instanceof Uint8ClampedArray&&"height"in D&&"width"in D)return"RGBA";if(Q(D))for(pe in n)for(X=n[pe],O=0;O<X.length;O+=1){for(le=!0,W=0;W<X[O].length;W+=1)if(X[O][W]!==void 0&&X[O][W]!==D[W]){le=!1;break}if(le===!0){ae=pe;break}}else for(pe in n)for(X=n[pe],O=0;O<X.length;O+=1){for(le=!0,W=0;W<X[O].length;W+=1)if(X[O][W]!==void 0&&X[O][W]!==D.charCodeAt(W)){le=!1;break}if(le===!0){ae=pe;break}}return ae===t&&L!==t&&(ae=L),ae},i=function D(L){for(var O=this.internal.write,W=this.internal.putStream,X=(0,this.internal.getFilters)();X.indexOf("FlateEncode")!==-1;)X.splice(X.indexOf("FlateEncode"),1);L.objectId=this.internal.newObject();var le=[];if(le.push({key:"Type",value:"/XObject"}),le.push({key:"Subtype",value:"/Image"}),le.push({key:"Width",value:L.width}),le.push({key:"Height",value:L.height}),L.colorSpace===_.INDEXED?le.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(L.palette.length/3-1)+" "+("sMask"in L&&L.sMask!==void 0?L.objectId+2:L.objectId+1)+" 0 R]"}):(le.push({key:"ColorSpace",value:"/"+L.colorSpace}),L.colorSpace===_.DEVICE_CMYK&&le.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),le.push({key:"BitsPerComponent",value:L.bitsPerComponent}),"decodeParameters"in L&&L.decodeParameters!==void 0&&le.push({key:"DecodeParms",value:"<<"+L.decodeParameters+">>"}),"transparency"in L&&Array.isArray(L.transparency)&&L.transparency.length>0){for(var pe="",ae=0,xe=L.transparency.length;ae<xe;ae++)pe+=L.transparency[ae]+" "+L.transparency[ae]+" ";le.push({key:"Mask",value:"["+pe+"]"})}L.sMask!==void 0&&le.push({key:"SMask",value:L.objectId+1+" 0 R"});var be=L.filter!==void 0?["/"+L.filter]:void 0;if(W({data:L.data,additionalKeyValues:le,alreadyAppliedFilters:be,objectId:L.objectId}),O("endobj"),"sMask"in L&&L.sMask!==void 0){var ee,A=(ee=L.sMaskBitsPerComponent)!==null&&ee!==void 0?ee:L.bitsPerComponent,q={width:L.width,height:L.height,colorSpace:"DeviceGray",bitsPerComponent:A,data:L.sMask};"filter"in L&&(q.decodeParameters="/Predictor ".concat(L.predictor," /Colors 1 /BitsPerComponent ").concat(A," /Columns ").concat(L.width),q.filter=L.filter),D.call(this,q)}if(L.colorSpace===_.INDEXED){var J=this.internal.newObject();W({data:$(new Uint8Array(L.palette)),objectId:J}),O("endobj")}},a=function(){var D=this.internal.collections[e+"images"];for(var L in D)i.call(this,D[L])},l=function(){var D,L=this.internal.collections[e+"images"],O=this.internal.write;for(var W in L)O("/I"+(D=L[W]).index,D.objectId,"0","R")},d=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",l))},h=function(){var D=this.internal.collections[e+"images"];return d.call(this),D},f=function(){return Object.keys(this.internal.collections[e+"images"]).length},g=function(D){return typeof r["process"+D.toUpperCase()]=="function"},b=function(D){return xr(D)==="object"&&D.nodeType===1},m=function(D,L){if(D.nodeName==="IMG"&&D.hasAttribute("src")){var O=""+D.getAttribute("src");if(O.indexOf("data:image/")===0)return g0(unescape(O).split("base64,").pop());var W=r.loadFile(O,!0);if(W!==void 0)return W}if(D.nodeName==="CANVAS"){if(D.width===0||D.height===0)throw new Error("Given canvas must have data. Canvas width: "+D.width+", height: "+D.height);var X;switch(L){case"PNG":X="image/png";break;case"WEBP":X="image/webp";break;default:X="image/jpeg"}return g0(D.toDataURL(X,1).split("base64,").pop())}},S=function(D){var L=this.internal.collections[e+"images"];if(L){for(var O in L)if(D===L[O].alias)return L[O]}},k=function(D,L,O){return D||L||(D=-96,L=-96),D<0&&(D=-1*O.width*72/D/this.internal.scaleFactor),L<0&&(L=-1*O.height*72/L/this.internal.scaleFactor),D===0&&(D=L*O.width/O.height),L===0&&(L=D*O.height/O.width),[D,L]},w=function(D,L,O,W,X,le){var pe=k.call(this,O,W,X),ae=this.internal.getCoordinateString,xe=this.internal.getVerticalCoordinateString,be=h.call(this);if(O=pe[0],W=pe[1],be[X.index]=X,le){le*=Math.PI/180;var ee=Math.cos(le),A=Math.sin(le),q=function(ue){return ue.toFixed(4)},J=[q(ee),q(A),q(-1*A),q(ee),0,0,"cm"]}this.internal.write("q"),le?(this.internal.write([1,"0","0",1,ae(D),xe(L+W),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([ae(O),"0","0",ae(W),"0","0","cm"].join(" "))):this.internal.write([ae(O),"0","0",ae(W),ae(D),xe(L+W),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+X.index+" Do"),this.internal.write("Q")},_=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var E=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},R=r.__addimage__.sHashCode=function(D){var L,O,W=0;if(typeof D=="string")for(O=D.length,L=0;L<O;L++)W=(W<<5)-W+D.charCodeAt(L),W|=0;else if(Q(D))for(O=D.byteLength/2,L=0;L<O;L++)W=(W<<5)-W+D[L],W|=0;return W},I=r.__addimage__.validateStringAsBase64=function(D){(D=D||"").toString().trim();var L=!0;return D.length===0&&(L=!1),D.length%4!=0&&(L=!1),/^[A-Za-z0-9+/]+$/.test(D.substr(0,D.length-2))===!1&&(L=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(D.substr(-2))===!1&&(L=!1),L},B=r.__addimage__.extractImageFromDataUrl=function(D){if(D==null||!(D=D.trim()).startsWith("data:"))return null;var L=D.indexOf(",");return L<0?null:D.substring(0,L).trim().endsWith("base64")?D.substring(L+1):null};r.__addimage__.isArrayBuffer=function(D){return D instanceof ArrayBuffer};var Q=r.__addimage__.isArrayBufferView=function(D){return D instanceof Int8Array||D instanceof Uint8Array||D instanceof Uint8ClampedArray||D instanceof Int16Array||D instanceof Uint16Array||D instanceof Int32Array||D instanceof Uint32Array||D instanceof Float32Array||D instanceof Float64Array},te=r.__addimage__.binaryStringToUint8Array=function(D){for(var L=D.length,O=new Uint8Array(L),W=0;W<L;W++)O[W]=D.charCodeAt(W);return O},$=r.__addimage__.arrayBufferToBinaryString=function(D){for(var L="",O=Q(D)?D:new Uint8Array(D),W=0;W<O.length;W+=8192)L+=String.fromCharCode.apply(null,O.subarray(W,W+8192));return L};r.addImage=function(){var D,L,O,W,X,le,pe,ae,xe;if(typeof arguments[1]=="number"?(L=t,O=arguments[1],W=arguments[2],X=arguments[3],le=arguments[4],pe=arguments[5],ae=arguments[6],xe=arguments[7]):(L=arguments[1],O=arguments[2],W=arguments[3],X=arguments[4],le=arguments[5],pe=arguments[6],ae=arguments[7],xe=arguments[8]),xr(D=arguments[0])==="object"&&!b(D)&&"imageData"in D){var be=D;D=be.imageData,L=be.format||L||t,O=be.x||O||0,W=be.y||W||0,X=be.w||be.width||X,le=be.h||be.height||le,pe=be.alias||pe,ae=be.compression||ae,xe=be.rotation||be.angle||xe}var ee=this.internal.getFilters();if(ae===void 0&&ee.indexOf("FlateEncode")!==-1&&(ae="SLOW"),isNaN(O)||isNaN(W))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var A=M.call(this,D,L,pe,ae);return w.call(this,O,W,X,le,A,xe),this};var M=function(D,L,O,W){var X,le,pe;if(typeof D=="string"&&s(D)===t){D=unescape(D);var ae=ne(D,!1);(ae!==""||(ae=r.loadFile(D,!0))!==void 0)&&(D=ae)}if(b(D)&&(D=m(D,L)),L=s(D,L),!g(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(((pe=O)==null||pe.length===0)&&(O=(function(xe){return typeof xe=="string"||Q(xe)?R(xe):Q(xe.data)?R(xe.data):null})(D)),(X=S.call(this,O))||(D instanceof Uint8Array||L==="RGBA"||(le=D,D=te(D)),X=this["process"+L.toUpperCase()](D,f.call(this),O,(function(xe){return xe&&typeof xe=="string"&&(xe=xe.toUpperCase()),xe in r.image_compression?xe:E.NONE})(W),le)),!X)throw new Error("An unknown error occurred whilst processing the image.");return X},ne=r.__addimage__.convertBase64ToBinaryString=function(D,L){L=typeof L!="boolean"||L;var O,W="";if(typeof D=="string"){var X;O=(X=B(D))!==null&&X!==void 0?X:D;try{W=g0(O)}catch(le){if(L)throw I(O)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+le.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return W};r.getImageProperties=function(D){var L,O,W="";if(b(D)&&(D=m(D)),typeof D=="string"&&s(D)===t&&((W=ne(D,!1))===""&&(W=r.loadFile(D)||""),D=W),O=s(D),!g(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(D instanceof Uint8Array||(D=te(D)),!(L=this["process"+O.toUpperCase()](D)))throw new Error("An unknown error occurred whilst processing the image");return L.fileType=O,L}})(xt.API),(function(r){var e=function(t){if(t!==void 0&&t!="")return!0};xt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var n,s,i,a=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(t.objId),h=t.pageContext.annotations,f=!1,g=0;g<h.length&&!f;g++)switch((n=h[g]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var b=0;b<h.length;b++){n=h[b];var m=this.internal.pdfEscape,S=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var k=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(k.objId),E=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+a(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+m(_(n.contents))+")",i+=" /Popup "+w.objId+" 0 R",i+=" /P "+d.objId+" 0 R",i+=" /T ("+m(_(E))+") >>",k.content=i;var R=k.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+a(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+R,n.open&&(i+=" /Open true"),i+=" >>",w.content=i,this.internal.write(k.objId,"0 R",w.objId,"0 R");break;case"freetext":s="/Rect ["+a(n.bounds.x)+" "+l(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var I=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+m(S(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+I+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var B=this.annotations._nameMap[n.options.name];n.options.pageNumber=B.page,n.options.top=B.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+m(S(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var Q=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+Q+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},r.link=function(t,n,s,i,a){var l=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:d(t),y:h(n),w:d(t+s),h:h(n+i)},options:a,type:"link"})},r.textWithLink=function(t,n,s,i){var a,l,d=this.getTextWidth(t),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var f=this.splitTextToSize(t,l).length;a=Math.ceil(h*f)}else l=d,a=h;return this.text(t,n,s,i),s+=.2*h,i.align==="center"&&(n-=d/2),i.align==="right"&&(n-=d),this.link(n,s-h,l,a,i),d},r.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}})(xt.API),(function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];r.__arabicParser__={};var i=r.__arabicParser__.isInArabicSubstitutionA=function(k){return e[k.charCodeAt(0)]!==void 0},a=r.__arabicParser__.isArabicLetter=function(k){return typeof k=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(k)},l=r.__arabicParser__.isArabicEndLetter=function(k){return a(k)&&i(k)&&e[k.charCodeAt(0)].length<=2},d=r.__arabicParser__.isArabicAlfLetter=function(k){return a(k)&&s.indexOf(k.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(k){return a(k)&&i(k)&&e[k.charCodeAt(0)].length>=1};var h=r.__arabicParser__.arabicLetterHasFinalForm=function(k){return a(k)&&i(k)&&e[k.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(k){return a(k)&&i(k)&&e[k.charCodeAt(0)].length>=3};var f=r.__arabicParser__.arabicLetterHasMedialForm=function(k){return a(k)&&i(k)&&e[k.charCodeAt(0)].length==4},g=r.__arabicParser__.resolveLigatures=function(k){var w=0,_=t,E="",R=0;for(w=0;w<k.length;w+=1)_[k.charCodeAt(w)]!==void 0?(R++,typeof(_=_[k.charCodeAt(w)])=="number"&&(E+=String.fromCharCode(_),_=t,R=0),w===k.length-1&&(_=t,E+=k.charAt(w-(R-1)),w-=R-1,R=0)):(_=t,E+=k.charAt(w-R),w-=R,R=0);return E};r.__arabicParser__.isArabicDiacritic=function(k){return k!==void 0&&n[k.charCodeAt(0)]!==void 0};var b=r.__arabicParser__.getCorrectForm=function(k,w,_){return a(k)?i(k)===!1?-1:!h(k)||!a(w)&&!a(_)||!a(_)&&l(w)||l(k)&&!a(w)||l(k)&&d(w)||l(k)&&l(w)?0:f(k)&&a(w)&&!l(w)&&a(_)&&h(_)?3:l(k)||!a(_)?1:2:-1},m=function(k){var w=0,_=0,E=0,R="",I="",B="",Q=(k=k||"").split("\\s+"),te=[];for(w=0;w<Q.length;w+=1){for(te.push(""),_=0;_<Q[w].length;_+=1)R=Q[w][_],I=Q[w][_-1],B=Q[w][_+1],a(R)?(E=b(R,I,B),te[w]+=E!==-1?String.fromCharCode(e[R.charCodeAt(0)][E]):R):te[w]+=R;te[w]=g(te[w])}return te.join(" ")},S=r.__arabicParser__.processArabic=r.processArabic=function(){var k,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(w)){var E=0;for(_=[],E=0;E<w.length;E+=1)Array.isArray(w[E])?_.push([m(w[E][0]),w[E][1],w[E][2]]):_.push([m(w[E])]);k=_}else k=m(w);return typeof arguments[0]=="string"?k:(arguments[0].text=k,arguments[0])};r.events.push(["preProcessText",S])})(xt.API),xt.API.autoPrint=function(r){var e;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(l){t=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(l){a=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var s;if((t=t||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(xt.API),(function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(k){d=k}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(k){h=k}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(k){f=k}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(k){g=k}});var b=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return b},set:function(k){b=k}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(k){m=k}});var S=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return S},set:function(k){S=k}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(d){return n.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},r.getTextDimensions=function(d,h){n.call(this);var f=(h=h||{}).fontSize||this.getFontSize(),g=h.font||this.getFont(),b=h.scaleFactor||this.internal.scaleFactor,m=0,S=0,k=0,w=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var _=h.maxWidth;_>0?typeof d=="string"?d=this.splitTextToSize(d,_):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(R,I){return R.concat(w.splitTextToSize(I,_))},[])):d=Array.isArray(d)?d:[d];for(var E=0;E<d.length;E++)m<(k=this.getStringUnitWidth(d[E],{font:g})*f)&&(m=k);return m!==0&&(S=d.length),{w:m/=b,h:Math.max((S*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/b,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var d=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=r.cell=function(){var d;d=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var h=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,g=this.internal.__cell__.margins||e,b=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===d.lineNumber?(d.x=(h.x||0)+(h.width||0),d.y=h.y||0):h.y+h.height+d.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=g.top,m&&b&&(this.printHeaderRow(d.lineNumber,!0),d.y+=b[0].height)):d.y=h.y+h.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,t===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-f,d.y+f,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+f,{align:"center",baseline:"top",maxWidth:d.width-f-f}):this.text(d.text,d.x+f,d.y+f,{align:"left",baseline:"top",maxWidth:d.width-f-f})),this.internal.__cell__.lastCell=d,this};r.table=function(d,h,f,g,b){if(n.call(this),!f)throw new Error("No data for PDF table.");var m,S,k,w,_=[],E=[],R=[],I={},B={},Q=[],te=[],$=(b=b||{}).autoSize||!1,M=b.printHeaders!==!1,ne=b.css&&b.css["font-size"]!==void 0?16*b.css["font-size"]:b.fontSize||12,D=b.margins||Object.assign({width:this.getPageWidth()},e),L=typeof b.padding=="number"?b.padding:3,O=b.headerBackgroundColor||"#c8c8c8",W=b.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=M,this.internal.__cell__.margins=D,this.internal.__cell__.table_font_size=ne,this.internal.__cell__.padding=L,this.internal.__cell__.headerBackgroundColor=O,this.internal.__cell__.headerTextColor=W,this.setFontSize(ne),g==null)E=_=Object.keys(f[0]),R=_.map(function(){return"left"});else if(Array.isArray(g)&&xr(g[0])==="object")for(_=g.map(function(be){return be.name}),E=g.map(function(be){return be.prompt||be.name||""}),R=g.map(function(be){return be.align||"left"}),m=0;m<g.length;m+=1)B[g[m].name]=.7499990551181103*g[m].width;else Array.isArray(g)&&typeof g[0]=="string"&&(E=_=g,R=_.map(function(){return"left"}));if($||Array.isArray(g)&&typeof g[0]=="string")for(m=0;m<_.length;m+=1){for(I[w=_[m]]=f.map(function(be){return be[w]}),this.setFont(void 0,"bold"),Q.push(this.getTextDimensions(E[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),S=I[w],this.setFont(void 0,"normal"),k=0;k<S.length;k+=1)Q.push(this.getTextDimensions(S[k],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);B[w]=Math.max.apply(null,Q)+L+L,Q=[]}if(M){var X={};for(m=0;m<_.length;m+=1)X[_[m]]={},X[_[m]].text=E[m],X[_[m]].align=R[m];var le=l.call(this,X,B);te=_.map(function(be){return new i(d,h,B[be],le,X[be].text,void 0,X[be].align)}),this.setTableHeaderRow(te),this.printHeaderRow(1,!1)}var pe=g.reduce(function(be,ee){return be[ee.name]=ee.align,be},{});for(m=0;m<f.length;m+=1){"rowStart"in b&&b.rowStart instanceof Function&&b.rowStart({row:m,data:f[m]},this);var ae=l.call(this,f[m],B);for(k=0;k<_.length;k+=1){var xe=f[m][_[k]];"cellStart"in b&&b.cellStart instanceof Function&&b.cellStart({row:m,col:k,data:xe},this),a.call(this,new i(d,h,B[_[k]],ae,xe,m+2,pe[_[k]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=h,this};var l=function(d,h){var f=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,b=this.internal.scaleFactor;return Object.keys(d).map(function(m){var S=d[m];return this.splitTextToSize(S.hasOwnProperty("text")?S.text:S,h[m]-f-f)},this).map(function(m){return this.getLineHeightFactor()*m.length*g/b+f+f},this).reduce(function(m,S){return Math.max(m,S)},0)};r.setTableHeaderRow=function(d){n.call(this),this.internal.__cell__.tableHeaderRow=d},r.printHeaderRow=function(d,h){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var b=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){f=this.internal.__cell__.tableHeaderRow[m].clone(),h&&(f.y=this.internal.__cell__.margins.top||0,b.push(f)),f.lineNumber=d;var S=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,f),this.setTextColor(S)}b.length>0&&this.setTableHeaderRow(b),this.setFont(void 0,"normal"),t=!1}})(xt.API);var Yk={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Kk=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],t1=Gk(Kk),Jk=[100,200,300,400,500,600,700,800,900],CI=Gk(Jk);function Xg(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=(function(i){return Yk[i=i||"normal"]?i:"normal"})(r.style),n=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(r.weight),s=(function(i){return typeof t1[i=i||"normal"]=="number"?i:"normal"})(r.stretch);return{family:e,style:t,weight:n,stretch:s,src:r.src||[],ref:r.ref||{name:e,style:[s,t,n].join(" ")}}}function ov(r,e,t,n){var s;for(s=t;s>=0&&s<e.length;s+=n)if(r[e[s]])return r[e[s]];for(s=t;s>=0&&s<e.length;s-=n)if(r[e[s]])return r[e[s]]}var jI={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},lv={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function cv(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function dv(r){return r.trimLeft()}function PI(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function AI(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var i0,uv,hv,Md,a0,fv,pv,gv,Zg=["times"];function mv(r,e,t,n,s){var i=4,a=bv;switch(s){case xt.API.image_compression.FAST:i=1,a=xv;break;case xt.API.image_compression.MEDIUM:i=6,a=yv;break;case xt.API.image_compression.SLOW:i=9,a=vv}r=(function(d,h,f,g){for(var b,m=d.length/h,S=new Uint8Array(d.length+m),k=[EI,xv,bv,yv,vv],w=0;w<m;w+=1){var _=w*h,E=d.subarray(_,_+h);if(g)S.set(g(E,f,b),_+w);else{for(var R=k.length,I=[],B=0;B<R;B+=1)I[B]=k[B](E,f,b);var Q=II(I.concat());S.set(I[Q],_+w)}b=E}return S})(r,e,Math.ceil(t*n/8),a);var l=Ym(r,{level:i});return xt.API.__addimage__.arrayBufferToBinaryString(l)}function EI(r){var e=Array.apply([],r);return e.unshift(0),e}function xv(r,e){var t=r.length,n=[];n[0]=1;for(var s=0;s<t;s+=1){var i=r[s-e]||0;n[s+1]=r[s]-i+256&255}return n}function bv(r,e,t){var n=r.length,s=[];s[0]=2;for(var i=0;i<n;i+=1){var a=t&&t[i]||0;s[i+1]=r[i]-a+256&255}return s}function yv(r,e,t){var n=r.length,s=[];s[0]=3;for(var i=0;i<n;i+=1){var a=r[i-e]||0,l=t&&t[i]||0;s[i+1]=r[i]+256-(a+l>>>1)&255}return s}function vv(r,e,t){var n=r.length,s=[];s[0]=4;for(var i=0;i<n;i+=1){var a=LI(r[i-e]||0,t&&t[i]||0,t&&t[i-e]||0);s[i+1]=r[i]-a+256&255}return s}function LI(r,e,t){if(r===e&&e===t)return r;var n=Math.abs(e-t),s=Math.abs(r-t),i=Math.abs(r+e-t-t);return n<=s&&n<=i?r:s<=i?e:t}function II(r){var e=r.map(function(t){return t.reduce(function(n,s){return n+Math.abs(s)},0)});return e.indexOf(Math.min.apply(null,e))}function Qg(r,e,t){var n=e*t,s=Math.floor(n/8),i=16-(n-8*s+t),a=(1<<t)-1;return Xk(r,s)>>i&a}function wv(r,e,t,n){var s=t*n,i=Math.floor(s/8),a=16-(s-8*i+n),l=(1<<n)-1,d=(e&l)<<a;(function(h,f,g){if(f+1<h.byteLength)h.setUint16(f,g,!1);else{var b=g>>8&255;h.setUint8(f,b)}})(r,i,Xk(r,i)&~(l<<a)&65535|d)}function Xk(r,e){return e+1<r.byteLength?r.getUint16(e,!1):r.getUint8(e)<<8}function TI(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,n=r[e++]|r[e++]<<8,s=r[e++],i=s>>7,a=1<<1+(7&s);r[e++],r[e++];var l=null,d=null;i&&(l=e,d=a,e+=3*a);var h=!0,f=[],g=0,b=null,m=0,S=null;for(this.width=t,this.height=n;h&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,S=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((D=r[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var k=r[e++];g=r[e++]|r[e++]<<8,b=r[e++],1&k||(b=null),m=k>>2&7,e++;break;case 254:for(;;){if(!((D=r[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var w=r[e++]|r[e++]<<8,_=r[e++]|r[e++]<<8,E=r[e++]|r[e++]<<8,R=r[e++]|r[e++]<<8,I=r[e++],B=I>>6&1,Q=1<<1+(7&I),te=l,$=d,M=!1;I>>7&&(M=!0,te=e,$=Q,e+=3*Q);var ne=e;for(e++;;){var D;if(!((D=r[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}f.push({x:w,y:_,width:E,height:R,has_local_palette:M,palette_offset:te,palette_size:$,data_offset:ne,data_length:e-ne,transparent_index:b,interlaced:!!B,delay:g,disposal:m});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return S},this.frameInfo=function(L){if(L<0||L>=f.length)throw new Error("Frame index out of range.");return f[L]},this.decodeAndBlitFrameBGRA=function(L,O){var W=this.frameInfo(L),X=W.width*W.height,le=new Uint8Array(X);kv(r,W.data_offset,le,X);var pe=W.palette_offset,ae=W.transparent_index;ae===null&&(ae=256);var xe=W.width,be=t-xe,ee=xe,A=4*(W.y*t+W.x),q=4*((W.y+W.height)*t+W.x),J=A,ue=4*be;W.interlaced===!0&&(ue+=4*t*7);for(var fe=8,de=0,ce=le.length;de<ce;++de){var Z=le[de];if(ee===0&&(ee=xe,(J+=ue)>=q&&(ue=4*be+4*t*(fe-1),J=A+(xe+be)*(fe<<1),fe>>=1)),Z===ae)J+=4;else{var we=r[pe+3*Z],me=r[pe+3*Z+1],Me=r[pe+3*Z+2];O[J++]=Me,O[J++]=me,O[J++]=we,O[J++]=255}--ee}},this.decodeAndBlitFrameRGBA=function(L,O){var W=this.frameInfo(L),X=W.width*W.height,le=new Uint8Array(X);kv(r,W.data_offset,le,X);var pe=W.palette_offset,ae=W.transparent_index;ae===null&&(ae=256);var xe=W.width,be=t-xe,ee=xe,A=4*(W.y*t+W.x),q=4*((W.y+W.height)*t+W.x),J=A,ue=4*be;W.interlaced===!0&&(ue+=4*t*7);for(var fe=8,de=0,ce=le.length;de<ce;++de){var Z=le[de];if(ee===0&&(ee=xe,(J+=ue)>=q&&(ue=4*be+4*t*(fe-1),J=A+(xe+be)*(fe<<1),fe>>=1)),Z===ae)J+=4;else{var we=r[pe+3*Z],me=r[pe+3*Z+1],Me=r[pe+3*Z+2];O[J++]=we,O[J++]=me,O[J++]=Me,O[J++]=255}--ee}}}function kv(r,e,t,n){for(var s=r[e++],i=1<<s,a=i+1,l=a+1,d=s+1,h=(1<<d)-1,f=0,g=0,b=0,m=r[e++],S=new Int32Array(4096),k=null;;){for(;f<16&&m!==0;)g|=r[e++]<<f,f+=8,m===1?m=r[e++]:--m;if(f<d)break;var w=g&h;if(g>>=d,f-=d,w!==i){if(w===a)break;for(var _=w<l?w:k,E=0,R=_;R>i;)R=S[R]>>8,++E;var I=R;if(b+E+(_!==w?1:0)>n)return void Nr.log("Warning, gif stream longer than expected.");t[b++]=I;var B=b+=E;for(_!==w&&(t[b++]=I),R=_;E--;)R=S[R],t[--B]=255&R,R>>=8;k!==null&&l<4096&&(S[l++]=k<<8|I,l>=h+1&&d<12&&(++d,h=h<<1|1)),k=w}else l=a+1,h=(1<<(d=s+1))-1,k=null}return b!==n&&Nr.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function em(r){var e,t,n,s,i,a=Math.floor,l=new Array(64),d=new Array(64),h=new Array(64),f=new Array(64),g=new Array(65535),b=new Array(65535),m=new Array(64),S=new Array(64),k=[],w=0,_=7,E=new Array(64),R=new Array(64),I=new Array(64),B=new Array(256),Q=new Array(2048),te=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],$=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],ne=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],D=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],L=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],X=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function le(A,q){for(var J=0,ue=0,fe=new Array,de=1;de<=16;de++){for(var ce=1;ce<=A[de];ce++)fe[q[ue]]=[],fe[q[ue]][0]=J,fe[q[ue]][1]=de,ue++,J++;J*=2}return fe}function pe(A){for(var q=A[0],J=A[1]-1;J>=0;)q&1<<J&&(w|=1<<_),J--,--_<0&&(w==255?(ae(255),ae(0)):ae(w),_=7,w=0)}function ae(A){k.push(A)}function xe(A){ae(A>>8&255),ae(255&A)}function be(A,q,J,ue,fe){for(var de,ce=fe[0],Z=fe[240],we=(function(De,Ye){var We,mt,rt,Yt,Ct,Mt,sr,Et,bt,vt,ut=0;for(bt=0;bt<8;++bt){We=De[ut],mt=De[ut+1],rt=De[ut+2],Yt=De[ut+3],Ct=De[ut+4],Mt=De[ut+5],sr=De[ut+6];var br=We+(Et=De[ut+7]),Kt=We-Et,ht=mt+sr,Rt=mt-sr,or=rt+Mt,yt=rt-Mt,Ht=Yt+Ct,Lt=Yt-Ct,Lr=br+Ht,jr=br-Ht,Jt=ht+or,jt=ht-or;De[ut]=Lr+Jt,De[ut+4]=Lr-Jt;var Zt=.707106781*(jt+jr);De[ut+2]=jr+Zt,De[ut+6]=jr-Zt;var ga=.382683433*((Lr=Lt+yt)-(jt=Rt+Kt)),jn=.5411961*Lr+ga,vi=1.306562965*jt+ga,Es=.707106781*(Jt=yt+Rt),wt=Kt+Es,xs=Kt-Es;De[ut+5]=xs+jn,De[ut+3]=xs-jn,De[ut+1]=wt+vi,De[ut+7]=wt-vi,ut+=8}for(ut=0,bt=0;bt<8;++bt){We=De[ut],mt=De[ut+8],rt=De[ut+16],Yt=De[ut+24],Ct=De[ut+32],Mt=De[ut+40],sr=De[ut+48];var Zs=We+(Et=De[ut+56]),Tn=We-Et,Ls=mt+sr,yr=mt-sr,qr=rt+Mt,rn=rt-Mt,Ui=Yt+Ct,ma=Yt-Ct,Qs=Zs+Ui,wi=Zs-Ui,Pn=Ls+qr,Is=Ls-qr;De[ut]=Qs+Pn,De[ut+32]=Qs-Pn;var bs=.707106781*(Is+wi);De[ut+16]=wi+bs,De[ut+48]=wi-bs;var qa=.382683433*((Qs=ma+rn)-(Is=yr+Tn)),ei=.5411961*Qs+qa,xa=1.306562965*Is+qa,Ga=.707106781*(Pn=rn+yr),Ya=Tn+Ga,Xo=Tn-Ga;De[ut+40]=Xo+ei,De[ut+24]=Xo-ei,De[ut+8]=Ya+xa,De[ut+56]=Ya-xa,ut++}for(bt=0;bt<64;++bt)vt=De[bt]*Ye[bt],m[bt]=vt>0?vt+.5|0:vt-.5|0;return m})(A,q),me=0;me<64;++me)S[te[me]]=we[me];var Me=S[0]-J;J=S[0],Me==0?pe(ue[0]):(pe(ue[b[de=32767+Me]]),pe(g[de]));for(var Be=63;Be>0&&S[Be]==0;)Be--;if(Be==0)return pe(ce),J;for(var ke,re=1;re<=Be;){for(var Xe=re;S[re]==0&&re<=Be;)++re;var ct=re-Xe;if(ct>=16){ke=ct>>4;for(var Qe=1;Qe<=ke;++Qe)pe(Z);ct&=15}de=32767+S[re],pe(fe[(ct<<4)+b[de]]),pe(g[de]),re++}return Be!=63&&pe(ce),J}function ee(A){A=Math.min(Math.max(A,1),100),i!=A&&((function(q){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ue=0;ue<64;ue++){var fe=a((J[ue]*q+50)/100);fe=Math.min(Math.max(fe,1),255),l[te[ue]]=fe}for(var de=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ce=0;ce<64;ce++){var Z=a((de[ce]*q+50)/100);Z=Math.min(Math.max(Z,1),255),d[te[ce]]=Z}for(var we=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],me=0,Me=0;Me<8;Me++)for(var Be=0;Be<8;Be++)h[me]=1/(l[te[me]]*we[Me]*we[Be]*8),f[me]=1/(d[te[me]]*we[Me]*we[Be]*8),me++})(A<50?Math.floor(5e3/A):Math.floor(200-2*A)),i=A)}this.encode=function(A,q){q&&ee(q),k=new Array,w=0,_=7,xe(65496),xe(65504),xe(16),ae(74),ae(70),ae(73),ae(70),ae(0),ae(1),ae(1),ae(0),xe(1),xe(1),ae(0),ae(0),(function(){xe(65499),xe(132),ae(0);for(var mt=0;mt<64;mt++)ae(l[mt]);ae(1);for(var rt=0;rt<64;rt++)ae(d[rt])})(),(function(mt,rt){xe(65472),xe(17),ae(8),xe(rt),xe(mt),ae(3),ae(1),ae(17),ae(0),ae(2),ae(17),ae(1),ae(3),ae(17),ae(1)})(A.width,A.height),(function(){xe(65476),xe(418),ae(0);for(var mt=0;mt<16;mt++)ae($[mt+1]);for(var rt=0;rt<=11;rt++)ae(M[rt]);ae(16);for(var Yt=0;Yt<16;Yt++)ae(ne[Yt+1]);for(var Ct=0;Ct<=161;Ct++)ae(D[Ct]);ae(1);for(var Mt=0;Mt<16;Mt++)ae(L[Mt+1]);for(var sr=0;sr<=11;sr++)ae(O[sr]);ae(17);for(var Et=0;Et<16;Et++)ae(W[Et+1]);for(var bt=0;bt<=161;bt++)ae(X[bt])})(),xe(65498),xe(12),ae(3),ae(1),ae(0),ae(2),ae(17),ae(3),ae(17),ae(0),ae(63),ae(0);var J=0,ue=0,fe=0;w=0,_=7,this.encode.displayName="_encode_";for(var de,ce,Z,we,me,Me,Be,ke,re,Xe=A.data,ct=A.width,Qe=A.height,De=4*ct,Ye=0;Ye<Qe;){for(de=0;de<De;){for(me=De*Ye+de,Be=-1,ke=0,re=0;re<64;re++)Me=me+(ke=re>>3)*De+(Be=4*(7&re)),Ye+ke>=Qe&&(Me-=De*(Ye+1+ke-Qe)),de+Be>=De&&(Me-=de+Be-De+4),ce=Xe[Me++],Z=Xe[Me++],we=Xe[Me++],E[re]=(Q[ce]+Q[Z+256|0]+Q[we+512|0]>>16)-128,R[re]=(Q[ce+768|0]+Q[Z+1024|0]+Q[we+1280|0]>>16)-128,I[re]=(Q[ce+1280|0]+Q[Z+1536|0]+Q[we+1792|0]>>16)-128;J=be(E,h,J,e,n),ue=be(R,f,ue,t,s),fe=be(I,f,fe,t,s),de+=32}Ye+=8}if(_>=0){var We=[];We[1]=_+1,We[0]=(1<<_+1)-1,pe(We)}return xe(65497),new Uint8Array(k)},r=r||50,(function(){for(var A=String.fromCharCode,q=0;q<256;q++)B[q]=A(q)})(),e=le($,M),t=le(L,O),n=le(ne,D),s=le(W,X),(function(){for(var A=1,q=2,J=1;J<=15;J++){for(var ue=A;ue<q;ue++)b[32767+ue]=J,g[32767+ue]=[],g[32767+ue][1]=J,g[32767+ue][0]=ue;for(var fe=-(q-1);fe<=-A;fe++)b[32767+fe]=J,g[32767+fe]=[],g[32767+fe][1]=J,g[32767+fe][0]=q-1+fe;A<<=1,q<<=1}})(),(function(){for(var A=0;A<256;A++)Q[A]=19595*A,Q[A+256|0]=38470*A,Q[A+512|0]=7471*A+32768,Q[A+768|0]=-11059*A,Q[A+1024|0]=-21709*A,Q[A+1280|0]=32768*A+8421375,Q[A+1536|0]=-27439*A,Q[A+1792|0]=-5329*A})(),ee(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function oa(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function _v(r){function e(M){if(!M)throw Error("assert :P")}function t(M,ne,D){for(var L=0;4>L;L++)if(M[ne+L]!=D.charCodeAt(L))return!0;return!1}function n(M,ne,D,L,O){for(var W=0;W<O;W++)M[ne+W]=D[L+W]}function s(M,ne,D,L){for(var O=0;O<L;O++)M[ne+O]=D}function i(M){return new Int32Array(M)}function a(M,ne){for(var D=[],L=0;L<M;L++)D.push(new ne);return D}function l(M,ne){var D=[];return(function L(O,W,X){for(var le=X[W],pe=0;pe<le&&(O.push(X.length>W+1?[]:new ne),!(X.length<W+1));pe++)L(O[pe],W+1,X)})(D,0,M),D}var d=function(){var M=this;function ne(x,v){for(var j=1<<v-1>>>0;x&j;)j>>>=1;return j?(x&j-1)+j:x}function D(x,v,j,T,F){e(!(T%j));do x[v+(T-=j)]=F;while(0<T)}function L(x,v,j,T,F){if(e(2328>=F),512>=F)var V=i(512);else if((V=i(F))==null)return 0;return(function(G,Y,K,se,ye,je){var ie,_e,Ce=Y,Oe=1<<K,Ae=i(16),Te=i(16);for(e(ye!=0),e(se!=null),e(G!=null),e(0<K),_e=0;_e<ye;++_e){if(15<se[_e])return 0;++Ae[se[_e]]}if(Ae[0]==ye)return 0;for(Te[1]=0,ie=1;15>ie;++ie){if(Ae[ie]>1<<ie)return 0;Te[ie+1]=Te[ie]+Ae[ie]}for(_e=0;_e<ye;++_e)ie=se[_e],0<se[_e]&&(je[Te[ie]++]=_e);if(Te[15]==1)return(se=new O).g=0,se.value=je[0],D(G,Ce,1,Oe,se),Oe;var Re,ze=-1,Ue=Oe-1,pt=0,et=1,Dt=1,at=1<<K;for(_e=0,ie=1,ye=2;ie<=K;++ie,ye<<=1){if(et+=Dt<<=1,0>(Dt-=Ae[ie]))return 0;for(;0<Ae[ie];--Ae[ie])(se=new O).g=ie,se.value=je[_e++],D(G,Ce+pt,ye,at,se),pt=ne(pt,ie)}for(ie=K+1,ye=2;15>=ie;++ie,ye<<=1){if(et+=Dt<<=1,0>(Dt-=Ae[ie]))return 0;for(;0<Ae[ie];--Ae[ie]){if(se=new O,(pt&Ue)!=ze){for(Ce+=at,Re=1<<(ze=ie)-K;15>ze&&!(0>=(Re-=Ae[ze]));)++ze,Re<<=1;Oe+=at=1<<(Re=ze-K),G[Y+(ze=pt&Ue)].g=Re+K,G[Y+ze].value=Ce-Y-ze}se.g=ie-K,se.value=je[_e++],D(G,Ce+(pt>>K),ye,at,se),pt=ne(pt,ie)}}return et!=2*Te[15]-1?0:Oe})(x,v,j,T,F,V)}function O(){this.value=this.g=0}function W(){this.value=this.g=0}function X(){this.G=a(5,O),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(zs,W)}function le(x,v,j,T){e(x!=null),e(v!=null),e(2147483648>T),x.Ca=254,x.I=0,x.b=-8,x.Ka=0,x.oa=v,x.pa=j,x.Jd=v,x.Yc=j+T,x.Zc=4<=T?j+T-4+1:j,ce(x)}function pe(x,v){for(var j=0;0<v--;)j|=we(x,128)<<v;return j}function ae(x,v){var j=pe(x,v);return Z(x)?-j:j}function xe(x,v,j,T){var F,V=0;for(e(x!=null),e(v!=null),e(4294967288>T),x.Sb=T,x.Ra=0,x.u=0,x.h=0,4<T&&(T=4),F=0;F<T;++F)V+=v[j+F]<<8*F;x.Ra=V,x.bb=T,x.oa=v,x.pa=j}function be(x){for(;8<=x.u&&x.bb<x.Sb;)x.Ra>>>=8,x.Ra+=x.oa[x.pa+x.bb]<<_a-8>>>0,++x.bb,x.u-=8;ue(x)&&(x.h=1,x.u=0)}function ee(x,v){if(e(0<=v),!x.h&&v<=Ss){var j=J(x)&_s[v];return x.u+=v,be(x),j}return x.h=1,x.u=0}function A(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(x){return x.Ra>>>(x.u&_a-1)>>>0}function ue(x){return e(x.bb<=x.Sb),x.h||x.bb==x.Sb&&x.u>_a}function fe(x,v){x.u=v,x.h=ue(x)}function de(x){x.u>=Pi&&(e(x.u>=Pi),be(x))}function ce(x){e(x!=null&&x.oa!=null),x.pa<x.Zc?(x.I=(x.oa[x.pa++]|x.I<<8)>>>0,x.b+=8):(e(x!=null&&x.oa!=null),x.pa<x.Yc?(x.b+=8,x.I=x.oa[x.pa++]|x.I<<8):x.Ka?x.b=0:(x.I<<=8,x.b+=8,x.Ka=1))}function Z(x){return pe(x,1)}function we(x,v){var j=x.Ca;0>x.b&&ce(x);var T=x.b,F=j*v>>>8,V=(x.I>>>T>F)+0;for(V?(j-=F,x.I-=F+1<<T>>>0):j=F+1,T=j,F=0;256<=T;)F+=8,T>>=8;return T=7^F+Yi[T],x.b-=T,x.Ca=(j<<T)-1,V}function me(x,v,j){x[v+0]=j>>24&255,x[v+1]=j>>16&255,x[v+2]=j>>8&255,x[v+3]=255&j}function Me(x,v){return x[v+0]|x[v+1]<<8}function Be(x,v){return Me(x,v)|x[v+2]<<16}function ke(x,v){return Me(x,v)|Me(x,v+2)<<16}function re(x,v){var j=1<<v;return e(x!=null),e(0<v),x.X=i(j),x.X==null?0:(x.Mb=32-v,x.Xa=v,1)}function Xe(x,v){e(x!=null),e(v!=null),e(x.Xa==v.Xa),n(v.X,0,x.X,0,1<<v.Xa)}function ct(){this.X=[],this.Xa=this.Mb=0}function Qe(x,v,j,T){e(j!=null),e(T!=null);var F=j[0],V=T[0];return F==0&&(F=(x*V+v/2)/v),V==0&&(V=(v*F+x/2)/x),0>=F||0>=V?0:(j[0]=F,T[0]=V,1)}function De(x,v){return x+(1<<v)-1>>>v}function Ye(x,v){return((4278255360&x)+(4278255360&v)>>>0&4278255360)+((16711935&x)+(16711935&v)>>>0&16711935)>>>0}function We(x,v){M[v]=function(j,T,F,V,G,Y,K){var se;for(se=0;se<G;++se){var ye=M[x](Y[K+se-1],F,V+se);Y[K+se]=Ye(j[T+se],ye)}}}function mt(){this.ud=this.hd=this.jd=0}function rt(x,v){return((4278124286&(x^v))>>>1)+(x&v)>>>0}function Yt(x){return 0<=x&&256>x?x:0>x?0:255<x?255:void 0}function Ct(x,v){return Yt(x+(x-v+.5>>1))}function Mt(x,v,j){return Math.abs(v-j)-Math.abs(x-j)}function sr(x,v,j,T,F,V,G){for(T=V[G-1],j=0;j<F;++j)V[G+j]=T=Ye(x[v+j],T)}function Et(x,v,j,T,F){var V;for(V=0;V<j;++V){var G=x[v+V],Y=G>>8&255,K=16711935&(K=(K=16711935&G)+((Y<<16)+Y));T[F+V]=(4278255360&G)+K>>>0}}function bt(x,v){v.jd=255&x,v.hd=x>>8&255,v.ud=x>>16&255}function vt(x,v,j,T,F,V){var G;for(G=0;G<T;++G){var Y=v[j+G],K=Y>>>8,se=Y,ye=255&(ye=(ye=Y>>>16)+((x.jd<<24>>24)*(K<<24>>24)>>>5));se=255&(se=(se+=(x.hd<<24>>24)*(K<<24>>24)>>>5)+((x.ud<<24>>24)*(ye<<24>>24)>>>5)),F[V+G]=(4278255360&Y)+(ye<<16)+se}}function ut(x,v,j,T,F){M[v]=function(V,G,Y,K,se,ye,je,ie,_e){for(K=je;K<ie;++K)for(je=0;je<_e;++je)se[ye++]=F(Y[T(V[G++])])},M[x]=function(V,G,Y,K,se,ye,je){var ie=8>>V.b,_e=V.Ea,Ce=V.K[0],Oe=V.w;if(8>ie)for(V=(1<<V.b)-1,Oe=(1<<ie)-1;G<Y;++G){var Ae,Te=0;for(Ae=0;Ae<_e;++Ae)Ae&V||(Te=T(K[se++])),ye[je++]=F(Ce[Te&Oe]),Te>>=ie}else M["VP8LMapColor"+j](K,se,Ce,Oe,ye,je,G,Y,_e)}}function br(x,v,j,T,F){for(j=v+j;v<j;){var V=x[v++];T[F++]=V>>16&255,T[F++]=V>>8&255,T[F++]=255&V}}function Kt(x,v,j,T,F){for(j=v+j;v<j;){var V=x[v++];T[F++]=V>>16&255,T[F++]=V>>8&255,T[F++]=255&V,T[F++]=V>>24&255}}function ht(x,v,j,T,F){for(j=v+j;v<j;){var V=(G=x[v++])>>16&240|G>>12&15,G=240&G|G>>28&15;T[F++]=V,T[F++]=G}}function Rt(x,v,j,T,F){for(j=v+j;v<j;){var V=(G=x[v++])>>16&248|G>>13&7,G=G>>5&224|G>>3&31;T[F++]=V,T[F++]=G}}function or(x,v,j,T,F){for(j=v+j;v<j;){var V=x[v++];T[F++]=255&V,T[F++]=V>>8&255,T[F++]=V>>16&255}}function yt(x,v,j,T,F,V){if(V==0)for(j=v+j;v<j;)me(T,((V=x[v++])[0]>>24|V[1]>>8&65280|V[2]<<8&16711680|V[3]<<24)>>>0),F+=32;else n(T,F,x,v,j)}function Ht(x,v){M[v][0]=M[x+"0"],M[v][1]=M[x+"1"],M[v][2]=M[x+"2"],M[v][3]=M[x+"3"],M[v][4]=M[x+"4"],M[v][5]=M[x+"5"],M[v][6]=M[x+"6"],M[v][7]=M[x+"7"],M[v][8]=M[x+"8"],M[v][9]=M[x+"9"],M[v][10]=M[x+"10"],M[v][11]=M[x+"11"],M[v][12]=M[x+"12"],M[v][13]=M[x+"13"],M[v][14]=M[x+"0"],M[v][15]=M[x+"0"]}function Lt(x){return x==fl||x==bo||x==pc||x==gc}function Lr(){this.eb=[],this.size=this.A=this.fb=0}function jr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Jt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Lr,this.f.kb=new jr,this.sd=null}function jt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Zt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ga(x){return alert("todo:WebPSamplerProcessPlane"),x.T}function jn(x,v){var j=x.T,T=v.ba.f.RGBA,F=T.eb,V=T.fb+x.ka*T.A,G=rs[v.ba.S],Y=x.y,K=x.O,se=x.f,ye=x.N,je=x.ea,ie=x.W,_e=v.cc,Ce=v.dc,Oe=v.Mc,Ae=v.Nc,Te=x.ka,Re=x.ka+x.T,ze=x.U,Ue=ze+1>>1;for(Te==0?G(Y,K,null,null,se,ye,je,ie,se,ye,je,ie,F,V,null,null,ze):(G(v.ec,v.fc,Y,K,_e,Ce,Oe,Ae,se,ye,je,ie,F,V-T.A,F,V,ze),++j);Te+2<Re;Te+=2)_e=se,Ce=ye,Oe=je,Ae=ie,ye+=x.Rc,ie+=x.Rc,V+=2*T.A,G(Y,(K+=2*x.fa)-x.fa,Y,K,_e,Ce,Oe,Ae,se,ye,je,ie,F,V-T.A,F,V,ze);return K+=x.fa,x.j+Re<x.o?(n(v.ec,v.fc,Y,K,ze),n(v.cc,v.dc,se,ye,Ue),n(v.Mc,v.Nc,je,ie,Ue),j--):1&Re||G(Y,K,null,null,se,ye,je,ie,se,ye,je,ie,F,V+T.A,null,null,ze),j}function vi(x,v,j){var T=x.F,F=[x.J];if(T!=null){var V=x.U,G=v.ba.S,Y=G==fc||G==pc;v=v.ba.f.RGBA;var K=[0],se=x.ka;K[0]=x.T,x.Kb&&(se==0?--K[0]:(--se,F[0]-=x.width),x.j+x.ka+x.T==x.o&&(K[0]=x.o-x.j-se));var ye=v.eb;se=v.fb+se*v.A,x=uc(T,F[0],x.width,V,K,ye,se+(Y?0:3),v.A),e(j==K),x&&Lt(G)&&xo(ye,se,Y,V,K,v.A)}return 0}function Es(x){var v=x.ma,j=v.ba.S,T=11>j,F=j==ja||j==hc||j==fc||j==fr||j==12||Lt(j);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!al(v.Oa,x,F?11:12))return 0;if(F&&Lt(j)&&od(),x.da)alert("todo:use_scaling");else{if(T){if(v.Ib=ga,x.Kb){if(j=x.U+1>>1,v.memory=i(x.U+2*j),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+x.U,v.Mc=v.cc,v.Nc=v.dc+j,v.Ib=jn,od()}}else alert("todo:EmitYUV");F&&(v.Jb=vi,T&&Bs())}if(T&&!En){for(x=0;256>x;++x)ns[x]=89858*(x-128)+li>>Zi,ss[x]=-22014*(x-128)+li,xl[x]=-45773*(x-128),ko[x]=113618*(x-128)+li>>Zi;for(x=lr;x<dr;++x)v=76283*(x-16)+li>>Zi,gd[x-lr]=Br(v,255),rf[x-lr]=Br(v+8>>4,15);En=1}return 1}function wt(x){var v=x.ma,j=x.U,T=x.T;return e(!(1&x.ka)),0>=j||0>=T?0:(j=v.Ib(x,v),v.Jb!=null&&v.Jb(x,v,j),v.Dc+=j,1)}function xs(x){x.ma.memory=null}function Zs(x,v,j,T){return ee(x,8)!=47?0:(v[0]=ee(x,14)+1,j[0]=ee(x,14)+1,T[0]=ee(x,1),ee(x,3)!=0?0:!x.h)}function Tn(x,v){if(4>x)return x+1;var j=x-2>>1;return(2+(1&x)<<j)+ee(v,j)+1}function Ls(x,v){return 120<v?v-120:1<=(j=((j=Np[v-1])>>4)*x+(8-(15&j)))?j:1;var j}function yr(x,v,j){var T=J(j),F=x[v+=255&T].g-8;return 0<F&&(fe(j,j.u+8),T=J(j),v+=x[v].value,v+=T&(1<<F)-1),fe(j,j.u+x[v].g),x[v].value}function qr(x,v,j){return j.g+=x.g,j.value+=x.value<<v>>>0,e(8>=j.g),x.g}function rn(x,v,j){var T=x.xc;return e((v=T==0?0:x.vc[x.md*(j>>T)+(v>>T)])<x.Wb),x.Ya[v]}function Ui(x,v,j,T){var F=x.ab,V=x.c*v,G=x.C;v=G+v;var Y=j,K=T;for(T=x.Ta,j=x.Ua;0<F--;){var se=x.gc[F],ye=G,je=v,ie=Y,_e=K,Ce=(K=T,Y=j,se.Ea);switch(e(ye<je),e(je<=se.nc),se.hc){case 2:Kr(ie,_e,(je-ye)*Ce,K,Y);break;case 0:var Oe=ye,Ae=je,Te=K,Re=Y,ze=(at=se).Ea;Oe==0&&(Ki(ie,_e,null,null,1,Te,Re),sr(ie,_e+1,0,0,ze-1,Te,Re+1),_e+=ze,Re+=ze,++Oe);for(var Ue=1<<at.b,pt=Ue-1,et=De(ze,at.b),Dt=at.K,at=at.w+(Oe>>at.b)*et;Oe<Ae;){var Vt=Dt,Hr=at,Ft=1;for(Ai(ie,_e,Te,Re-ze,1,Te,Re);Ft<ze;){var tt=(Ft&~pt)+Ue;tt>ze&&(tt=ze),(0,fo[Vt[Hr++]>>8&15])(ie,_e+ +Ft,Te,Re+Ft-ze,tt-Ft,Te,Re+Ft),Ft=tt}_e+=ze,Re+=ze,++Oe&pt||(at+=et)}je!=se.nc&&n(K,Y-Ce,K,Y+(je-ye-1)*Ce,Ce);break;case 1:for(Ce=ie,Ae=_e,ze=(ie=se.Ea)-(Re=ie&~(Te=(_e=1<<se.b)-1)),Oe=De(ie,se.b),Ue=se.K,se=se.w+(ye>>se.b)*Oe;ye<je;){for(pt=Ue,et=se,Dt=new mt,at=Ae+Re,Vt=Ae+ie;Ae<at;)bt(pt[et++],Dt),ll(Dt,Ce,Ae,_e,K,Y),Ae+=_e,Y+=_e;Ae<Vt&&(bt(pt[et++],Dt),ll(Dt,Ce,Ae,ze,K,Y),Ae+=ze,Y+=ze),++ye&Te||(se+=Oe)}break;case 3:if(ie==K&&_e==Y&&0<se.b){for(Ae=K,ie=Ce=Y+(je-ye)*Ce-(Re=(je-ye)*De(se.Ea,se.b)),_e=K,Te=Y,Oe=[],Re=(ze=Re)-1;0<=Re;--Re)Oe[Re]=_e[Te+Re];for(Re=ze-1;0<=Re;--Re)Ae[ie+Re]=Oe[Re];uo(se,ye,je,K,Ce,K,Y)}else uo(se,ye,je,ie,_e,K,Y)}Y=T,K=j}K!=j&&n(T,j,Y,K,V)}function ma(x,v){var j=x.V,T=x.Ba+x.c*x.C,F=v-x.C;if(e(v<=x.l.o),e(16>=F),0<F){var V=x.l,G=x.Ta,Y=x.Ua,K=V.width;if(Ui(x,F,j,T),F=Y=[Y],e((j=x.C)<(T=v)),e(V.v<V.va),T>V.o&&(T=V.o),j<V.j){var se=V.j-j;j=V.j,F[0]+=se*K}if(j>=T?j=0:(F[0]+=4*V.v,V.ka=j-V.j,V.U=V.va-V.v,V.T=T-j,j=1),j){if(Y=Y[0],11>(j=x.ca).S){var ye=j.f.RGBA,je=(T=j.S,F=V.U,V=V.T,se=ye.eb,ye.A),ie=V;for(ye=ye.fb+x.Ma*ye.A;0<ie--;){var _e=G,Ce=Y,Oe=F,Ae=se,Te=ye;switch(T){case ud:cl(_e,Ce,Oe,Ae,Te);break;case ja:Ji(_e,Ce,Oe,Ae,Te);break;case fl:Ji(_e,Ce,Oe,Ae,Te),xo(Ae,Te,0,Oe,1,0);break;case Xh:po(_e,Ce,Oe,Ae,Te);break;case hc:yt(_e,Ce,Oe,Ae,Te,1);break;case bo:yt(_e,Ce,Oe,Ae,Te,1),xo(Ae,Te,0,Oe,1,0);break;case fc:yt(_e,Ce,Oe,Ae,Te,0);break;case pc:yt(_e,Ce,Oe,Ae,Te,0),xo(Ae,Te,1,Oe,1,0);break;case fr:Sa(_e,Ce,Oe,Ae,Te);break;case gc:Sa(_e,Ce,Oe,Ae,Te),bu(Ae,Te,Oe,1,0);break;case hd:Na(_e,Ce,Oe,Ae,Te);break;default:e(0)}Y+=K,ye+=je}x.Ma+=V}else alert("todo:EmitRescaledRowsYUVA");e(x.Ma<=j.height)}}x.C=v,e(x.C<=x.i)}function Qs(x){var v;if(0<x.ua)return 0;for(v=0;v<x.Wb;++v){var j=x.Ya[v].G,T=x.Ya[v].H;if(0<j[1][T[1]+0].g||0<j[2][T[2]+0].g||0<j[3][T[3]+0].g)return 0}return 1}function wi(x,v,j,T,F,V){if(x.Z!=0){var G=x.qd,Y=x.rd;for(e(On[x.Z]!=null);v<j;++v)On[x.Z](G,Y,T,F,T,F,V),G=T,Y=F,F+=V;x.qd=G,x.rd=Y}}function Pn(x,v){var j=x.l.ma,T=j.Z==0||j.Z==1?x.l.j:x.C;if(T=x.C<T?T:x.C,e(v<=x.l.o),v>T){var F=x.l.width,V=j.ca,G=j.tb+F*T,Y=x.V,K=x.Ba+x.c*T,se=x.gc;e(x.ab==1),e(se[0].hc==3),ai(se[0],T,v,Y,K,V,G),wi(j,T,v,V,G,F)}x.C=x.Ma=v}function Is(x,v,j,T,F,V,G){var Y=x.$/T,K=x.$%T,se=x.m,ye=x.s,je=j+x.$,ie=je;F=j+T*F;var _e=j+T*V,Ce=280+ye.ua,Oe=x.Pb?Y:16777216,Ae=0<ye.ua?ye.Wa:null,Te=ye.wc,Re=je<_e?rn(ye,K,Y):null;e(x.C<V),e(_e<=F);var ze=!1;e:for(;;){for(;ze||je<_e;){var Ue=0;if(Y>=Oe){var pt=je-j;e((Oe=x).Pb),Oe.wd=Oe.m,Oe.xd=pt,0<Oe.s.ua&&Xe(Oe.s.Wa,Oe.s.vb),Oe=Y+pd}if(K&Te||(Re=rn(ye,K,Y)),e(Re!=null),Re.Qb&&(v[je]=Re.qb,ze=!0),!ze)if(de(se),Re.jc){Ue=se,pt=v;var et=je,Dt=Re.pd[J(Ue)&zs-1];e(Re.jc),256>Dt.g?(fe(Ue,Ue.u+Dt.g),pt[et]=Dt.value,Ue=0):(fe(Ue,Ue.u+Dt.g-256),e(256<=Dt.value),Ue=Dt.value),Ue==0&&(ze=!0)}else Ue=yr(Re.G[0],Re.H[0],se);if(se.h)break;if(ze||256>Ue){if(!ze)if(Re.nd)v[je]=(Re.qb|Ue<<8)>>>0;else{if(de(se),ze=yr(Re.G[1],Re.H[1],se),de(se),pt=yr(Re.G[2],Re.H[2],se),et=yr(Re.G[3],Re.H[3],se),se.h)break;v[je]=(et<<24|ze<<16|Ue<<8|pt)>>>0}if(ze=!1,++je,++K>=T&&(K=0,++Y,G!=null&&Y<=V&&!(Y%16)&&G(x,Y),Ae!=null))for(;ie<je;)Ue=v[ie++],Ae.X[(506832829*Ue&4294967295)>>>Ae.Mb]=Ue}else if(280>Ue){if(Ue=Tn(Ue-256,se),pt=yr(Re.G[4],Re.H[4],se),de(se),pt=Ls(T,pt=Tn(pt,se)),se.h)break;if(je-j<pt||F-je<Ue)break e;for(et=0;et<Ue;++et)v[je+et]=v[je+et-pt];for(je+=Ue,K+=Ue;K>=T;)K-=T,++Y,G!=null&&Y<=V&&!(Y%16)&&G(x,Y);if(e(je<=F),K&Te&&(Re=rn(ye,K,Y)),Ae!=null)for(;ie<je;)Ue=v[ie++],Ae.X[(506832829*Ue&4294967295)>>>Ae.Mb]=Ue}else{if(!(Ue<Ce))break e;for(ze=Ue-280,e(Ae!=null);ie<je;)Ue=v[ie++],Ae.X[(506832829*Ue&4294967295)>>>Ae.Mb]=Ue;Ue=je,e(!(ze>>>(pt=Ae).Xa)),v[Ue]=pt.X[ze],ze=!0}ze||e(se.h==ue(se))}if(x.Pb&&se.h&&je<F)e(x.m.h),x.a=5,x.m=x.wd,x.$=x.xd,0<x.s.ua&&Xe(x.s.vb,x.s.Wa);else{if(se.h)break e;G?.(x,Y>V?V:Y),x.a=0,x.$=je-j}return 1}return x.a=3,0}function bs(x){e(x!=null),x.vc=null,x.yc=null,x.Ya=null;var v=x.Wa;v!=null&&(v.X=null),x.vb=null,e(x!=null)}function qa(){var x=new ft;return x==null?null:(x.a=0,x.xb=gl,Ht("Predictor","VP8LPredictors"),Ht("Predictor","VP8LPredictors_C"),Ht("PredictorAdd","VP8LPredictorsAdd"),Ht("PredictorAdd","VP8LPredictorsAdd_C"),Kr=Et,ll=vt,cl=br,Ji=Kt,Sa=ht,Na=Rt,po=or,M.VP8LMapColor32b=Ei,M.VP8LMapColor8b=ho,x)}function ei(x,v,j,T,F){var V=1,G=[x],Y=[v],K=T.m,se=T.s,ye=null,je=0;e:for(;;){if(j)for(;V&&ee(K,1);){var ie=G,_e=Y,Ce=T,Oe=1,Ae=Ce.m,Te=Ce.gc[Ce.ab],Re=ee(Ae,2);if(Ce.Oc&1<<Re)V=0;else{switch(Ce.Oc|=1<<Re,Te.hc=Re,Te.Ea=ie[0],Te.nc=_e[0],Te.K=[null],++Ce.ab,e(4>=Ce.ab),Re){case 0:case 1:Te.b=ee(Ae,3)+2,Oe=ei(De(Te.Ea,Te.b),De(Te.nc,Te.b),0,Ce,Te.K),Te.K=Te.K[0];break;case 3:var ze,Ue=ee(Ae,8)+1,pt=16<Ue?0:4<Ue?1:2<Ue?2:3;if(ie[0]=De(Te.Ea,pt),Te.b=pt,ze=Oe=ei(Ue,1,0,Ce,Te.K)){var et,Dt=Ue,at=Te,Vt=1<<(8>>at.b),Hr=i(Vt);if(Hr==null)ze=0;else{var Ft=at.K[0],tt=at.w;for(Hr[0]=at.K[0][0],et=1;et<1*Dt;++et)Hr[et]=Ye(Ft[tt+et],Hr[et-1]);for(;et<4*Vt;++et)Hr[et]=0;at.K[0]=null,at.K[0]=Hr,ze=1}}Oe=ze;break;case 2:break;default:e(0)}V=Oe}}if(G=G[0],Y=Y[0],V&&ee(K,1)&&!(V=1<=(je=ee(K,4))&&11>=je)){T.a=3;break e}var Je;if(Je=V)t:{var Jr,Nt,Wt,wr=T,wn=G,on=Y,Tr=je,pn=j,kn=wr.m,Pr=wr.s,qt=[null],tr=1,Ar=0,rr=Qh[Tr];r:for(;;){if(pn&&ee(kn,1)){var Wr=ee(kn,3)+2,Vr=De(wn,Wr),pr=De(on,Wr),Fn=Vr*pr;if(!ei(Vr,pr,0,wr,qt))break r;for(qt=qt[0],Pr.xc=Wr,Jr=0;Jr<Fn;++Jr){var ur=qt[Jr]>>8&65535;qt[Jr]=ur,ur>=tr&&(tr=ur+1)}}if(kn.h)break r;for(Nt=0;5>Nt;++Nt){var gr=yo[Nt];!Nt&&0<Tr&&(gr+=1<<Tr),Ar<gr&&(Ar=gr)}var ln=a(tr*rr,O),Ln=tr,is=a(Ln,X);if(is==null)var Xr=null;else e(65536>=Ln),Xr=is;var Zr=i(Ar);if(Xr==null||Zr==null||ln==null){wr.a=1;break r}var Bn=ln;for(Jr=Wt=0;Jr<tr;++Jr){var mr=Xr[Jr],zn=mr.G,Ws=mr.H,ci=0,_n=1,Qr=0;for(Nt=0;5>Nt;++Nt){gr=yo[Nt],zn[Nt]=Bn,Ws[Nt]=Wt,!Nt&&0<Tr&&(gr+=1<<Tr);s:{var Ea,ea=gr,bl=wr,Ti=Zr,sf=Bn,Eu=Wt,Sr=0,di=bl.m,Lu=ee(di,1);if(s(Ti,0,0,ea),Lu){var Iu=ee(di,1)+1,md=ee(di,1),xd=ee(di,md==0?1:8);Ti[xd]=1,Iu==2&&(Ti[xd=ee(di,8)]=1);var Mi=1}else{var Er=i(19),cn=ee(di,4)+4;if(19<cn){bl.a=3;var en=0;break s}for(Ea=0;Ea<cn;++Ea)Er[Sp[Ea]]=ee(di,3);var yl=void 0,ta=void 0,vl=bl,Ep=Er,gn=ea,bd=Ti,vc=0,Ri=vl.m,ui=8,Ns=a(128,O);n:for(;L(Ns,0,7,Ep,19);){if(ee(Ri,1)){var wc=2+2*ee(Ri,3);if((yl=2+ee(Ri,wc))>gn)break n}else yl=gn;for(ta=0;ta<gn&&yl--;){de(Ri);var yd=Ns[0+(127&J(Ri))];fe(Ri,Ri.u+yd.g);var La=yd.value;if(16>La)bd[ta++]=La,La!=0&&(ui=La);else{var af=La==16,Tu=La-16,of=fd[Tu],Mu=ee(Ri,mc[Tu])+of;if(ta+Mu>gn)break n;for(var lf=af?ui:0;0<Mu--;)bd[ta++]=lf}}vc=1;break n}vc||(vl.a=3),Mi=vc}(Mi=Mi&&!di.h)&&(Sr=L(sf,Eu,8,Ti,ea)),Mi&&Sr!=0?en=Sr:(bl.a=3,en=0)}if(en==0)break r;if(_n&&Zh[Nt]==1&&(_n=Bn[Wt].g==0),ci+=Bn[Wt].g,Wt+=en,3>=Nt){var wl,vd=Zr[0];for(wl=1;wl<gr;++wl)Zr[wl]>vd&&(vd=Zr[wl]);Qr+=vd}}if(mr.nd=_n,mr.Qb=0,_n&&(mr.qb=(zn[3][Ws[3]+0].value<<24|zn[1][Ws[1]+0].value<<16|zn[2][Ws[2]+0].value)>>>0,ci==0&&256>zn[0][Ws[0]+0].value&&(mr.Qb=1,mr.qb+=zn[0][Ws[0]+0].value<<8)),mr.jc=!mr.Qb&&6>Qr,mr.jc){var kc,Cs=mr;for(kc=0;kc<zs;++kc){var ra=kc,hi=Cs.pd[ra],So=Cs.G[0][Cs.H[0]+ra];256<=So.value?(hi.g=So.g+256,hi.value=So.value):(hi.g=0,hi.value=0,ra>>=qr(So,8,hi),ra>>=qr(Cs.G[1][Cs.H[1]+ra],16,hi),ra>>=qr(Cs.G[2][Cs.H[2]+ra],0,hi),qr(Cs.G[3][Cs.H[3]+ra],24,hi))}}}Pr.vc=qt,Pr.Wb=tr,Pr.Ya=Xr,Pr.yc=ln,Je=1;break t}Je=0}if(!(V=Je)){T.a=3;break e}if(0<je){if(se.ua=1<<je,!re(se.Wa,je)){T.a=1,V=0;break e}}else se.ua=0;var wd=T,kd=G,cf=Y,_d=wd.s,Sd=_d.xc;if(wd.c=kd,wd.i=cf,_d.md=De(kd,Sd),_d.wc=Sd==0?-1:(1<<Sd)-1,j){T.xb=Ii;break e}if((ye=i(G*Y))==null){T.a=1,V=0;break e}V=(V=Is(T,ye,0,G,Y,Y,null))&&!K.h;break e}return V?(F!=null?F[0]=ye:(e(ye==null),e(j)),T.$=0,j||bs(se)):bs(se),V}function xa(x,v){var j=x.c*x.i,T=j+v+16*v;return e(x.c<=v),x.V=i(T),x.V==null?(x.Ta=null,x.Ua=0,x.a=1,0):(x.Ta=x.V,x.Ua=x.Ba+j+v,1)}function Ga(x,v){var j=x.C,T=v-j,F=x.V,V=x.Ba+x.c*j;for(e(v<=x.l.o);0<T;){var G=16<T?16:T,Y=x.l.ma,K=x.l.width,se=K*G,ye=Y.ca,je=Y.tb+K*j,ie=x.Ta,_e=x.Ua;Ui(x,G,F,V),yu(ie,_e,ye,je,se),wi(Y,j,j+G,ye,je,K),T-=G,F+=G*x.c,j+=G}e(j==v),x.C=x.Ma=v}function Ya(){this.ub=this.yd=this.td=this.Rb=0}function Xo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function pu(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function _r(){this.Yb=(function(){var x=[];return(function v(j,T,F){for(var V=F[T],G=0;G<V&&(j.push(F.length>T+1?[]:0),!(F.length<T+1));G++)v(j[G],T+1,F)})(x,0,[3,11]),x})()}function Zc(){this.jb=i(3),this.Wc=l([4,8],_r),this.Xc=l([4,17],_r)}function Zo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function ys(){this.ld=this.La=this.dd=this.tc=0}function ba(){this.Na=this.la=0}function Qc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Qo(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ka(){this.uc=this.M=this.Nb=0,this.wa=Array(new ys),this.Y=0,this.ya=Array(new Qo),this.aa=0,this.l=new Mn}function vs(){this.y=i(16),this.f=i(8),this.ea=i(8)}function ed(){this.cb=this.a=0,this.sc="",this.m=new A,this.Od=new Ya,this.Kc=new Xo,this.ed=new Zo,this.Qa=new pu,this.Ic=this.$c=this.Aa=0,this.D=new Ka,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,A),this.ia=0,this.pb=a(4,Qc),this.Pa=new Zc,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new vs),this.Hd=0,this.rb=Array(new ba),this.sb=0,this.wa=Array(new ys),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Qo),this.L=this.aa=0,this.gd=l([4,2],ys),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Mn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function gu(){var x=new ed;return x!=null&&(x.a=0,x.sc="OK",x.cb=0,x.Xb=0,vo||(vo=Ts)),x}function nn(x,v,j){return x.a==0&&(x.a=v,x.sc=j,x.cb=0),0}function td(x,v,j){return 3<=j&&x[v+0]==157&&x[v+1]==1&&x[v+2]==42}function Ja(x,v){if(x==null)return 0;if(x.a=0,x.sc="OK",v==null)return nn(x,2,"null VP8Io passed to VP8GetHeaders()");var j=v.data,T=v.w,F=v.ha;if(4>F)return nn(x,7,"Truncated header.");var V=j[T+0]|j[T+1]<<8|j[T+2]<<16,G=x.Od;if(G.Rb=!(1&V),G.td=V>>1&7,G.yd=V>>4&1,G.ub=V>>5,3<G.td)return nn(x,3,"Incorrect keyframe parameters.");if(!G.yd)return nn(x,4,"Frame not displayable.");T+=3,F-=3;var Y=x.Kc;if(G.Rb){if(7>F)return nn(x,7,"cannot parse picture header");if(!td(j,T,F))return nn(x,3,"Bad code word");Y.c=16383&(j[T+4]<<8|j[T+3]),Y.Td=j[T+4]>>6,Y.i=16383&(j[T+6]<<8|j[T+5]),Y.Ud=j[T+6]>>6,T+=7,F-=7,x.za=Y.c+15>>4,x.Ub=Y.i+15>>4,v.width=Y.c,v.height=Y.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,s((V=x.Pa).jb,0,255,V.jb.length),e((V=x.Qa)!=null),V.Cb=0,V.Bb=0,V.Fb=1,s(V.Zb,0,0,V.Zb.length),s(V.Lb,0,0,V.Lb)}if(G.ub>F)return nn(x,7,"bad partition length");le(V=x.m,j,T,G.ub),T+=G.ub,F-=G.ub,G.Rb&&(Y.Ld=Z(V),Y.Kd=Z(V)),Y=x.Qa;var K,se=x.Pa;if(e(V!=null),e(Y!=null),Y.Cb=Z(V),Y.Cb){if(Y.Bb=Z(V),Z(V)){for(Y.Fb=Z(V),K=0;4>K;++K)Y.Zb[K]=Z(V)?ae(V,7):0;for(K=0;4>K;++K)Y.Lb[K]=Z(V)?ae(V,6):0}if(Y.Bb)for(K=0;3>K;++K)se.jb[K]=Z(V)?pe(V,8):255}else Y.Bb=0;if(V.Ka)return nn(x,3,"cannot parse segment header");if((Y=x.ed).zd=Z(V),Y.Tb=pe(V,6),Y.wb=pe(V,3),Y.Pc=Z(V),Y.Pc&&Z(V)){for(se=0;4>se;++se)Z(V)&&(Y.vd[se]=ae(V,6));for(se=0;4>se;++se)Z(V)&&(Y.od[se]=ae(V,6))}if(x.L=Y.Tb==0?0:Y.zd?1:2,V.Ka)return nn(x,3,"cannot parse filter header");var ye=F;if(F=K=T,T=K+ye,Y=ye,x.Xb=(1<<pe(x.m,2))-1,ye<3*(se=x.Xb))j=7;else{for(K+=3*se,Y-=3*se,ye=0;ye<se;++ye){var je=j[F+0]|j[F+1]<<8|j[F+2]<<16;je>Y&&(je=Y),le(x.Jc[+ye],j,K,je),K+=je,Y-=je,F+=3}le(x.Jc[+se],j,K,Y),j=K<T?0:5}if(j!=0)return nn(x,j,"cannot parse partitions");for(j=pe(K=x.m,7),F=Z(K)?ae(K,4):0,T=Z(K)?ae(K,4):0,Y=Z(K)?ae(K,4):0,se=Z(K)?ae(K,4):0,K=Z(K)?ae(K,4):0,ye=x.Qa,je=0;4>je;++je){if(ye.Cb){var ie=ye.Zb[je];ye.Fb||(ie+=j)}else{if(0<je){x.pb[je]=x.pb[0];continue}ie=j}var _e=x.pb[je];_e.Sc[0]=pl[Br(ie+F,127)],_e.Sc[1]=xc[Br(ie+0,127)],_e.Eb[0]=2*pl[Br(ie+T,127)],_e.Eb[1]=101581*xc[Br(ie+Y,127)]>>16,8>_e.Eb[1]&&(_e.Eb[1]=8),_e.Qc[0]=pl[Br(ie+se,117)],_e.Qc[1]=xc[Br(ie+K,127)],_e.lc=ie+K}if(!G.Rb)return nn(x,4,"Not a key frame.");for(Z(V),G=x.Pa,j=0;4>j;++j){for(F=0;8>F;++F)for(T=0;3>T;++T)for(Y=0;11>Y;++Y)se=we(V,jp[j][F][T][Y])?pe(V,8):tf[j][F][T][Y],G.Wc[j][F].Yb[T][Y]=se;for(F=0;17>F;++F)G.Xc[j][F]=G.Wc[j][ju[F]]}return x.kc=Z(V),x.kc&&(x.Bd=pe(V,8)),x.cb=1}function Ts(x,v,j,T,F,V,G){var Y=v[F].Yb[j];for(j=0;16>F;++F){if(!we(x,Y[j+0]))return F;for(;!we(x,Y[j+1]);)if(Y=v[++F].Yb[0],j=0,F==16)return 16;var K=v[F+1].Yb;if(we(x,Y[j+2])){var se=x,ye=0;if(we(se,(ie=Y)[(je=j)+3]))if(we(se,ie[je+6])){for(Y=0,je=2*(ye=we(se,ie[je+8]))+(ie=we(se,ie[je+9+ye])),ye=0,ie=Nu[je];ie[Y];++Y)ye+=ye+we(se,ie[Y]);ye+=3+(8<<je)}else we(se,ie[je+7])?(ye=7+2*we(se,165),ye+=we(se,145)):ye=5+we(se,159);else ye=we(se,ie[je+4])?3+we(se,ie[je+5]):2;Y=K[2]}else ye=1,Y=K[1];K=G+Cu[F],0>(se=x).b&&ce(se);var je,ie=se.b,_e=(je=se.Ca>>1)-(se.I>>ie)>>31;--se.b,se.Ca+=_e,se.Ca|=1,se.I-=(je+1&_e)<<ie,V[K]=((ye^_e)-_e)*T[(0<F)+0]}return 16}function ti(x){var v=x.rb[x.sb-1];v.la=0,v.Na=0,s(x.zc,0,0,x.zc.length),x.ja=0}function Xn(x,v,j,T,F){F=x[v+j+32*T]+(F>>3),x[v+j+32*T]=-256&F?0>F?0:255:F}function Xa(x,v,j,T,F,V){Xn(x,v,0,j,T+F),Xn(x,v,1,j,T+V),Xn(x,v,2,j,T-V),Xn(x,v,3,j,T-F)}function Gr(x){return(20091*x>>16)+x}function Za(x,v,j,T){var F,V=0,G=i(16);for(F=0;4>F;++F){var Y=x[v+0]+x[v+8],K=x[v+0]-x[v+8],se=(35468*x[v+4]>>16)-Gr(x[v+12]),ye=Gr(x[v+4])+(35468*x[v+12]>>16);G[V+0]=Y+ye,G[V+1]=K+se,G[V+2]=K-se,G[V+3]=Y-ye,V+=4,v++}for(F=V=0;4>F;++F)Y=(x=G[V+0]+4)+G[V+8],K=x-G[V+8],se=(35468*G[V+4]>>16)-Gr(G[V+12]),Xn(j,T,0,0,Y+(ye=Gr(G[V+4])+(35468*G[V+12]>>16))),Xn(j,T,1,0,K+se),Xn(j,T,2,0,K-se),Xn(j,T,3,0,Y-ye),V++,T+=32}function rd(x,v,j,T){var F=x[v+0]+4,V=35468*x[v+4]>>16,G=Gr(x[v+4]),Y=35468*x[v+1]>>16;Xa(j,T,0,F+G,x=Gr(x[v+1]),Y),Xa(j,T,1,F+V,x,Y),Xa(j,T,2,F-V,x,Y),Xa(j,T,3,F-G,x,Y)}function ec(x,v,j,T,F){Za(x,v,j,T),F&&Za(x,v+16,j,T+4)}function Qa(x,v,j,T){go(x,v+0,j,T,1),go(x,v+32,j,T+128,1)}function ki(x,v,j,T){var F;for(x=x[v+0]+4,F=0;4>F;++F)for(v=0;4>v;++v)Xn(j,T,v,F,x)}function el(x,v,j,T){x[v+0]&&er(x,v+0,j,T),x[v+16]&&er(x,v+16,j,T+4),x[v+32]&&er(x,v+32,j,T+128),x[v+48]&&er(x,v+48,j,T+128+4)}function Xt(x,v,j,T){var F,V=i(16);for(F=0;4>F;++F){var G=x[v+0+F]+x[v+12+F],Y=x[v+4+F]+x[v+8+F],K=x[v+4+F]-x[v+8+F],se=x[v+0+F]-x[v+12+F];V[0+F]=G+Y,V[8+F]=G-Y,V[4+F]=se+K,V[12+F]=se-K}for(F=0;4>F;++F)G=(x=V[0+4*F]+3)+V[3+4*F],Y=V[1+4*F]+V[2+4*F],K=V[1+4*F]-V[2+4*F],se=x-V[3+4*F],j[T+0]=G+Y>>3,j[T+16]=se+K>>3,j[T+32]=G-Y>>3,j[T+48]=se-K>>3,T+=64}function Hi(x,v,j){var T,F=v-32,V=$n,G=255-x[F-1];for(T=0;T<j;++T){var Y,K=V,se=G+x[v-1];for(Y=0;Y<j;++Y)x[v+Y]=K[se+x[F+Y]];v+=32}}function tl(x,v){Hi(x,v,4)}function tc(x,v){Hi(x,v,8)}function nd(x,v){Hi(x,v,16)}function sd(x,v){var j;for(j=0;16>j;++j)n(x,v+32*j,x,v-32,16)}function rl(x,v){var j;for(j=16;0<j;--j)s(x,v,x[v-1],16),v+=32}function Wi(x,v,j){var T;for(T=0;16>T;++T)s(v,j+32*T,x,16)}function ri(x,v){var j,T=16;for(j=0;16>j;++j)T+=x[v-1+32*j]+x[v+j-32];Wi(T>>5,x,v)}function _i(x,v){var j,T=8;for(j=0;16>j;++j)T+=x[v-1+32*j];Wi(T>>4,x,v)}function Zn(x,v){var j,T=8;for(j=0;16>j;++j)T+=x[v+j-32];Wi(T>>4,x,v)}function Ms(x,v){Wi(128,x,v)}function St(x,v,j){return x+2*v+j+2>>2}function eo(x,v){var j,T=v-32;for(T=new Uint8Array([St(x[T-1],x[T+0],x[T+1]),St(x[T+0],x[T+1],x[T+2]),St(x[T+1],x[T+2],x[T+3]),St(x[T+2],x[T+3],x[T+4])]),j=0;4>j;++j)n(x,v+32*j,T,0,T.length)}function Si(x,v){var j=x[v-1],T=x[v-1+32],F=x[v-1+64],V=x[v-1+96];me(x,v+0,16843009*St(x[v-1-32],j,T)),me(x,v+32,16843009*St(j,T,F)),me(x,v+64,16843009*St(T,F,V)),me(x,v+96,16843009*St(F,V,V))}function mu(x,v){var j,T=4;for(j=0;4>j;++j)T+=x[v+j-32]+x[v-1+32*j];for(T>>=3,j=0;4>j;++j)s(x,v+32*j,T,4)}function id(x,v){var j=x[v-1+0],T=x[v-1+32],F=x[v-1+64],V=x[v-1-32],G=x[v+0-32],Y=x[v+1-32],K=x[v+2-32],se=x[v+3-32];x[v+0+96]=St(T,F,x[v-1+96]),x[v+1+96]=x[v+0+64]=St(j,T,F),x[v+2+96]=x[v+1+64]=x[v+0+32]=St(V,j,T),x[v+3+96]=x[v+2+64]=x[v+1+32]=x[v+0+0]=St(G,V,j),x[v+3+64]=x[v+2+32]=x[v+1+0]=St(Y,G,V),x[v+3+32]=x[v+2+0]=St(K,Y,G),x[v+3+0]=St(se,K,Y)}function ws(x,v){var j=x[v+1-32],T=x[v+2-32],F=x[v+3-32],V=x[v+4-32],G=x[v+5-32],Y=x[v+6-32],K=x[v+7-32];x[v+0+0]=St(x[v+0-32],j,T),x[v+1+0]=x[v+0+32]=St(j,T,F),x[v+2+0]=x[v+1+32]=x[v+0+64]=St(T,F,V),x[v+3+0]=x[v+2+32]=x[v+1+64]=x[v+0+96]=St(F,V,G),x[v+3+32]=x[v+2+64]=x[v+1+96]=St(V,G,Y),x[v+3+64]=x[v+2+96]=St(G,Y,K),x[v+3+96]=St(Y,K,K)}function Vi(x,v){var j=x[v-1+0],T=x[v-1+32],F=x[v-1+64],V=x[v-1-32],G=x[v+0-32],Y=x[v+1-32],K=x[v+2-32],se=x[v+3-32];x[v+0+0]=x[v+1+64]=V+G+1>>1,x[v+1+0]=x[v+2+64]=G+Y+1>>1,x[v+2+0]=x[v+3+64]=Y+K+1>>1,x[v+3+0]=K+se+1>>1,x[v+0+96]=St(F,T,j),x[v+0+64]=St(T,j,V),x[v+0+32]=x[v+1+96]=St(j,V,G),x[v+1+32]=x[v+2+96]=St(V,G,Y),x[v+2+32]=x[v+3+96]=St(G,Y,K),x[v+3+32]=St(Y,K,se)}function ad(x,v){var j=x[v+0-32],T=x[v+1-32],F=x[v+2-32],V=x[v+3-32],G=x[v+4-32],Y=x[v+5-32],K=x[v+6-32],se=x[v+7-32];x[v+0+0]=j+T+1>>1,x[v+1+0]=x[v+0+64]=T+F+1>>1,x[v+2+0]=x[v+1+64]=F+V+1>>1,x[v+3+0]=x[v+2+64]=V+G+1>>1,x[v+0+32]=St(j,T,F),x[v+1+32]=x[v+0+96]=St(T,F,V),x[v+2+32]=x[v+1+96]=St(F,V,G),x[v+3+32]=x[v+2+96]=St(V,G,Y),x[v+3+64]=St(G,Y,K),x[v+3+96]=St(Y,K,se)}function nl(x,v){var j=x[v-1+0],T=x[v-1+32],F=x[v-1+64],V=x[v-1+96];x[v+0+0]=j+T+1>>1,x[v+2+0]=x[v+0+32]=T+F+1>>1,x[v+2+32]=x[v+0+64]=F+V+1>>1,x[v+1+0]=St(j,T,F),x[v+3+0]=x[v+1+32]=St(T,F,V),x[v+3+32]=x[v+1+64]=St(F,V,V),x[v+3+64]=x[v+2+64]=x[v+0+96]=x[v+1+96]=x[v+2+96]=x[v+3+96]=V}function to(x,v){var j=x[v-1+0],T=x[v-1+32],F=x[v-1+64],V=x[v-1+96],G=x[v-1-32],Y=x[v+0-32],K=x[v+1-32],se=x[v+2-32];x[v+0+0]=x[v+2+32]=j+G+1>>1,x[v+0+32]=x[v+2+64]=T+j+1>>1,x[v+0+64]=x[v+2+96]=F+T+1>>1,x[v+0+96]=V+F+1>>1,x[v+3+0]=St(Y,K,se),x[v+2+0]=St(G,Y,K),x[v+1+0]=x[v+3+32]=St(j,G,Y),x[v+1+32]=x[v+3+64]=St(T,j,G),x[v+1+64]=x[v+3+96]=St(F,T,j),x[v+1+96]=St(V,F,T)}function rc(x,v){var j;for(j=0;8>j;++j)n(x,v+32*j,x,v-32,8)}function ni(x,v){var j;for(j=0;8>j;++j)s(x,v,x[v-1],8),v+=32}function Ni(x,v,j){var T;for(T=0;8>T;++T)s(v,j+32*T,x,8)}function si(x,v){var j,T=8;for(j=0;8>j;++j)T+=x[v+j-32]+x[v-1+32*j];Ni(T>>4,x,v)}function sl(x,v){var j,T=4;for(j=0;8>j;++j)T+=x[v+j-32];Ni(T>>3,x,v)}function nc(x,v){var j,T=4;for(j=0;8>j;++j)T+=x[v-1+32*j];Ni(T>>3,x,v)}function sc(x,v){Ni(128,x,v)}function $i(x,v,j){var T=x[v-j],F=x[v+0],V=3*(F-T)+Li[1020+x[v-2*j]-x[v+j]],G=hl[112+(V+4>>3)];x[v-j]=$n[255+T+hl[112+(V+3>>3)]],x[v+0]=$n[255+F-G]}function Ci(x,v,j,T){var F=x[v+0],V=x[v+j];return Us[255+x[v-2*j]-x[v-j]]>T||Us[255+V-F]>T}function ro(x,v,j,T){return 4*Us[255+x[v-j]-x[v+0]]+Us[255+x[v-2*j]-x[v+j]]<=T}function no(x,v,j,T,F){var V=x[v-3*j],G=x[v-2*j],Y=x[v-j],K=x[v+0],se=x[v+j],ye=x[v+2*j],je=x[v+3*j];return 4*Us[255+Y-K]+Us[255+G-se]>T?0:Us[255+x[v-4*j]-V]<=F&&Us[255+V-G]<=F&&Us[255+G-Y]<=F&&Us[255+je-ye]<=F&&Us[255+ye-se]<=F&&Us[255+se-K]<=F}function Rs(x,v,j,T){var F=2*T+1;for(T=0;16>T;++T)ro(x,v+T,j,F)&&$i(x,v+T,j)}function qi(x,v,j,T){var F=2*T+1;for(T=0;16>T;++T)ro(x,v+T*j,1,F)&&$i(x,v+T*j,1)}function so(x,v,j,T){var F;for(F=3;0<F;--F)Rs(x,v+=4*j,j,T)}function ic(x,v,j,T){var F;for(F=3;0<F;--F)qi(x,v+=4,j,T)}function Ds(x,v,j,T,F,V,G,Y){for(V=2*V+1;0<F--;){if(no(x,v,j,V,G))if(Ci(x,v,j,Y))$i(x,v,j);else{var K=x,se=v,ye=j,je=K[se-2*ye],ie=K[se-ye],_e=K[se+0],Ce=K[se+ye],Oe=K[se+2*ye],Ae=27*(Re=Li[1020+3*(_e-ie)+Li[1020+je-Ce]])+63>>7,Te=18*Re+63>>7,Re=9*Re+63>>7;K[se-3*ye]=$n[255+K[se-3*ye]+Re],K[se-2*ye]=$n[255+je+Te],K[se-ye]=$n[255+ie+Ae],K[se+0]=$n[255+_e-Ae],K[se+ye]=$n[255+Ce-Te],K[se+2*ye]=$n[255+Oe-Re]}v+=T}}function Os(x,v,j,T,F,V,G,Y){for(V=2*V+1;0<F--;){if(no(x,v,j,V,G))if(Ci(x,v,j,Y))$i(x,v,j);else{var K=x,se=v,ye=j,je=K[se-ye],ie=K[se+0],_e=K[se+ye],Ce=hl[112+(4+(Oe=3*(ie-je))>>3)],Oe=hl[112+(Oe+3>>3)],Ae=Ce+1>>1;K[se-2*ye]=$n[255+K[se-2*ye]+Ae],K[se-ye]=$n[255+je+Oe],K[se+0]=$n[255+ie-Ce],K[se+ye]=$n[255+_e-Ae]}v+=T}}function ac(x,v,j,T,F,V){Ds(x,v,j,1,16,T,F,V)}function Rn(x,v,j,T,F,V){Ds(x,v,1,j,16,T,F,V)}function Fs(x,v,j,T,F,V){var G;for(G=3;0<G;--G)Os(x,v+=4*j,j,1,16,T,F,V)}function il(x,v,j,T,F,V){var G;for(G=3;0<G;--G)Os(x,v+=4,1,j,16,T,F,V)}function N(x,v,j,T,F,V,G,Y){Ds(x,v,F,1,8,V,G,Y),Ds(j,T,F,1,8,V,G,Y)}function z(x,v,j,T,F,V,G,Y){Ds(x,v,1,F,8,V,G,Y),Ds(j,T,1,F,8,V,G,Y)}function oe(x,v,j,T,F,V,G,Y){Os(x,v+4*F,F,1,8,V,G,Y),Os(j,T+4*F,F,1,8,V,G,Y)}function ge(x,v,j,T,F,V,G,Y){Os(x,v+4,1,F,8,V,G,Y),Os(j,T+4,1,F,8,V,G,Y)}function Ne(){this.ba=new Jt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Zt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Fe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function He(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function it(){this.ua=0,this.Wa=new ct,this.vb=new ct,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new X,this.yc=new O}function ft(){this.xb=this.a=0,this.l=new Mn,this.ca=new Jt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new q,this.Pb=0,this.wd=new q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new it,this.ab=0,this.gc=a(4,He),this.Oc=0}function Pt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Mn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function At(x,v,j,T,F,V,G){for(x=x==null?0:x[v+0],v=0;v<G;++v)F[V+v]=x+j[T+v]&255,x=F[V+v]}function Qt(x,v,j,T,F,V,G){var Y;if(x==null)At(null,null,j,T,F,V,G);else for(Y=0;Y<G;++Y)F[V+Y]=x[v+Y]+j[T+Y]&255}function Ir(x,v,j,T,F,V,G){if(x==null)At(null,null,j,T,F,V,G);else{var Y,K=x[v+0],se=K,ye=K;for(Y=0;Y<G;++Y)se=ye+(K=x[v+Y])-se,ye=j[T+Y]+(-256&se?0>se?0:255:se)&255,se=K,F[V+Y]=ye}}function sn(x,v,j,T){var F=v.width,V=v.o;if(e(x!=null&&v!=null),0>j||0>=T||j+T>V)return null;if(!x.Cc){if(x.ga==null){var G;if(x.ga=new Pt,(G=x.ga==null)||(G=v.width*v.o,e(x.Gb.length==0),x.Gb=i(G),x.Uc=0,x.Gb==null?G=0:(x.mb=x.Gb,x.nb=x.Uc,x.rc=null,G=1),G=!G),!G){G=x.ga;var Y=x.Fa,K=x.P,se=x.qc,ye=x.mb,je=x.nb,ie=K+1,_e=se-1,Ce=G.l;if(e(Y!=null&&ye!=null&&v!=null),On[0]=null,On[1]=At,On[2]=Qt,On[3]=Ir,G.ca=ye,G.tb=je,G.c=v.width,G.i=v.height,e(0<G.c&&0<G.i),1>=se)v=0;else if(G.$a=3&Y[K+0],G.Z=Y[K+0]>>2&3,G.Lc=Y[K+0]>>4&3,K=Y[K+0]>>6&3,0>G.$a||1<G.$a||4<=G.Z||1<G.Lc||K)v=0;else if(Ce.put=wt,Ce.ac=Es,Ce.bc=xs,Ce.ma=G,Ce.width=v.width,Ce.height=v.height,Ce.Da=v.Da,Ce.v=v.v,Ce.va=v.va,Ce.j=v.j,Ce.o=v.o,G.$a)e:{e(G.$a==1),v=qa();t:for(;;){if(v==null){v=0;break e}if(e(G!=null),G.mc=v,v.c=G.c,v.i=G.i,v.l=G.l,v.l.ma=G,v.l.width=G.c,v.l.height=G.i,v.a=0,xe(v.m,Y,ie,_e),!ei(G.c,G.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&Qs(v.s)?(G.ic=1,Y=v.c*v.i,v.Ta=null,v.Ua=0,v.V=i(Y),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(G.ic=0,v=xa(v,G.c)),!v))break t;v=1;break e}G.mc=null,v=0}else v=_e>=G.c*G.i;G=!v}if(G)return null;x.ga.Lc!=1?x.Ga=0:T=V-j}e(x.ga!=null),e(j+T<=V);e:{if(v=(Y=x.ga).c,V=Y.l.o,Y.$a==0){if(ie=x.rc,_e=x.Vc,Ce=x.Fa,K=x.P+1+j*v,se=x.mb,ye=x.nb+j*v,e(K<=x.P+x.qc),Y.Z!=0)for(e(On[Y.Z]!=null),G=0;G<T;++G)On[Y.Z](ie,_e,Ce,K,se,ye,v),ie=se,_e=ye,ye+=v,K+=v;else for(G=0;G<T;++G)n(se,ye,Ce,K,v),ie=se,_e=ye,ye+=v,K+=v;x.rc=ie,x.Vc=_e}else{if(e(Y.mc!=null),v=j+T,e((G=Y.mc)!=null),e(v<=G.i),G.C>=v)v=1;else if(Y.ic||Bs(),Y.ic){Y=G.V,ie=G.Ba,_e=G.c;var Oe=G.i,Ae=(Ce=1,K=G.$/_e,se=G.$%_e,ye=G.m,je=G.s,G.$),Te=_e*Oe,Re=_e*v,ze=je.wc,Ue=Ae<Re?rn(je,se,K):null;e(Ae<=Te),e(v<=Oe),e(Qs(je));t:for(;;){for(;!ye.h&&Ae<Re;){if(se&ze||(Ue=rn(je,se,K)),e(Ue!=null),de(ye),256>(Oe=yr(Ue.G[0],Ue.H[0],ye)))Y[ie+Ae]=Oe,++Ae,++se>=_e&&(se=0,++K<=v&&!(K%16)&&Pn(G,K));else{if(!(280>Oe)){Ce=0;break t}Oe=Tn(Oe-256,ye);var pt,et=yr(Ue.G[4],Ue.H[4],ye);if(de(ye),!(Ae>=(et=Ls(_e,et=Tn(et,ye)))&&Te-Ae>=Oe)){Ce=0;break t}for(pt=0;pt<Oe;++pt)Y[ie+Ae+pt]=Y[ie+Ae+pt-et];for(Ae+=Oe,se+=Oe;se>=_e;)se-=_e,++K<=v&&!(K%16)&&Pn(G,K);Ae<Re&&se&ze&&(Ue=rn(je,se,K))}e(ye.h==ue(ye))}Pn(G,K>v?v:K);break t}!Ce||ye.h&&Ae<Te?(Ce=0,G.a=ye.h?5:3):G.$=Ae,v=Ce}else v=Is(G,G.V,G.Ba,G.c,G.i,v,Ga);if(!v){T=0;break e}}j+T>=V&&(x.Cc=1),T=1}if(!T)return null;if(x.Cc&&((T=x.ga)!=null&&(T.mc=null),x.ga=null,0<x.Ga))return alert("todo:WebPDequantizeLevels"),null}return x.nb+j*F}function vr(x,v,j,T,F,V){for(;0<F--;){var G,Y=x,K=v+(j?1:0),se=x,ye=v+(j?0:3);for(G=0;G<T;++G){var je=se[ye+4*G];je!=255&&(je*=32897,Y[K+4*G+0]=Y[K+4*G+0]*je>>23,Y[K+4*G+1]=Y[K+4*G+1]*je>>23,Y[K+4*G+2]=Y[K+4*G+2]*je>>23)}v+=V}}function fn(x,v,j,T,F){for(;0<T--;){var V;for(V=0;V<j;++V){var G=x[v+2*V+0],Y=15&(se=x[v+2*V+1]),K=4369*Y,se=(240&se|se>>4)*K>>16;x[v+2*V+0]=(240&G|G>>4)*K>>16&240|(15&G|G<<4)*K>>16>>4&15,x[v+2*V+1]=240&se|Y}v+=F}}function Yr(x,v,j,T,F,V,G,Y){var K,se,ye=255;for(se=0;se<F;++se){for(K=0;K<T;++K){var je=x[v+K];V[G+4*K]=je,ye&=je}v+=j,G+=Y}return ye!=255}function An(x,v,j,T,F){var V;for(V=0;V<F;++V)j[T+V]=x[v+V]>>8}function Bs(){xo=vr,bu=fn,uc=Yr,yu=An}function Qn(x,v,j){M[x]=function(T,F,V,G,Y,K,se,ye,je,ie,_e,Ce,Oe,Ae,Te,Re,ze){var Ue,pt=ze-1>>1,et=Y[K+0]|se[ye+0]<<16,Dt=je[ie+0]|_e[Ce+0]<<16;e(T!=null);var at=3*et+Dt+131074>>2;for(v(T[F+0],255&at,at>>16,Oe,Ae),V!=null&&(at=3*Dt+et+131074>>2,v(V[G+0],255&at,at>>16,Te,Re)),Ue=1;Ue<=pt;++Ue){var Vt=Y[K+Ue]|se[ye+Ue]<<16,Hr=je[ie+Ue]|_e[Ce+Ue]<<16,Ft=et+Vt+Dt+Hr+524296,tt=Ft+2*(Vt+Dt)>>3;at=tt+et>>1,et=(Ft=Ft+2*(et+Hr)>>3)+Vt>>1,v(T[F+2*Ue-1],255&at,at>>16,Oe,Ae+(2*Ue-1)*j),v(T[F+2*Ue-0],255&et,et>>16,Oe,Ae+(2*Ue-0)*j),V!=null&&(at=Ft+Dt>>1,et=tt+Hr>>1,v(V[G+2*Ue-1],255&at,at>>16,Te,Re+(2*Ue-1)*j),v(V[G+2*Ue+0],255&et,et>>16,Te,Re+(2*Ue+0)*j)),et=Vt,Dt=Hr}1&ze||(at=3*et+Dt+131074>>2,v(T[F+ze-1],255&at,at>>16,Oe,Ae+(ze-1)*j),V!=null&&(at=3*Dt+et+131074>>2,v(V[G+ze-1],255&at,at>>16,Te,Re+(ze-1)*j)))}}function od(){rs[ud]=Pp,rs[ja]=Pa,rs[Xh]=Ap,rs[hc]=ml,rs[fc]=wo,rs[fr]=bc,rs[hd]=Pu,rs[fl]=Pa,rs[bo]=ml,rs[pc]=wo,rs[gc]=bc}function ya(x){return x&-16384?0>x?0:255:x>>Aa}function io(x,v){return ya((19077*x>>8)+(26149*v>>8)-14234)}function va(x,v,j){return ya((19077*x>>8)-(6419*v>>8)-(13320*j>>8)+8708)}function ao(x,v){return ya((19077*x>>8)+(33050*v>>8)-17685)}function wa(x,v,j,T,F){T[F+0]=io(x,j),T[F+1]=va(x,v,j),T[F+2]=ao(x,v)}function oo(x,v,j,T,F){T[F+0]=ao(x,v),T[F+1]=va(x,v,j),T[F+2]=io(x,j)}function Dn(x,v,j,T,F){var V=va(x,v,j);v=V<<3&224|ao(x,v)>>3,T[F+0]=248&io(x,j)|V>>5,T[F+1]=v}function lo(x,v,j,T,F){var V=240&ao(x,v)|15;T[F+0]=240&io(x,j)|va(x,v,j)>>4,T[F+1]=V}function co(x,v,j,T,F){T[F+0]=255,wa(x,v,j,T,F+1)}function oc(x,v,j,T,F){oo(x,v,j,T,F),T[F+3]=255}function lc(x,v,j,T,F){wa(x,v,j,T,F),T[F+3]=255}function Br(x,v){return 0>x?0:x>v?v:x}function ii(x,v,j){M[x]=function(T,F,V,G,Y,K,se,ye,je){for(var ie=ye+(-2&je)*j;ye!=ie;)v(T[F+0],V[G+0],Y[K+0],se,ye),v(T[F+1],V[G+0],Y[K+0],se,ye+j),F+=2,++G,++K,ye+=2*j;1&je&&v(T[F+0],V[G+0],Y[K+0],se,ye)}}function ji(x,v,j){return j==0?x==0?v==0?6:5:v==0?4:0:j}function ld(x,v,j,T,F){switch(x>>>30){case 3:go(v,j,T,F,0);break;case 2:zr(v,j,T,F);break;case 1:er(v,j,T,F)}}function ks(x,v){var j,T,F=v.M,V=v.Nb,G=x.oc,Y=x.pc+40,K=x.oc,se=x.pc+584,ye=x.oc,je=x.pc+600;for(j=0;16>j;++j)G[Y+32*j-1]=129;for(j=0;8>j;++j)K[se+32*j-1]=129,ye[je+32*j-1]=129;for(0<F?G[Y-1-32]=K[se-1-32]=ye[je-1-32]=129:(s(G,Y-32-1,127,21),s(K,se-32-1,127,9),s(ye,je-32-1,127,9)),T=0;T<x.za;++T){var ie=v.ya[v.aa+T];if(0<T){for(j=-1;16>j;++j)n(G,Y+32*j-4,G,Y+32*j+12,4);for(j=-1;8>j;++j)n(K,se+32*j-4,K,se+32*j+4,4),n(ye,je+32*j-4,ye,je+32*j+4,4)}var _e=x.Gd,Ce=x.Hd+T,Oe=ie.ad,Ae=ie.Hc;if(0<F&&(n(G,Y-32,_e[Ce].y,0,16),n(K,se-32,_e[Ce].f,0,8),n(ye,je-32,_e[Ce].ea,0,8)),ie.Za){var Te=G,Re=Y-32+16;for(0<F&&(T>=x.za-1?s(Te,Re,_e[Ce].y[15],4):n(Te,Re,_e[Ce+1].y,0,4)),j=0;4>j;j++)Te[Re+128+j]=Te[Re+256+j]=Te[Re+384+j]=Te[Re+0+j];for(j=0;16>j;++j,Ae<<=2)Te=G,Re=Y+Au[j],Hs[ie.Ob[j]](Te,Re),ld(Ae,Oe,16*+j,Te,Re)}else if(Te=ji(T,F,ie.Ob[0]),qn[Te](G,Y),Ae!=0)for(j=0;16>j;++j,Ae<<=2)ld(Ae,Oe,16*+j,G,Y+Au[j]);for(j=ie.Gc,Te=ji(T,F,ie.Dd),ts[Te](K,se),ts[Te](ye,je),Ae=Oe,Te=K,Re=se,255&(ie=0|j)&&(170&ie?es(Ae,256,Te,Re):cr(Ae,256,Te,Re)),ie=ye,Ae=je,255&(j>>=8)&&(170&j?es(Oe,320,ie,Ae):cr(Oe,320,ie,Ae)),F<x.Ub-1&&(n(_e[Ce].y,0,G,Y+480,16),n(_e[Ce].f,0,K,se+224,8),n(_e[Ce].ea,0,ye,je+224,8)),j=8*V*x.B,_e=x.sa,Ce=x.ta+16*T+16*V*x.R,Oe=x.qa,ie=x.ra+8*T+j,Ae=x.Ha,Te=x.Ia+8*T+j,j=0;16>j;++j)n(_e,Ce+j*x.R,G,Y+32*j,16);for(j=0;8>j;++j)n(Oe,ie+j*x.B,K,se+32*j,8),n(Ae,Te+j*x.B,ye,je+32*j,8)}}function ka(x,v,j,T,F,V,G,Y,K){var se=[0],ye=[0],je=0,ie=K!=null?K.kd:0,_e=K??new Fe;if(x==null||12>j)return 7;_e.data=x,_e.w=v,_e.ha=j,v=[v],j=[j],_e.gb=[_e.gb];e:{var Ce=v,Oe=j,Ae=_e.gb;if(e(x!=null),e(Oe!=null),e(Ae!=null),Ae[0]=0,12<=Oe[0]&&!t(x,Ce[0],"RIFF")){if(t(x,Ce[0]+8,"WEBP")){Ae=3;break e}var Te=ke(x,Ce[0]+4);if(12>Te||4294967286<Te){Ae=3;break e}if(ie&&Te>Oe[0]-8){Ae=7;break e}Ae[0]=Te,Ce[0]+=12,Oe[0]-=12}Ae=0}if(Ae!=0)return Ae;for(Te=0<_e.gb[0],j=j[0];;){e:{var Re=x;Oe=v,Ae=j;var ze=se,Ue=ye,pt=Ce=[0];if((at=je=[je])[0]=0,8>Ae[0])Ae=7;else{if(!t(Re,Oe[0],"VP8X")){if(ke(Re,Oe[0]+4)!=10){Ae=3;break e}if(18>Ae[0]){Ae=7;break e}var et=ke(Re,Oe[0]+8),Dt=1+Be(Re,Oe[0]+12);if(2147483648<=Dt*(Re=1+Be(Re,Oe[0]+15))){Ae=3;break e}pt!=null&&(pt[0]=et),ze!=null&&(ze[0]=Dt),Ue!=null&&(Ue[0]=Re),Oe[0]+=18,Ae[0]-=18,at[0]=1}Ae=0}}if(je=je[0],Ce=Ce[0],Ae!=0)return Ae;if(Oe=!!(2&Ce),!Te&&je)return 3;if(V!=null&&(V[0]=!!(16&Ce)),G!=null&&(G[0]=Oe),Y!=null&&(Y[0]=0),G=se[0],Ce=ye[0],je&&Oe&&K==null){Ae=0;break}if(4>j){Ae=7;break}if(Te&&je||!Te&&!je&&!t(x,v[0],"ALPH")){j=[j],_e.na=[_e.na],_e.P=[_e.P],_e.Sa=[_e.Sa];e:{et=x,Ae=v,Te=j;var at=_e.gb;ze=_e.na,Ue=_e.P,pt=_e.Sa,Dt=22,e(et!=null),e(Te!=null),Re=Ae[0];var Vt=Te[0];for(e(ze!=null),e(pt!=null),ze[0]=null,Ue[0]=null,pt[0]=0;;){if(Ae[0]=Re,Te[0]=Vt,8>Vt){Ae=7;break e}var Hr=ke(et,Re+4);if(4294967286<Hr){Ae=3;break e}var Ft=8+Hr+1&-2;if(Dt+=Ft,0<at&&Dt>at){Ae=3;break e}if(!t(et,Re,"VP8 ")||!t(et,Re,"VP8L")){Ae=0;break e}if(Vt[0]<Ft){Ae=7;break e}t(et,Re,"ALPH")||(ze[0]=et,Ue[0]=Re+8,pt[0]=Hr),Re+=Ft,Vt-=Ft}}if(j=j[0],_e.na=_e.na[0],_e.P=_e.P[0],_e.Sa=_e.Sa[0],Ae!=0)break}j=[j],_e.Ja=[_e.Ja],_e.xa=[_e.xa];e:if(at=x,Ae=v,Te=j,ze=_e.gb[0],Ue=_e.Ja,pt=_e.xa,et=Ae[0],Re=!t(at,et,"VP8 "),Dt=!t(at,et,"VP8L"),e(at!=null),e(Te!=null),e(Ue!=null),e(pt!=null),8>Te[0])Ae=7;else{if(Re||Dt){if(at=ke(at,et+4),12<=ze&&at>ze-12){Ae=3;break e}if(ie&&at>Te[0]-8){Ae=7;break e}Ue[0]=at,Ae[0]+=8,Te[0]-=8,pt[0]=Dt}else pt[0]=5<=Te[0]&&at[et+0]==47&&!(at[et+4]>>5),Ue[0]=Te[0];Ae=0}if(j=j[0],_e.Ja=_e.Ja[0],_e.xa=_e.xa[0],v=v[0],Ae!=0)break;if(4294967286<_e.Ja)return 3;if(Y==null||Oe||(Y[0]=_e.xa?2:1),G=[G],Ce=[Ce],_e.xa){if(5>j){Ae=7;break}Y=G,ie=Ce,Oe=V,x==null||5>j?x=0:5<=j&&x[v+0]==47&&!(x[v+4]>>5)?(Te=[0],at=[0],ze=[0],xe(Ue=new q,x,v,j),Zs(Ue,Te,at,ze)?(Y!=null&&(Y[0]=Te[0]),ie!=null&&(ie[0]=at[0]),Oe!=null&&(Oe[0]=ze[0]),x=1):x=0):x=0}else{if(10>j){Ae=7;break}Y=Ce,x==null||10>j||!td(x,v+3,j-3)?x=0:(ie=x[v+0]|x[v+1]<<8|x[v+2]<<16,Oe=16383&(x[v+7]<<8|x[v+6]),x=16383&(x[v+9]<<8|x[v+8]),1&ie||3<(ie>>1&7)||!(ie>>4&1)||ie>>5>=_e.Ja||!Oe||!x?x=0:(G&&(G[0]=Oe),Y&&(Y[0]=x),x=1))}if(!x||(G=G[0],Ce=Ce[0],je&&(se[0]!=G||ye[0]!=Ce)))return 3;K!=null&&(K[0]=_e,K.offset=v-K.w,e(4294967286>v-K.w),e(K.offset==K.ha-j));break}return Ae==0||Ae==7&&je&&K==null?(V!=null&&(V[0]|=_e.na!=null&&0<_e.na.length),T!=null&&(T[0]=G),F!=null&&(F[0]=Ce),0):Ae}function al(x,v,j){var T=v.width,F=v.height,V=0,G=0,Y=T,K=F;if(v.Da=x!=null&&0<x.Da,v.Da&&(Y=x.cd,K=x.bd,V=x.v,G=x.j,11>j||(V&=-2,G&=-2),0>V||0>G||0>=Y||0>=K||V+Y>T||G+K>F))return 0;if(v.v=V,v.j=G,v.va=V+Y,v.o=G+K,v.U=Y,v.T=K,v.da=x!=null&&0<x.da,v.da){if(!Qe(Y,K,j=[x.ib],V=[x.hb]))return 0;v.ib=j[0],v.hb=V[0]}return v.ob=x!=null&&x.ob,v.Kb=x==null||!x.Sd,v.da&&(v.ob=v.ib<3*T/4&&v.hb<3*F/4,v.Kb=0),1}function ol(x){if(x==null)return 2;if(11>x.S){var v=x.f.RGBA;v.fb+=(x.height-1)*v.A,v.A=-v.A}else v=x.f.kb,x=x.height,v.O+=(x-1)*v.fa,v.fa=-v.fa,v.N+=(x-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(x-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(x-1)*v.lb,v.lb=-v.lb);return 0}function Gi(x,v,j,T){if(T==null||0>=x||0>=v)return 2;if(j!=null){if(j.Da){var F=j.cd,V=j.bd,G=-2&j.v,Y=-2&j.j;if(0>G||0>Y||0>=F||0>=V||G+F>x||Y+V>v)return 2;x=F,v=V}if(j.da){if(!Qe(x,v,F=[j.ib],V=[j.hb]))return 2;x=F[0],v=V[0]}}T.width=x,T.height=v;e:{var K=T.width,se=T.height;if(x=T.S,0>=K||0>=se||!(x>=ud&&13>x))x=2;else{if(0>=T.Rd&&T.sd==null){G=V=F=v=0;var ye=(Y=K*yc[x])*se;if(11>x||(V=(se+1)/2*(v=(K+1)/2),x==12&&(G=(F=K)*se)),(se=i(ye+2*V+G))==null){x=1;break e}T.sd=se,11>x?((K=T.f.RGBA).eb=se,K.fb=0,K.A=Y,K.size=ye):((K=T.f.kb).y=se,K.O=0,K.fa=Y,K.Fd=ye,K.f=se,K.N=0+ye,K.Ab=v,K.Cd=V,K.ea=se,K.W=0+ye+V,K.Db=v,K.Ed=V,x==12&&(K.F=se,K.J=0+ye+2*V),K.Tc=G,K.lb=F)}if(v=1,F=T.S,V=T.width,G=T.height,F>=ud&&13>F)if(11>F)x=T.f.RGBA,v&=(Y=Math.abs(x.A))*(G-1)+V<=x.size,v&=Y>=V*yc[F],v&=x.eb!=null;else{x=T.f.kb,Y=(V+1)/2,ye=(G+1)/2,K=Math.abs(x.fa),se=Math.abs(x.Ab);var je=Math.abs(x.Db),ie=Math.abs(x.lb),_e=ie*(G-1)+V;v&=K*(G-1)+V<=x.Fd,v&=se*(ye-1)+Y<=x.Cd,v=(v&=je*(ye-1)+Y<=x.Ed)&K>=V&se>=Y&je>=Y,v&=x.y!=null,v&=x.f!=null,v&=x.ea!=null,F==12&&(v&=ie>=V,v&=_e<=x.Tc,v&=x.F!=null)}else v=0;x=v?0:2}}return x!=0||j!=null&&j.fd&&(x=ol(T)),x}var zs=64,_s=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ss=24,_a=32,Pi=8,Yi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];We("Predictor0","PredictorAdd0"),M.Predictor0=function(){return 4278190080},M.Predictor1=function(x){return x},M.Predictor2=function(x,v,j){return v[j+0]},M.Predictor3=function(x,v,j){return v[j+1]},M.Predictor4=function(x,v,j){return v[j-1]},M.Predictor5=function(x,v,j){return rt(rt(x,v[j+1]),v[j+0])},M.Predictor6=function(x,v,j){return rt(x,v[j-1])},M.Predictor7=function(x,v,j){return rt(x,v[j+0])},M.Predictor8=function(x,v,j){return rt(v[j-1],v[j+0])},M.Predictor9=function(x,v,j){return rt(v[j+0],v[j+1])},M.Predictor10=function(x,v,j){return rt(rt(x,v[j-1]),rt(v[j+0],v[j+1]))},M.Predictor11=function(x,v,j){var T=v[j+0];return 0>=Mt(T>>24&255,x>>24&255,(v=v[j-1])>>24&255)+Mt(T>>16&255,x>>16&255,v>>16&255)+Mt(T>>8&255,x>>8&255,v>>8&255)+Mt(255&T,255&x,255&v)?T:x},M.Predictor12=function(x,v,j){var T=v[j+0];return(Yt((x>>24&255)+(T>>24&255)-((v=v[j-1])>>24&255))<<24|Yt((x>>16&255)+(T>>16&255)-(v>>16&255))<<16|Yt((x>>8&255)+(T>>8&255)-(v>>8&255))<<8|Yt((255&x)+(255&T)-(255&v)))>>>0},M.Predictor13=function(x,v,j){var T=v[j-1];return(Ct((x=rt(x,v[j+0]))>>24&255,T>>24&255)<<24|Ct(x>>16&255,T>>16&255)<<16|Ct(x>>8&255,T>>8&255)<<8|Ct(255&x,255&T))>>>0};var Ki=M.PredictorAdd0;M.PredictorAdd1=sr,We("Predictor2","PredictorAdd2"),We("Predictor3","PredictorAdd3"),We("Predictor4","PredictorAdd4"),We("Predictor5","PredictorAdd5"),We("Predictor6","PredictorAdd6"),We("Predictor7","PredictorAdd7"),We("Predictor8","PredictorAdd8"),We("Predictor9","PredictorAdd9"),We("Predictor10","PredictorAdd10"),We("Predictor11","PredictorAdd11"),We("Predictor12","PredictorAdd12"),We("Predictor13","PredictorAdd13");var Ai=M.PredictorAdd2;ut("ColorIndexInverseTransform","MapARGB","32b",function(x){return x>>8&255},function(x){return x}),ut("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(x){return x},function(x){return x>>8&255});var Kr,uo=M.ColorIndexInverseTransform,Ei=M.MapARGB,ai=M.VP8LColorIndexInverseTransformAlpha,ho=M.MapAlpha,fo=M.VP8LPredictorsAdd=[];fo.length=16,(M.VP8LPredictors=[]).length=16,(M.VP8LPredictorsAdd_C=[]).length=16,(M.VP8LPredictors_C=[]).length=16;var ll,cl,Ji,Sa,Na,po,Ca,go,zr,es,er,cr,Ur,an,oi,cc,dl,Xi,cd,ul,dd,xu,dc,mo,xo,bu,uc,yu,vu=i(511),wu=i(2041),ku=i(225),_u=i(767),Su=0,Li=wu,hl=ku,$n=_u,Us=vu,ud=0,ja=1,Xh=2,hc=3,fc=4,fr=5,hd=6,fl=7,bo=8,pc=9,gc=10,mc=[2,3,7],fd=[3,3,11],yo=[280,256,256,256,40],Zh=[0,1,1,1,0],Sp=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Np=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Qh=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],pd=8,pl=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],xc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],vo=null,Nu=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Cu=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ef=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],tf=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Cp=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],jp=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ju=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],qn=[],Hs=[],ts=[],Ii=1,gl=2,On=[],rs=[];Qn("UpsampleRgbLinePair",wa,3),Qn("UpsampleBgrLinePair",oo,3),Qn("UpsampleRgbaLinePair",lc,4),Qn("UpsampleBgraLinePair",oc,4),Qn("UpsampleArgbLinePair",co,4),Qn("UpsampleRgba4444LinePair",lo,2),Qn("UpsampleRgb565LinePair",Dn,2);var Pp=M.UpsampleRgbLinePair,Ap=M.UpsampleBgrLinePair,Pa=M.UpsampleRgbaLinePair,ml=M.UpsampleBgraLinePair,wo=M.UpsampleArgbLinePair,bc=M.UpsampleRgba4444LinePair,Pu=M.UpsampleRgb565LinePair,Zi=16,li=1<<Zi-1,lr=-227,dr=482,Aa=6,En=0,ns=i(256),ko=i(256),xl=i(256),ss=i(256),gd=i(dr-lr),rf=i(dr-lr);ii("YuvToRgbRow",wa,3),ii("YuvToBgrRow",oo,3),ii("YuvToRgbaRow",lc,4),ii("YuvToBgraRow",oc,4),ii("YuvToArgbRow",co,4),ii("YuvToRgba4444Row",lo,2),ii("YuvToRgb565Row",Dn,2);var Au=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],_o=[0,2,8],nf=[8,7,6,4,4,2,2,2,1,1,1,1],Qi=1;this.WebPDecodeRGBA=function(x,v,j,T,F){var V=ja,G=new Ne,Y=new Jt;G.ba=Y,Y.S=V,Y.width=[Y.width],Y.height=[Y.height];var K=Y.width,se=Y.height,ye=new jt;if(ye==null||x==null)var je=2;else e(ye!=null),je=ka(x,v,j,ye.width,ye.height,ye.Pd,ye.Qd,ye.format,null);if(je!=0?K=0:(K!=null&&(K[0]=ye.width[0]),se!=null&&(se[0]=ye.height[0]),K=1),K){Y.width=Y.width[0],Y.height=Y.height[0],T!=null&&(T[0]=Y.width),F!=null&&(F[0]=Y.height);e:{if(T=new Mn,(F=new Fe).data=x,F.w=v,F.ha=j,F.kd=1,v=[0],e(F!=null),((x=ka(F.data,F.w,F.ha,null,null,null,v,null,F))==0||x==7)&&v[0]&&(x=4),(v=x)==0){if(e(G!=null),T.data=F.data,T.w=F.w+F.offset,T.ha=F.ha-F.offset,T.put=wt,T.ac=Es,T.bc=xs,T.ma=G,F.xa){if((x=qa())==null){G=1;break e}if((function(ie,_e){var Ce=[0],Oe=[0],Ae=[0];t:for(;;){if(ie==null)return 0;if(_e==null)return ie.a=2,0;if(ie.l=_e,ie.a=0,xe(ie.m,_e.data,_e.w,_e.ha),!Zs(ie.m,Ce,Oe,Ae)){ie.a=3;break t}if(ie.xb=gl,_e.width=Ce[0],_e.height=Oe[0],!ei(Ce[0],Oe[0],1,ie,null))break t;return 1}return e(ie.a!=0),0})(x,T)){if(T=(v=Gi(T.width,T.height,G.Oa,G.ba))==0){t:{T=x;r:for(;;){if(T==null){T=0;break t}if(e(T.s.yc!=null),e(T.s.Ya!=null),e(0<T.s.Wb),e((j=T.l)!=null),e((F=j.ma)!=null),T.xb!=0){if(T.ca=F.ba,T.tb=F.tb,e(T.ca!=null),!al(F.Oa,j,hc)){T.a=2;break r}if(!xa(T,j.width)||j.da)break r;if((j.da||Lt(T.ca.S))&&Bs(),11>T.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),T.ca.f.kb.F!=null&&Bs()),T.Pb&&0<T.s.ua&&T.s.vb.X==null&&!re(T.s.vb,T.s.Wa.Xa)){T.a=1;break r}T.xb=0}if(!Is(T,T.V,T.Ba,T.c,T.i,j.o,ma))break r;F.Dc=T.Ma,T=1;break t}e(T.a!=0),T=0}T=!T}T&&(v=x.a)}else v=x.a}else{if((x=new gu)==null){G=1;break e}if(x.Fa=F.na,x.P=F.P,x.qc=F.Sa,Ja(x,T)){if((v=Gi(T.width,T.height,G.Oa,G.ba))==0){if(x.Aa=0,j=G.Oa,e((F=x)!=null),j!=null){if(0<(K=0>(K=j.Md)?0:100<K?255:255*K/100)){for(se=ye=0;4>se;++se)12>(je=F.pb[se]).lc&&(je.ia=K*nf[0>je.lc?0:je.lc]>>3),ye|=je.ia;ye&&(alert("todo:VP8InitRandom"),F.ia=1)}F.Ga=j.Id,100<F.Ga?F.Ga=100:0>F.Ga&&(F.Ga=0)}(function(ie,_e){if(ie==null)return 0;if(_e==null)return nn(ie,2,"NULL VP8Io parameter in VP8Decode().");if(!ie.cb&&!Ja(ie,_e))return 0;if(e(ie.cb),_e.ac==null||_e.ac(_e)){_e.ob&&(ie.L=0);var Ce=_o[ie.L];if(ie.L==2?(ie.yb=0,ie.zb=0):(ie.yb=_e.v-Ce>>4,ie.zb=_e.j-Ce>>4,0>ie.yb&&(ie.yb=0),0>ie.zb&&(ie.zb=0)),ie.Va=_e.o+15+Ce>>4,ie.Hb=_e.va+15+Ce>>4,ie.Hb>ie.za&&(ie.Hb=ie.za),ie.Va>ie.Ub&&(ie.Va=ie.Ub),0<ie.L){var Oe=ie.ed;for(Ce=0;4>Ce;++Ce){var Ae;if(ie.Qa.Cb){var Te=ie.Qa.Lb[Ce];ie.Qa.Fb||(Te+=Oe.Tb)}else Te=Oe.Tb;for(Ae=0;1>=Ae;++Ae){var Re=ie.gd[Ce][Ae],ze=Te;if(Oe.Pc&&(ze+=Oe.vd[0],Ae&&(ze+=Oe.od[0])),0<(ze=0>ze?0:63<ze?63:ze)){var Ue=ze;0<Oe.wb&&(Ue=4<Oe.wb?Ue>>2:Ue>>1)>9-Oe.wb&&(Ue=9-Oe.wb),1>Ue&&(Ue=1),Re.dd=Ue,Re.tc=2*ze+Ue,Re.ld=40<=ze?2:15<=ze?1:0}else Re.tc=0;Re.La=Ae}}}Ce=0}else nn(ie,6,"Frame setup failed"),Ce=ie.a;if(Ce=Ce==0){if(Ce){ie.$c=0,0<ie.Aa||(ie.Ic=Qi);t:{Ce=ie.Ic,Oe=4*(Ue=ie.za);var pt=32*Ue,et=Ue+1,Dt=0<ie.L?Ue*(0<ie.Aa?2:1):0,at=(ie.Aa==2?2:1)*Ue;if((Re=Oe+832+(Ae=3*(16*Ce+_o[ie.L])/2*pt)+(Te=ie.Fa!=null&&0<ie.Fa.length?ie.Kc.c*ie.Kc.i:0))!=Re)Ce=0;else{if(Re>ie.Vb){if(ie.Vb=0,ie.Ec=i(Re),ie.Fc=0,ie.Ec==null){Ce=nn(ie,1,"no memory during frame initialization.");break t}ie.Vb=Re}Re=ie.Ec,ze=ie.Fc,ie.Ac=Re,ie.Bc=ze,ze+=Oe,ie.Gd=a(pt,vs),ie.Hd=0,ie.rb=a(et+1,ba),ie.sb=1,ie.wa=Dt?a(Dt,ys):null,ie.Y=0,ie.D.Nb=0,ie.D.wa=ie.wa,ie.D.Y=ie.Y,0<ie.Aa&&(ie.D.Y+=Ue),e(!0),ie.oc=Re,ie.pc=ze,ze+=832,ie.ya=a(at,Qo),ie.aa=0,ie.D.ya=ie.ya,ie.D.aa=ie.aa,ie.Aa==2&&(ie.D.aa+=Ue),ie.R=16*Ue,ie.B=8*Ue,Ue=(pt=_o[ie.L])*ie.R,pt=pt/2*ie.B,ie.sa=Re,ie.ta=ze+Ue,ie.qa=ie.sa,ie.ra=ie.ta+16*Ce*ie.R+pt,ie.Ha=ie.qa,ie.Ia=ie.ra+8*Ce*ie.B+pt,ie.$c=0,ze+=Ae,ie.mb=Te?Re:null,ie.nb=Te?ze:null,e(ze+Te<=ie.Fc+ie.Vb),ti(ie),s(ie.Ac,ie.Bc,0,Oe),Ce=1}}if(Ce){if(_e.ka=0,_e.y=ie.sa,_e.O=ie.ta,_e.f=ie.qa,_e.N=ie.ra,_e.ea=ie.Ha,_e.Vd=ie.Ia,_e.fa=ie.R,_e.Rc=ie.B,_e.F=null,_e.J=0,!Su){for(Ce=-255;255>=Ce;++Ce)vu[255+Ce]=0>Ce?-Ce:Ce;for(Ce=-1020;1020>=Ce;++Ce)wu[1020+Ce]=-128>Ce?-128:127<Ce?127:Ce;for(Ce=-112;112>=Ce;++Ce)ku[112+Ce]=-16>Ce?-16:15<Ce?15:Ce;for(Ce=-255;510>=Ce;++Ce)_u[255+Ce]=0>Ce?0:255<Ce?255:Ce;Su=1}Ca=Xt,go=ec,es=Qa,er=ki,cr=el,zr=rd,Ur=ac,an=Rn,oi=N,cc=z,dl=Fs,Xi=il,cd=oe,ul=ge,dd=Rs,xu=qi,dc=so,mo=ic,Hs[0]=mu,Hs[1]=tl,Hs[2]=eo,Hs[3]=Si,Hs[4]=id,Hs[5]=Vi,Hs[6]=ws,Hs[7]=ad,Hs[8]=to,Hs[9]=nl,qn[0]=ri,qn[1]=nd,qn[2]=sd,qn[3]=rl,qn[4]=_i,qn[5]=Zn,qn[6]=Ms,ts[0]=si,ts[1]=tc,ts[2]=rc,ts[3]=ni,ts[4]=nc,ts[5]=sl,ts[6]=sc,Ce=1}else Ce=0}Ce&&(Ce=(function(Vt,Hr){for(Vt.M=0;Vt.M<Vt.Va;++Vt.M){var Ft,tt=Vt.Jc[Vt.M&Vt.Xb],Je=Vt.m,Jr=Vt;for(Ft=0;Ft<Jr.za;++Ft){var Nt=Je,Wt=Jr,wr=Wt.Ac,wn=Wt.Bc+4*Ft,on=Wt.zc,Tr=Wt.ya[Wt.aa+Ft];if(Wt.Qa.Bb?Tr.$b=we(Nt,Wt.Pa.jb[0])?2+we(Nt,Wt.Pa.jb[2]):we(Nt,Wt.Pa.jb[1]):Tr.$b=0,Wt.kc&&(Tr.Ad=we(Nt,Wt.Bd)),Tr.Za=!we(Nt,145)+0,Tr.Za){var pn=Tr.Ob,kn=0;for(Wt=0;4>Wt;++Wt){var Pr,qt=on[0+Wt];for(Pr=0;4>Pr;++Pr){qt=Cp[wr[wn+Pr]][qt];for(var tr=ef[we(Nt,qt[0])];0<tr;)tr=ef[2*tr+we(Nt,qt[tr])];qt=-tr,wr[wn+Pr]=qt}n(pn,kn,wr,wn,4),kn+=4,on[0+Wt]=qt}}else qt=we(Nt,156)?we(Nt,128)?1:3:we(Nt,163)?2:0,Tr.Ob[0]=qt,s(wr,wn,qt,4),s(on,0,qt,4);Tr.Dd=we(Nt,142)?we(Nt,114)?we(Nt,183)?1:3:2:0}if(Jr.m.Ka)return nn(Vt,7,"Premature end-of-partition0 encountered.");for(;Vt.ja<Vt.za;++Vt.ja){if(Jr=tt,Nt=(Je=Vt).rb[Je.sb-1],wr=Je.rb[Je.sb+Je.ja],Ft=Je.ya[Je.aa+Je.ja],wn=Je.kc?Ft.Ad:0)Nt.la=wr.la=0,Ft.Za||(Nt.Na=wr.Na=0),Ft.Hc=0,Ft.Gc=0,Ft.ia=0;else{var Ar,rr;if(Nt=wr,wr=Jr,wn=Je.Pa.Xc,on=Je.ya[Je.aa+Je.ja],Tr=Je.pb[on.$b],Wt=on.ad,pn=0,kn=Je.rb[Je.sb-1],qt=Pr=0,s(Wt,pn,0,384),on.Za)var Wr=0,Vr=wn[3];else{tr=i(16);var pr=Nt.Na+kn.Na;if(pr=vo(wr,wn[1],pr,Tr.Eb,0,tr,0),Nt.Na=kn.Na=(0<pr)+0,1<pr)Ca(tr,0,Wt,pn);else{var Fn=tr[0]+3>>3;for(tr=0;256>tr;tr+=16)Wt[pn+tr]=Fn}Wr=1,Vr=wn[0]}var ur=15&Nt.la,gr=15&kn.la;for(tr=0;4>tr;++tr){var ln=1&gr;for(Fn=rr=0;4>Fn;++Fn)ur=ur>>1|(ln=(pr=vo(wr,Vr,pr=ln+(1&ur),Tr.Sc,Wr,Wt,pn))>Wr)<<7,rr=rr<<2|(3<pr?3:1<pr?2:Wt[pn+0]!=0),pn+=16;ur>>=4,gr=gr>>1|ln<<7,Pr=(Pr<<8|rr)>>>0}for(Vr=ur,Wr=gr>>4,Ar=0;4>Ar;Ar+=2){for(rr=0,ur=Nt.la>>4+Ar,gr=kn.la>>4+Ar,tr=0;2>tr;++tr){for(ln=1&gr,Fn=0;2>Fn;++Fn)pr=ln+(1&ur),ur=ur>>1|(ln=0<(pr=vo(wr,wn[2],pr,Tr.Qc,0,Wt,pn)))<<3,rr=rr<<2|(3<pr?3:1<pr?2:Wt[pn+0]!=0),pn+=16;ur>>=2,gr=gr>>1|ln<<5}qt|=rr<<4*Ar,Vr|=ur<<4<<Ar,Wr|=(240&gr)<<Ar}Nt.la=Vr,kn.la=Wr,on.Hc=Pr,on.Gc=qt,on.ia=43690&qt?0:Tr.ia,wn=!(Pr|qt)}if(0<Je.L&&(Je.wa[Je.Y+Je.ja]=Je.gd[Ft.$b][Ft.Za],Je.wa[Je.Y+Je.ja].La|=!wn),Jr.Ka)return nn(Vt,7,"Premature end-of-file encountered.")}if(ti(Vt),Je=Hr,Jr=1,Ft=(tt=Vt).D,Nt=0<tt.L&&tt.M>=tt.zb&&tt.M<=tt.Va,tt.Aa==0)t:{if(Ft.M=tt.M,Ft.uc=Nt,ks(tt,Ft),Jr=1,Ft=(rr=tt.D).Nb,Nt=(qt=_o[tt.L])*tt.R,wr=qt/2*tt.B,tr=16*Ft*tt.R,Fn=8*Ft*tt.B,wn=tt.sa,on=tt.ta-Nt+tr,Tr=tt.qa,Wt=tt.ra-wr+Fn,pn=tt.Ha,kn=tt.Ia-wr+Fn,gr=(ur=rr.M)==0,Pr=ur>=tt.Va-1,tt.Aa==2&&ks(tt,rr),rr.uc)for(ln=(pr=tt).D.M,e(pr.D.uc),rr=pr.yb;rr<pr.Hb;++rr){Wr=rr,Vr=ln;var Ln=(is=(Qr=pr).D).Nb;Ar=Qr.R;var is=is.wa[is.Y+Wr],Xr=Qr.sa,Zr=Qr.ta+16*Ln*Ar+16*Wr,Bn=is.dd,mr=is.tc;if(mr!=0)if(e(3<=mr),Qr.L==1)0<Wr&&xu(Xr,Zr,Ar,mr+4),is.La&&mo(Xr,Zr,Ar,mr),0<Vr&&dd(Xr,Zr,Ar,mr+4),is.La&&dc(Xr,Zr,Ar,mr);else{var zn=Qr.B,Ws=Qr.qa,ci=Qr.ra+8*Ln*zn+8*Wr,_n=Qr.Ha,Qr=Qr.Ia+8*Ln*zn+8*Wr;Ln=is.ld,0<Wr&&(an(Xr,Zr,Ar,mr+4,Bn,Ln),cc(Ws,ci,_n,Qr,zn,mr+4,Bn,Ln)),is.La&&(Xi(Xr,Zr,Ar,mr,Bn,Ln),ul(Ws,ci,_n,Qr,zn,mr,Bn,Ln)),0<Vr&&(Ur(Xr,Zr,Ar,mr+4,Bn,Ln),oi(Ws,ci,_n,Qr,zn,mr+4,Bn,Ln)),is.La&&(dl(Xr,Zr,Ar,mr,Bn,Ln),cd(Ws,ci,_n,Qr,zn,mr,Bn,Ln))}}if(tt.ia&&alert("todo:DitherRow"),Je.put!=null){if(rr=16*ur,ur=16*(ur+1),gr?(Je.y=tt.sa,Je.O=tt.ta+tr,Je.f=tt.qa,Je.N=tt.ra+Fn,Je.ea=tt.Ha,Je.W=tt.Ia+Fn):(rr-=qt,Je.y=wn,Je.O=on,Je.f=Tr,Je.N=Wt,Je.ea=pn,Je.W=kn),Pr||(ur-=qt),ur>Je.o&&(ur=Je.o),Je.F=null,Je.J=null,tt.Fa!=null&&0<tt.Fa.length&&rr<ur&&(Je.J=sn(tt,Je,rr,ur-rr),Je.F=tt.mb,Je.F==null&&Je.F.length==0)){Jr=nn(tt,3,"Could not decode alpha data.");break t}rr<Je.j&&(qt=Je.j-rr,rr=Je.j,e(!(1&qt)),Je.O+=tt.R*qt,Je.N+=tt.B*(qt>>1),Je.W+=tt.B*(qt>>1),Je.F!=null&&(Je.J+=Je.width*qt)),rr<ur&&(Je.O+=Je.v,Je.N+=Je.v>>1,Je.W+=Je.v>>1,Je.F!=null&&(Je.J+=Je.v),Je.ka=rr-Je.j,Je.U=Je.va-Je.v,Je.T=ur-rr,Jr=Je.put(Je))}Ft+1!=tt.Ic||Pr||(n(tt.sa,tt.ta-Nt,wn,on+16*tt.R,Nt),n(tt.qa,tt.ra-wr,Tr,Wt+8*tt.B,wr),n(tt.Ha,tt.Ia-wr,pn,kn+8*tt.B,wr))}if(!Jr)return nn(Vt,6,"Output aborted.")}return 1})(ie,_e)),_e.bc!=null&&_e.bc(_e),Ce&=1}return Ce?(ie.cb=0,Ce):0})(x,T)||(v=x.a)}}else v=x.a}v==0&&G.Oa!=null&&G.Oa.fd&&(v=ol(G.ba))}G=v}V=G!=0?null:11>V?Y.f.RGBA.eb:Y.f.kb.y}else V=null;return V};var yc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(M,ne){for(var D="",L=0;L<4;L++)D+=String.fromCharCode(M[ne++]);return D}function f(M,ne){return M[ne+0]|M[ne+1]<<8}function g(M,ne){return(M[ne+0]|M[ne+1]<<8|M[ne+2]<<16)>>>0}function b(M,ne){return(M[ne+0]|M[ne+1]<<8|M[ne+2]<<16|M[ne+3]<<24)>>>0}new d;var m=[0],S=[0],k=[],w=new d,_=r,E=(function(M,ne){var D={},L=0,O=!1,W=0,X=0;if(D.frames=[],!(function(A,q){for(var J=0;J<4;J++)if(A[q+J]!="RIFF".charCodeAt(J))return!0;return!1})(M,ne)){for(b(M,ne+=4),ne+=8;ne<M.length;){var le=h(M,ne),pe=b(M,ne+=4);ne+=4;var ae=pe+(1&pe);switch(le){case"VP8 ":case"VP8L":D.frames[L]===void 0&&(D.frames[L]={}),(ee=D.frames[L]).src_off=O?X:ne-8,ee.src_size=W+pe+8,L++,O&&(O=!1,W=0,X=0);break;case"VP8X":(ee=D.header={}).feature_flags=M[ne];var xe=ne+4;ee.canvas_width=1+g(M,xe),xe+=3,ee.canvas_height=1+g(M,xe),xe+=3;break;case"ALPH":O=!0,W=ae+8,X=ne-8;break;case"ANIM":(ee=D.header).bgcolor=b(M,ne),xe=ne+4,ee.loop_count=f(M,xe),xe+=2;break;case"ANMF":var be,ee;(ee=D.frames[L]={}).offset_x=2*g(M,ne),ne+=3,ee.offset_y=2*g(M,ne),ne+=3,ee.width=1+g(M,ne),ne+=3,ee.height=1+g(M,ne),ne+=3,ee.duration=g(M,ne),ne+=3,be=M[ne++],ee.dispose=1&be,ee.blend=be>>1&1}le!="ANMF"&&(ne+=ae)}return D}})(_,0);E.response=_,E.rgbaoutput=!0,E.dataurl=!1;var R=E.header?E.header:null,I=E.frames?E.frames:null;if(R){R.loop_counter=R.loop_count,m=[R.canvas_height],S=[R.canvas_width];for(var B=0;B<I.length&&I[B].blend!=0;B++);}var Q=I[0],te=w.WebPDecodeRGBA(_,Q.src_off,Q.src_size,S,m);Q.rgba=te,Q.imgwidth=S[0],Q.imgheight=m[0];for(var $=0;$<S[0]*m[0]*4;$++)k[$]=te[$];return this.width=S,this.height=m,this.data=k,this}(function(r){var e,t,n,s,i,a,l,d,h,f=function(A){return A=A||{},this.isStrokeTransparent=A.isStrokeTransparent||!1,this.strokeOpacity=A.strokeOpacity||1,this.strokeStyle=A.strokeStyle||"#000000",this.fillStyle=A.fillStyle||"#000000",this.isFillTransparent=A.isFillTransparent||!1,this.fillOpacity=A.fillOpacity||1,this.font=A.font||"10px sans-serif",this.textBaseline=A.textBaseline||"alphabetic",this.textAlign=A.textAlign||"left",this.lineWidth=A.lineWidth||1,this.lineJoin=A.lineJoin||"miter",this.lineCap=A.lineCap||"butt",this.path=A.path||[],this.transform=A.transform!==void 0?A.transform.clone():new d,this.globalCompositeOperation=A.globalCompositeOperation||"normal",this.globalAlpha=A.globalAlpha||1,this.clip_path=A.clip_path||[],this.currentPoint=A.currentPoint||new a,this.miterLimit=A.miterLimit||10,this.lastPoint=A.lastPoint||new a,this.lineDashOffset=A.lineDashOffset||0,this.lineDash=A.lineDash||[],this.margin=A.margin||[0,0,0,0],this.prevPageLastElemOffset=A.prevPageLastElemOffset||0,this.ignoreClearRect=typeof A.ignoreClearRect!="boolean"||A.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new g(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,a=this.internal.Point,l=this.internal.Rectangle,d=this.internal.Matrix,h=new f}]);var g=function(A){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=A;Object.defineProperty(this,"pdf",{get:function(){return q}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(ke){J=!!ke}});var ue=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ue},set:function(ke){ue=!!ke}});var fe=0;Object.defineProperty(this,"posX",{get:function(){return fe},set:function(ke){isNaN(ke)||(fe=ke)}});var de=0;Object.defineProperty(this,"posY",{get:function(){return de},set:function(ke){isNaN(ke)||(de=ke)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(ke){var re;typeof ke=="number"?re=[ke,ke,ke,ke]:((re=new Array(4))[0]=ke[0],re[1]=ke.length>=2?ke[1]:re[0],re[2]=ke.length>=3?ke[2]:re[0],re[3]=ke.length>=4?ke[3]:re[1]),h.margin=re}});var ce=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ce},set:function(ke){ce=ke}});var Z=0;Object.defineProperty(this,"lastBreak",{get:function(){return Z},set:function(ke){Z=ke}});var we=[];Object.defineProperty(this,"pageBreaks",{get:function(){return we},set:function(ke){we=ke}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(ke){ke instanceof f&&(h=ke)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(ke){h.path=ke}});var me=[];Object.defineProperty(this,"ctxStack",{get:function(){return me},set:function(ke){me=ke}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ke){var re;re=b(ke),this.ctx.fillStyle=re.style,this.ctx.isFillTransparent=re.a===0,this.ctx.fillOpacity=re.a,this.pdf.setFillColor(re.r,re.g,re.b,{a:re.a}),this.pdf.setTextColor(re.r,re.g,re.b,{a:re.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ke){var re=b(ke);this.ctx.strokeStyle=re.style,this.ctx.isStrokeTransparent=re.a===0,this.ctx.strokeOpacity=re.a,re.a===0?this.pdf.setDrawColor(255,255,255):(re.a,this.pdf.setDrawColor(re.r,re.g,re.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ke){["butt","round","square"].indexOf(ke)!==-1&&(this.ctx.lineCap=ke,this.pdf.setLineCap(ke))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ke){isNaN(ke)||(this.ctx.lineWidth=ke,this.pdf.setLineWidth(ke))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ke){["bevel","round","miter"].indexOf(ke)!==-1&&(this.ctx.lineJoin=ke,this.pdf.setLineJoin(ke))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ke){isNaN(ke)||(this.ctx.miterLimit=ke,this.pdf.setMiterLimit(ke))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ke){this.ctx.textBaseline=ke}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ke){["right","end","center","left","start"].indexOf(ke)!==-1&&(this.ctx.textAlign=ke)}});var Me=null,Be=null;Object.defineProperty(this,"fontFaces",{get:function(){return Be},set:function(ke){Me=null,Be=ke}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ke){var re;if(this.ctx.font=ke,(re=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ke))!==null){var Xe=re[1];re[2];var ct=re[3],Qe=re[4];re[5];var De=re[6],Ye=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Qe)[2];Qe=Math.floor(Ye==="px"?parseFloat(Qe)*this.pdf.internal.scaleFactor:Ye==="em"?parseFloat(Qe)*this.pdf.getFontSize():parseFloat(Qe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Qe);var We=(function(vt){var ut,br,Kt=[],ht=vt.trim();if(ht==="")return Zg;if(ht in lv)return[lv[ht]];for(;ht!=="";){switch(br=null,ut=(ht=dv(ht)).charAt(0)){case'"':case"'":br=PI(ht.substring(1),ut);break;default:br=AI(ht)}if(br===null||(Kt.push(br[0]),(ht=dv(br[1]))!==""&&ht.charAt(0)!==","))return Zg;ht=ht.replace(/^,/,"")}return Kt})(De);if(this.fontFaces){var mt=(function(vt,ut){if(Me===null){var br=(function(Kt){var ht=[];return Object.keys(Kt).forEach(function(Rt){Kt[Rt].forEach(function(or){var yt=null;switch(or){case"bold":yt={family:Rt,weight:"bold"};break;case"italic":yt={family:Rt,style:"italic"};break;case"bolditalic":yt={family:Rt,weight:"bold",style:"italic"};break;case"":case"normal":yt={family:Rt}}yt!==null&&(yt.ref={name:Rt,style:or},ht.push(yt))})}),ht})(vt.getFontList());Me=(function(Kt){for(var ht={},Rt=0;Rt<Kt.length;++Rt){var or=Xg(Kt[Rt]),yt=or.family,Ht=or.stretch,Lt=or.style,Lr=or.weight;ht[yt]=ht[yt]||{},ht[yt][Ht]=ht[yt][Ht]||{},ht[yt][Ht][Lt]=ht[yt][Ht][Lt]||{},ht[yt][Ht][Lt][Lr]=or}return ht})(br.concat(ut))}return Me})(this.pdf,this.fontFaces),rt=We.map(function(vt){return{family:vt,stretch:"normal",weight:ct,style:Xe}}),Yt=(function(vt,ut,br){for(var Kt=(br=br||{}).defaultFontFamily||"times",ht=Object.assign({},jI,br.genericFontFamilies||{}),Rt=null,or=null,yt=0;yt<ut.length;++yt)if(ht[(Rt=Xg(ut[yt])).family]&&(Rt.family=ht[Rt.family]),vt.hasOwnProperty(Rt.family)){or=vt[Rt.family];break}if(!(or=or||vt[Kt]))throw new Error("Could not find a font-family for the rule '"+cv(Rt)+"' and default family '"+Kt+"'.");if(or=(function(Ht,Lt){if(Lt[Ht])return Lt[Ht];var Lr=t1[Ht],jr=Lr<=t1.normal?-1:1,Jt=ov(Lt,Kk,Lr,jr);if(!Jt)throw new Error("Could not find a matching font-stretch value for "+Ht);return Jt})(Rt.stretch,or),or=(function(Ht,Lt){if(Lt[Ht])return Lt[Ht];for(var Lr=Yk[Ht],jr=0;jr<Lr.length;++jr)if(Lt[Lr[jr]])return Lt[Lr[jr]];throw new Error("Could not find a matching font-style for "+Ht)})(Rt.style,or),!(or=(function(Ht,Lt){if(Lt[Ht])return Lt[Ht];if(Ht===400&&Lt[500])return Lt[500];if(Ht===500&&Lt[400])return Lt[400];var Lr=CI[Ht],jr=ov(Lt,Jk,Lr,Ht<400?-1:1);if(!jr)throw new Error("Could not find a matching font-weight for value "+Ht);return jr})(Rt.weight,or)))throw new Error("Failed to resolve a font for the rule '"+cv(Rt)+"'.");return or})(mt,rt);this.pdf.setFont(Yt.ref.name,Yt.ref.style)}else{var Ct="";(ct==="bold"||parseInt(ct,10)>=700||Xe==="bold")&&(Ct="bold"),Xe==="italic"&&(Ct+="italic"),Ct.length===0&&(Ct="normal");for(var Mt="",sr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Et=0;Et<We.length;Et++){if(this.pdf.internal.getFont(We[Et],Ct,{noFallback:!0,disableWarning:!0})!==void 0){Mt=We[Et];break}if(Ct==="bolditalic"&&this.pdf.internal.getFont(We[Et],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Mt=We[Et],Ct="bold";else if(this.pdf.internal.getFont(We[Et],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Mt=We[Et],Ct="normal";break}}if(Mt===""){for(var bt=0;bt<We.length;bt++)if(sr[We[bt]]){Mt=sr[We[bt]];break}}Mt=Mt===""?"Times":Mt,this.pdf.setFont(Mt,Ct)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ke){this.ctx.globalCompositeOperation=ke}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ke){this.ctx.globalAlpha=ke}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ke){this.ctx.lineDashOffset=ke,ee.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ke){this.ctx.lineDash=ke,ee.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ke){this.ctx.ignoreClearRect=!!ke}})};g.prototype.setLineDash=function(A){this.lineDash=A},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){I.call(this,"fill",!1)},g.prototype.stroke=function(){I.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(A,q){if(isNaN(A)||isNaN(q))throw Nr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new a(A,q));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new a(A,q)},g.prototype.closePath=function(){var A=new a(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&xr(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){A=new a(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(A.x,A.y)},g.prototype.lineTo=function(A,q){if(isNaN(A)||isNaN(q))throw Nr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new a(A,q));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new a(J.x,J.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),I.call(this,null,!0)},g.prototype.quadraticCurveTo=function(A,q,J,ue){if(isNaN(J)||isNaN(ue)||isNaN(A)||isNaN(q))throw Nr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var fe=this.ctx.transform.applyToPoint(new a(J,ue)),de=this.ctx.transform.applyToPoint(new a(A,q));this.path.push({type:"qct",x1:de.x,y1:de.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new a(fe.x,fe.y)},g.prototype.bezierCurveTo=function(A,q,J,ue,fe,de){if(isNaN(fe)||isNaN(de)||isNaN(A)||isNaN(q)||isNaN(J)||isNaN(ue))throw Nr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ce=this.ctx.transform.applyToPoint(new a(fe,de)),Z=this.ctx.transform.applyToPoint(new a(A,q)),we=this.ctx.transform.applyToPoint(new a(J,ue));this.path.push({type:"bct",x1:Z.x,y1:Z.y,x2:we.x,y2:we.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new a(ce.x,ce.y)},g.prototype.arc=function(A,q,J,ue,fe,de){if(isNaN(A)||isNaN(q)||isNaN(J)||isNaN(ue)||isNaN(fe))throw Nr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(de=!!de,!this.ctx.transform.isIdentity){var ce=this.ctx.transform.applyToPoint(new a(A,q));A=ce.x,q=ce.y;var Z=this.ctx.transform.applyToPoint(new a(0,J)),we=this.ctx.transform.applyToPoint(new a(0,0));J=Math.sqrt(Math.pow(Z.x-we.x,2)+Math.pow(Z.y-we.y,2))}Math.abs(fe-ue)>=2*Math.PI&&(ue=0,fe=2*Math.PI),this.path.push({type:"arc",x:A,y:q,radius:J,startAngle:ue,endAngle:fe,counterclockwise:de})},g.prototype.arcTo=function(A,q,J,ue,fe){throw new Error("arcTo not implemented.")},g.prototype.rect=function(A,q,J,ue){if(isNaN(A)||isNaN(q)||isNaN(J)||isNaN(ue))throw Nr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(A,q),this.lineTo(A+J,q),this.lineTo(A+J,q+ue),this.lineTo(A,q+ue),this.lineTo(A,q),this.lineTo(A+J,q),this.lineTo(A,q)},g.prototype.fillRect=function(A,q,J,ue){if(isNaN(A)||isNaN(q)||isNaN(J)||isNaN(ue))throw Nr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var fe={};this.lineCap!=="butt"&&(fe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(fe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(A,q,J,ue),this.fill(),fe.hasOwnProperty("lineCap")&&(this.lineCap=fe.lineCap),fe.hasOwnProperty("lineJoin")&&(this.lineJoin=fe.lineJoin)}},g.prototype.strokeRect=function(A,q,J,ue){if(isNaN(A)||isNaN(q)||isNaN(J)||isNaN(ue))throw Nr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");S.call(this)||(this.beginPath(),this.rect(A,q,J,ue),this.stroke())},g.prototype.clearRect=function(A,q,J,ue){if(isNaN(A)||isNaN(q)||isNaN(J)||isNaN(ue))throw Nr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(A,q,J,ue))},g.prototype.save=function(A){A=typeof A!="boolean"||A;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),A){this.ctx.fontSize=this.pdf.internal.getFontSize();var ue=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ue}},g.prototype.restore=function(A){A=typeof A!="boolean"||A;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(q),A&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var b=function(A){var q,J,ue,fe;if(A.isCanvasGradient===!0&&(A=A.getColor()),!A)return{r:0,g:0,b:0,a:0,style:A};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(A))q=0,J=0,ue=0,fe=0;else{var de=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(A);if(de!==null)q=parseInt(de[1]),J=parseInt(de[2]),ue=parseInt(de[3]),fe=1;else if((de=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(A))!==null)q=parseInt(de[1]),J=parseInt(de[2]),ue=parseInt(de[3]),fe=parseFloat(de[4]);else{if(fe=1,typeof A=="string"&&A.charAt(0)!=="#"){var ce=new Uk(A);A=ce.ok?ce.toHex():"#000000"}A.length===4?(q=A.substring(1,2),q+=q,J=A.substring(2,3),J+=J,ue=A.substring(3,4),ue+=ue):(q=A.substring(1,3),J=A.substring(3,5),ue=A.substring(5,7)),q=parseInt(q,16),J=parseInt(J,16),ue=parseInt(ue,16)}}return{r:q,g:J,b:ue,a:fe,style:A}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},S=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(A,q,J,ue){if(isNaN(q)||isNaN(J)||typeof A!="string")throw Nr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ue=isNaN(ue)?void 0:ue,!m.call(this)){var fe=ae(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;L.call(this,{text:A,x:q,y:J,scale:de,angle:fe,align:this.textAlign,maxWidth:ue})}},g.prototype.strokeText=function(A,q,J,ue){if(isNaN(q)||isNaN(J)||typeof A!="string")throw Nr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!S.call(this)){ue=isNaN(ue)?void 0:ue;var fe=ae(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;L.call(this,{text:A,x:q,y:J,scale:de,renderingMode:"stroke",angle:fe,align:this.textAlign,maxWidth:ue})}},g.prototype.measureText=function(A){if(typeof A!="string")throw Nr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,J=this.pdf.internal.scaleFactor,ue=q.internal.getFontSize(),fe=q.getStringUnitWidth(A)*ue/q.internal.scaleFactor;return new function(de){var ce=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ce}}),this}({width:fe*=Math.round(96*J/72*1e4)/1e4})},g.prototype.scale=function(A,q){if(isNaN(A)||isNaN(q))throw Nr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new d(A,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},g.prototype.rotate=function(A){if(isNaN(A))throw Nr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new d(Math.cos(A),Math.sin(A),-Math.sin(A),Math.cos(A),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},g.prototype.translate=function(A,q){if(isNaN(A)||isNaN(q))throw Nr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new d(1,0,0,1,A,q);this.ctx.transform=this.ctx.transform.multiply(J)},g.prototype.transform=function(A,q,J,ue,fe,de){if(isNaN(A)||isNaN(q)||isNaN(J)||isNaN(ue)||isNaN(fe)||isNaN(de))throw Nr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ce=new d(A,q,J,ue,fe,de);this.ctx.transform=this.ctx.transform.multiply(ce)},g.prototype.setTransform=function(A,q,J,ue,fe,de){A=isNaN(A)?1:A,q=isNaN(q)?0:q,J=isNaN(J)?0:J,ue=isNaN(ue)?1:ue,fe=isNaN(fe)?0:fe,de=isNaN(de)?0:de,this.ctx.transform=new d(A,q,J,ue,fe,de)};var k=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(A,q,J,ue,fe,de,ce,Z,we){var me=this.pdf.getImageProperties(A),Me=1,Be=1,ke=1,re=1;ue!==void 0&&Z!==void 0&&(ke=Z/ue,re=we/fe,Me=me.width/ue*Z/ue,Be=me.height/fe*we/fe),de===void 0&&(de=q,ce=J,q=0,J=0),ue!==void 0&&Z===void 0&&(Z=ue,we=fe),ue===void 0&&Z===void 0&&(Z=me.width,we=me.height);for(var Xe,ct=this.ctx.transform.decompose(),Qe=ae(ct.rotate.shx),De=new d,Ye=(De=(De=(De=De.multiply(ct.translate)).multiply(ct.skew)).multiply(ct.scale)).applyToRectangle(new l(de-q*ke,ce-J*re,ue*Me,fe*Be)),We=w.call(this,Ye),mt=[],rt=0;rt<We.length;rt+=1)mt.indexOf(We[rt])===-1&&mt.push(We[rt]);if(R(mt),this.autoPaging)for(var Yt=mt[0],Ct=mt[mt.length-1],Mt=Yt;Mt<Ct+1;Mt++){this.pdf.setPage(Mt);var sr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Et=Mt===1?this.posY+this.margin[0]:this.margin[0],bt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ut=Mt===1?0:bt+(Mt-2)*vt;if(this.ctx.clip_path.length!==0){var br=this.path;Xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(Xe,this.posX+this.margin[3],-ut+Et+this.ctx.prevPageLastElemOffset),B.call(this,"fill",!0),this.path=br}var Kt=JSON.parse(JSON.stringify(Ye));Kt=E([Kt],this.posX+this.margin[3],-ut+Et+this.ctx.prevPageLastElemOffset)[0];var ht=(Mt>Yt||Mt<Ct)&&k.call(this);ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],sr,vt,null).clip().discardPath()),this.pdf.addImage(A,"JPEG",Kt.x,Kt.y,Kt.w,Kt.h,null,null,Qe),ht&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(A,"JPEG",Ye.x,Ye.y,Ye.w,Ye.h,null,null,Qe)};var w=function(A,q,J){var ue=[];q=q||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var fe=this.posY+this.ctx.prevPageLastElemOffset;switch(A.type){default:case"mt":case"lt":ue.push(Math.floor((A.y+fe)/J)+1);break;case"arc":ue.push(Math.floor((A.y+fe-A.radius)/J)+1),ue.push(Math.floor((A.y+fe+A.radius)/J)+1);break;case"qct":var de=xe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x,A.y);ue.push(Math.floor((de.y+fe)/J)+1),ue.push(Math.floor((de.y+de.h+fe)/J)+1);break;case"bct":var ce=be(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x2,A.y2,A.x,A.y);ue.push(Math.floor((ce.y+fe)/J)+1),ue.push(Math.floor((ce.y+ce.h+fe)/J)+1);break;case"rect":ue.push(Math.floor((A.y+fe)/J)+1),ue.push(Math.floor((A.y+A.h+fe)/J)+1)}for(var Z=0;Z<ue.length;Z+=1)for(;this.pdf.internal.getNumberOfPages()<ue[Z];)_.call(this);return ue},_=function(){var A=this.fillStyle,q=this.strokeStyle,J=this.font,ue=this.lineCap,fe=this.lineWidth,de=this.lineJoin;this.pdf.addPage(),this.fillStyle=A,this.strokeStyle=q,this.font=J,this.lineCap=ue,this.lineWidth=fe,this.lineJoin=de},E=function(A,q,J){for(var ue=0;ue<A.length;ue++)switch(A[ue].type){case"bct":A[ue].x2+=q,A[ue].y2+=J;case"qct":A[ue].x1+=q,A[ue].y1+=J;default:A[ue].x+=q,A[ue].y+=J}return A},R=function(A){return A.sort(function(q,J){return q-J})},I=function(A,q){for(var J,ue,fe=this.fillStyle,de=this.strokeStyle,ce=this.lineCap,Z=this.lineWidth,we=Math.abs(Z*this.ctx.transform.scaleX),me=this.lineJoin,Me=JSON.parse(JSON.stringify(this.path)),Be=JSON.parse(JSON.stringify(this.path)),ke=[],re=0;re<Be.length;re++)if(Be[re].x!==void 0)for(var Xe=w.call(this,Be[re]),ct=0;ct<Xe.length;ct+=1)ke.indexOf(Xe[ct])===-1&&ke.push(Xe[ct]);for(var Qe=0;Qe<ke.length;Qe++)for(;this.pdf.internal.getNumberOfPages()<ke[Qe];)_.call(this);if(R(ke),this.autoPaging)for(var De=ke[0],Ye=ke[ke.length-1],We=De;We<Ye+1;We++){this.pdf.setPage(We),this.fillStyle=fe,this.strokeStyle=de,this.lineCap=ce,this.lineWidth=we,this.lineJoin=me;var mt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],rt=We===1?this.posY+this.margin[0]:this.margin[0],Yt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Mt=We===1?0:Yt+(We-2)*Ct;if(this.ctx.clip_path.length!==0){var sr=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(J,this.posX+this.margin[3],-Mt+rt+this.ctx.prevPageLastElemOffset),B.call(this,A,!0),this.path=sr}if(ue=JSON.parse(JSON.stringify(Me)),this.path=E(ue,this.posX+this.margin[3],-Mt+rt+this.ctx.prevPageLastElemOffset),q===!1||We===0){var Et=(We>De||We<Ye)&&k.call(this);Et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mt,Ct,null).clip().discardPath()),B.call(this,A,q),Et&&this.pdf.restoreGraphicsState()}this.lineWidth=Z}else this.lineWidth=we,B.call(this,A,q),this.lineWidth=Z;this.path=Me},B=function(A,q){if((A!=="stroke"||q||!S.call(this))&&(A==="stroke"||q||!m.call(this))){for(var J,ue,fe=[],de=this.path,ce=0;ce<de.length;ce++){var Z=de[ce];switch(Z.type){case"begin":fe.push({begin:!0});break;case"close":fe.push({close:!0});break;case"mt":fe.push({start:Z,deltas:[],abs:[]});break;case"lt":var we=fe.length;if(de[ce-1]&&!isNaN(de[ce-1].x)&&(J=[Z.x-de[ce-1].x,Z.y-de[ce-1].y],we>0)){for(;we>=0;we--)if(fe[we-1].close!==!0&&fe[we-1].begin!==!0){fe[we-1].deltas.push(J),fe[we-1].abs.push(Z);break}}break;case"bct":J=[Z.x1-de[ce-1].x,Z.y1-de[ce-1].y,Z.x2-de[ce-1].x,Z.y2-de[ce-1].y,Z.x-de[ce-1].x,Z.y-de[ce-1].y],fe[fe.length-1].deltas.push(J);break;case"qct":var me=de[ce-1].x+2/3*(Z.x1-de[ce-1].x),Me=de[ce-1].y+2/3*(Z.y1-de[ce-1].y),Be=Z.x+2/3*(Z.x1-Z.x),ke=Z.y+2/3*(Z.y1-Z.y),re=Z.x,Xe=Z.y;J=[me-de[ce-1].x,Me-de[ce-1].y,Be-de[ce-1].x,ke-de[ce-1].y,re-de[ce-1].x,Xe-de[ce-1].y],fe[fe.length-1].deltas.push(J);break;case"arc":fe.push({deltas:[],abs:[],arc:!0}),Array.isArray(fe[fe.length-1].abs)&&fe[fe.length-1].abs.push(Z)}}ue=q?null:A==="stroke"?"stroke":"fill";for(var ct=!1,Qe=0;Qe<fe.length;Qe++)if(fe[Qe].arc)for(var De=fe[Qe].abs,Ye=0;Ye<De.length;Ye++){var We=De[Ye];We.type==="arc"?$.call(this,We.x,We.y,We.radius,We.startAngle,We.endAngle,We.counterclockwise,void 0,q,!ct):O.call(this,We.x,We.y),ct=!0}else if(fe[Qe].close===!0)this.pdf.internal.out("h"),ct=!1;else if(fe[Qe].begin!==!0){var mt=fe[Qe].start.x,rt=fe[Qe].start.y;W.call(this,fe[Qe].deltas,mt,rt),ct=!0}ue&&M.call(this,ue),q&&ne.call(this)}},Q=function(A){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return A-J;case"top":return A+q-J;case"hanging":return A+q-2*J;case"middle":return A+q/2-J;default:return A}},te=function(A){return A+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var A=function(){};return A.colorStops=[],A.addColorStop=function(q,J){this.colorStops.push([q,J])},A.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},A.isCanvasGradient=!0,A},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var $=function(A,q,J,ue,fe,de,ce,Z,we){for(var me=le.call(this,J,ue,fe,de),Me=0;Me<me.length;Me++){var Be=me[Me];Me===0&&(we?D.call(this,Be.x1+A,Be.y1+q):O.call(this,Be.x1+A,Be.y1+q)),X.call(this,A,q,Be.x2,Be.y2,Be.x3,Be.y3,Be.x4,Be.y4)}Z?ne.call(this):M.call(this,ce)},M=function(A){switch(A){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ne=function(){this.pdf.clip(),this.pdf.discardPath()},D=function(A,q){this.pdf.internal.out(t(A)+" "+n(q)+" m")},L=function(A){var q;switch(A.align){case"right":case"end":q="right";break;case"center":q="center";break;default:q="left"}var J=this.pdf.getTextDimensions(A.text),ue=Q.call(this,A.y),fe=te.call(this,ue)-J.h,de=this.ctx.transform.applyToPoint(new a(A.x,ue)),ce=this.ctx.transform.decompose(),Z=new d;Z=(Z=(Z=Z.multiply(ce.translate)).multiply(ce.skew)).multiply(ce.scale);for(var we,me,Me,Be=this.ctx.transform.applyToRectangle(new l(A.x,ue,J.w,J.h)),ke=Z.applyToRectangle(new l(A.x,fe,J.w,J.h)),re=w.call(this,ke),Xe=[],ct=0;ct<re.length;ct+=1)Xe.indexOf(re[ct])===-1&&Xe.push(re[ct]);if(R(Xe),this.autoPaging)for(var Qe=Xe[0],De=Xe[Xe.length-1],Ye=Qe;Ye<De+1;Ye++){this.pdf.setPage(Ye);var We=Ye===1?this.posY+this.margin[0]:this.margin[0],mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],rt=this.pdf.internal.pageSize.height-this.margin[2],Yt=rt-this.margin[0],Ct=this.pdf.internal.pageSize.width-this.margin[1],Mt=Ct-this.margin[3],sr=Ye===1?0:mt+(Ye-2)*Yt;if(this.ctx.clip_path.length!==0){var Et=this.path;we=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(we,this.posX+this.margin[3],-1*sr+We),B.call(this,"fill",!0),this.path=Et}var bt=E([JSON.parse(JSON.stringify(ke))],this.posX+this.margin[3],-sr+We+this.ctx.prevPageLastElemOffset)[0];A.scale>=.01&&(me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(me*A.scale),Me=this.lineWidth,this.lineWidth=Me*A.scale);var vt=this.autoPaging!=="text";if(vt||bt.y+bt.h<=rt){if(vt||bt.y>=We&&bt.x<=Ct){var ut=vt?A.text:this.pdf.splitTextToSize(A.text,A.maxWidth||Ct-bt.x)[0],br=E([JSON.parse(JSON.stringify(Be))],this.posX+this.margin[3],-sr+We+this.ctx.prevPageLastElemOffset)[0],Kt=vt&&(Ye>Qe||Ye<De)&&k.call(this);Kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Mt,Yt,null).clip().discardPath()),this.pdf.text(ut,br.x,br.y,{angle:A.angle,align:q,renderingMode:A.renderingMode}),Kt&&this.pdf.restoreGraphicsState()}}else bt.y<rt&&(this.ctx.prevPageLastElemOffset+=rt-bt.y);A.scale>=.01&&(this.pdf.setFontSize(me),this.lineWidth=Me)}else A.scale>=.01&&(me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(me*A.scale),Me=this.lineWidth,this.lineWidth=Me*A.scale),this.pdf.text(A.text,de.x+this.posX,de.y+this.posY,{angle:A.angle,align:q,renderingMode:A.renderingMode,maxWidth:A.maxWidth}),A.scale>=.01&&(this.pdf.setFontSize(me),this.lineWidth=Me)},O=function(A,q,J,ue){J=J||0,ue=ue||0,this.pdf.internal.out(t(A+J)+" "+n(q+ue)+" l")},W=function(A,q,J){return this.pdf.lines(A,q,J,null,null)},X=function(A,q,J,ue,fe,de,ce,Z){this.pdf.internal.out([e(s(J+A)),e(i(ue+q)),e(s(fe+A)),e(i(de+q)),e(s(ce+A)),e(i(Z+q)),"c"].join(" "))},le=function(A,q,J,ue){for(var fe=2*Math.PI,de=Math.PI/2;q>J;)q-=fe;var ce=Math.abs(J-q);ce<fe&&ue&&(ce=fe-ce);for(var Z=[],we=ue?-1:1,me=q;ce>1e-5;){var Me=me+we*Math.min(ce,de);Z.push(pe.call(this,A,me,Me)),ce-=Math.abs(Me-me),me=Me}return Z},pe=function(A,q,J){var ue=(J-q)/2,fe=A*Math.cos(ue),de=A*Math.sin(ue),ce=fe,Z=-de,we=ce*ce+Z*Z,me=we+ce*fe+Z*de,Me=4/3*(Math.sqrt(2*we*me)-me)/(ce*de-Z*fe),Be=ce-Me*Z,ke=Z+Me*ce,re=Be,Xe=-ke,ct=ue+q,Qe=Math.cos(ct),De=Math.sin(ct);return{x1:A*Math.cos(q),y1:A*Math.sin(q),x2:Be*Qe-ke*De,y2:Be*De+ke*Qe,x3:re*Qe-Xe*De,y3:re*De+Xe*Qe,x4:A*Math.cos(J),y4:A*Math.sin(J)}},ae=function(A){return 180*A/Math.PI},xe=function(A,q,J,ue,fe,de){var ce=A+.5*(J-A),Z=q+.5*(ue-q),we=fe+.5*(J-fe),me=de+.5*(ue-de),Me=Math.min(A,fe,ce,we),Be=Math.max(A,fe,ce,we),ke=Math.min(q,de,Z,me),re=Math.max(q,de,Z,me);return new l(Me,ke,Be-Me,re-ke)},be=function(A,q,J,ue,fe,de,ce,Z){var we,me,Me,Be,ke,re,Xe,ct,Qe,De,Ye,We,mt,rt,Yt=J-A,Ct=ue-q,Mt=fe-J,sr=de-ue,Et=ce-fe,bt=Z-de;for(me=0;me<41;me++)Qe=(Xe=(Me=A+(we=me/40)*Yt)+we*((ke=J+we*Mt)-Me))+we*(ke+we*(fe+we*Et-ke)-Xe),De=(ct=(Be=q+we*Ct)+we*((re=ue+we*sr)-Be))+we*(re+we*(de+we*bt-re)-ct),me==0?(Ye=Qe,We=De,mt=Qe,rt=De):(Ye=Math.min(Ye,Qe),We=Math.min(We,De),mt=Math.max(mt,Qe),rt=Math.max(rt,De));return new l(Math.round(Ye),Math.round(We),Math.round(mt-Ye),Math.round(rt-We))},ee=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var A,q,J=(A=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:A,lineDashOffset:q}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(xt.API),(function(r){var e=function(a){var l,d,h,f,g,b,m,S,k,w;for(d=[],h=0,f=(a+=l="\0\0\0\0".slice(a.length%4||4)).length;f>h;h+=4)(g=(a.charCodeAt(h)<<24)+(a.charCodeAt(h+1)<<16)+(a.charCodeAt(h+2)<<8)+a.charCodeAt(h+3))!==0?(b=(g=((g=((g=((g=(g-(w=g%85))/85)-(k=g%85))/85)-(S=g%85))/85)-(m=g%85))/85)%85,d.push(b+33,m+33,S+33,k+33,w+33)):d.push(122);return(function(_,E){for(var R=E;R>0;R--)_.pop()})(d,l.length),String.fromCharCode.apply(String,d)+"~>"},t=function(a){var l,d,h,f,g,b=String,m="length",S=255,k="charCodeAt",w="slice",_="replace";for(a[w](-2),a=a[w](0,-2)[_](/\s/g,"")[_]("z","!!!!!"),h=[],f=0,g=(a+=l="uuuuu"[w](a[m]%5||5))[m];g>f;f+=5)d=52200625*(a[k](f)-33)+614125*(a[k](f+1)-33)+7225*(a[k](f+2)-33)+85*(a[k](f+3)-33)+(a[k](f+4)-33),h.push(S&d>>24,S&d>>16,S&d>>8,S&d);return(function(E,R){for(var I=R;I>0;I--)E.pop()})(h,l[m]),b.fromCharCode.apply(b,h)},n=function(a){return a.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(a){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),l.test(a)===!1)return"";for(var d="",h=0;h<a.length;h+=2)d+=String.fromCharCode("0x"+(a[h]+a[h+1]));return d},i=function(a){for(var l=new Uint8Array(a.length),d=a.length;d--;)l[d]=a.charCodeAt(d);return(l=Ym(l)).reduce(function(h,f){return h+String.fromCharCode(f)},"")};r.processDataByFilters=function(a,l){var d=0,h=a||"",f=[];for(typeof(l=l||[])=="string"&&(l=[l]),d=0;d<l.length;d+=1)switch(l[d]){case"ASCII85Decode":case"/ASCII85Decode":h=t(h),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=e(h),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=s(h),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=n(h),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=i(h),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[d]+'" is not implemented')}return{data:h,reverseChain:f.reverse().join(" ")}}})(xt.API),(function(r){r.loadFile=function(e,t,n){return(function(s,i,a){i=i!==!1,a=typeof a=="function"?a:function(){};var l=void 0;try{l=(function(d,h,f){var g=new XMLHttpRequest,b=0,m=function(S){var k=S.length,w=[],_=String.fromCharCode;for(b=0;b<k;b+=1)w.push(_(255&S.charCodeAt(b)));return w.join("")};if(g.open("GET",d,!h),g.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(g.onload=function(){g.status===200?f(m(this.responseText)):f(void 0)}),g.send(null),h&&g.status===200)return m(g.responseText)})(s,i,a)}catch{}return l})(e,t,n)},r.loadImageFile=r.loadFile})(xt.API),(function(r){function e(){return(Tt.html2canvas?Promise.resolve(Tt.html2canvas):Tg(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function t(){return(Tt.DOMPurify?Promise.resolve(Tt.DOMPurify):Tg(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var d=xr(l);return d==="undefined"?"undefined":d==="string"||l instanceof String?"string":d==="number"||l instanceof Number?"number":d==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":d==="object"?"object":"unknown"},s=function(l,d){var h=document.createElement(l);for(var f in d.className&&(h.className=d.className),d.innerHTML&&d.dompurify&&(h.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)h.style[f]=d.style[f];return h},i=function l(d,h){for(var f=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),g=d.firstChild;g;g=g.nextSibling)h!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||f.appendChild(l(g,h));return d.nodeType===1&&(d.nodeName==="CANVAS"?(f.width=d.width,f.height=d.height,f.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(f.value=d.value),f.addEventListener("load",function(){f.scrollTop=d.scrollTop,f.scrollLeft=d.scrollLeft},!0)),f},a=function l(d){var h=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),f=l.convert(Promise.resolve(),h);return(f=f.setProgress(1,l,1,[l])).set(d)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(l,d){return l.__proto__=d||a.prototype,l},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(l,d){return this.then(function(){switch(d=d||(function(h){switch(n(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),d){case"string":return this.then(t).then(function(h){return this.set({src:s("div",{innerHTML:l,dompurify:h})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},a.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(d){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,d(this.prop.container,h)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(d){var h=this.opt.jsPDF,f=this.opt.fontFaces,g=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,b=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete b.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=f,f)for(var m=0;m<f.length;++m){var S=f[m],k=S.src.find(function(w){return w.format==="truetype"});k&&h.addFont(k.url,S.ref.name,S.ref.style)}return b.windowHeight=b.windowHeight||0,b.windowHeight=b.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):b.windowHeight,h.context2d.save(!0),d(this.prop.container,b)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(l,d,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(l,d):this.outputPdf(l,d)},a.prototype.outputPdf=function(l,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,d)})},a.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},a.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(l){if(n(l)!=="object")return this;var d=Object.keys(l||{}).map(function(h){if(h in a.template.prop)return function(){this.prop[h]=l[h]};switch(h){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[h]=l[h]}}},this);return this.then(function(){return this.thenList(d)})},a.prototype.get=function(l,d){return this.then(function(){var h=l in a.template.prop?this.prop[l]:this.opt[l];return d?d(h):h})},a.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},a.prototype.setPageSize=function(l){function d(h,f){return Math.floor(h*f/72*96)}return this.then(function(){(l=l||xt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:d(l.inner.width,l.k),height:d(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},a.prototype.setProgress=function(l,d,h,f){return l!=null&&(this.progress.val=l),d!=null&&(this.progress.state=d),h!=null&&(this.progress.n=h),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(l,d,h,f){return this.setProgress(l?this.progress.val+l:null,d||null,h?this.progress.n+h:null,f?this.progress.stack.concat(f):null)},a.prototype.then=function(l,d){var h=this;return this.thenCore(l,d,function(f,g){return h.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(b){return h.updateProgress(null,f),b}).then(f,g).then(function(b){return h.updateProgress(1),b})})},a.prototype.thenCore=function(l,d,h){h=h||Promise.prototype.then;var f=this;l&&(l=l.bind(f)),d&&(d=d.bind(f));var g=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:a.convert(Object.assign({},f),Promise.prototype),b=h.call(g,l,d);return a.convert(b,f.__proto__)},a.prototype.thenExternal=function(l,d){return Promise.prototype.then.call(this,l,d)},a.prototype.thenList=function(l){var d=this;return l.forEach(function(h){d=d.thenCore(h)}),d},a.prototype.catch=function(l){l&&(l=l.bind(this));var d=Promise.prototype.catch.call(this,l);return a.convert(d,this)},a.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},a.prototype.error=function(l){return this.then(function(){throw new Error(l)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,xt.getPageSize=function(l,d,h){if(xr(l)==="object"){var f=l;l=f.orientation,d=f.unit||d,h=f.format||h}d=d||"mm",h=h||"a4",l=(""+(l||"P")).toLowerCase();var g,b=(""+h).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+d}var S,k=0,w=0;if(m.hasOwnProperty(b))k=m[b][1]/g,w=m[b][0]/g;else try{k=h[1],w=h[0]}catch{throw new Error("Invalid format: "+h)}if(l==="p"||l==="portrait")l="p",w>k&&(S=w,w=k,k=S);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",k>w&&(S=w,w=k,k=S)}return{width:w,height:k,unit:d,k:g,orientation:l}},r.html=function(l,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(Xg):null;var h=new a(d);return d.worker?h:h.from(l).doCallback()}})(xt.API),xt.API.addJS=function(r){return hv=r,this.internal.events.subscribe("postPutResources",function(){i0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(i0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),uv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+hv+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){i0!==void 0&&uv!==void 0&&this.internal.out("/Names <</JavaScript "+i0+" 0 R>>")}),this},(function(r){var e;r.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=t.outline.render().split(/\r\n/),i=0;i<s.length;i++){var a=s[i],l=n.exec(a);if(l!=null){var d=l[1];t.internal.newObjectDeferredBegin(d,!1)}t.internal.write(a)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,f=[];for(i=0;i<h;i++){var g=t.internal.newObject();f.push(g);var b=t.internal.getPageInfo(i+1);t.internal.write("<< /D["+b.objId+" 0 R /XYZ null null null]>> endobj")}var m=t.internal.newObject();for(t.internal.write("<< /Names [ "),i=0;i<f.length;i++)t.internal.write("(page_"+(i+1)+")"+f[i]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+m+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,s,i){var a={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(a),a},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var a=n.children[i];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var l=this.count=this.count_r({count:0},a);if(l>0&&this.line("/Count "+l),a.options&&a.options.pageNumber){var d=t.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var h=0;h<n.children.length;h++)this.renderItems(n.children[h])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])})(xt.API),(function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,n,s,i,a,l){var d,h=this.decode.DCT_DECODE,f=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=a||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,d=(function(g){for(var b,m=256*g.charCodeAt(4)+g.charCodeAt(5),S=g.length,k={width:0,height:0,numcomponents:1},w=4;w<S;w+=2){if(w+=m,e.indexOf(g.charCodeAt(w+1))!==-1){b=256*g.charCodeAt(w+5)+g.charCodeAt(w+6),k={width:256*g.charCodeAt(w+7)+g.charCodeAt(w+8),height:b,numcomponents:g.charCodeAt(w+9)};break}m=256*g.charCodeAt(w+2)+g.charCodeAt(w+3)}return k})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),d.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}f={data:t,width:d.width,height:d.height,colorSpace:l,bitsPerComponent:8,filter:h,index:n,alias:s}}return f}})(xt.API),xt.API.processPNG=function(r,e,t,n){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var s,i=hI(r,{checkCrc:!0}),a=i.width,l=i.height,d=i.channels,h=i.palette,f=i.depth;s=h&&d===1?(function($){for(var M=$.width,ne=$.height,D=$.data,L=$.palette,O=$.depth,W=!1,X=[],le=[],pe=void 0,ae=!1,xe=0,be=0;be<L.length;be++){var ee=my(L[be],4),A=ee[0],q=ee[1],J=ee[2],ue=ee[3];X.push(A,q,J),ue!=null&&(ue===0?(xe++,le.length<1&&le.push(be)):ue<255&&(ae=!0))}if(ae||xe>1){W=!0,le=void 0;var fe=M*ne;pe=new Uint8Array(fe);for(var de=new DataView(D.buffer),ce=0;ce<fe;ce++){var Z=Qg(de,ce,O),we=my(L[Z],4)[3];pe[ce]=we}}else xe===0&&(le=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:W?8:void 0,colorBytes:D,alphaBytes:pe,needSMask:W,palette:X,mask:le}})(i):d===2||d===4?(function($){for(var M=$.data,ne=$.width,D=$.height,L=$.channels,O=$.depth,W=L===2?"DeviceGray":"DeviceRGB",X=L-1,le=ne*D,pe=X,ae=le*pe,xe=1*le,be=Math.ceil(ae*O/8),ee=Math.ceil(xe*O/8),A=new Uint8Array(be),q=new Uint8Array(ee),J=new DataView(M.buffer),ue=new DataView(A.buffer),fe=new DataView(q.buffer),de=!1,ce=0;ce<le;ce++){for(var Z=ce*L,we=0;we<pe;we++)wv(ue,Qg(J,Z+we,O),ce*pe+we,O);var me=Qg(J,Z+pe,O);me<(1<<O)-1&&(de=!0),wv(fe,me,1*ce,O)}return{colorSpace:W,colorsPerPixel:X,sMaskBitsPerComponent:de?O:void 0,colorBytes:A,alphaBytes:q,needSMask:de}})(i):(function($){var M=$.data,ne=$.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:ne,colorsPerPixel:ne==="DeviceGray"?1:3,colorBytes:M instanceof Uint16Array?(function(D){for(var L=D.length,O=new Uint8Array(2*L),W=new DataView(O.buffer,O.byteOffset,O.byteLength),X=0;X<L;X++)W.setUint16(2*X,D[X],!1);return O})(M):M,needSMask:!1}})(i);var g,b,m,S=s,k=S.colorSpace,w=S.colorsPerPixel,_=S.sMaskBitsPerComponent,E=S.colorBytes,R=S.alphaBytes,I=S.needSMask,B=S.palette,Q=S.mask,te=null;return n!==xt.API.image_compression.NONE&&typeof Ym=="function"?(te=(function($){var M;switch($){case xt.API.image_compression.FAST:M=11;break;case xt.API.image_compression.MEDIUM:M=13;break;case xt.API.image_compression.SLOW:M=14;break;default:M=12}return M})(n),g=this.decode.FLATE_DECODE,b="/Predictor ".concat(te," /Colors ").concat(w," /BitsPerComponent ").concat(f," /Columns ").concat(a),r=mv(E,Math.ceil(a*w*f/8),w,f,n),I&&(m=mv(R,Math.ceil(a*_/8),1,_,n))):(g=void 0,b=void 0,r=E,I&&(m=R)),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:t,data:r,index:e,filter:g,decodeParameters:b,transparency:Q,palette:B,sMask:m,predictor:te,width:a,height:l,bitsPerComponent:f,sMaskBitsPerComponent:_,colorSpace:k}}},(function(r){r.processGIF89A=function(e,t,n,s){var i=new TI(e),a=i.width,l=i.height,d=[];i.decodeAndBlitFrameRGBA(0,d);var h={data:d,width:a,height:l},f=new em(100).encode(h,100);return r.processJPEG.call(this,f,t,n,s)},r.processGIF87A=r.processGIF89A})(xt.API),oa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:n,blue:t,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},oa.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){Nr.log("bit decode error:"+t)}},oa.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<e;s++)for(var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var d=this.palette[i>>7-l&1];this.data[a+4*l]=d.blue,this.data[a+4*l+1]=d.green,this.data[a+4*l+2]=d.red,this.data[a+4*l+3]=255}t!==0&&(this.pos+=4-t)}},oa.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,s=0;s<r;s++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*s*4,l=i>>4,d=15&i,h=this.palette[l];if(this.data[a]=h.blue,this.data[a+1]=h.green,this.data[a+2]=h.red,this.data[a+3]=255,2*s+1>=this.width)break;h=this.palette[d],this.data[a+4]=h.blue,this.data[a+4+1]=h.green,this.data[a+4+2]=h.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},oa.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*n;if(s<this.palette.length){var a=this.palette[s];this.data[i]=a.red,this.data[i+1]=a.green,this.data[i+2]=a.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}r!==0&&(this.pos+=4-r)}},oa.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(i&e)/e*255|0,l=(i>>5&e)/e*255|0,d=(i>>10&e)/e*255|0,h=i>>15?255:0,f=n*this.width*4+4*s;this.data[f]=d,this.data[f+1]=l,this.data[f+2]=a,this.data[f+3]=h}this.pos+=r}},oa.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&e)/e*255|0,d=(a>>5&t)/t*255|0,h=(a>>11)/e*255|0,f=s*this.width*4+4*i;this.data[f]=h,this.data[f+1]=d,this.data[f+2]=l,this.data[f+3]=255}this.pos+=r}},oa.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},oa.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=i,this.data[l+1]=s,this.data[l+2]=n,this.data[l+3]=a}},oa.prototype.getData=function(){return this.data},(function(r){r.processBMP=function(e,t,n,s){var i=new oa(e,!1),a=i.width,l=i.height,d={data:i.getData(),width:a,height:l},h=new em(100).encode(d,100);return r.processJPEG.call(this,h,t,n,s)}})(xt.API),_v.prototype.getData=function(){return this.data},(function(r){r.processWEBP=function(e,t,n,s){var i=new _v(e),a=i.width,l=i.height,d={data:i.getData(),width:a,height:l},h=new em(100).encode(d,100);return r.processJPEG.call(this,h,t,n,s)}})(xt.API),xt.API.processRGBA=function(r,e,t){for(var n=r.data,s=n.length,i=new Uint8Array(s/4*3),a=new Uint8Array(s/4),l=0,d=0,h=0;h<s;h+=4){var f=n[h],g=n[h+1],b=n[h+2],m=n[h+3];i[l++]=f,i[l++]=g,i[l++]=b,a[d++]=m}var S=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:S,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},xt.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Md=xt.API,a0=Md.getCharWidthsArray=function(r,e){var t,n,s=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:s.metadata.Unicode.widths,d=l.fof?l.fof:1,h=e.kerning?e.kerning:s.metadata.Unicode.kerning,f=h.fof?h.fof:1,g=e.doKerning!==!1,b=0,m=r.length,S=0,k=l[0]||d,w=[];for(t=0;t<m;t++)n=r.charCodeAt(t),typeof s.metadata.widthOfString=="function"?w.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+a*(1e3/i)||0)/1e3):(b=g&&xr(h[n])==="object"&&!isNaN(parseInt(h[n][S],10))?h[n][S]/f:0,w.push((l[n]||k)/d+b)),S=n;return w},fv=Md.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return Md.processArabic&&(r=Md.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,t,s)/t:a0.apply(this,arguments).reduce(function(i,a){return i+a},0)},pv=function(r,e,t,n){for(var s=[],i=0,a=r.length,l=0;i!==a&&l+e[i]<t;)l+=e[i],i++;s.push(r.slice(0,i));var d=i;for(l=0;i!==a;)l+e[i]>n&&(s.push(r.slice(d,i)),l=0,d=i),l+=e[i],i++;return d!==i&&s.push(r.slice(d,i)),s},gv=function(r,e,t){t||(t={});var n,s,i,a,l,d,h,f=[],g=[f],b=t.textIndent||0,m=0,S=0,k=r.split(" "),w=a0.apply(this,[" ",t])[0];if(d=t.lineIndent===-1?k[0].length+2:t.lineIndent||0){var _=Array(d).join(" "),E=[];k.map(function(I){(I=I.split(/\s*\n/)).length>1?E=E.concat(I.map(function(B,Q){return(Q&&B.length?`
`:"")+B})):E.push(I[0])}),k=E,d=fv.apply(this,[_,t])}for(i=0,a=k.length;i<a;i++){var R=0;if(n=k[i],d&&n[0]==`
`&&(n=n.substr(1),R=1),b+m+(S=(s=a0.apply(this,[n,t])).reduce(function(I,B){return I+B},0))>e||R){if(S>e){for(l=pv.apply(this,[n,s,e-(b+m),e]),f.push(l.shift()),f=[l.pop()];l.length;)g.push([l.shift()]);S=s.slice(n.length-(f[0]?f[0].length:0)).reduce(function(I,B){return I+B},0)}else f=[n];g.push(f),b=S+d,m=w}else f.push(n),b+=m+S,m=w}return h=d?function(I,B){return(B?_:"")+I.join(" ")}:function(I){return I.join(" ")},g.map(h)},Md.splitTextToSize=function(r,e,t){var n,s=(t=t||{}).fontSize||this.internal.getFontSize(),i=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var g=this.internal.getFont(f.fontName,f.fontStyle),b="Unicode";return g.metadata[b]?{widths:g.metadata[b].widths||{0:1},kerning:g.metadata[b].kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/s;i.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=t.lineIndent;var l,d,h=[];for(l=0,d=n.length;l<d;l++)h=h.concat(gv.apply(this,[n[l],a,i]));return h},(function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",n={},s={},i=0;i<16;i++)n[t[i]]=e[i],s[e[i]]=t[i];var a=function(b){return"0x"+parseInt(b,10).toString(16)},l=r.__fontmetrics__.compress=function(b){var m,S,k,w,_=["{"];for(var E in b){if(m=b[E],isNaN(parseInt(E,10))?S="'"+E+"'":(E=parseInt(E,10),S=(S=a(E).slice(2)).slice(0,-1)+s[S.slice(-1)]),typeof m=="number")m<0?(k=a(m).slice(3),w="-"):(k=a(m).slice(2),w=""),k=w+k.slice(0,-1)+s[k.slice(-1)];else{if(xr(m)!=="object")throw new Error("Don't know what to do with value type "+xr(m)+".");k=l(m)}_.push(S+k)}return _.push("}"),_.join("")},d=r.__fontmetrics__.uncompress=function(b){if(typeof b!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,S,k,w,_={},E=1,R=_,I=[],B="",Q="",te=b.length-1,$=1;$<te;$+=1)(w=b[$])=="'"?m?(k=m.join(""),m=void 0):m=[]:m?m.push(w):w=="{"?(I.push([R,k]),R={},k=void 0):w=="}"?((S=I.pop())[0][S[1]]=R,k=void 0,R=S[0]):w=="-"?E=-1:k===void 0?n.hasOwnProperty(w)?(B+=n[w],k=parseInt(B,16)*E,E=1,B=""):B+=w:n.hasOwnProperty(w)?(Q+=n[w],R[k]=parseInt(Q,16)*E,E=1,k=void 0,Q=""):Q+=w;return _},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},g={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(b){var m=b.font,S=g.Unicode[m.postScriptName];S&&(m.metadata.Unicode={},m.metadata.Unicode.widths=S.widths,m.metadata.Unicode.kerning=S.kerning);var k=f.Unicode[m.postScriptName];k&&(m.metadata.Unicode.encoding=k,m.encoding=k.codePages[0])}])})(xt.API),(function(r){var e=function(t){for(var n=t.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=t.charCodeAt(i);return s};r.API.events.push(["addFont",function(t){var n=void 0,s=t.font,i=t.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(a,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(g0(l)),a.metadata=r.API.TTFFont.open(l),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(s,n)}}])})(xt),xt.API.addSvgAsImage=function(r,e,t,n,s,i,a,l){if(isNaN(e)||isNaN(t))throw Nr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(s))throw Nr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=n,d.height=s;var h=d.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,d.width,d.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return(Tt.canvg?Promise.resolve(Tt.canvg):Tg(()=>import("./index.es-DscEZQgT.js"),[])).catch(function(b){return Promise.reject(new Error("Could not load canvg: "+b))}).then(function(b){return b.default?b.default:b}).then(function(b){return b.fromString(h,r,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(b){return b.render(f)}).then(function(){g.addImage(d.toDataURL("image/jpeg",1),e,t,n,s,a,l)})},xt.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(e,t);return this},xt.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var n,s,i,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(a),d=[],h=0,f=0,g=0;function b(S,k){var w,_=!1;for(w=0;w<S.length;w+=1)S[w]===k&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var m=l.length;for(g=0;g<m;g+=1)t[l[g]].value=t[l[g]].defaultValue,t[l[g]].explicitSet=!1}if(xr(r)==="object"){for(s in r)if(i=r[s],b(l,s)&&i!==void 0){if(t[s].type==="boolean"&&typeof i=="boolean")t[s].value=i;else if(t[s].type==="name"&&b(t[s].valueSet,i))t[s].value=i;else if(t[s].type==="integer"&&Number.isInteger(i))t[s].value=i;else if(t[s].type==="array"){for(h=0;h<i.length;h+=1)if(n=!0,i[h].length===1&&typeof i[h][0]=="number")d.push(String(i[h]-1));else if(i[h].length>1){for(f=0;f<i[h].length;f+=1)typeof i[h][f]!="number"&&(n=!1);n===!0&&d.push([i[h][0]-1,i[h][1]-1].join(" "))}t[s].value="["+d.join(" ")+"]"}else t[s].value=t[s].defaultValue;t[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var S,k=[];for(S in t)t[S].explicitSet===!0&&(t[S].type==="name"?k.push("/"+S+" /"+t[S].value):k.push("/"+S+" "+t[S].value));k.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+k.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(r){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),h=i.length+a.length+l.length+s.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(s+i+a+l+d),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(xt.API),(function(r){var e=r.API,t=e.pdfEscape16=function(i,a){for(var l,d=a.metadata.Unicode.widths,h=["","0","00","000","0000"],f=[""],g=0,b=i.length;g<b;++g){if(l=a.metadata.characterToGlyph(i.charCodeAt(g)),a.metadata.glyIdsUsed.push(l),a.metadata.toUnicode[l]=i.charCodeAt(g),d.indexOf(l)==-1&&(d.push(l),d.push([parseInt(a.metadata.widthOfGlyph(l),10)])),l=="0")return f.join("");l=l.toString(16),f.push(h[4-l.length],l)}return f.join("")},n=function(i){var a,l,d,h,f,g,b;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],g=0,b=(l=Object.keys(i).sort(function(m,S){return m-S})).length;g<b;g++)a=l[g],d.length>=100&&(f+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),i[a]!==void 0&&i[a]!==null&&typeof i[a].toString=="function"&&(h=("0000"+i[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),d.push("<"+a+"><"+h+">"));return d.length&&(f+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(a){var l=a.font,d=a.out,h=a.newObject,f=a.putStream;if(l.metadata instanceof r.API.TTFFont&&l.encoding==="Identity-H"){for(var g=l.metadata.Unicode.widths,b=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),m="",S=0;S<b.length;S++)m+=String.fromCharCode(b[S]);var k=h();f({data:m,addLength1:!0,objectId:k}),d("endobj");var w=h();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:w}),d("endobj");var _=h();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+Dd(l.fontName)),d("/FontFile2 "+k+" 0 R"),d("/FontBBox "+r.API.PDFObject.convert(l.metadata.bbox)),d("/Flags "+l.metadata.flags),d("/StemV "+l.metadata.stemV),d("/ItalicAngle "+l.metadata.italicAngle),d("/Ascent "+l.metadata.ascender),d("/Descent "+l.metadata.decender),d("/CapHeight "+l.metadata.capHeight),d(">>"),d("endobj");var E=h();d("<<"),d("/Type /Font"),d("/BaseFont /"+Dd(l.fontName)),d("/FontDescriptor "+_+" 0 R"),d("/W "+r.API.PDFObject.convert(g)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+l.encoding+")"),d(">>"),d(">>"),d("endobj"),l.objectNumber=h(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+w+" 0 R"),d("/BaseFont /"+Dd(l.fontName)),d("/Encoding /"+l.encoding),d("/DescendantFonts ["+E+" 0 R]"),d(">>"),d("endobj"),l.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(a){var l=a.font,d=a.out,h=a.newObject,f=a.putStream;if(l.metadata instanceof r.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var g=l.metadata.rawData,b="",m=0;m<g.length;m++)b+=String.fromCharCode(g[m]);var S=h();f({data:b,addLength1:!0,objectId:S}),d("endobj");var k=h();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:k}),d("endobj");var w=h();d("<<"),d("/Descent "+l.metadata.decender),d("/CapHeight "+l.metadata.capHeight),d("/StemV "+l.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+S+" 0 R"),d("/Flags 96"),d("/FontBBox "+r.API.PDFObject.convert(l.metadata.bbox)),d("/FontName /"+Dd(l.fontName)),d("/ItalicAngle "+l.metadata.italicAngle),d("/Ascent "+l.metadata.ascender),d(">>"),d("endobj"),l.objectNumber=h();for(var _=0;_<l.metadata.hmtx.widths.length;_++)l.metadata.hmtx.widths[_]=parseInt(l.metadata.hmtx.widths[_]*(1e3/l.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+k+" 0 R/BaseFont/"+Dd(l.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),d("endobj"),l.isAlreadyPutted=!0}})(i)}]);var s=function(i){var a,l=i.text||"",d=i.x,h=i.y,f=i.options||{},g=i.mutex||{},b=g.pdfEscape,m=g.activeFontKey,S=g.fonts,k=m,w="",_=0,E="",R=S[k].encoding;if(S[k].encoding!=="Identity-H")return{text:l,x:d,y:h,options:f,mutex:g};for(E=l,k=m,Array.isArray(l)&&(E=l[0]),_=0;_<E.length;_+=1)S[k].metadata.hasOwnProperty("cmap")&&(a=S[k].metadata.cmap.unicode.codeMap[E[_].charCodeAt(0)]),a||E[_].charCodeAt(0)<256&&S[k].metadata.hasOwnProperty("Unicode")?w+=E[_]:w+="";var I="";return parseInt(k.slice(1))<14||R==="WinAnsiEncoding"?I=b(w,k).split("").map(function(B){return B.charCodeAt(0).toString(16)}).join(""):R==="Identity-H"&&(I=t(w,S[k])),g.isHex=!0,{text:I,x:d,y:h,options:f,mutex:g}};e.events.push(["postProcessText",function(i){var a=i.text||"",l=[],d={text:a,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(a)){var h=0;for(h=0;h<a.length;h+=1)Array.isArray(a[h])&&a[h].length===3?l.push([s(Object.assign({},d,{text:a[h][0]})).text,a[h][1],a[h][2]]):l.push(s(Object.assign({},d,{text:a[h]})).text);i.text=l}else i.text=s(Object.assign({},d,{text:a})).text}])})(xt),(function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(xt.API),(function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var s,i,a,l,d,h,f,g=e,b=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],S={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},k={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),E=!1,R=0;this.__bidiEngine__={};var I=function(D){var L=D.charCodeAt(),O=L>>8,W=k[O];return W!==void 0?g[256*W+(255&L)]:O===252||O===253?"AL":_.test(O)?"L":O===8?"R":"N"},B=function(D){for(var L,O=0;O<D.length;O++){if((L=I(D.charAt(O)))==="L")return!1;if(L==="R")return!0}return!1},Q=function(D,L,O,W){var X,le,pe,ae,xe=L[W];switch(xe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":E=!1;break;case"N":case"AN":break;case"EN":E&&(xe="AN");break;case"AL":E=!0,xe="R";break;case"WS":case"BN":xe="N";break;case"CS":W<1||W+1>=L.length||(X=O[W-1])!=="EN"&&X!=="AN"||(le=L[W+1])!=="EN"&&le!=="AN"?xe="N":E&&(le="AN"),xe=le===X?le:"N";break;case"ES":xe=(X=W>0?O[W-1]:"B")==="EN"&&W+1<L.length&&L[W+1]==="EN"?"EN":"N";break;case"ET":if(W>0&&O[W-1]==="EN"){xe="EN";break}if(E){xe="N";break}for(pe=W+1,ae=L.length;pe<ae&&L[pe]==="ET";)pe++;xe=pe<ae&&L[pe]==="EN"?"EN":"N";break;case"NSM":if(a&&!l){for(ae=L.length,pe=W+1;pe<ae&&L[pe]==="NSM";)pe++;if(pe<ae){var be=D[W],ee=be>=1425&&be<=2303||be===64286;if(X=L[pe],ee&&(X==="R"||X==="AL")){xe="R";break}}}xe=W<1||(X=L[W-1])==="B"?"N":O[W-1];break;case"B":E=!1,s=!0,xe=R;break;case"S":i=!0,xe="N"}return xe},te=function(D,L,O){var W=D.split("");return O&&$(W,O,{hiLevel:R}),W.reverse(),L&&L.reverse(),W.join("")},$=function(D,L,O){var W,X,le,pe,ae,xe=-1,be=D.length,ee=0,A=[],q=R?m:b,J=[];for(E=!1,s=!1,i=!1,X=0;X<be;X++)J[X]=I(D[X]);for(le=0;le<be;le++){if(ae=ee,A[le]=Q(D,J,A,le),W=240&(ee=q[ae][S[A[le]]]),ee&=15,L[le]=pe=q[ee][5],W>0)if(W===16){for(X=xe;X<le;X++)L[X]=1;xe=-1}else xe=-1;if(q[ee][6])xe===-1&&(xe=le);else if(xe>-1){for(X=xe;X<le;X++)L[X]=pe;xe=-1}J[le]==="B"&&(L[le]=0),O.hiLevel|=pe}i&&(function(ue,fe,de){for(var ce=0;ce<de;ce++)if(ue[ce]==="S"){fe[ce]=R;for(var Z=ce-1;Z>=0&&ue[Z]==="WS";Z--)fe[Z]=R}})(J,L,be)},M=function(D,L,O,W,X){if(!(X.hiLevel<D)){if(D===1&&R===1&&!s)return L.reverse(),void(O&&O.reverse());for(var le,pe,ae,xe,be=L.length,ee=0;ee<be;){if(W[ee]>=D){for(ae=ee+1;ae<be&&W[ae]>=D;)ae++;for(xe=ee,pe=ae-1;xe<pe;xe++,pe--)le=L[xe],L[xe]=L[pe],L[pe]=le,O&&(le=O[xe],O[xe]=O[pe],O[pe]=le);ee=ae}ee++}}},ne=function(D,L,O){var W=D.split(""),X={hiLevel:R};return O||(O=[]),$(W,O,X),(function(le,pe,ae){if(ae.hiLevel!==0&&f)for(var xe,be=0;be<le.length;be++)pe[be]===1&&(xe=w.indexOf(le[be]))>=0&&(le[be]=w[xe+1])})(W,O,X),M(2,W,L,O,X),M(1,W,L,O,X),W.join("")};return this.__bidiEngine__.doBidiReorder=function(D,L,O){if((function(X,le){if(le)for(var pe=0;pe<X.length;pe++)le[pe]=pe;l===void 0&&(l=B(X)),h===void 0&&(h=B(X))})(D,L),a||!d||h)if(a&&d&&l^h)R=l?1:0,D=te(D,L,O);else if(!a&&d&&h)R=l?1:0,D=ne(D,L,O),D=te(D,L);else if(!a||l||d||h){if(a&&!d&&l^h)D=te(D,L),l?(R=0,D=ne(D,L,O)):(R=1,D=ne(D,L,O),D=te(D,L));else if(a&&l&&!d&&h)R=1,D=ne(D,L,O),D=te(D,L);else if(!a&&!d&&l^h){var W=f;l?(R=1,D=ne(D,L,O),R=0,f=!1,D=ne(D,L,O),f=W):(R=0,D=ne(D,L,O),D=te(D,L),R=1,f=!1,D=ne(D,L,O),f=W,D=te(D,L))}}else R=0,D=ne(D,L,O);else R=l?1:0,D=ne(D,L,O);return D},this.__bidiEngine__.setOptions=function(D){D&&(a=D.isInputVisual,d=D.isOutputVisual,l=D.isInputRtl,h=D.isOutputRtl,f=D.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var s=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var a=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,t.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(a=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?a.push([t.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):a.push([t.doBidiReorder(s[l])]);n.text=a}else n.text=t.doBidiReorder(s);t.setOptions({isInputVisual:!0})}])})(xt),xt.API.TTFFont=(function(){function r(e){var t;if(this.rawData=e,t=this.contents=new Yl(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new YI(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new MI(this.contents),this.head=new DI(this),this.name=new UI(this),this.cmap=new Zk(this),this.toUnicode={},this.hhea=new OI(this),this.maxp=new HI(this),this.hmtx=new WI(this),this.post=new BI(this),this.os2=new FI(this),this.loca=new GI(this),this.glyf=new VI(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,l,d,h;for(h=[],a=0,l=(d=this.bbox).length;a<l;a++)e=d[a],h.push(Math.round(e*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(t=s>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,n){var s,i,a,l;for(a=0,i=0,l=(e=""+e).length;0<=l?i<l:i>l;i=0<=l?++i:--i)s=e.charCodeAt(i),a+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/t)||0;return a*(t/1e3)},r.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},r})();var fa,Yl=(function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(e){var t,n,s;for(s=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)s.push(this.writeByte(e.charCodeAt(t)));return s},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,n,s,i,a,l,d;return e=this.readByte(),t=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),a=this.readByte(),l=this.readByte(),d=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^a)+256*(255^l)+(255^d)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*s+16777216*i+65536*a+256*l+d},r.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},r.prototype.write=function(e){var t,n,s,i;for(i=[],n=0,s=e.length;n<s;n++)t=e[n],i.push(this.writeByte(t));return i},r})(),MI=(function(){var r;function e(t){var n,s,i;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,s,i,a,l,d,h,f,g,b,m,S,k;for(k in m=Object.keys(t).length,d=Math.log(2),g=16*Math.floor(Math.log(m)/d),a=Math.floor(g/d),f=16*m-g,(s=new Yl).writeInt(this.scalarType),s.writeShort(m),s.writeShort(g),s.writeShort(a),s.writeShort(f),i=16*m,h=s.pos+i,l=null,S=[],t)for(b=t[k],s.writeString(k),s.writeInt(r(b)),s.writeInt(h),s.writeInt(b.length),S=S.concat(b),k==="head"&&(l=h),h+=b.length;h%4;)S.push(0),h++;return s.write(S),n=2981146554-r(s.data),s.pos=l+8,s.writeUInt32(n),s.data},r=function(t){var n,s,i,a;for(t=Qk.call(t);t.length%4;)t.push(0);for(i=new Yl(t),s=0,n=0,a=t.length;n<a;n=n+=4)s+=i.readUInt32();return 4294967295&s},e})(),RI={}.hasOwnProperty,Va=function(r,e){for(var t in e)RI.call(e,t)&&(r[t]=e[t]);function n(){this.constructor=r}return n.prototype=e.prototype,r.prototype=new n,r.__super__=e.prototype,r};fa=(function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r})();var DI=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Va(r,fa),r.prototype.tag="head",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},r.prototype.encode=function(e){var t;return(t=new Yl).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},r})(),Sv=(function(){function r(e,t){var n,s,i,a,l,d,h,f,g,b,m,S,k,w,_,E,R;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),g=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=e.readByte();break;case 4:for(m=e.readUInt16(),b=m/2,e.pos+=6,i=(function(){var I,B;for(B=[],d=I=0;0<=b?I<b:I>b;d=0<=b?++I:--I)B.push(e.readUInt16());return B})(),e.pos+=2,k=(function(){var I,B;for(B=[],d=I=0;0<=b?I<b:I>b;d=0<=b?++I:--I)B.push(e.readUInt16());return B})(),h=(function(){var I,B;for(B=[],d=I=0;0<=b?I<b:I>b;d=0<=b?++I:--I)B.push(e.readUInt16());return B})(),f=(function(){var I,B;for(B=[],d=I=0;0<=b?I<b:I>b;d=0<=b?++I:--I)B.push(e.readUInt16());return B})(),s=(this.length-e.pos+this.offset)/2,l=(function(){var I,B;for(B=[],d=I=0;0<=s?I<s:I>s;d=0<=s?++I:--I)B.push(e.readUInt16());return B})(),d=_=0,R=i.length;_<R;d=++_)for(w=i[d],n=E=S=k[d];S<=w?E<=w:E>=w;n=S<=w?++E:--E)f[d]===0?a=n+h[d]:(a=l[f[d]/2+(n-S)-(b-d)]||0)!==0&&(a+=h[d]),this.codeMap[n]=65535&a}e.pos=g}return r.encode=function(e,t){var n,s,i,a,l,d,h,f,g,b,m,S,k,w,_,E,R,I,B,Q,te,$,M,ne,D,L,O,W,X,le,pe,ae,xe,be,ee,A,q,J,ue,fe,de,ce,Z,we,me,Me;switch(W=new Yl,a=Object.keys(e).sort(function(Be,ke){return Be-ke}),t){case"macroman":for(k=0,w=(function(){var Be=[];for(S=0;S<256;++S)Be.push(0);return Be})(),E={0:0},i={},X=0,xe=a.length;X<xe;X++)E[Z=e[s=a[X]]]==null&&(E[Z]=++k),i[s]={old:e[s],new:E[e[s]]},w[s]=E[e[s]];return W.writeUInt16(1),W.writeUInt16(0),W.writeUInt32(12),W.writeUInt16(0),W.writeUInt16(262),W.writeUInt16(0),W.write(w),{charMap:i,subtable:W.data,maxGlyphID:k+1};case"unicode":for(L=[],g=[],R=0,E={},n={},_=h=null,le=0,be=a.length;le<be;le++)E[B=e[s=a[le]]]==null&&(E[B]=++R),n[s]={old:B,new:E[B]},l=E[B]-s,_!=null&&l===h||(_&&g.push(_),L.push(s),h=l),_=s;for(_&&g.push(_),g.push(65535),L.push(65535),ne=2*(M=L.length),$=2*Math.pow(Math.log(M)/Math.LN2,2),b=Math.log($/2)/Math.LN2,te=2*M-$,d=[],Q=[],m=[],S=pe=0,ee=L.length;pe<ee;S=++pe){if(D=L[S],f=g[S],D===65535){d.push(0),Q.push(0);break}if(D-(O=n[D].new)>=32768)for(d.push(0),Q.push(2*(m.length+M-S)),s=ae=D;D<=f?ae<=f:ae>=f;s=D<=f?++ae:--ae)m.push(n[s].new);else d.push(O-D),Q.push(0)}for(W.writeUInt16(3),W.writeUInt16(1),W.writeUInt32(12),W.writeUInt16(4),W.writeUInt16(16+8*M+2*m.length),W.writeUInt16(0),W.writeUInt16(ne),W.writeUInt16($),W.writeUInt16(b),W.writeUInt16(te),de=0,A=g.length;de<A;de++)s=g[de],W.writeUInt16(s);for(W.writeUInt16(0),ce=0,q=L.length;ce<q;ce++)s=L[ce],W.writeUInt16(s);for(we=0,J=d.length;we<J;we++)l=d[we],W.writeUInt16(l);for(me=0,ue=Q.length;me<ue;me++)I=Q[me],W.writeUInt16(I);for(Me=0,fe=m.length;Me<fe;Me++)k=m[Me],W.writeUInt16(k);return{charMap:n,subtable:W.data,maxGlyphID:R+1}}},r})(),Zk=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Va(r,fa),r.prototype.tag="cmap",r.prototype.parse=function(e){var t,n,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=s?n<s:n>s;n=0<=s?++n:--n)t=new Sv(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},r.encode=function(e,t){var n,s;return t==null&&(t="macroman"),n=Sv.encode(e,t),(s=new Yl).writeUInt16(0),s.writeUInt16(1),n.table=s.data.concat(n.subtable),n},r})(),OI=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Va(r,fa),r.prototype.tag="hhea",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},r})(),FI=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Va(r,fa),r.prototype.tag="OS/2",r.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n})(),this.charRange=(function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},r})(),BI=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Va(r,fa),r.prototype.tag="post",r.prototype.parse=function(e){var t,n,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)t=e.readByte(),s.push(this.names.push(e.readString(t)));return s;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var a,l,d;for(d=[],i=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;i=0<=l?++a:--a)d.push(e.readUInt32());return d}).call(this)}},r})(),zI=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},UI=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Va(r,fa),r.prototype.tag="name",r.prototype.parse=function(e){var t,n,s,i,a,l,d,h,f,g,b;for(e.pos=this.offset,e.readShort(),t=e.readShort(),l=e.readShort(),n=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(d={},i=f=0,g=n.length;f<g;i=++f)s=n[i],e.pos=s.offset,h=e.readString(s.length),a=new zI(h,s),d[b=s.nameID]==null&&(d[b]=[]),d[s.nameID].push(a);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},r})(),HI=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Va(r,fa),r.prototype.tag="maxp",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},r})(),WI=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Va(r,fa),r.prototype.tag="hmtx",r.prototype.parse=function(e){var t,n,s,i,a,l,d;for(e.pos=this.offset,this.metrics=[],t=0,l=this.file.hhea.numberOfMetrics;0<=l?t<l:t>l;t=0<=l?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var h,f;for(f=[],t=h=0;0<=s?h<s:h>s;t=0<=s?++h:--h)f.push(e.readInt16());return f})(),this.widths=(function(){var h,f,g,b;for(b=[],h=0,f=(g=this.metrics).length;h<f;h++)i=g[h],b.push(i.advance);return b}).call(this),n=this.widths[this.widths.length-1],d=[],t=a=0;0<=s?a<s:a>s;t=0<=s?++a:--a)d.push(this.widths.push(n));return d},r.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},r})(),Qk=[].slice,VI=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Va(r,fa),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(e){var t,n,s,i,a,l,d,h,f,g;return e in this.cache?this.cache[e]:(i=this.file.loca,t=this.file.contents,n=i.indexOf(e),(s=i.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+n,a=(l=new Yl(t.read(s))).readShort(),h=l.readShort(),g=l.readShort(),d=l.readShort(),f=l.readShort(),this.cache[e]=a===-1?new qI(l,h,g,d,f):new $I(l,a,h,g,d,f),this.cache[e]))},r.prototype.encode=function(e,t,n){var s,i,a,l,d;for(a=[],i=[],l=0,d=t.length;l<d;l++)s=e[t[l]],i.push(a.length),s&&(a=a.concat(s.encode(n)));return i.push(a.length),{table:a,offsets:i}},r})(),$I=(function(){function r(e,t,n,s,i,a){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=a,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r})(),qI=(function(){function r(e,t,n,s,i){var a,l;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;l=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&l;)a.pos+=1&l?4:2,128&l?a.pos+=8:64&l?a.pos+=4:8&l&&(a.pos+=2)}return r.prototype.encode=function(){var e,t,n;for(t=new Yl(Qk.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},r})(),GI=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Va(r,fa),r.prototype.tag="loca",r.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var s,i;for(i=[],n=0,s=this.length;n<s;n+=2)i.push(2*e.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],n=0,s=this.length;n<s;n+=4)i.push(e.readUInt32());return i}).call(this)},r.prototype.indexOf=function(e){return this.offsets[e]},r.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},r.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),s=0,i=0,a=0;a<n.length;++a)if(n[a]=s,i<t.length&&t[i]==a){++i,n[a]=s;var l=this.offsets[a],d=this.offsets[a+1]-l;d>0&&(s+=d)}for(var h=new Array(4*n.length),f=0;f<n.length;++f)h[4*f+3]=255&n[f],h[4*f+2]=(65280&n[f])>>8,h[4*f+1]=(16711680&n[f])>>16,h[4*f]=(4278190080&n[f])>>24;return h},r})(),YI=(function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,n,s,i;for(t in s=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[t],e[t]=s[n];return e},r.prototype.glyphsFor=function(e){var t,n,s,i,a,l,d;for(s={},a=0,l=e.length;a<l;a++)s[i=e[a]]=this.font.glyf.glyphFor(i);for(i in t=[],s)(n=s[i])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(i in d=this.glyphsFor(t))n=d[i],s[i]=n;return s},r.prototype.encode=function(e,t){var n,s,i,a,l,d,h,f,g,b,m,S,k,w,_;for(s in n=Zk.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),m={0:0},_=n.charMap)m[(d=_[s]).old]=d.new;for(S in b=n.maxGlyphID,a)S in m||(m[S]=b++);return f=(function(E){var R,I;for(R in I={},E)I[E[R]]=R;return I})(m),g=Object.keys(f).sort(function(E,R){return E-R}),k=(function(){var E,R,I;for(I=[],E=0,R=g.length;E<R;E++)l=g[E],I.push(f[l]);return I})(),i=this.font.glyf.encode(a,k,m),h=this.font.loca.encode(i.offsets,k),w={cmap:this.font.cmap.raw(),glyf:i.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},r})();xt.API.PDFObject=(function(){var r;function e(){}return r=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,s,i,a;if(Array.isArray(t))return"["+(function(){var l,d,h;for(h=[],l=0,d=t.length;l<d;l++)n=t[l],h.push(e.convert(n));return h})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(s in i=["<<"],t)a=t[s],i.push("/"+s+" "+e.convert(a));return i.push(">>"),i.join(`
`)}return""+t},e})();function e3(r,e,t,n,s){n=n||{};var i=1.15,a=s.internal.scaleFactor,l=s.internal.getFontSize()/a,d=s.getLineHeightFactor?s.getLineHeightFactor():i,h=l*d,f=/\r\n|\r|\n/g,g="",b=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(g=typeof r=="string"?r.split(f):r,b=g.length||1),t+=l*(2-i),n.valign==="middle"?t-=b/2*h:n.valign==="bottom"&&(t-=b*h),n.halign==="center"||n.halign==="right"){var m=l;if(n.halign==="center"&&(m*=.5),g&&b>=1){for(var S=0;S<g.length;S++)s.text(g[S],e-s.getStringUnitWidth(g[S])*m,t),t+=h;return s}e-=s.getStringUnitWidth(r)*m}return n.halign==="justify"?s.text(r,e,t,{maxWidth:n.maxWidth||100,align:"justify"}):s.text(r,e,t),s}var Nv={},Yd=(function(){function r(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return r.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:Nv=e},r.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},r.prototype.applyStyles=function(e,t){var n,s,i;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var a=this.jsPDFDocument.internal.getFont(),l=a.fontStyle,d=a.fontName;if(e.font&&(d=e.font),e.fontStyle){l=e.fontStyle;var h=this.getFontList()[d];h&&h.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(h[0]),l=h[0])}if(this.jsPDFDocument.setFont(d,l),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var f=r.unifyColor(e.fillColor);f&&(n=this.jsPDFDocument).setFillColor.apply(n,f),f=r.unifyColor(e.textColor),f&&(s=this.jsPDFDocument).setTextColor.apply(s,f),f=r.unifyColor(e.lineColor),f&&(i=this.jsPDFDocument).setDrawColor.apply(i,f),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},r.prototype.splitTextToSize=function(e,t,n){return this.jsPDFDocument.splitTextToSize(e,t,n)},r.prototype.rect=function(e,t,n,s,i){return this.jsPDFDocument.rect(e,t,n,s,i)},r.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},r.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},r.prototype.getDocument=function(){return this.jsPDFDocument},r.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},r.prototype.addPage=function(){return this.jsPDFDocument.addPage()},r.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},r.prototype.getGlobalOptions=function(){return Nv||{}},r.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},r.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},r.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},r.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},r.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},r.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},r})(),r1=function(r,e){return r1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])},r1(r,e)};function t3(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r1(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var r3=(function(r){t3(e,r);function e(t){var n=r.call(this)||this;return n._element=t,n}return e})(Array);function KI(r){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/r,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function JI(r){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[r]}function G0(r,e,t){t.applyStyles(e,!0);var n=Array.isArray(r)?r:[r],s=n.map(function(i){return t.getTextWidth(i)}).reduce(function(i,a){return Math.max(i,a)},0);return s}function n3(r,e,t,n){var s=e.settings.tableLineWidth,i=e.settings.tableLineColor;r.applyStyles({lineWidth:s,lineColor:i});var a=s3(s,!1);a&&r.rect(t.x,t.y,e.getWidth(r.pageSize().width),n.y-t.y,a)}function s3(r,e){var t=r>0,n=e||e===0;return t&&n?"DF":t?"S":n?"F":null}function yp(r,e){var t,n,s,i;if(r=r||e,Array.isArray(r)){if(r.length>=4)return{top:r[0],right:r[1],bottom:r[2],left:r[3]};if(r.length===3)return{top:r[0],right:r[1],bottom:r[2],left:r[1]};if(r.length===2)return{top:r[0],right:r[1],bottom:r[0],left:r[1]};r.length===1?r=r[0]:r=e}return typeof r=="object"?(typeof r.vertical=="number"&&(r.top=r.vertical,r.bottom=r.vertical),typeof r.horizontal=="number"&&(r.right=r.horizontal,r.left=r.horizontal),{left:(t=r.left)!==null&&t!==void 0?t:e,top:(n=r.top)!==null&&n!==void 0?n:e,right:(s=r.right)!==null&&s!==void 0?s:e,bottom:(i=r.bottom)!==null&&i!==void 0?i:e}):(typeof r!="number"&&(r=e),{top:r,right:r,bottom:r,left:r})}function i3(r,e){var t=yp(e.settings.margin,0);return r.pageSize().width-(t.left+t.right)}function XI(r,e,t,n,s){var i={},a=1.3333333333333333,l=tm(e,function(R){return s.getComputedStyle(R).backgroundColor});l!=null&&(i.fillColor=l);var d=tm(e,function(R){return s.getComputedStyle(R).color});d!=null&&(i.textColor=d);var h=QI(n,t);h&&(i.cellPadding=h);var f="borderTopColor",g=a*t,b=n.borderTopWidth;if(n.borderBottomWidth===b&&n.borderRightWidth===b&&n.borderLeftWidth===b){var m=(parseFloat(b)||0)/g;m&&(i.lineWidth=m)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/g,right:(parseFloat(n.borderRightWidth)||0)/g,bottom:(parseFloat(n.borderBottomWidth)||0)/g,left:(parseFloat(n.borderLeftWidth)||0)/g},i.lineWidth.top||(i.lineWidth.right?f="borderRightColor":i.lineWidth.bottom?f="borderBottomColor":i.lineWidth.left&&(f="borderLeftColor"));var S=tm(e,function(R){return s.getComputedStyle(R)[f]});S!=null&&(i.lineColor=S);var k=["left","right","center","justify"];k.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),k=["middle","bottom","top"],k.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var w=parseInt(n.fontSize||"");isNaN(w)||(i.fontSize=w/a);var _=ZI(n);_&&(i.fontStyle=_);var E=(n.fontFamily||"").toLowerCase();return r.indexOf(E)!==-1&&(i.font=E),i}function ZI(r){var e="";return(r.fontWeight==="bold"||r.fontWeight==="bolder"||parseInt(r.fontWeight)>=700)&&(e="bold"),(r.fontStyle==="italic"||r.fontStyle==="oblique")&&(e+="italic"),e}function tm(r,e){var t=a3(r,e);if(!t)return null;var n=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var s=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function a3(r,e){var t=e(r);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?r.parentElement==null?null:a3(r.parentElement,e):t}function QI(r,e){var t=[r.paddingTop,r.paddingRight,r.paddingBottom,r.paddingLeft],n=96/(72/e),s=(parseInt(r.lineHeight)-parseInt(r.fontSize))/e/2,i=t.map(function(l){return parseInt(l||"0")/n}),a=yp(i,0);return s>a.top&&(a.top=s),s>a.bottom&&(a.bottom=s),a}function o3(r,e,t,n,s){var i,a;n===void 0&&(n=!1),s===void 0&&(s=!1);var l;typeof e=="string"?l=t.document.querySelector(e):l=e;var d=Object.keys(r.getFontList()),h=r.scaleFactor(),f=[],g=[],b=[];if(!l)return console.error("Html table could not be found with input: ",e),{head:f,body:g,foot:b};for(var m=0;m<l.rows.length;m++){var S=l.rows[m],k=(a=(i=S?.parentElement)===null||i===void 0?void 0:i.tagName)===null||a===void 0?void 0:a.toLowerCase(),w=eT(d,h,t,S,n,s);w&&(k==="thead"?f.push(w):k==="tfoot"?b.push(w):g.push(w))}return{head:f,body:g,foot:b}}function eT(r,e,t,n,s,i){for(var a=new r3(n),l=0;l<n.cells.length;l++){var d=n.cells[l],h=t.getComputedStyle(d);if(s||h.display!=="none"){var f=void 0;i&&(f=XI(r,d,e,h,t)),a.push({rowSpan:d.rowSpan,colSpan:d.colSpan,styles:f,_element:d,content:tT(d)})}}var g=t.getComputedStyle(n);if(a.length>0&&(s||g.display!=="none"))return a}function tT(r){var e=r.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function rT(r,e,t){for(var n=0,s=[r,e,t];n<s.length;n++){var i=s[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function Fo(r,e,t,n,s){if(r==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(r),a=1;a<arguments.length;a++){var l=arguments[a];if(l!=null)for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(i[d]=l[d])}return i}function l3(r,e){var t=new Yd(r),n=t.getDocumentOptions(),s=t.getGlobalOptions();rT(s,n,e);var i=Fo({},s,n,e),a;typeof window<"u"&&(a=window);var l=nT(s,n,e),d=sT(s,n,e),h=iT(t,i),f=oT(t,i,a);return{id:e.tableId,content:f,hooks:d,styles:l,settings:h}}function nT(r,e,t){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(d){if(d==="columnStyles"){var h=r[d],f=e[d],g=t[d];n.columnStyles=Fo({},h,f,g)}else{var b=[r,e,t],m=b.map(function(S){return S[d]||{}});n[d]=Fo({},m[0],m[1],m[2])}},i=0,a=Object.keys(n);i<a.length;i++){var l=a[i];s(l)}return n}function sT(r,e,t){for(var n=[r,e,t],s={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,a=n;i<a.length;i++){var l=a[i];l.didParseCell&&s.didParseCell.push(l.didParseCell),l.willDrawCell&&s.willDrawCell.push(l.willDrawCell),l.didDrawCell&&s.didDrawCell.push(l.didDrawCell),l.willDrawPage&&s.willDrawPage.push(l.willDrawPage),l.didDrawPage&&s.didDrawPage.push(l.didDrawPage)}return s}function iT(r,e){var t,n,s,i,a,l,d,h,f,g,b,m,S=yp(e.margin,40/r.scaleFactor()),k=(t=aT(r,e.startY))!==null&&t!==void 0?t:S.top,w;e.showFoot===!0?w="everyPage":e.showFoot===!1?w="never":w=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var _;e.showHead===!0?_="everyPage":e.showHead===!1?_="never":_=(s=e.showHead)!==null&&s!==void 0?s:"everyPage";var E=(i=e.useCss)!==null&&i!==void 0?i:!1,R=e.theme||(E?"plain":"striped"),I=!!e.horizontalPageBreak,B=(a=e.horizontalPageBreakRepeat)!==null&&a!==void 0?a:null;return{includeHiddenHtml:(l=e.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:E,theme:R,startY:k,margin:S,pageBreak:(d=e.pageBreak)!==null&&d!==void 0?d:"auto",rowPageBreak:(h=e.rowPageBreak)!==null&&h!==void 0?h:"auto",tableWidth:(f=e.tableWidth)!==null&&f!==void 0?f:"auto",showHead:_,showFoot:w,tableLineWidth:(g=e.tableLineWidth)!==null&&g!==void 0?g:0,tableLineColor:(b=e.tableLineColor)!==null&&b!==void 0?b:200,horizontalPageBreak:I,horizontalPageBreakRepeat:B,horizontalPageBreakBehaviour:(m=e.horizontalPageBreakBehaviour)!==null&&m!==void 0?m:"afterAllRows"}}function aT(r,e){var t=r.getLastAutoTable(),n=r.scaleFactor(),s=r.pageNumber(),i=!1;if(t&&t.startPageNumber){var a=t.startPageNumber+t.pageNumber-1;i=a===s}return typeof e=="number"?e:(e==null||e===!1)&&i&&t?.finalY!=null?t.finalY+20/n:null}function oT(r,e,t){var n=e.head||[],s=e.body||[],i=e.foot||[];if(e.html){var a=e.includeHiddenHtml;if(t){var l=o3(r,e.html,t,a,e.useCss)||{};n=l.head||n,s=l.body||n,i=l.foot||n}else console.error("Cannot parse html in non browser environment")}var d=e.columns||lT(n,s,i);return{columns:d,head:n,body:s,foot:i}}function lT(r,e,t){var n=r[0]||e[0]||t[0]||[],s=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var a=1,l;Array.isArray(n)?l=n[parseInt(i)]:l=n[i],typeof l=="object"&&!Array.isArray(l)&&(a=l?.colSpan||1);for(var d=0;d<a;d++){var h=void 0;Array.isArray(n)?h=s.length:h=i+(d>0?"_".concat(d):"");var f={dataKey:h};s.push(f)}}),s}var n1=(function(){function r(e,t,n){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=n,this.doc=e.getDocument()}return r})(),cT=(function(r){t3(e,r);function e(t,n,s,i,a,l){var d=r.call(this,t,n,l)||this;return d.cell=s,d.row=i,d.column=a,d.section=i.section,d}return e})(n1),dT=(function(){function r(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return r.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,n){return t+n.getMaxCellHeight(e)},0)},r.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,n){return t+n.getMaxCellHeight(e)},0)},r.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},r.prototype.callCellHooks=function(e,t,n,s,i,a){for(var l=0,d=t;l<d.length;l++){var h=d[l],f=new cT(e,this,n,s,i,a),g=h(f)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],g)return!1}return!0},r.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var n=0,s=this.hooks.didDrawPage;n<s.length;n++){var i=s[n];i(new n1(e,this,t))}},r.prototype.callWillDrawPageHooks=function(e,t){for(var n=0,s=this.hooks.willDrawPage;n<s.length;n++){var i=s[n];i(new n1(e,this,t))}},r.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(s,i){return s+i.wrappedWidth},0);return t}else{var n=this.settings.margin;return e-n.left-n.right}},r})(),c3=(function(){function r(e,t,n,s,i){i===void 0&&(i=!1),this.height=0,this.raw=e,e instanceof r3&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=n,this.cells=s,this.spansMultiplePages=i}return r.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(n,s){var i;return Math.max(n,((i=t.cells[s.index])===null||i===void 0?void 0:i.height)||0)},0)},r.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(n){var s=t.cells[n.index];return s?s.rowSpan>1:!1}).length>0},r.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},r.prototype.getMinimumRowHeight=function(e,t){var n=this;return e.reduce(function(s,i){var a=n.cells[i.index];if(!a)return 0;var l=t.getLineHeight(a.styles.fontSize),d=a.padding("vertical"),h=d+l;return h>s?h:s},0)},r})(),d3=(function(){function r(e,t,n){var s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=n,this.raw=e;var i=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,i=(s=e.content)!==null&&s!==void 0?s:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var a=i!=null?""+i:"",l=/\r\n|\r|\n/g;this.text=a.split(l)}return r.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var s=this.width-this.padding("horizontal");n=this.x+s/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},r.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var n=Array.isArray(this.text)?this.text.length:1,s=this.styles.fontSize/e*t,i=n*s+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},r.prototype.padding=function(e){var t=yp(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},r})(),uT=(function(){function r(e,t,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=n}return r.prototype.getMaxCustomCellWidth=function(e){for(var t=0,n=0,s=e.allRows();n<s.length;n++){var i=s[n],a=i.cells[this.index];a&&typeof a.styles.cellWidth=="number"&&(t=Math.max(t,a.styles.cellWidth))}return t},r})();function hT(r,e){fT(r,e);var t=[],n=0;e.columns.forEach(function(i){var a=i.getMaxCustomCellWidth(e);a?i.width=a:(i.width=i.wrappedWidth,t.push(i)),n+=i.width});var s=e.getWidth(r.pageSize().width)-n;s&&(s=s1(t,s,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),s&&(s=s1(t,s,function(i){return i.minWidth})),s=Math.abs(s),!e.settings.horizontalPageBreak&&s>.1/r.scaleFactor()&&(s=s<1?s:Math.round(s),console.warn("Of the table content, ".concat(s," units width could not fit page"))),gT(e),mT(e,r),pT(e)}function fT(r,e){var t=r.scaleFactor(),n=e.settings.horizontalPageBreak,s=i3(r,e);e.allRows().forEach(function(i){for(var a=0,l=e.columns;a<l.length;a++){var d=l[a],h=i.cells[d.index];if(h){var f=e.hooks.didParseCell;e.callCellHooks(r,f,h,i,d,null);var g=h.padding("horizontal");h.contentWidth=G0(h.text,h.styles,r)+g;var b=G0(h.text.join(" ").split(/[^\S\u00A0]+/),h.styles,r);if(h.minReadableWidth=b+h.padding("horizontal"),typeof h.styles.cellWidth=="number")h.minWidth=h.styles.cellWidth,h.wrappedWidth=h.styles.cellWidth;else if(h.styles.cellWidth==="wrap"||n===!0)h.contentWidth>s?(h.minWidth=s,h.wrappedWidth=s):(h.minWidth=h.contentWidth,h.wrappedWidth=h.contentWidth);else{var m=10/t;h.minWidth=h.styles.minCellWidth||m,h.wrappedWidth=h.contentWidth,h.minWidth>h.wrappedWidth&&(h.wrappedWidth=h.minWidth)}}}}),e.allRows().forEach(function(i){for(var a=0,l=e.columns;a<l.length;a++){var d=l[a],h=i.cells[d.index];if(h&&h.colSpan===1)d.wrappedWidth=Math.max(d.wrappedWidth,h.wrappedWidth),d.minWidth=Math.max(d.minWidth,h.minWidth),d.minReadableWidth=Math.max(d.minReadableWidth,h.minReadableWidth);else{var f=e.styles.columnStyles[d.dataKey]||e.styles.columnStyles[d.index]||{},g=f.cellWidth||f.minCellWidth;g&&typeof g=="number"&&(d.minWidth=g,d.wrappedWidth=g)}h&&(h.colSpan>1&&!d.minWidth&&(d.minWidth=h.minWidth),h.colSpan>1&&!d.wrappedWidth&&(d.wrappedWidth=h.minWidth))}})}function s1(r,e,t){for(var n=e,s=r.reduce(function(m,S){return m+S.wrappedWidth},0),i=0;i<r.length;i++){var a=r[i],l=a.wrappedWidth/s,d=n*l,h=a.width+d,f=t(a),g=h<f?f:h;e-=g-a.width,a.width=g}if(e=Math.round(e*1e10)/1e10,e){var b=r.filter(function(m){return e<0?m.width>t(m):!0});b.length&&(e=s1(b,e,t))}return e}function pT(r){for(var e={},t=1,n=r.allRows(),s=0;s<n.length;s++)for(var i=n[s],a=0,l=r.columns;a<l.length;a++){var d=l[a],h=e[d.index];if(t>1)t--,delete i.cells[d.index];else if(h)h.cell.height+=i.height,t=h.cell.colSpan,delete i.cells[d.index],h.left--,h.left<=1&&delete e[d.index];else{var f=i.cells[d.index];if(!f)continue;if(f.height=i.height,f.rowSpan>1){var g=n.length-s,b=f.rowSpan>g?g:f.rowSpan;e[d.index]={cell:f,left:b,row:i}}}}}function gT(r){for(var e=r.allRows(),t=0;t<e.length;t++)for(var n=e[t],s=null,i=0,a=0,l=0;l<r.columns.length;l++){var d=r.columns[l];if(a-=1,a>1&&r.columns[l+1])i+=d.width,delete n.cells[d.index];else if(s){var h=s;delete n.cells[d.index],s=null,h.width=d.width+i}else{var h=n.cells[d.index];if(!h)continue;if(a=h.colSpan,i=0,h.colSpan>1){s=h,i+=d.width;continue}h.width=d.width+i}}}function mT(r,e){for(var t={count:0,height:0},n=0,s=r.allRows();n<s.length;n++){for(var i=s[n],a=0,l=r.columns;a<l.length;a++){var d=l[a],h=i.cells[d.index];if(h){e.applyStyles(h.styles,!0);var f=h.width-h.padding("horizontal");if(h.styles.overflow==="linebreak")h.text=e.splitTextToSize(h.text,f+1/e.scaleFactor(),{fontSize:h.styles.fontSize});else if(h.styles.overflow==="ellipsize")h.text=Cv(h.text,f,h.styles,e,"...");else if(h.styles.overflow==="hidden")h.text=Cv(h.text,f,h.styles,e,"");else if(typeof h.styles.overflow=="function"){var g=h.styles.overflow(h.text,f);typeof g=="string"?h.text=[g]:h.text=g}h.contentHeight=h.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var b=h.contentHeight/h.rowSpan;h.rowSpan>1&&t.count*t.height<b*h.rowSpan?t={height:b,count:h.rowSpan}:t&&t.count>0&&t.height>b&&(b=t.height),b>i.height&&(i.height=b)}}t.count--}}function Cv(r,e,t,n,s){return r.map(function(i){return xT(i,e,t,n,s)})}function xT(r,e,t,n,s){var i=1e4*n.scaleFactor();if(e=Math.ceil(e*i)/i,e>=G0(r,t,n))return r;for(;e<G0(r+s,t,n)&&!(r.length<=1);)r=r.substring(0,r.length-1);return r.trim()+s}function u3(r,e){var t=new Yd(r),n=bT(e,t.scaleFactor()),s=new dT(e,n);return hT(t,s),t.applyStyles(t.userStyles),s}function bT(r,e){var t=r.content,n=vT(t.columns);if(t.head.length===0){var s=jv(n,"head");s&&t.head.push(s)}if(t.foot.length===0){var s=jv(n,"foot");s&&t.foot.push(s)}var i=r.settings.theme,a=r.styles;return{columns:n,head:rm("head",t.head,n,a,i,e),body:rm("body",t.body,n,a,i,e),foot:rm("foot",t.foot,n,a,i,e)}}function rm(r,e,t,n,s,i){var a={},l=e.map(function(d,h){for(var f=0,g={},b=0,m=0,S=0,k=t;S<k.length;S++){var w=k[S];if(a[w.index]==null||a[w.index].left===0)if(m===0){var _=void 0;Array.isArray(d)?_=d[w.index-b-f]:_=d[w.dataKey];var E={};typeof _=="object"&&!Array.isArray(_)&&(E=_?.styles||{});var R=wT(r,w,h,s,n,i,E),I=new d3(_,R,r);g[w.dataKey]=I,g[w.index]=I,m=I.colSpan-1,a[w.index]={left:I.rowSpan-1,times:m}}else m--,b++;else a[w.index].left--,m=a[w.index].times,f++}return new c3(d,h,r,g)});return l}function jv(r,e){var t={};return r.forEach(function(n){if(n.raw!=null){var s=yT(e,n.raw);s!=null&&(t[n.dataKey]=s)}}),Object.keys(t).length>0?t:null}function yT(r,e){if(r==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(r==="foot"&&typeof e=="object")return e.footer;return null}function vT(r){return r.map(function(e,t){var n,s;return typeof e=="object"?s=(n=e.dataKey)!==null&&n!==void 0?n:t:s=t,new uT(s,e,t)})}function wT(r,e,t,n,s,i,a){var l=JI(n),d;r==="head"?d=s.headStyles:r==="body"?d=s.bodyStyles:r==="foot"&&(d=s.footStyles);var h=Fo({},l.table,l[r],s.styles,d),f=s.columnStyles[e.dataKey]||s.columnStyles[e.index]||{},g=r==="body"?f:{},b=r==="body"&&t%2===0?Fo({},l.alternateRow,s.alternateRowStyles):{},m=KI(i),S=Fo({},m,h,b,g);return Fo(S,a)}function kT(r,e,t){var n;t===void 0&&(t={});var s=i3(r,e),i=new Map,a=[],l=[],d=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?d=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(d=[e.settings.horizontalPageBreakRepeat]),d.forEach(function(b){var m=e.columns.find(function(S){return S.dataKey===b||S.index===b});m&&!i.has(m.index)&&(i.set(m.index,!0),a.push(m.index),l.push(e.columns[m.index]),s-=m.wrappedWidth)});for(var h=!0,f=(n=t?.start)!==null&&n!==void 0?n:0;f<e.columns.length;){if(i.has(f)){f++;continue}var g=e.columns[f].wrappedWidth;if(h||s>=g)h=!1,a.push(f),l.push(e.columns[f]),s-=g;else break;f++}return{colIndexes:a,columns:l,lastIndex:f-1}}function _T(r,e){for(var t=[],n=0;n<e.columns.length;n++){var s=kT(r,e,{start:n});s.columns.length&&(t.push(s),n=s.lastIndex)}return t}function h3(r,e){var t=e.settings,n=t.startY,s=t.margin,i={x:s.left,y:n},a=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),l=n+s.bottom+a;if(t.pageBreak==="avoid"){var d=e.body,h=d.reduce(function(b,m){return b+m.height},0);l+=h}var f=new Yd(r);(t.pageBreak==="always"||t.startY!=null&&l>f.pageSize().height)&&(p3(f),i.y=s.top),e.callWillDrawPageHooks(f,i);var g=Fo({},i);e.startPageNumber=f.pageNumber(),t.horizontalPageBreak?ST(f,e,g,i):(f.applyStyles(f.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(b){return $o(f,e,b,i,e.columns)}),f.applyStyles(f.userStyles),e.body.forEach(function(b,m){var S=m===e.body.length-1;Y0(f,e,b,S,g,i,e.columns)}),f.applyStyles(f.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(b){return $o(f,e,b,i,e.columns)})),n3(f,e,g,i),e.callEndPageHooks(f,i),e.finalY=i.y,r.lastAutoTable=e,f.applyStyles(f.userStyles)}function ST(r,e,t,n){var s=_T(r,e),i=e.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")s.forEach(function(h,f){r.applyStyles(r.userStyles),f>0?fh(r,e,t,n,h.columns,!0):Pv(r,e,n,h.columns),NT(r,e,t,n,h.columns),nm(r,e,n,h.columns)});else for(var a=-1,l=s[0],d=function(){var h=a;if(l){r.applyStyles(r.userStyles);var f=l.columns;a>=0?fh(r,e,t,n,f,!0):Pv(r,e,n,f),h=Av(r,e,a+1,n,f),nm(r,e,n,f)}var g=h-a;s.slice(1).forEach(function(b){r.applyStyles(r.userStyles),fh(r,e,t,n,b.columns,!0),Av(r,e,a+1,n,b.columns,g),nm(r,e,n,b.columns)}),a=h};a<e.body.length-1;)d()}function Pv(r,e,t,n){var s=e.settings;r.applyStyles(r.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&e.head.forEach(function(i){return $o(r,e,i,t,n)})}function NT(r,e,t,n,s){r.applyStyles(r.userStyles),e.body.forEach(function(i,a){var l=a===e.body.length-1;Y0(r,e,i,l,t,n,s)})}function Av(r,e,t,n,s,i){r.applyStyles(r.userStyles),i=i??e.body.length;var a=Math.min(t+i,e.body.length),l=-1;return e.body.slice(t,a).forEach(function(d,h){var f=t+h===e.body.length-1,g=f3(r,e,f,n);d.canEntireRowFit(g,s)&&($o(r,e,d,n,s),l=t+h)}),l}function nm(r,e,t,n){var s=e.settings;r.applyStyles(r.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&e.foot.forEach(function(i){return $o(r,e,i,t,n)})}function CT(r,e,t){var n=t.getLineHeight(r.styles.fontSize),s=r.padding("vertical"),i=Math.floor((e-s)/n);return Math.max(0,i)}function jT(r,e,t,n){var s={};r.spansMultiplePages=!0,r.height=0;for(var i=0,a=0,l=t.columns;a<l.length;a++){var d=l[a],h=r.cells[d.index];if(h){Array.isArray(h.text)||(h.text=[h.text]);var f=new d3(h.raw,h.styles,h.section);f=Fo(f,h),f.text=[];var g=CT(h,e,n);h.text.length>g&&(f.text=h.text.splice(g,h.text.length));var b=n.scaleFactor(),m=n.getLineHeightFactor();h.contentHeight=h.getContentHeight(b,m),h.contentHeight>=e&&(h.contentHeight=e,f.styles.minCellHeight-=e),h.contentHeight>r.height&&(r.height=h.contentHeight),f.contentHeight=f.getContentHeight(b,m),f.contentHeight>i&&(i=f.contentHeight),s[d.index]=f}}var S=new c3(r.raw,-1,r.section,s,!0);S.height=i;for(var k=0,w=t.columns;k<w.length;k++){var d=w[k],f=S.cells[d.index];f&&(f.height=S.height);var h=r.cells[d.index];h&&(h.height=r.height)}return S}function PT(r,e,t,n){var s=r.pageSize().height,i=n.settings.margin,a=i.top+i.bottom,l=s-a;e.section==="body"&&(l-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var d=e.getMinimumRowHeight(n.columns,r),h=d<t;if(d>l)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!h)return!1;var f=e.hasRowSpan(n.columns),g=e.getMaxCellHeight(n.columns)>l;return g?(f&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(f||n.settings.rowPageBreak==="avoid")}function Y0(r,e,t,n,s,i,a){var l=f3(r,e,n,i);if(t.canEntireRowFit(l,a))$o(r,e,t,i,a);else if(PT(r,t,l,e)){var d=jT(t,l,e,r);$o(r,e,t,i,a),fh(r,e,s,i,a),Y0(r,e,d,n,s,i,a)}else fh(r,e,s,i,a),Y0(r,e,t,n,s,i,a)}function $o(r,e,t,n,s){n.x=e.settings.margin.left;for(var i=0,a=s;i<a.length;i++){var l=a[i],d=t.cells[l.index];if(!d){n.x+=l.width;continue}r.applyStyles(d.styles),d.x=n.x,d.y=n.y;var h=e.callCellHooks(r,e.hooks.willDrawCell,d,t,l,n);if(h===!1){n.x+=l.width;continue}AT(r,d,n);var f=d.getTextPos();e3(d.text,f.x,f.y,{halign:d.styles.halign,valign:d.styles.valign,maxWidth:Math.ceil(d.width-d.padding("left")-d.padding("right"))},r.getDocument()),e.callCellHooks(r,e.hooks.didDrawCell,d,t,l,n),n.x+=l.width}n.y+=t.height}function AT(r,e,t){var n=e.styles;if(r.getDocument().setFillColor(r.getDocument().getFillColor()),typeof n.lineWidth=="number"){var s=s3(n.lineWidth,n.fillColor);s&&r.rect(e.x,t.y,e.width,e.height,s)}else typeof n.lineWidth=="object"&&(n.fillColor&&r.rect(e.x,t.y,e.width,e.height,"F"),ET(r,e,t,n.lineWidth))}function ET(r,e,t,n){var s,i,a,l;n.top&&(s=t.x,i=t.y,a=t.x+e.width,l=t.y,n.right&&(a+=.5*n.right),n.left&&(s-=.5*n.left),d(n.top,s,i,a,l)),n.bottom&&(s=t.x,i=t.y+e.height,a=t.x+e.width,l=t.y+e.height,n.right&&(a+=.5*n.right),n.left&&(s-=.5*n.left),d(n.bottom,s,i,a,l)),n.left&&(s=t.x,i=t.y,a=t.x,l=t.y+e.height,n.top&&(i-=.5*n.top),n.bottom&&(l+=.5*n.bottom),d(n.left,s,i,a,l)),n.right&&(s=t.x+e.width,i=t.y,a=t.x+e.width,l=t.y+e.height,n.top&&(i-=.5*n.top),n.bottom&&(l+=.5*n.bottom),d(n.right,s,i,a,l));function d(h,f,g,b,m){r.getDocument().setLineWidth(h),r.getDocument().line(f,g,b,m,"S")}}function f3(r,e,t,n){var s=e.settings.margin.bottom,i=e.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&t)&&(s+=e.getFootHeight(e.columns)),r.pageSize().height-n.y-s}function fh(r,e,t,n,s,i){s===void 0&&(s=[]),i===void 0&&(i=!1),r.applyStyles(r.userStyles),e.settings.showFoot==="everyPage"&&!i&&e.foot.forEach(function(l){return $o(r,e,l,n,s)}),e.callEndPageHooks(r,n);var a=e.settings.margin;n3(r,e,t,n),p3(r),e.pageNumber++,n.x=a.left,n.y=a.top,t.y=a.top,e.callWillDrawPageHooks(r,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(l){return $o(r,e,l,n,s)}),r.applyStyles(r.userStyles))}function p3(r){var e=r.pageNumber();r.setPage(e+1);var t=r.pageNumber();return t===e?(r.addPage(),!0):!1}function LT(r){r.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0],s=l3(this,n),i=u3(this,s);return h3(this,i),this},r.API.lastAutoTable=!1,r.API.autoTableText=function(e,t,n,s){e3(e,t,n,s,this)},r.API.autoTableSetDefaults=function(e){return Yd.setDefaults(e,this),this},r.autoTableSetDefaults=function(e,t){Yd.setDefaults(e,t)},r.API.autoTableHtmlToJson=function(e,t){var n;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new Yd(this),i=o3(s,e,window,t,!1),a=i.head,l=i.body,d=((n=a[0])===null||n===void 0?void 0:n.map(function(h){return h.content}))||[];return{columns:d,rows:l,data:l}}}var sm;function i1(r,e){var t=l3(r,e),n=u3(r,t);h3(r,n)}try{if(typeof window<"u"&&window){var Ev=window,Lv=Ev.jsPDF||((sm=Ev.jspdf)===null||sm===void 0?void 0:sm.jsPDF);Lv&&LT(Lv)}}catch(r){console.error("Could not apply autoTable plugin",r)}function IT({summary:r={},data:e=[],chartTitle:t=""}){const[n,s]=U.useState(!1),i=Ho.useMemo(()=>{if(!r||typeof r!="object")return{};const d={};return Object.entries(r).forEach(([h,f])=>{if(f==null)d[h]="N/A";else if(typeof f=="object"&&!Array.isArray(f)){const g={};Object.entries(f).forEach(([b,m])=>{m==null?g[b]="N/A":typeof m=="object"?g[b]=JSON.stringify(m):g[b]=m}),d[h]=g}else d[h]=f}),d},[r]),a=Ho.useCallback(d=>{if(d==null)return"N/A";if(typeof d=="object")try{return JSON.stringify(d)}catch{return String(d)}return typeof d=="number"?Number.isInteger(d)?d.toLocaleString():d.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):String(d)},[]),l=()=>{const d=new xt,h=d.internal.pageSize.getWidth();d.setFillColor(37,99,235),d.rect(0,0,h,40,"F"),d.setFontSize(20),d.setFont("helvetica","bold"),d.setTextColor(255,255,255),d.text("Data Summary Report",h/2,25,{align:"center"}),d.setFontSize(9),d.setTextColor(220,220,220);const f=new Date;d.text(`${f.toLocaleDateString()} ${f.toLocaleTimeString()}`,h/2,33,{align:"center"}),d.setTextColor(40,40,40);let g=50;d.setFontSize(14),d.setFont("helvetica","bold"),d.setTextColor(37,99,235),d.text("Overview",14,g),g+=8,d.setFontSize(10),d.setFont("helvetica","normal"),d.setTextColor(60,60,60);const b=`This report contains statistical analysis of ${e.length} data points across ${Object.keys(i).length} columns. The data shows various metrics including numerical summaries and categorical breakdowns.`,m=d.splitTextToSize(b,h-28);d.text(m,14,g),g+=m.length*5+15,d.setFontSize(14),d.setFont("helvetica","bold"),d.setTextColor(37,99,235),d.text("Detailed Statistics",14,g),g+=10;const S=[];Object.entries(i).forEach(([E,R])=>{if(R&&typeof R=="object"&&!Array.isArray(R))Object.entries(R).forEach(([I,B])=>{let Q;B==null?Q="N/A":typeof B=="object"?Q=JSON.stringify(B):Q=a(B),S.push([E,String(I),Q])});else{const I=R==null?"N/A":a(R);S.push([E,"Value",I])}}),i1(d,{startY:g,head:[["Column","Metric","Value"]],body:S,theme:"striped",headStyles:{fillColor:[37,99,235],fontSize:11,fontStyle:"bold",halign:"center"},styles:{fontSize:9,cellPadding:4},alternateRowStyles:{fillColor:[245,247,250]},columnStyles:{0:{fontStyle:"bold",cellWidth:50},1:{cellWidth:60},2:{halign:"right",cellWidth:"auto"}}});const k=d.lastAutoTable.finalY+15;d.setFontSize(12),d.setFont("helvetica","bold"),d.setTextColor(37,99,235),d.text("Conclusion & Next Steps",14,k),d.setFontSize(10),d.setFont("helvetica","normal"),d.setTextColor(60,60,60);const w=d.splitTextToSize("This summary provides a snapshot of your data. For deeper insights and predictive analytics, consider using our AI Forecasting feature to project future trends and scenarios.",h-28);d.text(w,14,k+8);const _=d.internal.pageSize.getHeight();d.setFontSize(8),d.setTextColor(120,120,120),d.text("Generated by Syla Analytics • © 2025 • Visit sylaanalytics.com",h/2,_-10,{align:"center"}),d.save(`summary-report-${t.replace(/\s+/g,"-")||"data"}-${new Date().toISOString().split("T")[0]}.pdf`)};return c.jsxs("div",{className:"mt-6 rounded-2xl bg-white border border-gray-200 shadow-lg dark:bg-slate-900 dark:border-slate-700 overflow-hidden",children:[c.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 p-5 text-white flex items-center justify-between",children:[c.jsxs("button",{onClick:()=>s(!n),className:"flex items-center gap-3 text-left hover:opacity-90 transition-opacity flex-1",children:[c.jsx(Kn,{size:24,className:"flex-shrink-0"}),c.jsxs("div",{children:[c.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:["Data Summary",c.jsx("span",{className:"text-sm font-normal text-blue-100",children:n?"(Click to expand)":"(Click to minimize)"})]}),c.jsx("p",{className:"text-sm text-blue-100",children:n?"Statistical overview hidden":"Statistical overview of your data"})]})]}),c.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-4 py-2 bg-white/20 hover:bg-white/30 backdrop-blur-sm rounded-lg font-medium transition-all shadow-lg hover:shadow-xl flex-shrink-0",children:[c.jsx(Vo,{size:18}),"Export PDF"]})]}),!n&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"p-3 sm:p-5 overflow-x-auto",children:c.jsx("div",{className:"min-w-[600px]",children:c.jsxs("table",{className:"w-full border-collapse",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border-b-2 border-blue-200 dark:border-blue-700",children:[c.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 dark:text-slate-200 uppercase tracking-wider",children:"Column"}),c.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 dark:text-slate-200 uppercase tracking-wider",children:"Details"})]})}),c.jsx("tbody",{children:Object.entries(i).map(([d,h],f)=>c.jsxs("tr",{className:`border-b border-gray-200 dark:border-slate-700 transition-colors hover:bg-blue-50 dark:hover:bg-slate-800 ${f%2===0?"bg-white dark:bg-slate-900":"bg-gray-50 dark:bg-slate-900/50"}`,children:[c.jsx("td",{className:"px-6 py-4 text-sm font-semibold text-gray-800 dark:text-slate-200 align-top",children:d}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 dark:text-slate-300",children:h&&typeof h=="object"&&!Array.isArray(h)?c.jsx("table",{className:"min-w-[300px] border border-gray-300 dark:border-slate-600 rounded-lg overflow-hidden shadow-sm",children:c.jsx("tbody",{children:Object.entries(h).map(([g,b],m)=>{const S=String(g);let k;return b==null?k="N/A":typeof b=="object"?k=JSON.stringify(b):k=a(b),c.jsxs("tr",{className:`${m%2===0?"bg-gray-100 dark:bg-slate-800":"bg-white dark:bg-slate-900"}`,children:[c.jsx("td",{className:"px-4 py-2 text-xs font-medium text-gray-700 dark:text-slate-200 border-r border-gray-300 dark:border-slate-600 uppercase tracking-wide",children:S}),c.jsx("td",{className:"px-4 py-2 text-xs text-gray-900 dark:text-slate-100 font-mono break-words max-w-xs",children:k})]},m)})})}):c.jsx("span",{className:"font-mono",children:a(String(h??"N/A"))})})]},f))})]})})}),c.jsx("div",{className:"p-5 bg-blue-50 dark:bg-blue-900/20 border-t border-blue-200 dark:border-blue-700",children:c.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:[c.jsx("strong",{children:"💡 Tip:"}),' Click "Export PDF" to download a comprehensive report with statistical analysis and recommendations for forecasting.']})})]})]})}const TT=({onClose:r,onSignup:e,onLogin:t})=>c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white dark:bg-ink rounded-2xl p-6 max-w-md w-full border-2 border-neonBlue/20 shadow-xl",children:[c.jsx("h2",{className:"text-xl font-display font-bold text-gray-800 dark:text-slate-200 mb-3",children:"Sign In Required"}),c.jsx("p",{className:"text-gray-600 dark:text-slate-400 mb-6",children:"You need to create an account or sign in to use the visualization features."}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:e,className:"flex-1 px-4 py-2 bg-neonBlue text-white rounded-lg hover:bg-blue-600 font-medium",children:"Sign Up"}),c.jsx("button",{onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 dark:border-white/20 dark:text-slate-300 dark:hover:bg-slate-800",children:"Log In"})]}),c.jsx("button",{onClick:r,className:"mt-3 w-full text-sm text-gray-500 hover:text-gray-700 dark:text-slate-400 dark:hover:text-slate-200",children:"Cancel"})]})});function MT(){const r=ms(),{user:e}=C1(),[t,n]=U.useState(!1),[s,i]=U.useState(""),{chartData:a,updateChartOptions:l,updateChartData:d,hasData:h}=cu(),[f,g]=U.useState("light"),[b,m]=U.useState(!1);U.useEffect(()=>{const w=()=>{if(!e){i("");return}i(AS(e.name))};w();const _=setInterval(w,6e4);return()=>clearInterval(_)},[e]),U.useEffect(()=>{const w=localStorage.getItem("theme")||"light";g(w)},[]),U.useEffect(()=>{document.body.classList.remove("dark","light"),document.body.classList.add(f==="light"?"light":"dark")},[f]);const S=()=>{r("/signup"),n(!1)},k=()=>{r("/login"),n(!1)};return c.jsxs("div",{className:"flex min-h-screen overflow-x-hidden relative",children:[c.jsx(xi,{theme:f,setTheme:g,onReportChange:()=>{}}),c.jsxs("div",{className:"flex-1 transition-all duration-300",children:[c.jsx(Bi,{user:e}),c.jsxs("main",{className:"mx-auto max-w-7xl px-4 pb-16 pt-8",children:[c.jsxs("div",{className:"hero-section w-screen -mx-4 relative",children:[c.jsx("div",{className:"hero-gradient-bg"}),c.jsx("div",{className:"hero-content",children:e?c.jsxs(c.Fragment,{children:[c.jsx("h1",{className:"font-body text-4xl md:text-5xl tracking-wide mb-6 text-gray-800 dark:text-slate-200",dangerouslySetInnerHTML:{__html:s.replace(/(\b[A-Z][a-zA-Z]*)(?=$|\s*$)/,w=>`<span class='text-neonYellow font-bold'>${w}</span>`)}}),c.jsx("p",{className:"text-lg text-gray-700 dark:text-slate-300 max-w-3xl mx-auto",children:"Ready to dive into your data? Upload files for cleaning and visualization, or use our powerful file conversion tools."}),c.jsxs("div",{className:"flex flex-wrap gap-4 justify-center mt-8",children:[c.jsxs(zt,{to:"/forecast",className:`relative flex items-center justify-center p-5 rounded-full
                                         bg-gradient-to-br from-red-400/40 to-red-600/40
                                         border border-red-200/30 shadow-lg shadow-blue-300/40
                                         hover:scale-105 active:scale-95 transition-all duration-200`,children:[c.jsx("span",{className:"absolute top-2 left-2 w-2 h-2 bg-blue-300 rounded-full animate-dot1"}),c.jsx("span",{className:"absolute bottom-3 right-3 w-2 h-2 bg-blue-400 rounded-full animate-dot2"}),c.jsx("span",{className:"absolute bottom-2 left-2 w-2 h-2 bg-yellow-300 rounded-full animate-dot5"}),c.jsx("span",{className:"absolute top-1 right-4 w-1.5 h-1.5 bg-blue-500 rounded-full animate-dot3"}),c.jsx(km,{size:28,className:"text-white drop-shadow-lg z-10"}),c.jsx("span",{className:"ml-2 text-white font-semibold z-10",children:"AI Forecasting"})]}),c.jsx(zt,{to:"/pricing",className:`relative flex items-center justify-center p-5 rounded-full
                                border-2 border-neonBlue text-neonBlue font-semibold
                                hover:bg-neonBlue hover:text-white transition-all duration-300`,children:c.jsx("span",{className:"ml-2 z-10",children:"Price Listing"})})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("h1",{className:"font-body text-2xl sm:text-3xl md:text-4xl lg:text-5xl tracking-wide mb-6 text-gray-800 dark:text-slate-200",children:["From raw data to ",c.jsx("span",{className:"text-red-500 font-semibold",children:"smart decisions"}),c.jsx("br",{}),"all powered by ",c.jsx("span",{className:"text-neonYellow font-semibold",children:"Ai"}),"."]}),c.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-700 dark:text-slate-300 mb-8 max-w-4xl mx-auto",children:"Clean, visualize, and convert your data with intelligent automation."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center px-4",children:[c.jsx("button",{onClick:S,className:"w-full sm:w-auto px-6 sm:px-8 py-3 text-sm sm:text-base bg-neonBlue text-white rounded-xl font-semibold hover:bg-blue-600 shadow-lg hover:shadow-neon transition-all duration-300",children:"Get Started - Sign Up"}),c.jsx("button",{onClick:k,className:"w-full sm:w-auto px-6 sm:px-8 py-3 text-sm sm:text-base border-2 border-neonBlue text-neonBlue rounded-xl font-semibold hover:bg-neonBlue hover:text-white transition-all duration-300",children:"Already have an account? Log In"})]})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6 mt-6",children:[c.jsx("section",{className:"lg:col-span-1 rounded-2xl bg-white border border-gray-200 shadow-sm dark:bg-ink/80 dark:border-white/5 dark:shadow-soft neon-border",children:c.jsxs("div",{className:"p-5",children:[c.jsx("h2",{className:"font-display text-lg mb-1",children:"Upload Data"}),c.jsx("p",{className:"text-gray-500 text-sm mb-4 dark:text-slate-400",children:"CSV / Excel only. Preview & progress included."}),c.jsx(cC,{onData:w=>{if(!e){n(!0);return}}})]})}),c.jsx("section",{className:"lg:col-span-2 rounded-2xl bg-white border border-gray-200 shadow-sm dark:bg-ink/80 dark:border-white/5 dark:shadow-soft neon-border",children:c.jsxs("div",{className:"p-5",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h2",{className:"font-display text-lg",children:"Visualization"}),c.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-black/30 transition",onClick:()=>m(w=>!w),children:c.jsx($l,{size:18,className:"text-gray-600 dark:text-slate-400"})})]}),b&&c.jsx("div",{className:"mb-4",children:c.jsx(lk,{options:a.chartOptions,setOptions:l,columns:a.columns,data:a.data})}),e&&h?c.jsx(Y1,{data:a.data,columns:a.columns,types:a.types,options:a.chartOptions,chartTitle:a.chartTitle,xAxis:a.xAxis,yAxis:a.yAxis,setXAxis:w=>d({xAxis:w}),setYAxis:w=>d({yAxis:w})}):e?c.jsxs("div",{className:"rounded-2xl p-8 bg-gray-50 dark:bg-black/20 text-center text-gray-500",children:[c.jsx("div",{className:"text-lg font-medium",children:"Upload to visualize"}),c.jsx("div",{className:"text-sm mt-2",children:"Upload a CSV / Excel file on the left to enable the visualization tools."})]}):c.jsxs("div",{className:"rounded-2xl p-8 bg-gray-50 dark:bg-black/20 text-center text-gray-500",children:[c.jsx("div",{className:"text-lg font-medium mb-2",children:"Sign in to visualize"}),c.jsx("div",{className:"text-sm",children:"Create an account or sign in to unlock visualization features."}),c.jsx("div",{className:"mt-4",children:c.jsx("button",{onClick:()=>n(!0),className:"px-6 py-2 bg-neonBlue text-white rounded-lg hover:bg-blue-600 transition-colors duration-200",children:"Sign In"})})]})]})})]}),Object.keys(a.summary||{}).length>0&&e&&c.jsx(IT,{summary:a.summary,data:a.data,chartTitle:a.chartTitle}),c.jsx("div",{className:"mt-12",children:c.jsx(s7,{})})]}),c.jsx(mp,{})]}),t&&c.jsx(TT,{onClose:()=>n(!1),onSignup:S,onLogin:k})]})}function RT({title:r="Upload File",hint:e="",accept:t="",multiple:n=!1,files:s=[],setFiles:i=()=>{},onUpload:a=null,viewMode:l="grid",setViewMode:d=()=>{},uploadLabel:h="Upload & Process",loading:f=!1,toolType:g="convert"}){const b=U.useRef(null),[m,S]=U.useState(!1),[k,w]=U.useState("");U.useEffect(()=>{w("")},[s]);const _=$=>{const M=Array.from($.target.files||[]);M.length&&(i(n?M:[M[0]]),$.target.value="")},E=$=>{$.preventDefault();const M=Array.from($.dataTransfer.files||[]);M.length&&i(n?M:[M[0]])},R=$=>{const M=[...s];M.splice($,1),i(M)},I=()=>{switch(g){case"compress":return"Upload File to Compress";case"merge":return"Upload PDF Files to Merge";case"csv-to-excel":return"Upload CSV to convert to Excel";case"excel-to-csv":return"Upload Excel to convert to CSV";case"pdf-to-csv":return"Upload PDF to extract to CSV";case"csv-to-pdf":return"Upload CSV to convert to PDF";case"pdf-to-excel":return"Upload PDF to convert to Excel";case"excel-to-pdf":return"Upload Excel to convert to PDF";case"pdf-to-word":return"Upload PDF to convert to Word";case"word-to-pdf":return"Upload Word document to convert to PDF";case"image-to-pdf":return"Upload image to convert to PDF";default:return r}},B=()=>{if(t)return t;switch(g){case"compress":return"*/*";case"merge":return".pdf,application/pdf";case"csv-to-excel":case"csv-to-pdf":return".csv,text/csv";case"excel-to-csv":case"excel-to-pdf":return".xls,.xlsx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel";case"pdf-to-csv":case"pdf-to-excel":case"pdf-to-word":return".pdf,application/pdf";case"word-to-pdf":return".doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document";case"image-to-pdf":return".jpg,.jpeg,.png,.gif,.bmp,.tiff,.tif,image/*";default:return"*/*"}},Q=async()=>{w(""),S(!0);try{if(!s||s.length===0)throw new Error("No file selected");const $={compress:{url:"/api/filetools/pdf/compress",multi:!1,formFileKey:"file"},"compress-any":{url:"/api/filetools/file/compress",multi:!1,formFileKey:"file"},merge:{url:"/api/filetools/pdf/merge",multi:!0,formFileKey:"files"},"csv-to-excel":{url:"/api/filetools/convert/csv-to-excel",multi:!1,formFileKey:"file"},"excel-to-csv":{url:"/api/filetools/convert/excel-to-csv",multi:!1,formFileKey:"file"},"pdf-to-csv":{url:"/api/filetools/convert/pdf-to-csv",multi:!1,formFileKey:"file"},"csv-to-pdf":{url:"/api/filetools/convert/csv-to-pdf",multi:!1,formFileKey:"file"},"pdf-to-excel":{url:"/api/filetools/convert/pdf-to-excel",multi:!1,formFileKey:"file"},"excel-to-pdf":{url:"/api/filetools/convert/excel-to-pdf",multi:!1,formFileKey:"file"},"pdf-to-word":{url:"/api/filetools/convert/pdf-to-word",multi:!1,formFileKey:"file"},"word-to-pdf":{url:"/api/filetools/word-to-pdf",multi:!1,formFileKey:"file"},"image-to-pdf":{url:"/api/filetools/image-to-pdf",multi:!1,formFileKey:"file"}};let M=$[g]||$.compress;const ne=new FormData;M.multi?s.forEach(O=>{ne.append(M.formFileKey,O)}):ne.append(M.formFileKey,s[0]);const D=await fetch(M.url,{method:"POST",body:ne}),L=await D.json();if(!D.ok)throw new Error(L.detail||L.error||JSON.stringify(L));if(typeof a=="function")try{await a(s,{result:L,toolType:g})}catch{}return S(!1),L}catch($){return S(!1),w($.message||String($)),Promise.reject($)}},te=async()=>{if(typeof a=="function")try{const $=a(s);$&&typeof $.then=="function"&&await $}catch($){w($.message||String($))}else await Q()};return c.jsxs("section",{className:"rounded-2xl bg-white dark:bg-slate-900 border-2 shadow-lg p-6 max-w-6xl fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-50",style:{borderColor:"rgba(14,165,233,0.35)"},children:[c.jsx("h3",{className:"font-display text-lg mb-2 text-gray-800 dark:text-slate-200",children:I()}),e&&c.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mb-6",children:e}),c.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 items-center",children:[c.jsxs("div",{onDrop:E,onDragOver:$=>$.preventDefault(),className:"flex-1 rounded-xl p-6 text-center transition-all duration-300 bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-dashed hover:border-sky-400",style:{minHeight:"140px",display:"flex",flexDirection:"column",justifyContent:"center",boxShadow:"0 8px 32px rgba(59, 130, 246, 0.08)"},children:[c.jsx("div",{className:"mb-3",children:c.jsx("svg",{className:"mx-auto h-10 w-10 text-sky-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:c.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),c.jsx("p",{className:"mb-2 font-medium text-gray-700 dark:text-slate-300",children:"Drag & drop your file here"}),c.jsxs("p",{className:"text-xs mb-4 text-gray-500 dark:text-slate-400",children:["Accepted: ",c.jsx("span",{className:"font-mono text-sky-500",children:B()})]}),c.jsx("button",{type:"button",onClick:()=>b.current?.click(),className:"px-4 py-2 rounded-lg border-2 bg-white text-sky-500 hover:bg-sky-500 hover:text-white transition-all duration-300 font-medium shadow-md",children:"Choose File"}),c.jsx("input",{ref:b,type:"file",accept:B(),multiple:n,onChange:_,className:"hidden"})]}),c.jsxs("div",{className:"lg:w-80 w-full space-y-4",children:[c.jsxs("div",{className:"p-4 rounded-lg bg-gray-50 dark:bg-slate-800/50 border border-gray-200",children:[c.jsx("div",{className:"text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Selected Files:"}),s.length?c.jsx("div",{className:"space-y-1",children:s.map(($,M)=>c.jsxs("div",{className:"flex items-center justify-between p-2 bg-white dark:bg-slate-700 rounded border",children:[c.jsx("span",{className:"truncate flex-1 mr-2",children:$.name||$.filename}),$.size&&c.jsxs("span",{className:"text-xs text-gray-500 dark:text-slate-400",children:[Math.round($.size/1024)," KB"]}),c.jsx("button",{onClick:()=>R(M),className:"ml-2 px-2 py-1 text-xs rounded bg-red-100 text-red-700",children:"X"})]},M))}):c.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"No file selected"})]}),s.length>0&&c.jsx("button",{onClick:te,disabled:f||m,className:`w-full px-6 py-3 rounded-lg font-medium transition-all duration-300 ${f||m?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-sky-500 text-white hover:bg-sky-600 shadow-lg"}`,children:f||m?"Processing...":h}),s.length>0&&c.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2",children:[c.jsx("span",{className:"text-xs text-gray-600 dark:text-slate-400 mr-2",children:"View:"}),["grid","details","list"].map($=>c.jsx("button",{onClick:()=>d($),className:`px-3 py-1.5 rounded text-xs font-medium transition-all duration-200 ${l===$?"bg-sky-500 text-white shadow-sm":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:$.charAt(0).toUpperCase()+$.slice(1)},$))]}),k&&c.jsx("div",{className:"mt-2 p-2 text-xs text-red-600 bg-red-50 rounded border border-red-200",children:k})]})]})]})}function DT({files:r=[],onUpload:e=null,uploadLabel:t="Process",downloadUrl:n="",onDownload:s=null,error:i="",loading:a=!1,showPanel:l=!1,conversionComplete:d=!1,fileName:h="",toolType:f="convert",onCompressionLevelChange:g=()=>{}}){const[b,m]=U.useState("medium"),[S,k]=U.useState(340),[w,_]=U.useState(null),[E,R]=U.useState(!1),[I,B]=U.useState({x:0,y:0}),Q=U.useRef(null),[te,$]=U.useState(!1),[M,ne]=U.useState("");U.useEffect(()=>{f!=="compress"&&m("medium")},[f]),U.useEffect(()=>{k(f==="compress"&&!d?420:f==="merge"?380:340)},[f,d]);const D=be=>{if(!Q.current)return;R(!0);const ee=Q.current.getBoundingClientRect();B({x:be.clientX-ee.left,y:be.clientY-ee.top})},L=be=>{E&&_({x:be.clientX-I.x,y:be.clientY-I.y})},O=()=>R(!1);if(U.useEffect(()=>(E?(window.addEventListener("mousemove",L),window.addEventListener("mouseup",O)):(window.removeEventListener("mousemove",L),window.removeEventListener("mouseup",O)),()=>{window.removeEventListener("mousemove",L),window.removeEventListener("mouseup",O)}),[E,I]),!l)return null;const W=()=>{switch(f){case"compress":return"File Compression";case"merge":return"File Merging";case"csv-to-excel":case"excel-to-csv":case"pdf-to-csv":case"csv-to-pdf":case"pdf-to-excel":case"excel-to-pdf":case"pdf-to-word":case"word-to-pdf":case"image-to-pdf":return"File Conversion";case"pdf":return"PDF Export";case"csv":return"CSV Export";default:return"File Processing"}},X=be=>{m(be),g(be)},le=async(be=r,ee={})=>{ne(""),$(!0);try{if(!be||be.length===0)throw new Error("No file provided for processing.");const A={compress:{url:"/api/filetools/pdf/compress",method:"POST",form:(ce,Z)=>{ce.append("file",Z),ce.append("level",b)}},"compress-any":{url:"/api/filetools/file/compress",method:"POST",form:(ce,Z)=>{ce.append("file",Z),ce.append("level",b)}},merge:{url:"/api/filetools/pdf/merge",method:"POST-multi",form:(ce,Z)=>ce.append("files",Z)},"csv-to-excel":{url:"/api/filetools/convert/csv-to-excel",method:"POST",form:(ce,Z)=>ce.append("file",Z)},"excel-to-csv":{url:"/api/filetools/convert/excel-to-csv",method:"POST",form:(ce,Z)=>ce.append("file",Z)},"pdf-to-csv":{url:"/api/filetools/convert/pdf-to-csv",method:"POST",form:(ce,Z)=>ce.append("file",Z)},"csv-to-pdf":{url:"/api/filetools/convert/csv-to-pdf",method:"POST",form:(ce,Z)=>ce.append("file",Z)},"pdf-to-excel":{url:"/api/filetools/convert/pdf-to-excel",method:"POST",form:(ce,Z)=>ce.append("file",Z)},"excel-to-pdf":{url:"/api/filetools/convert/excel-to-pdf",method:"POST",form:(ce,Z)=>ce.append("file",Z)},"pdf-to-word":{url:"/api/filetools/convert/pdf-to-word",method:"POST",form:(ce,Z)=>ce.append("file",Z)},"word-to-pdf":{url:"/api/filetools/word-to-pdf",method:"POST",form:(ce,Z)=>ce.append("file",Z)},"image-to-pdf":{url:"/api/filetools/image-to-pdf",method:"POST",form:(ce,Z)=>ce.append("file",Z)}};let q=A[f];if(!q&&f==="compress"&&(q=A.compress),!q)throw new Error("Unsupported tool type for built-in processing: "+f);const J=new FormData;q.method==="POST-multi"||f==="merge"?be.forEach(ce=>{q.form(J,ce)}):q.form(J,be[0]);const ue=await fetch(q.url,{method:"POST",body:J}),fe=await ue.json();if(!ue.ok)throw new Error(fe.detail||fe.error||JSON.stringify(fe));try{typeof e=="function"&&e(be,{result:fe,toolType:f,level:b})}catch{}const de=fe.download_url||fe.url||"";if(de)if(typeof s=="function")s(de);else{const ce=de.startsWith("/")?window.location.origin+de:de;window.open(ce,"_blank")}return $(!1),fe}catch(A){return $(!1),ne(A.message||String(A)),Promise.reject(A)}},pe=async()=>{if(typeof e=="function")try{const be=e(r,{level:b});if(be&&typeof be.then=="function"){const A=(await be)?.download_url;A&&(typeof s=="function"?s(A):window.open(A.startsWith("/")?window.location.origin+A:A,"_blank"))}}catch(be){ne(be.message||String(be))}else await le(r,{})},ae=()=>{if(typeof s=="function")s(n);else if(n){const be=n.startsWith("/")?window.location.origin+n:n;window.open(be,"_blank")}},xe=()=>{if(a||te)return`${W().split(" ")[0]} Processing...`;switch(f){case"compress":return`Compress File (${b})`;case"merge":return"Merge Files";case"csv-to-excel":return"Convert CSV → Excel";case"excel-to-csv":return"Convert Excel → CSV";case"pdf-to-csv":return"Convert PDF → CSV";case"csv-to-pdf":return"Convert CSV → PDF";case"pdf-to-excel":return"Convert PDF → Excel";case"excel-to-pdf":return"Convert Excel → PDF";case"pdf-to-word":return"Convert PDF → Word";case"word-to-pdf":return"Convert Word → PDF";case"image-to-pdf":return"Convert Image → PDF";default:return t||"Process"}};return c.jsxs("div",{ref:Q,style:{position:"fixed",right:w?"auto":window.innerWidth<768?8:24,top:w||window.innerWidth<768?"auto":"50%",bottom:w?"auto":window.innerWidth<768?8:"auto",left:w?w.x:"auto",transform:w||window.innerWidth<768?"none":"translateY(-50%)",...w&&{top:w.y},width:window.innerWidth<768?"calc(100vw - 16px)":S,maxHeight:"calc(100vh - 72px)",zIndex:1e3,display:"flex",flexDirection:"column",backgroundColor:"white",borderRadius:"1rem",boxShadow:"0 10px 30px rgba(0,0,0,0.08)",overflow:"hidden",maxWidth:window.innerWidth<768?"calc(100vw - 16px)":"none",border:"2px solid rgba(14,165,233,0.35)"},children:[c.jsx("div",{onMouseDown:D,className:"p-3 border-b border-gray-200 bg-sky-50 cursor-grab",children:c.jsx("div",{className:"text-sm font-semibold text-gray-800 flex items-center",children:W()})}),c.jsxs("div",{className:"flex-1 overflow-y-auto px-5 py-4",children:[f==="compress"&&!d&&c.jsx("div",{className:"mb-4 flex gap-2",children:[{value:"light",label:"Light",reduction:"~25%"},{value:"medium",label:"Medium",reduction:"~50%"},{value:"strong",label:"Strong",reduction:"~75%"}].map(be=>c.jsxs("button",{onClick:()=>X(be.value),className:`flex-1 px-3 py-2 text-xs rounded border transition-all duration-150 ${b===be.value?"border-sky-500 bg-sky-100 text-sky-700":"border-gray-300 text-gray-700 hover:border-gray-400"}`,children:[be.label," ",be.reduction]},be.value))}),c.jsxs("div",{className:`mb-4 p-3 rounded-lg ${d?"bg-green-50 border border-green-200 text-green-700":"bg-sky-50 border border-sky-200 text-sky-700"}`,children:[c.jsx("span",{className:"text-sm font-medium",children:d?`${W()} Complete!`:"Ready to process"}),h&&d&&c.jsx("p",{className:"text-xs mt-1 break-all",children:h})]}),c.jsx("div",{children:c.jsx("button",{onClick:pe,disabled:a||te,className:`w-full px-4 py-2 rounded-lg text-sm font-semibold mb-3 transition-all duration-300 ${a||te?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-sky-500 text-white hover:bg-sky-600 shadow-md"}`,children:xe()})}),d&&c.jsx("button",{onClick:ae,disabled:!n,className:`w-full px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 ${n?"bg-green-500 text-white hover:bg-green-600":"bg-gray-100 text-gray-500 cursor-not-allowed"}`,children:n?"Download Result":"Preparing file..."}),(M||i)&&c.jsx("div",{className:"mt-3 p-3 text-xs text-red-600 bg-red-50 rounded-lg border border-red-200",children:M||i})]})]})}function OT({theme:r,setTheme:e}){const{action:t}=A_(),[n]=E5(),[s,i]=U.useState([]),[a,l]=U.useState(""),[d,h]=U.useState(""),[f,g]=U.useState(!1),[b,m]=U.useState(!1),[S,k]=U.useState(""),[w,_]=U.useState(null),[E,R]=U.useState("medium"),[I,B]=U.useState("grid");U.useEffect(()=>{const D=n.get("token");D&&fetch(`/api/filetools/retrieve/${D}`).then(L=>L.blob()).then(L=>{const O=new File([L],"stashed_file",{type:L.type||"application/octet-stream"});_(O),i([O])}).catch(console.warn)},[n]),U.useEffect(()=>{l(""),h(""),g(!1),m(!1),k(""),R("medium"),i([])},[t]);const te={compress:{type:"compress",label:"File → Compressed File",accept:".pdf,.docx,.xlsx,.csv,.txt",endpoint:"/api/filetools/pdf/compress"},merge:{type:"merge",label:"Merge PDFs",accept:".pdf",endpoint:"/api/filetools/pdf/merge"},"pdf-to-word":{type:"convert",label:"PDF → Word",accept:".pdf",endpoint:"/api/filetools/pdf-to-word"},"word-to-pdf":{type:"convert",label:"Word → PDF",accept:".doc,.docx",endpoint:"/api/filetools/word-to-pdf"},"image-to-pdf":{type:"convert",label:"Image → PDF",accept:".jpg,.jpeg,.png,.gif,.bmp,.tiff,.tif",endpoint:"/api/filetools/image-to-pdf"},"pdf-to-excel":{type:"convert",label:"PDF → Excel",accept:".pdf",endpoint:"/api/filetools/pdf-to-excel"},"excel-to-pdf":{type:"convert",label:"Excel → PDF",accept:".xls,.xlsx",endpoint:"/api/filetools/excel-to-pdf"},"csv-to-excel":{type:"convert",label:"CSV → Excel",accept:".csv",endpoint:"/api/filetools/csv-to-excel"},"excel-to-csv":{type:"convert",label:"Excel → CSV",accept:".xls,.xlsx",endpoint:"/api/filetools/excel-to-csv"},"pdf-to-csv":{type:"convert",label:"PDF → CSV",accept:".pdf",endpoint:"/api/filetools/pdf-to-csv"},"csv-to-pdf":{type:"convert",label:"CSV → PDF",accept:".csv",endpoint:"/api/filetools/csv-to-pdf"}}[t]||null,$=async(D=null)=>{if(!s.length){h("Please select a file first.");return}g(!0),h(""),m(!1);try{const L=new FormData;te.type==="merge"?s.forEach(le=>L.append("files",le)):L.append("file",s[0]),te.type==="compress"&&L.append("level",D||E);const O=te.endpoint,W=await fetch(O,{method:"POST",body:L}),X=await W.json();if(!W.ok)throw new Error(X.detail||X.error||"Conversion failed");l(X.download_url),k(X.filename||"converted_file"),m(!0)}catch(L){h(L.message||"Conversion failed"),m(!1)}finally{g(!1)}},M=()=>{a&&window.open(a,"_blank")},ne=D=>{R(D),b&&(m(!1),l(""),k(""),h(""))};return c.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-slate-950",children:[c.jsx(xi,{theme:r,setTheme:e,onReportChange:()=>{}}),c.jsxs("div",{className:"flex-1 transition-all duration-300",children:[c.jsx(Bi,{}),c.jsx("div",{className:"flex-1 flex flex-col p-6 space-y-6",children:te?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:`${te.type==="merge"?"max-w-6xl mx-auto":"max-w-4xl mx-auto"}`,children:c.jsx(RT,{title:te.type==="compress"?"Select file to Compress":te.type==="merge"?"Select PDFs to Merge":`Select file for ${te.label}`,hint:te.type==="compress"?"Choose a file and select your preferred compression level":te.type==="merge"?"You can select up to 15 PDF files to merge into one document":`Upload ${te.accept.replace(/\./g,"").toUpperCase()} file for conversion`,accept:te.accept,multiple:te.type==="merge",files:s,setFiles:i,viewMode:I,setViewMode:B,onUpload:$,uploadLabel:te.type==="compress"?`Compress (${E})`:te.type==="merge"?"Merge PDFs":"Convert",loading:f,borderColor:"sky-400"})}),c.jsx(DT,{showPanel:s.length>0,downloadUrl:a,onDownload:M,onUpload:$,uploadLabel:te.type==="compress"?`Compress (${E})`:te.type==="merge"?"Merge PDFs":"Convert",error:d,loading:f,conversionComplete:b,fileName:S,toolType:t,compressionLevel:E,onCompressionLevelChange:ne,borderColor:"sky-400"})]}):c.jsx("div",{className:"text-center text-gray-600 dark:text-gray-300",children:c.jsxs("div",{className:"max-w-md mx-auto p-8 bg-white dark:bg-ink/80 rounded-2xl border border-gray-200 dark:border-white/5 shadow-soft",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-slate-200 mb-2",children:"Tool Not Found"}),c.jsxs("p",{className:"text-gray-600 dark:text-slate-400",children:['The requested tool "',t,'" is not available.']})]})})})]})]})}const FT=()=>{};var Iv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},BT=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const s=r[t++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const i=r[t++];e[n++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=r[t++],a=r[t++],l=r[t++],d=((s&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(d>>10)),e[n++]=String.fromCharCode(56320+(d&1023))}else{const i=r[t++],a=r[t++];e[n++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},m3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<r.length;s+=3){const i=r[s],a=s+1<r.length,l=a?r[s+1]:0,d=s+2<r.length,h=d?r[s+2]:0,f=i>>2,g=(i&3)<<4|l>>4;let b=(l&15)<<2|h>>6,m=h&63;d||(m=64,a||(b=64)),n.push(t[f],t[g],t[b],t[m])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(g3(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):BT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<r.length;){const i=t[r.charAt(s++)],l=s<r.length?t[r.charAt(s)]:0;++s;const h=s<r.length?t[r.charAt(s)]:64;++s;const g=s<r.length?t[r.charAt(s)]:64;if(++s,i==null||l==null||h==null||g==null)throw new zT;const b=i<<2|l>>4;if(n.push(b),h!==64){const m=l<<4&240|h>>2;if(n.push(m),g!==64){const S=h<<6&192|g;n.push(S)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class zT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UT=function(r){const e=g3(r);return m3.encodeByteArray(e,!0)},x3=function(r){return UT(r).replace(/\./g,"")},b3=function(r){try{return m3.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT=()=>HT().__FIREBASE_DEFAULTS__,VT=()=>{if(typeof process>"u"||typeof Iv>"u")return;const r=Iv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},$T=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&b3(r[1]);return e&&JSON.parse(e)},ex=()=>{try{return FT()||WT()||VT()||$T()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},qT=r=>ex()?.emulatorHosts?.[r],y3=()=>ex()?.config,v3=r=>ex()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function YT(r){return(await fetch(r,{credentials:"include"})).ok}const ph={};function KT(){const r={prod:[],emulator:[]};for(const e of Object.keys(ph))ph[e]?r.emulator.push(e):r.prod.push(e);return r}function JT(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let Tv=!1;function XT(r,e){if(typeof window>"u"||typeof document>"u"||!vp(window.location.host)||ph[r]===e||ph[r]||Tv)return;ph[r]=e;function t(b){return`__firebase__banner__${b}`}const n="__firebase__banner",i=KT().prod.length>0;function a(){const b=document.getElementById(n);b&&b.remove()}function l(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function d(b,m){b.setAttribute("width","24"),b.setAttribute("id",m),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function h(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Tv=!0,a()},b}function f(b,m){b.setAttribute("id",m),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function g(){const b=JT(n),m=t("text"),S=document.getElementById(m)||document.createElement("span"),k=t("learnmore"),w=document.getElementById(k)||document.createElement("a"),_=t("preprendIcon"),E=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const R=b.element;l(R),f(w,k);const I=h();d(E,_),R.append(E,S,w,I),document.body.appendChild(R)}i?(S.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(As())}function QT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eM(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function tM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rM(){const r=As();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function nM(){try{return typeof indexedDB=="object"}catch{return!1}}function sM(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM="FirebaseError";class Zl extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=iM,Object.setPrototypeOf(this,Zl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$h.prototype.create)}}class $h{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?aM(i,n):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new Zl(s,l,n)}}function aM(r,e){return r.replace(oM,(t,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const oM=/\{\$([^}]+)}/g;function lM(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function nu(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const s of t){if(!n.includes(s))return!1;const i=r[s],a=e[s];if(Mv(i)&&Mv(a)){if(!nu(i,a))return!1}else if(i!==a)return!1}for(const s of n)if(!t.includes(s))return!1;return!0}function Mv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function cM(r,e){const t=new dM(r,e);return t.subscribe.bind(t)}class dM{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let s;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");uM(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:n},s.next===void 0&&(s.next=im),s.error===void 0&&(s.error=im),s.complete===void 0&&(s.complete=im);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uM(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function im(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(r){return r&&r._delegate?r._delegate:r}class su{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new GT;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(n)return null;throw s}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pM(e))try{this.getOrInitializeService({instanceIdentifier:Rc})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const i=this.getOrInitializeService({instanceIdentifier:s});n.resolve(i)}catch{}}}}clearInstance(e=Rc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Rc){return this.instances.has(e)}getOptions(e=Rc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);n===l&&a.resolve(s)}return s}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(n)??new Set;s.add(e),this.onInitCallbacks.set(n,s);const i=this.instances.get(n);return i&&e(i,n),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const s of n)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:fM(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Rc){return this.component?this.component.multipleInstances?e:Rc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fM(r){return r===Rc?void 0:r}function pM(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new hM(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cr;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Cr||(Cr={}));const mM={debug:Cr.DEBUG,verbose:Cr.VERBOSE,info:Cr.INFO,warn:Cr.WARN,error:Cr.ERROR,silent:Cr.SILENT},xM=Cr.INFO,bM={[Cr.DEBUG]:"log",[Cr.VERBOSE]:"log",[Cr.INFO]:"info",[Cr.WARN]:"warn",[Cr.ERROR]:"error"},yM=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),s=bM[e];if(s)console[s](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class w3{constructor(e){this.name=e,this._logLevel=xM,this._logHandler=yM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Cr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Cr.DEBUG,...e),this._logHandler(this,Cr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Cr.VERBOSE,...e),this._logHandler(this,Cr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Cr.INFO,...e),this._logHandler(this,Cr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Cr.WARN,...e),this._logHandler(this,Cr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Cr.ERROR,...e),this._logHandler(this,Cr.ERROR,...e)}}const vM=(r,e)=>e.some(t=>r instanceof t);let Rv,Dv;function wM(){return Rv||(Rv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kM(){return Dv||(Dv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const k3=new WeakMap,a1=new WeakMap,_3=new WeakMap,am=new WeakMap,tx=new WeakMap;function _M(r){const e=new Promise((t,n)=>{const s=()=>{r.removeEventListener("success",i),r.removeEventListener("error",a)},i=()=>{t(Hl(r.result)),s()},a=()=>{n(r.error),s()};r.addEventListener("success",i),r.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&k3.set(t,r)}).catch(()=>{}),tx.set(e,r),e}function SM(r){if(a1.has(r))return;const e=new Promise((t,n)=>{const s=()=>{r.removeEventListener("complete",i),r.removeEventListener("error",a),r.removeEventListener("abort",a)},i=()=>{t(),s()},a=()=>{n(r.error||new DOMException("AbortError","AbortError")),s()};r.addEventListener("complete",i),r.addEventListener("error",a),r.addEventListener("abort",a)});a1.set(r,e)}let o1={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return a1.get(r);if(e==="objectStoreNames")return r.objectStoreNames||_3.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Hl(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function NM(r){o1=r(o1)}function CM(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(om(this),e,...t);return _3.set(n,e.sort?e.sort():[e]),Hl(n)}:kM().includes(r)?function(...e){return r.apply(om(this),e),Hl(k3.get(this))}:function(...e){return Hl(r.apply(om(this),e))}}function jM(r){return typeof r=="function"?CM(r):(r instanceof IDBTransaction&&SM(r),vM(r,wM())?new Proxy(r,o1):r)}function Hl(r){if(r instanceof IDBRequest)return _M(r);if(am.has(r))return am.get(r);const e=jM(r);return e!==r&&(am.set(r,e),tx.set(e,r)),e}const om=r=>tx.get(r);function PM(r,e,{blocked:t,upgrade:n,blocking:s,terminated:i}={}){const a=indexedDB.open(r,e),l=Hl(a);return n&&a.addEventListener("upgradeneeded",d=>{n(Hl(a.result),d.oldVersion,d.newVersion,Hl(a.transaction),d)}),t&&a.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),l.then(d=>{i&&d.addEventListener("close",()=>i()),s&&d.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const AM=["get","getKey","getAll","getAllKeys","count"],EM=["put","add","delete","clear"],lm=new Map;function Ov(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(lm.get(e))return lm.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,s=EM.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(s||AM.includes(t)))return;const i=async function(a,...l){const d=this.transaction(a,s?"readwrite":"readonly");let h=d.store;return n&&(h=h.index(l.shift())),(await Promise.all([h[t](...l),s&&d.done]))[0]};return lm.set(e,i),i}NM(r=>({...r,get:(e,t,n)=>Ov(e,t)||r.get(e,t,n),has:(e,t)=>!!Ov(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(IM(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function IM(r){return r.getComponent()?.type==="VERSION"}const l1="@firebase/app",Fv="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=new w3("@firebase/app"),TM="@firebase/app-compat",MM="@firebase/analytics-compat",RM="@firebase/analytics",DM="@firebase/app-check-compat",OM="@firebase/app-check",FM="@firebase/auth",BM="@firebase/auth-compat",zM="@firebase/database",UM="@firebase/data-connect",HM="@firebase/database-compat",WM="@firebase/functions",VM="@firebase/functions-compat",$M="@firebase/installations",qM="@firebase/installations-compat",GM="@firebase/messaging",YM="@firebase/messaging-compat",KM="@firebase/performance",JM="@firebase/performance-compat",XM="@firebase/remote-config",ZM="@firebase/remote-config-compat",QM="@firebase/storage",eR="@firebase/storage-compat",tR="@firebase/firestore",rR="@firebase/ai",nR="@firebase/firestore-compat",sR="firebase",iR="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="[DEFAULT]",aR={[l1]:"fire-core",[TM]:"fire-core-compat",[RM]:"fire-analytics",[MM]:"fire-analytics-compat",[OM]:"fire-app-check",[DM]:"fire-app-check-compat",[FM]:"fire-auth",[BM]:"fire-auth-compat",[zM]:"fire-rtdb",[UM]:"fire-data-connect",[HM]:"fire-rtdb-compat",[WM]:"fire-fn",[VM]:"fire-fn-compat",[$M]:"fire-iid",[qM]:"fire-iid-compat",[GM]:"fire-fcm",[YM]:"fire-fcm-compat",[KM]:"fire-perf",[JM]:"fire-perf-compat",[XM]:"fire-rc",[ZM]:"fire-rc-compat",[QM]:"fire-gcs",[eR]:"fire-gcs-compat",[tR]:"fire-fst",[nR]:"fire-fst-compat",[rR]:"fire-vertex","fire-js":"fire-js",[sR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=new Map,oR=new Map,d1=new Map;function Bv(r,e){try{r.container.addComponent(e)}catch(t){qo.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Eh(r){const e=r.name;if(d1.has(e))return qo.debug(`There were multiple attempts to register component ${e}.`),!1;d1.set(e,r);for(const t of K0.values())Bv(t,r);for(const t of oR.values())Bv(t,r);return!0}function S3(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Fa(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wl=new $h("app","Firebase",lR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new su("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh=iR;function N3(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n={name:c1,automaticDataCollectionEnabled:!0,...e},s=n.name;if(typeof s!="string"||!s)throw Wl.create("bad-app-name",{appName:String(s)});if(t||(t=y3()),!t)throw Wl.create("no-options");const i=K0.get(s);if(i){if(nu(t,i.options)&&nu(n,i.config))return i;throw Wl.create("duplicate-app",{appName:s})}const a=new gM(s);for(const d of d1.values())a.addComponent(d);const l=new cR(t,n,a);return K0.set(s,l),l}function dR(r=c1){const e=K0.get(r);if(!e&&r===c1&&y3())return N3();if(!e)throw Wl.create("no-app",{appName:r});return e}function Kd(r,e,t){let n=aR[r]??r;t&&(n+=`-${t}`);const s=n.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const a=[`Unable to register library "${n}" with version "${e}":`];s&&a.push(`library name "${n}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qo.warn(a.join(" "));return}Eh(new su(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR="firebase-heartbeat-database",hR=1,Lh="firebase-heartbeat-store";let cm=null;function C3(){return cm||(cm=PM(uR,hR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Lh)}catch(t){console.warn(t)}}}}).catch(r=>{throw Wl.create("idb-open",{originalErrorMessage:r.message})})),cm}async function fR(r){try{const t=(await C3()).transaction(Lh),n=await t.objectStore(Lh).get(j3(r));return await t.done,n}catch(e){if(e instanceof Zl)qo.warn(e.message);else{const t=Wl.create("idb-get",{originalErrorMessage:e?.message});qo.warn(t.message)}}}async function zv(r,e){try{const n=(await C3()).transaction(Lh,"readwrite");await n.objectStore(Lh).put(e,j3(r)),await n.done}catch(t){if(t instanceof Zl)qo.warn(t.message);else{const n=Wl.create("idb-set",{originalErrorMessage:t?.message});qo.warn(n.message)}}}function j3(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=1024,gR=30;class mR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new bR(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=Uv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(s=>s.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:t}),this._heartbeatsCache.heartbeats.length>gR){const s=yR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){qo.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Uv(),{heartbeatsToSend:t,unsentEntries:n}=xR(this._heartbeatsCache.heartbeats),s=x3(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return qo.warn(e),""}}}function Uv(){return new Date().toISOString().substring(0,10)}function xR(r,e=pR){const t=[];let n=r.slice();for(const s of r){const i=t.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),Hv(t)>e){i.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Hv(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class bR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nM()?sM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await fR(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return zv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return zv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function Hv(r){return x3(JSON.stringify({version:2,heartbeats:r})).length}function yR(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let n=1;n<r.length;n++)r[n].date<t&&(t=r[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(r){Eh(new su("platform-logger",e=>new LM(e),"PRIVATE")),Eh(new su("heartbeat",e=>new mR(e),"PRIVATE")),Kd(l1,Fv,r),Kd(l1,Fv,"esm2020"),Kd("fire-js","")}vR("");function P3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wR=P3,A3=new $h("auth","Firebase",P3());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=new w3("@firebase/auth");function kR(r,...e){J0.logLevel<=Cr.WARN&&J0.warn(`Auth (${qh}): ${r}`,...e)}function v0(r,...e){J0.logLevel<=Cr.ERROR&&J0.error(`Auth (${qh}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(r,...e){throw rx(r,...e)}function bi(r,...e){return rx(r,...e)}function E3(r,e,t){const n={...wR(),[e]:t};return new $h("auth","Firebase",n).create(e,{appName:r.name})}function Vl(r){return E3(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rx(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return A3.create(r,...e)}function st(r,e,...t){if(!r)throw rx(e,...t)}function Bo(r){const e="INTERNAL ASSERTION FAILED: "+r;throw v0(e),new Error(e)}function Yo(r,e){r||Bo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(){return typeof self<"u"&&self.location?.href||""}function L3(){return Wv()==="http:"||Wv()==="https:"}function Wv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(L3()||eM()||"connection"in navigator)?navigator.onLine:!0}function SR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,t){this.shortDelay=e,this.longDelay=t,Yo(t>e,"Short delay should be less than long delay!"),this.isMobile=ZT()||tM()}get(){return _R()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(r,e){Yo(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jR=new Gh(3e4,6e4);function $a(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function pa(r,e,t,n,s={}){return T3(r,s,async()=>{let i={},a={};n&&(e==="GET"?a=n:i={body:JSON.stringify(n)});const l=fu({key:r.config.apiKey,...a}).slice(1),d=await r._getAdditionalHeaders();d["Content-Type"]="application/json",r.languageCode&&(d["X-Firebase-Locale"]=r.languageCode);const h={method:e,headers:d,...i};return QT()||(h.referrerPolicy="no-referrer"),r.emulatorConfig&&vp(r.emulatorConfig.host)&&(h.credentials="include"),I3.fetch()(await M3(r,r.config.apiHost,t,l),h)})}async function T3(r,e,t){r._canInitEmulator=!1;const n={...NR,...e};try{const s=new AR(r),i=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw eh(r,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const l=i.ok?a.errorMessage:a.error.message,[d,h]=l.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw eh(r,"credential-already-in-use",a);if(d==="EMAIL_EXISTS")throw eh(r,"email-already-in-use",a);if(d==="USER_DISABLED")throw eh(r,"user-disabled",a);const f=n[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw E3(r,f,h);Go(r,f)}}catch(s){if(s instanceof Zl)throw s;Go(r,"network-request-failed",{message:String(s)})}}async function wp(r,e,t,n,s={}){const i=await pa(r,e,t,n,s);return"mfaPendingCredential"in i&&Go(r,"multi-factor-auth-required",{_serverResponse:i}),i}async function M3(r,e,t,n){const s=`${e}${t}?${n}`,i=r,a=i.config.emulator?nx(r.config,s):`${r.config.apiScheme}://${s}`;return CR.includes(t)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}function PR(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class AR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(bi(this.auth,"network-request-failed")),jR.get())})}}function eh(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const s=bi(r,e,n);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(r){return r!==void 0&&r.getResponse!==void 0}function $v(r){return r!==void 0&&r.enterprise!==void 0}class R3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return PR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ER(r){return(await pa(r,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function D3(r,e){return pa(r,"GET","/v2/recaptchaConfig",$a(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LR(r,e){return pa(r,"POST","/v1/accounts:delete",e)}async function X0(r,e){return pa(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function IR(r,e=!1){const t=Xc(r),n=await t.getIdToken(e),s=sx(n);st(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i?.sign_in_provider;return{claims:s,token:n,authTime:gh(dm(s.auth_time)),issuedAtTime:gh(dm(s.iat)),expirationTime:gh(dm(s.exp)),signInProvider:a||null,signInSecondFactor:i?.sign_in_second_factor||null}}function dm(r){return Number(r)*1e3}function sx(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return v0("JWT malformed, contained fewer than 3 sections"),null;try{const s=b3(t);return s?JSON.parse(s):(v0("Failed to decode base64 JWT payload"),null)}catch(s){return v0("Caught error parsing JWT payload as JSON",s?.toString()),null}}function qv(r){const e=sx(r);return st(e,"internal-error"),st(typeof e.exp<"u","internal-error"),st(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ih(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof Zl&&TR(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function TR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=gh(this.lastLoginAt),this.creationTime=gh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z0(r){const e=r.auth,t=await r.getIdToken(),n=await Ih(r,X0(e,{idToken:t}));st(n?.users.length,e,"internal-error");const s=n.users[0];r._notifyReloadListener(s);const i=s.providerUserInfo?.length?O3(s.providerUserInfo):[],a=DR(r.providerData,i),l=r.isAnonymous,d=!(r.email&&s.passwordHash)&&!a?.length,h=l?d:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new h1(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(r,f)}async function RR(r){const e=Xc(r);await Z0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function DR(r,e){return[...r.filter(n=>!e.some(s=>s.providerId===n.providerId)),...e]}function O3(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OR(r,e){const t=await T3(r,{},async()=>{const n=fu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=r.config,a=await M3(r,s,"/v1/token",`key=${i}`),l=await r._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:l,body:n};return r.emulatorConfig&&vp(r.emulatorConfig.host)&&(d.credentials="include"),I3.fetch()(a,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function FR(r,e){return pa(r,"POST","/v2/accounts:revokeToken",$a(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){st(e.idToken,"internal-error"),st(typeof e.idToken<"u","internal-error"),st(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){st(e.length!==0,"internal-error");const t=qv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(st(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:s,expiresIn:i}=await OR(e,t);this.updateTokensAndExpiration(n,s,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:s,expirationTime:i}=t,a=new Jd;return n&&(st(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),s&&(st(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(st(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jd,this.toJSON())}_performRefresh(){return Bo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(r,e){st(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ca{constructor({uid:e,auth:t,stsTokenManager:n,...s}){this.providerId="firebase",this.proactiveRefresh=new MR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new h1(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Ih(this,this.stsTokenManager.getToken(this.auth,e));return st(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return IR(this,e)}reload(){return RR(this)}_assign(e){this!==e&&(st(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ca({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){st(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Z0(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fa(this.auth.app))return Promise.reject(Vl(this.auth));const e=await this.getIdToken();return await Ih(this,LR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,s=t.email??void 0,i=t.phoneNumber??void 0,a=t.photoURL??void 0,l=t.tenantId??void 0,d=t._redirectEventId??void 0,h=t.createdAt??void 0,f=t.lastLoginAt??void 0,{uid:g,emailVerified:b,isAnonymous:m,providerData:S,stsTokenManager:k}=t;st(g&&k,e,"internal-error");const w=Jd.fromJSON(this.name,k);st(typeof g=="string",e,"internal-error"),Ll(n,e.name),Ll(s,e.name),st(typeof b=="boolean",e,"internal-error"),st(typeof m=="boolean",e,"internal-error"),Ll(i,e.name),Ll(a,e.name),Ll(l,e.name),Ll(d,e.name),Ll(h,e.name),Ll(f,e.name);const _=new ca({uid:g,auth:e,email:s,emailVerified:b,displayName:n,isAnonymous:m,photoURL:a,phoneNumber:i,tenantId:l,stsTokenManager:w,createdAt:h,lastLoginAt:f});return S&&Array.isArray(S)&&(_.providerData=S.map(E=>({...E}))),d&&(_._redirectEventId=d),_}static async _fromIdTokenResponse(e,t,n=!1){const s=new Jd;s.updateFromServerResponse(t);const i=new ca({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:n});return await Z0(i),i}static async _fromGetAccountInfoResponse(e,t,n){const s=t.users[0];st(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?O3(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!i?.length,l=new Jd;l.updateFromIdToken(n);const d=new ca({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:a}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new h1(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!i?.length};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv=new Map;function zo(r){Yo(r instanceof Function,"Expected a class definition");let e=Gv.get(r);return e?(Yo(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Gv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}F3.type="NONE";const Yv=F3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(r,e,t){return`firebase:${r}:${e}:${t}`}class Xd{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:s,name:i}=this.auth;this.fullUserKey=w0(this.userKey,s.apiKey,i),this.fullPersistenceKey=w0("persistence",s.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await X0(this.auth,{idToken:e}).catch(()=>{});return t?ca._fromGetAccountInfoResponse(this.auth,t,e):null}return ca._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Xd(zo(Yv),e,n);const s=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let i=s[0]||zo(Yv);const a=w0(n,e.config.apiKey,e.name);let l=null;for(const h of t)try{const f=await h._get(a);if(f){let g;if(typeof f=="string"){const b=await X0(e,{idToken:f}).catch(()=>{});if(!b)break;g=await ca._fromGetAccountInfoResponse(e,b,f)}else g=ca._fromJSON(e,f);h!==i&&(l=g),i=h;break}}catch{}const d=s.filter(h=>h._shouldAllowMigration);return!i._shouldAllowMigration||!d.length?new Xd(i,e,n):(i=d[0],l&&await i._set(a,l.toJSON()),await Promise.all(t.map(async h=>{if(h!==i)try{await h._remove(a)}catch{}})),new Xd(i,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(H3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(B3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(V3(e))return"Blackberry";if($3(e))return"Webos";if(z3(e))return"Safari";if((e.includes("chrome/")||U3(e))&&!e.includes("edge/"))return"Chrome";if(W3(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if(n?.length===2)return n[1]}return"Other"}function B3(r=As()){return/firefox\//i.test(r)}function z3(r=As()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function U3(r=As()){return/crios\//i.test(r)}function H3(r=As()){return/iemobile/i.test(r)}function W3(r=As()){return/android/i.test(r)}function V3(r=As()){return/blackberry/i.test(r)}function $3(r=As()){return/webos/i.test(r)}function ix(r=As()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function BR(r=As()){return ix(r)&&!!window.navigator?.standalone}function zR(){return rM()&&document.documentMode===10}function q3(r=As()){return ix(r)||W3(r)||$3(r)||V3(r)||/windows phone/i.test(r)||H3(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G3(r,e=[]){let t;switch(r){case"Browser":t=Kv(As());break;case"Worker":t=`${Kv(As())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${qh}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=i=>new Promise((a,l)=>{try{const d=e(i);a(d)}catch(d){l(d)}});n.onAbort=t,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HR(r,e={}){return pa(r,"GET","/v2/passwordPolicy",$a(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=6;class VR{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??WR,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let s=0;s<e.length;s++)n=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,t,n,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jv(this),this.idTokenSubscription=new Jv(this),this.beforeStateQueue=new UR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=A3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=zo(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Xd.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await X0(this,{idToken:e}),n=await ca._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Fa(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(a,a))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=this.redirectUser?._redirectEventId,a=n?._redirectEventId,l=await this.tryRedirectSignIn(e);(!i||i===a)&&l?.user&&(n=l.user,s=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(n)}catch(i){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return st(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Z0(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=SR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fa(this.app))return Promise.reject(Vl(this));const t=e?Xc(e):null;return t&&st(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&st(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fa(this.app)?Promise.reject(Vl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fa(this.app)?Promise.reject(Vl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await HR(this),t=new VR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $h("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await FR(this,n)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&zo(e)||this._popupRedirectResolver;st(t,this,"argument-error"),this.redirectPersistenceManager=await Xd.create(this,[zo(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,s){if(this._deleted)return()=>{};const i=typeof t=="function"?t:t.next.bind(t);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(st(l,this,"internal-error"),l.then(()=>{a||i(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,n,s);return()=>{a=!0,d()}}else{const d=e.addObserver(t);return()=>{a=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return st(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=G3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(Fa(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&kR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ql(r){return Xc(r)}class Jv{constructor(e){this.auth=e,this.observer=null,this.addObserver=cM(t=>this.observer=t)}get next(){return st(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qR(r){Yh=r}function ax(r){return Yh.loadJS(r)}function GR(){return Yh.recaptchaV2Script}function YR(){return Yh.recaptchaEnterpriseScript}function KR(){return Yh.gapiScript}function Y3(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=500,XR=6e4,o0=1e12;class ZR{constructor(e){this.auth=e,this.counter=o0,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new tD(e,this.auth.name,t||{})),this.counter++,n}reset(e){const t=e||o0;this._widgets.get(t)?.delete(),this._widgets.delete(t)}getResponse(e){const t=e||o0;return this._widgets.get(t)?.getResponse()||""}async execute(e){const t=e||o0;return this._widgets.get(t)?.execute(),""}}class QR{constructor(){this.enterprise=new eD}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class eD{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class tD{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const s=typeof e=="string"?document.getElementById(e):e;st(s,"argument-error",{appName:t}),this.container=s,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=rD(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},XR)},JR))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function rD(r){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<r;n++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const nD="recaptcha-enterprise",mh="NO_RECAPTCHA";class K3{constructor(e){this.type=nD,this.auth=Ql(e)}async verify(e="verify",t=!1){async function n(i){if(!t){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,l)=>{D3(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const h=new R3(d);return i.tenantId==null?i._agentRecaptchaConfig=h:i._tenantRecaptchaConfigs[i.tenantId]=h,a(h.siteKey)}}).catch(d=>{l(d)})})}function s(i,a,l){const d=window.grecaptcha;$v(d)?d.enterprise.ready(()=>{d.enterprise.execute(i,{action:e}).then(h=>{a(h)}).catch(()=>{a(mh)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new QR().execute("siteKey",{action:"verify"}):new Promise((i,a)=>{n(this.auth).then(l=>{if(!t&&$v(window.grecaptcha))s(l,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let d=YR();d.length!==0&&(d+=l),ax(d).then(()=>{s(l,i,a)}).catch(h=>{a(h)})}}).catch(l=>{a(l)})})}}async function um(r,e,t,n=!1,s=!1){const i=new K3(r);let a;if(s)a=mh;else try{a=await i.verify(t)}catch{a=await i.verify(t,!0)}const l={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const d=l.phoneEnrollmentInfo.phoneNumber,h=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const d=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return n?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function hm(r,e,t,n,s){if(r._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const i=await um(r,e,t);return n(r,i).catch(async a=>{if(r._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(a.code==="auth/missing-recaptcha-token"||a.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const l=await um(r,e,t,!1,!0);return n(r,l)}return Promise.reject(a)})}else{const i=await um(r,e,t,!1,!0);return n(r,i)}}async function sD(r){const e=Ql(r),t=await D3(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new R3(t);e.tenantId==null?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,n.isAnyProviderEnabled()&&new K3(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(r,e){const t=S3(r,"auth");if(t.isInitialized()){const s=t.getImmediate(),i=t.getOptions();if(nu(i,e??{}))return s;Go(s,"already-initialized")}return t.initialize({options:e})}function aD(r,e){const t=e?.persistence||[],n=(Array.isArray(t)?t:[t]).map(zo);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e?.popupRedirectResolver)}function oD(r,e,t){const n=Ql(r);st(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const s=!1,i=J3(e),{host:a,port:l}=lD(e),d=l===null?"":`:${l}`,h={url:`${i}//${a}${d}/`},f=Object.freeze({host:a,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!n._canInitEmulator){st(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),st(nu(h,n.config.emulator)&&nu(f,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=h,n.emulatorConfig=f,n.settings.appVerificationDisabledForTesting=!0,vp(a)?(YT(`${i}//${a}${d}`),XT("Auth",!0)):cD()}function J3(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function lD(r){const e=J3(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const i=s[1];return{host:i,port:Xv(n.substr(i.length+1))}}else{const[i,a]=n.split(":");return{host:i,port:Xv(a)}}}function Xv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function cD(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Bo("not implemented")}_getIdTokenResponse(e){return Bo("not implemented")}_linkToIdToken(e,t){return Bo("not implemented")}_getReauthenticationResolver(e){return Bo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zd(r,e){return wp(r,"POST","/v1/accounts:signInWithIdp",$a(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD="http://localhost";class qc extends ox{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new qc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Go("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:s,...i}=t;if(!n||!s)return null;const a=new qc(n,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const t=this.buildRequest();return Zd(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Zd(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Zd(e,t)}buildRequest(){const e={requestUri:dD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=fu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zv(r,e){return pa(r,"POST","/v1/accounts:sendVerificationCode",$a(r,e))}async function uD(r,e){return wp(r,"POST","/v1/accounts:signInWithPhoneNumber",$a(r,e))}async function hD(r,e){const t=await wp(r,"POST","/v1/accounts:signInWithPhoneNumber",$a(r,e));if(t.temporaryProof)throw eh(r,"account-exists-with-different-credential",t);return t}const fD={USER_NOT_FOUND:"user-not-found"};async function pD(r,e){const t={...e,operation:"REAUTH"};return wp(r,"POST","/v1/accounts:signInWithPhoneNumber",$a(r,t),fD)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh extends ox{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new xh({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new xh({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return uD(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return hD(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return pD(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:s}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:s}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:s,temporaryProof:i}=e;return!n&&!t&&!s&&!i?null:new xh({verificationId:t,verificationCode:n,phoneNumber:s,temporaryProof:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh extends X3{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il extends Kh{constructor(){super("facebook.com")}static credential(e){return qc._fromParams({providerId:Il.PROVIDER_ID,signInMethod:Il.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Il.credentialFromTaggedObject(e)}static credentialFromError(e){return Il.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Il.credential(e.oauthAccessToken)}catch{return null}}}Il.FACEBOOK_SIGN_IN_METHOD="facebook.com";Il.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl extends Kh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return qc._fromParams({providerId:Tl.PROVIDER_ID,signInMethod:Tl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Tl.credentialFromTaggedObject(e)}static credentialFromError(e){return Tl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Tl.credential(t,n)}catch{return null}}}Tl.GOOGLE_SIGN_IN_METHOD="google.com";Tl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml extends Kh{constructor(){super("github.com")}static credential(e){return qc._fromParams({providerId:Ml.PROVIDER_ID,signInMethod:Ml.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ml.credentialFromTaggedObject(e)}static credentialFromError(e){return Ml.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ml.credential(e.oauthAccessToken)}catch{return null}}}Ml.GITHUB_SIGN_IN_METHOD="github.com";Ml.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl extends Kh{constructor(){super("twitter.com")}static credential(e,t){return qc._fromParams({providerId:Rl.PROVIDER_ID,signInMethod:Rl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Rl.credentialFromTaggedObject(e)}static credentialFromError(e){return Rl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Rl.credential(t,n)}catch{return null}}}Rl.TWITTER_SIGN_IN_METHOD="twitter.com";Rl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,s=!1){const i=await ca._fromIdTokenResponse(e,n,s),a=Qv(n);return new iu({user:i,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const s=Qv(n);return new iu({user:e,providerId:s,_tokenResponse:n,operationType:t})}}function Qv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0 extends Zl{constructor(e,t,n,s){super(t.code,t.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,Q0.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,s){return new Q0(e,t,n,s)}}function Z3(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Q0._fromErrorAndOperation(r,i,e,n):i})}async function gD(r,e,t=!1){const n=await Ih(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return iu._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mD(r,e,t=!1){const{auth:n}=r;if(Fa(n.app))return Promise.reject(Vl(n));const s="reauthenticate";try{const i=await Ih(r,Z3(n,s,e,r),t);st(i.idToken,n,"internal-error");const a=sx(i.idToken);st(a,n,"internal-error");const{sub:l}=a;return st(r.uid===l,n,"user-mismatch"),iu._forOperation(r,s,i)}catch(i){throw i?.code==="auth/user-not-found"&&Go(n,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q3(r,e,t=!1){if(Fa(r.app))return Promise.reject(Vl(r));const n="signIn",s=await Z3(r,n,e),i=await iu._fromIdTokenResponse(r,n,s);return t||await r._updateCurrentUser(i.user),i}async function xD(r,e){return Q3(Ql(r),e)}function bD(r,e,t,n){return Xc(r).onIdTokenChanged(e,t,n)}function yD(r,e,t){return Xc(r).beforeAuthStateChanged(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e5(r,e){return pa(r,"POST","/v2/accounts/mfaEnrollment:start",$a(r,e))}const ep="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ep,"1"),this.storage.removeItem(ep),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=1e3,wD=10;class t4 extends e4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=q3(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),s=this.localCache[t];n!==s&&e(t,s,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,l,d)=>{this.notifyListeners(a,d)});return}const n=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(n);!t&&this.localCache[n]===a||this.notifyListeners(n,a)},i=this.storage.getItem(n);zR()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,wD):s()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},vD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}t4.type="LOCAL";const kD=t4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4 extends e4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}r4.type="SESSION";const n4=r4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const n=new kp(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:s,data:i}=t.data,a=this.handlersMap[s];if(!a?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const l=Array.from(a).map(async h=>h(t.origin,i)),d=await _D(l);t.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((l,d)=>{const h=lx("",20);s.port1.start();const f=setTimeout(()=>{d(new Error("unsupported_event"))},n);a={messageChannel:s,onMessage(g){const b=g;if(b.data.eventId===h)switch(b.data.status){case"ack":clearTimeout(f),i=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(b.data.response);break;default:clearTimeout(f),clearTimeout(i),d(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(){return window}function ND(r){Nn().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(){return typeof Nn().WorkerGlobalScope<"u"&&typeof Nn().importScripts=="function"}async function CD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jD(){return navigator?.serviceWorker?.controller||null}function PD(){return cx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4="firebaseLocalStorageDb",AD=1,tp="firebaseLocalStorage",i4="fbase_key";class Jh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function _p(r,e){return r.transaction([tp],e?"readwrite":"readonly").objectStore(tp)}function ED(){const r=indexedDB.deleteDatabase(s4);return new Jh(r).toPromise()}function f1(){const r=indexedDB.open(s4,AD);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(tp,{keyPath:i4})}catch(s){t(s)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(tp)?e(n):(n.close(),await ED(),e(await f1()))})})}async function t5(r,e,t){const n=_p(r,!0).put({[i4]:e,value:t});return new Jh(n).toPromise()}async function LD(r,e){const t=_p(r,!1).get(e),n=await new Jh(t).toPromise();return n===void 0?null:n.value}function r5(r,e){const t=_p(r,!0).delete(e);return new Jh(t).toPromise()}const ID=800,TD=3;class a4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await f1(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>TD)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kp._getInstance(PD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await CD(),!this.activeServiceWorker)return;this.sender=new SD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await f1();return await t5(e,ep,"1"),await r5(e,ep),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>t5(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>LD(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>r5(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=_p(s,!1).getAll();return new Jh(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ID)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}a4.type="LOCAL";const MD=a4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n5(r,e){return pa(r,"POST","/v2/accounts/mfaSignIn:start",$a(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm=Y3("rcb"),RD=new Gh(3e4,6e4);class DD{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Nn().grecaptcha?.render}load(e,t=""){return st(OD(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Vv(Nn().grecaptcha)?Promise.resolve(Nn().grecaptcha):new Promise((n,s)=>{const i=Nn().setTimeout(()=>{s(bi(e,"network-request-failed"))},RD.get());Nn()[fm]=()=>{Nn().clearTimeout(i),delete Nn()[fm];const l=Nn().grecaptcha;if(!l||!Vv(l)){s(bi(e,"internal-error"));return}const d=l.render;l.render=(h,f)=>{const g=d(h,f);return this.counter++,g},this.hostLanguage=t,n(l)};const a=`${GR()}?${fu({onload:fm,render:"explicit",hl:t})}`;ax(a).catch(()=>{clearTimeout(i),s(bi(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!Nn().grecaptcha?.render&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function OD(r){return r.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(r)}class FD{async load(e){return new ZR(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh="recaptcha",BD={theme:"light",type:"image"};class o4{constructor(e,t,n={...BD}){this.parameters=n,this.type=bh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ql(e),this.isInvisible=this.parameters.size==="invisible",st(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const s=typeof t=="string"?document.getElementById(t):t;st(s,this.auth,"argument-error"),this.container=s,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new FD:new DD,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise(s=>{const i=a=>{a&&(this.tokenChangeListeners.delete(i),s(a))};this.tokenChangeListeners.add(i),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){st(!this.parameters.sitekey,this.auth,"argument-error"),st(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),st(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(n=>n(t)),typeof e=="function")e(t);else if(typeof e=="string"){const n=Nn()[e];typeof n=="function"&&n(t)}}}assertNotDestroyed(){st(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){st(L3()&&!cx(),this.auth,"internal-error"),await zD(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await ER(this.auth);st(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return st(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function zD(){let r=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}r=()=>e(),window.addEventListener("load",r)}).catch(e=>{throw r&&window.removeEventListener("load",r),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=xh._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function l4(r,e,t){if(Fa(r.app))return Promise.reject(Vl(r));const n=Ql(r),s=await HD(n,e,Xc(t));return new UD(s,i=>xD(n,i))}async function HD(r,e,t){if(!r._getRecaptchaConfig())try{await sD(r)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let n;if(typeof e=="string"?n={phoneNumber:e}:n=e,"session"in n){const s=n.session;if("phoneNumber"in n){st(s.type==="enroll",r,"internal-error");const i={idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:n.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await hm(r,i,"mfaSmsEnrollment",async(h,f)=>{if(f.phoneEnrollmentInfo.captchaResponse===mh){st(t?.type===bh,h,"argument-error");const g=await pm(h,f,t);return e5(h,g)}return e5(h,f)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).phoneSessionInfo.sessionInfo}else{st(s.type==="signin",r,"internal-error");const i=n.multiFactorHint?.uid||n.multiFactorUid;st(i,r,"missing-multi-factor-info");const a={mfaPendingCredential:s.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await hm(r,a,"mfaSmsSignIn",async(f,g)=>{if(g.phoneSignInInfo.captchaResponse===mh){st(t?.type===bh,f,"argument-error");const b=await pm(f,g,t);return n5(f,b)}return n5(f,g)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).phoneResponseInfo.sessionInfo}}else{const s={phoneNumber:n.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await hm(r,s,"sendVerificationCode",async(d,h)=>{if(h.captchaResponse===mh){st(t?.type===bh,d,"argument-error");const f=await pm(d,h,t);return Zv(d,f)}return Zv(d,h)},"PHONE_PROVIDER").catch(d=>Promise.reject(d))).sessionInfo}}finally{t?._reset()}}async function pm(r,e,t){st(t.type===bh,r,"argument-error");const n=await t.verify();st(typeof n=="string",r,"argument-error");const s={...e};if("phoneEnrollmentInfo"in s){const i=s.phoneEnrollmentInfo.phoneNumber,a=s.phoneEnrollmentInfo.captchaResponse,l=s.phoneEnrollmentInfo.clientType,d=s.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:i,recaptchaToken:n,captchaResponse:a,clientType:l,recaptchaVersion:d}}),s}else if("phoneSignInInfo"in s){const i=s.phoneSignInInfo.captchaResponse,a=s.phoneSignInInfo.clientType,l=s.phoneSignInInfo.recaptchaVersion;return Object.assign(s,{phoneSignInInfo:{recaptchaToken:n,captchaResponse:i,clientType:a,recaptchaVersion:l}}),s}else return Object.assign(s,{recaptchaToken:n}),s}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(r,e){return e?zo(e):(st(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx extends ox{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zd(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Zd(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Zd(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function VD(r){return Q3(r.auth,new dx(r),r.bypassAuthState)}function $D(r){const{auth:e,user:t}=r;return st(t,e,"internal-error"),mD(t,new dx(r),r.bypassAuthState)}async function qD(r){const{auth:e,user:t}=r;return st(t,e,"internal-error"),gD(t,new dx(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e,t,n,s,i=!1){this.auth=e,this.resolver=n,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:s,tenantId:i,error:a,type:l}=e;if(a){this.reject(a);return}const d={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return VD;case"linkViaPopup":case"linkViaRedirect":return qD;case"reauthViaPopup":case"reauthViaRedirect":return $D;default:Go(this.auth,"internal-error")}}resolve(e){Yo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=new Gh(2e3,1e4);class zd extends c4{constructor(e,t,n,s,i){super(e,t,s,i),this.provider=n,this.authWindow=null,this.pollId=null,zd.currentPopupAction&&zd.currentPopupAction.cancel(),zd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return st(e,this.auth,"internal-error"),e}async onExecution(){Yo(this.filter.length===1,"Popup operations only handle one event");const e=lx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zd.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GD.get())};e()}}zd.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD="pendingRedirect",k0=new Map;class KD extends c4{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=k0.get(this.auth._key());if(!e){try{const n=await JD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}k0.set(this.auth._key(),e)}return this.bypassAuthState||k0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JD(r,e){const t=QD(e),n=ZD(r);if(!await n._isAvailable())return!1;const s=await n._get(t)==="true";return await n._remove(t),s}function XD(r,e){k0.set(r._key(),e)}function ZD(r){return zo(r._redirectPersistence)}function QD(r){return w0(YD,r.config.apiKey,r.name)}async function e9(r,e,t=!1){if(Fa(r.app))return Promise.reject(Vl(r));const n=Ql(r),s=WD(n,e),a=await new KD(n,s,t).execute();return a&&!t&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9=600*1e3;class r9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!n9(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!d4(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";t.onError(bi(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=t9&&this.cachedEventUids.clear(),this.cachedEventUids.has(s5(e))}saveEventToCache(e){this.cachedEventUids.add(s5(e)),this.lastProcessedEventTime=Date.now()}}function s5(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function d4({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function n9(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return d4(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s9(r,e={}){return pa(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,a9=/^https?/;async function o9(r){if(r.config.emulator)return;const{authorizedDomains:e}=await s9(r);for(const t of e)try{if(l9(t))return}catch{}Go(r,"unauthorized-domain")}function l9(r){const e=u1(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const a=new URL(r);return a.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===n}if(!a9.test(t))return!1;if(i9.test(r))return n===r;const s=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9=new Gh(3e4,6e4);function i5(){const r=Nn().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function d9(r){return new Promise((e,t)=>{function n(){i5(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{i5(),t(bi(r,"network-request-failed"))},timeout:c9.get()})}if(Nn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Nn().gapi?.load)n();else{const s=Y3("iframefcb");return Nn()[s]=()=>{gapi.load?n():t(bi(r,"network-request-failed"))},ax(`${KR()}?onload=${s}`).catch(i=>t(i))}}).catch(e=>{throw _0=null,e})}let _0=null;function u9(r){return _0=_0||d9(r),_0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9=new Gh(5e3,15e3),f9="__/auth/iframe",p9="emulator/auth/iframe",g9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},m9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function x9(r){const e=r.config;st(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?nx(e,p9):`https://${r.config.authDomain}/${f9}`,n={apiKey:e.apiKey,appName:r.name,v:qh},s=m9.get(r.config.apiHost);s&&(n.eid=s);const i=r._getFrameworks();return i.length&&(n.fw=i.join(",")),`${t}?${fu(n).slice(1)}`}async function b9(r){const e=await u9(r),t=Nn().gapi;return st(t,r,"internal-error"),e.open({where:document.body,url:x9(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:g9,dontclear:!0},n=>new Promise(async(s,i)=>{await n.restyle({setHideOnLeave:!1});const a=bi(r,"network-request-failed"),l=Nn().setTimeout(()=>{i(a)},h9.get());function d(){Nn().clearTimeout(l),s(n)}n.ping(d).then(d,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},v9=500,w9=600,k9="_blank",_9="http://localhost";class a5{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function S9(r,e,t,n=v9,s=w9){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const d={...y9,width:n.toString(),height:s.toString(),top:i,left:a},h=As().toLowerCase();t&&(l=U3(h)?k9:t),B3(h)&&(e=e||_9,d.scrollbars="yes");const f=Object.entries(d).reduce((b,[m,S])=>`${b}${m}=${S},`,"");if(BR(h)&&l!=="_self")return N9(e||"",l),new a5(null);const g=window.open(e||"",l,f);st(g,r,"popup-blocked");try{g.focus()}catch{}return new a5(g)}function N9(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9="__/auth/handler",j9="emulator/auth/handler",P9=encodeURIComponent("fac");async function o5(r,e,t,n,s,i){st(r.config.authDomain,r,"auth-domain-config-required"),st(r.config.apiKey,r,"invalid-api-key");const a={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:qh,eventId:s};if(e instanceof X3){e.setDefaultLanguage(r.languageCode),a.providerId=e.providerId||"",lM(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,g]of Object.entries({}))a[f]=g}if(e instanceof Kh){const f=e.getScopes().filter(g=>g!=="");f.length>0&&(a.scopes=f.join(","))}r.tenantId&&(a.tid=r.tenantId);const l=a;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const d=await r._getAppCheckToken(),h=d?`#${P9}=${encodeURIComponent(d)}`:"";return`${A9(r)}?${fu(l).slice(1)}${h}`}function A9({config:r}){return r.emulator?nx(r,j9):`https://${r.authDomain}/${C9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm="webStorageSupport";class E9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=n4,this._completeRedirectFn=e9,this._overrideRedirectResult=XD}async _openPopup(e,t,n,s){Yo(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const i=await o5(e,t,n,u1(),s);return S9(e,i,lx())}async _openRedirect(e,t,n,s){await this._originValidation(e);const i=await o5(e,t,n,u1(),s);return ND(i),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:i}=this.eventManagers[t];return s?Promise.resolve(s):(Yo(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await b9(e),n=new r9(e);return t.register("authEvent",s=>(st(s?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(gm,{type:gm},s=>{const i=s?.[0]?.[gm];i!==void 0&&t(!!i),Go(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=o9(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return q3()||z3()||ix()}}const L9=E9;var l5="@firebase/auth",c5="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){st(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T9(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function M9(r){Eh(new su("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=n.options;st(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const d={apiKey:a,authDomain:l,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:G3(r)},h=new $R(n,s,i,d);return aD(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Eh(new su("auth-internal",e=>{const t=Ql(e.getProvider("auth").getImmediate());return(n=>new I9(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kd(l5,c5,T9(r)),Kd(l5,c5,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R9=300,D9=v3("authIdTokenMaxAge")||R9;let d5=null;const O9=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>D9)return;const s=t?.token;d5!==s&&(d5=s,await fetch(r,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function F9(r=dR()){const e=S3(r,"auth");if(e.isInitialized())return e.getImmediate();const t=iD(r,{popupRedirectResolver:L9,persistence:[MD,kD,n4]}),n=v3("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(n,location.origin);if(location.origin===i.origin){const a=O9(i.toString());yD(t,a,()=>a(t.currentUser)),bD(t,l=>a(l))}}const s=qT("auth");return s&&oD(t,`http://${s}`),t}function B9(){return document.getElementsByTagName("head")?.[0]??document}qR({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=s=>{const i=bi("internal-error");i.customData=s,t(i)},n.type="text/javascript",n.charset="UTF-8",B9().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});M9("Browser");var z9="firebase",U9="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kd(z9,U9,"app");const H9={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0},W9=N3(H9),rp=F9(W9),u5="618939207673-gbevo0aok0bqufjch9mmr4sc9ma86qtm.apps.googleusercontent.com",V9=[{code:"+1",name:"USA"},{code:"+1",name:"Canada"},{code:"+44",name:"UK"},{code:"+91",name:"India"},{code:"+61",name:"Australia"},{code:"+81",name:"Japan"},{code:"+49",name:"Germany"},{code:"+33",name:"France"},{code:"+55",name:"Brazil"},{code:"+7",name:"Russia"},{code:"+86",name:"China"},{code:"+27",name:"South Africa"},{code:"+39",name:"Italy"},{code:"+34",name:"Spain"},{code:"+82",name:"South Korea"},{code:"+64",name:"New Zealand"},{code:"+65",name:"Singapore"},{code:"+90",name:"Turkey"},{code:"+31",name:"Netherlands"},{code:"+46",name:"Sweden"},{code:"+41",name:"Switzerland"},{code:"+351",name:"Portugal"},{code:"+352",name:"Luxembourg"},{code:"+353",name:"Ireland"},{code:"+358",name:"Finland"},{code:"+420",name:"Czech Republic"},{code:"+421",name:"Slovakia"},{code:"+48",name:"Poland"},{code:"+36",name:"Hungary"},{code:"+971",name:"UAE"},{code:"+972",name:"Israel"},{code:"+966",name:"Saudi Arabia"},{code:"+20",name:"Egypt"},{code:"+212",name:"Morocco"},{code:"+92",name:"Pakistan"},{code:"+880",name:"Bangladesh"},{code:"+974",name:"Qatar"},{code:"+965",name:"Kuwait"},{code:"+260",name:"Zambia"},{code:"+263",name:"Zimbabwe"},{code:"+254",name:"Kenya"},{code:"+234",name:"Nigeria"},{code:"+233",name:"Ghana"},{code:"+255",name:"Tanzania"},{code:"+256",name:"Uganda"},{code:"+251",name:"Ethiopia"},{code:"+231",name:"Liberia"},{code:"+232",name:"Sierra Leone"},{code:"+237",name:"Cameroon"},{code:"+225",name:"Ivory Coast"},{code:"+221",name:"Senegal"},{code:"+213",name:"Algeria"},{code:"+216",name:"Tunisia"},{code:"+218",name:"Libya"},{code:"+249",name:"Sudan"},{code:"+252",name:"Somalia"},{code:"+257",name:"Burundi"},{code:"+258",name:"Mozambique"},{code:"+264",name:"Namibia"},{code:"+265",name:"Malawi"},{code:"+266",name:"Lesotho"},{code:"+267",name:"Botswana"},{code:"+268",name:"Eswatini"},{code:"+350",name:"Gibraltar"},{code:"+356",name:"Malta"},{code:"+357",name:"Cyprus"},{code:"+370",name:"Lithuania"},{code:"+371",name:"Latvia"},{code:"+372",name:"Estonia"},{code:"+374",name:"Armenia"},{code:"+375",name:"Belarus"},{code:"+380",name:"Ukraine"},{code:"+381",name:"Serbia"},{code:"+382",name:"Montenegro"},{code:"+383",name:"Kosovo"},{code:"+385",name:"Croatia"},{code:"+386",name:"Slovenia"},{code:"+387",name:"Bosnia"},{code:"+389",name:"North Macedonia"},{code:"+40",name:"Romania"},{code:"+43",name:"Austria"},{code:"+45",name:"Denmark"},{code:"+47",name:"Norway"},{code:"+60",name:"Malaysia"},{code:"+62",name:"Indonesia"},{code:"+63",name:"Philippines"},{code:"+66",name:"Thailand"},{code:"+84",name:"Vietnam"},{code:"+852",name:"Hong Kong"},{code:"+853",name:"Macau"},{code:"+886",name:"Taiwan"},{code:"+94",name:"Sri Lanka"},{code:"+95",name:"Myanmar"},{code:"+98",name:"Iran"},{code:"+963",name:"Syria"},{code:"+964",name:"Iraq"},{code:"+967",name:"Yemen"},{code:"+968",name:"Oman"},{code:"+973",name:"Bahrain"},{code:"+975",name:"Bhutan"},{code:"+976",name:"Mongolia"},{code:"+977",name:"Nepal"},{code:"+992",name:"Tajikistan"},{code:"+993",name:"Turkmenistan"},{code:"+994",name:"Azerbaijan"},{code:"+995",name:"Georgia"},{code:"+996",name:"Kyrgyzstan"},{code:"+998",name:"Uzbekistan"}];function $9(){const r=ms(),{login:e}=C1(),[t,n]=U.useState(""),[s,i]=U.useState(""),[a,l]=U.useState("email"),[d,h]=U.useState(!1),[f,g]=U.useState(!1),[b,m]=U.useState(""),[S,k]=U.useState("+1"),[w,_]=U.useState(!1),[E,R]=U.useState(""),I=U.useRef(null),[B,Q]=U.useState(!1),[te,$]=U.useState(""),[M,ne]=U.useState(null),[D,L]=U.useState(""),[O,W]=U.useState(60),[X,le]=U.useState(!1),pe=V9.filter(de=>de.name.toLowerCase().includes(E.toLowerCase())||de.code.includes(E)),ae=()=>{if(window.recaptchaVerifier){try{window.recaptchaVerifier.clear()}catch{}window.recaptchaVerifier=null}const de=document.getElementById("recaptcha-container");de&&(de.innerHTML=""),window.recaptchaVerifier=new o4(rp,"recaptcha-container",{size:"invisible",callback:()=>console.log("reCAPTCHA solved")})};window.handleCredentialResponse=async de=>{g(!0),m("");try{const ce=await fetch("/api/auth/google",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({credential:de.credential})}),Z=await ce.json();if(!ce.ok)throw new Error(Z.detail||"Google sign-in failed");await e(Z.user,Z.access_token),r("/")}catch(ce){m(ce.message)}finally{g(!1)}};const xe=()=>{g(!0),m("");try{if(typeof google>"u")throw new Error("Google Sign-In not loaded. Please refresh the page.");const de=document.getElementById("google-signin-button");de&&(de.innerHTML="",google.accounts.id.renderButton(de,{theme:"outline",size:"large",width:"100%",text:"signin_with"})),g(!1)}catch(de){m(de.message),g(!1)}},be=de=>{const ce=/[A-Z]/.test(de),Z=/[a-z]/.test(de),we=/[0-9]/.test(de),me=/[!@#$%^&*(),.?":{}|<>]/.test(de);return!ce||!Z||!we||!me?"Password must contain uppercase, lowercase, number and special character":de.length<8?"Password must be at least 8 characters long":null},ee=async de=>{de.preventDefault(),g(!0),m("");const ce=be(s);if(ce){m(ce),g(!1);return}if(a==="phone"){if(!t||t.length<7){m("Please enter a valid phone number"),g(!1);return}try{ae();const Z=S+t;console.log("Sending OTP to:",Z);const we=window.recaptchaVerifier,me=await l4(rp,Z,we);ne(me),Q(!0),m(""),console.log("OTP sent successfully")}catch(Z){console.error("OTP Error:",Z);let we="Failed to send OTP. ";if(Z.code==="auth/operation-not-allowed"?we="Phone authentication is not enabled. Please contact support.":Z.code==="auth/invalid-phone-number"?we="Invalid phone number format. Please check and try again.":Z.code==="auth/too-many-requests"?we="Too many requests. Please try again later.":we+=Z.message||"Please try again.",m(we),window.recaptchaVerifier){try{window.recaptchaVerifier.clear()}catch(me){console.error("Error clearing reCAPTCHA:",me)}window.recaptchaVerifier=null}}finally{g(!1)}return}try{const Z=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({contact:t,password:s})});if(!Z.ok){const me=await Z.json().catch(()=>({detail:"Login failed"}));throw new Error(me.detail||"Invalid credentials")}const we=await Z.json();await e(we.user,we.access_token),r("/")}catch(Z){m(Z.message)}finally{g(!1)}},A=async()=>{if(!te||te.length!==6){L("Please enter a valid 6-digit OTP");return}g(!0),L("");try{const ce=await(await M.confirm(te)).user.getIdToken(),Z=await fetch("/api/auth/firebase-phone-login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({firebase_token:ce,phone:S+t,password:s})});if(!Z.ok){const me=await Z.json();throw new Error(me.detail||"Login failed")}const we=await Z.json();await e(we.user,we.access_token),r("/")}catch(de){L(de.message||"Invalid OTP. Please try again.")}finally{g(!1)}},q=()=>{l("phone"),h(!0)},J=de=>{k(de.code),_(!1),R("")},ue=de=>{de.key==="Enter"&&pe.length>0?J(pe[0]):de.key==="Escape"&&(_(!1),R(""))},fe=de=>{const ce=de.target.value.replace(/\D/g,"");n(ce)};return U.useEffect(()=>{const de=ce=>{I.current&&!I.current.contains(ce.target)&&(_(!1),R(""))};return document.addEventListener("mousedown",de),()=>document.removeEventListener("mousedown",de)},[]),U.useEffect(()=>{const de=document.createElement("script");return de.src="https://accounts.google.com/gsi/client",de.async=!0,de.defer=!0,de.onload=()=>{typeof google<"u"&&google.accounts.id.initialize({client_id:u5,callback:window.handleCredentialResponse,auto_select:!1,cancel_on_tap_outside:!1})},document.body.appendChild(de),()=>{document.body.contains(de)&&document.body.removeChild(de)}},[]),U.useEffect(()=>{let de;return B&&O>0&&(de=setInterval(()=>{W(ce=>ce<=1?(le(!0),0):ce-1)},1e3)),()=>clearInterval(de)},[B,O]),c.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-slate-950 dark:to-slate-900 p-4 relative",children:[c.jsxs("div",{className:"absolute top-6 left-6 flex items-center space-x-2 z-10",children:[c.jsx("img",{src:"/favicon.png",alt:"Syla logo",className:"w-8 h-8 animate-float"}),c.jsx("span",{className:"font-inter font-bold text-xl text-gray-800 dark:text-slate-200",children:"Syla Analytics"})]}),c.jsxs("div",{className:"w-full max-w-md h-[85vh] bg-white dark:bg-ink/90 rounded-2xl shadow-2xl border-2 border-blue-500 dark:border-yellow-400 transform transition-all duration-300 hover:scale-[1.02] hover:shadow-3xl hover:border-blue-600 dark:hover:border-yellow-300 flex flex-col",children:[c.jsxs("div",{className:"text-center p-6 pb-0 flex-shrink-0",children:[c.jsx("h1",{className:"text-3xl font-display font-bold text-gray-800 dark:text-slate-200 mb-1",children:"Welcome Back"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Sign in to your Syla Analytics account"}),c.jsx("div",{className:"mt-3 w-16 h-1 bg-blue-500 dark:bg-yellow-400 rounded-full mx-auto"})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:[b&&c.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 dark:bg-red-900/20 dark:border-red-800 dark:text-red-400 text-sm",children:b}),d?c.jsxs("div",{className:"space-y-4",children:[c.jsx("button",{onClick:()=>h(!1),className:"mb-4 flex items-center text-sm text-gray-600 dark:text-slate-400 hover:text-gray-800 dark:hover:text-slate-200 transition-colors duration-200",children:"← Back to options"}),c.jsxs("form",{onSubmit:ee,className:"space-y-4",children:[a==="phone"&&!B&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex space-x-2 relative",ref:I,children:[c.jsxs("div",{className:"relative",children:[c.jsxs("button",{type:"button",onClick:()=>_(!w),className:"border border-gray-300 dark:border-slate-600 rounded-lg px-3 py-3 bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 hover:border-blue-400 min-w-[100px] flex items-center justify-between",children:[c.jsx("span",{className:"text-sm",children:S}),c.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),w&&c.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg shadow-lg z-20 max-h-60 overflow-hidden",children:[c.jsx("div",{className:"p-2 border-b border-gray-200 dark:border-slate-600",children:c.jsx("input",{type:"text",value:E,onChange:de=>R(de.target.value),onKeyDown:ue,placeholder:"Search country...",className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 focus:outline-none focus:ring-1 focus:ring-blue-500",autoFocus:!0})}),c.jsxs("div",{className:"max-h-40 overflow-y-auto",children:[pe.map((de,ce)=>c.jsxs("button",{type:"button",onClick:()=>J(de),className:"w-full px-3 py-2 text-left text-sm hover:bg-blue-50 dark:hover:bg-slate-700 transition-colors duration-150 flex justify-between items-center",children:[c.jsx("span",{className:"text-gray-900 dark:text-slate-100",children:de.name}),c.jsx("span",{className:"text-gray-500 dark:text-slate-400",children:de.code})]},`${de.code}-${ce}`)),pe.length===0&&c.jsx("div",{className:"px-3 py-2 text-sm text-gray-500 dark:text-slate-400",children:"No countries found"})]})]})]}),c.jsx("input",{type:"tel",value:t,onChange:fe,placeholder:"Phone Number",required:!0,className:"flex-1 border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-3 bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),c.jsx("input",{type:"password",value:s,onChange:de=>i(de.target.value),placeholder:"Password",required:!0,className:"w-full border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-3 bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"}),c.jsx("button",{type:"submit",disabled:f,className:`w-full py-3 rounded-lg font-semibold text-white transition-all duration-200 transform ${f?"bg-gray-400 cursor-not-allowed":"bg-blue-500 dark:bg-yellow-400 dark:text-gray-900 hover:bg-blue-600 dark:hover:bg-yellow-300 hover:shadow-lg hover:scale-[1.02] shadow-md"}`,children:f?"Signing In...":"Sign In"}),c.jsx("div",{id:"recaptcha-container",className:"flex justify-center"})]}),a==="phone"&&B&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"text-center p-4 bg-blue-50 dark:bg-slate-800 rounded-lg border border-blue-200 dark:border-slate-600",children:[c.jsx("p",{className:"text-sm text-gray-700 dark:text-slate-300 mb-1",children:"We've sent a 6-digit code to"}),c.jsxs("p",{className:"font-semibold text-gray-900 dark:text-slate-100",children:[S," ",t]}),O>0&&c.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-2",children:["Code expires in ",O,"s"]})]}),c.jsx("input",{type:"text",value:te,onChange:de=>$(de.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",maxLength:"6",className:"w-full border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-3 bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-center text-2xl tracking-widest font-mono",autoFocus:!0}),D&&c.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 dark:bg-red-900/20 dark:border-red-800 dark:text-red-400 text-sm",children:D}),c.jsx("button",{type:"button",onClick:A,disabled:f||te.length!==6,className:`w-full py-3 rounded-lg font-semibold text-white transition-all duration-200 transform ${f||te.length!==6?"bg-gray-400 cursor-not-allowed":"bg-blue-500 dark:bg-yellow-400 dark:text-gray-900 hover:bg-blue-600 dark:hover:bg-yellow-300 hover:shadow-lg hover:scale-[1.02] shadow-md"}`,children:f?"Verifying...":"Verify & Sign In"}),X&&c.jsx("button",{type:"button",onClick:()=>{Q(!1),$(""),L(""),W(60),le(!1)},className:"w-full text-sm text-blue-500 dark:text-yellow-400 hover:underline font-medium",children:"Resend OTP"}),c.jsx("button",{type:"button",onClick:()=>{Q(!1),$(""),L(""),W(60),le(!1),window.recaptchaVerifier&&(window.recaptchaVerifier.clear(),window.recaptchaVerifier=null)},className:"w-full text-sm text-gray-600 dark:text-slate-400 hover:text-gray-800 dark:hover:text-slate-200",children:"← Change phone number"})]}),a==="email"&&c.jsxs(c.Fragment,{children:[c.jsx("input",{type:"email",value:t,onChange:de=>n(de.target.value),placeholder:"Email",required:!0,className:"w-full border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-3 bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"}),c.jsx("input",{type:"password",value:s,onChange:de=>i(de.target.value),placeholder:"Password",required:!0,className:"w-full border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-3 bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"}),c.jsx("button",{type:"submit",disabled:f,className:`w-full py-3 rounded-lg font-semibold text-white transition-all duration-200 transform ${f?"bg-gray-400 cursor-not-allowed":"bg-blue-500 dark:bg-yellow-400 dark:text-gray-900 hover:bg-blue-600 dark:hover:bg-yellow-300 hover:shadow-lg hover:scale-[1.02] shadow-md"}`,children:f?"Signing In...":"Sign In"}),c.jsx("div",{className:"text-center",children:c.jsx(zt,{to:"/forgot-password",className:"text-sm text-blue-500 dark:text-yellow-400 hover:underline transition-colors duration-200",children:"Forgot your password?"})})]})]})]}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"w-full",children:[c.jsx("div",{id:"g_id_onload","data-client_id":u5,"data-auto_prompt":"false"}),c.jsx("div",{id:"google-signin-button",className:"w-full flex justify-center"}),c.jsxs("button",{onClick:xe,disabled:f,className:"w-full flex items-center justify-center px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-gray-700 dark:text-slate-200 font-medium transition-all duration-200 hover:bg-gray-50 dark:hover:bg-slate-700 hover:border-blue-400 hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed mt-2",children:[c.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[c.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),c.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),c.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),c.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),f?"Please wait...":"Continue with Google"]})]}),c.jsxs("div",{className:"flex items-center my-4",children:[c.jsx("div",{className:"flex-1 border-t border-gray-300 dark:border-white/20"}),c.jsx("span",{className:"px-4 text-sm text-gray-500 dark:text-slate-400",children:"or"}),c.jsx("div",{className:"flex-1 border-t border-gray-300 dark:border-white/20"})]}),c.jsx("button",{onClick:()=>{l("email"),h(!0)},className:"w-full px-4 py-3 rounded-lg font-medium bg-blue-500 text-white transition-all duration-200 hover:bg-blue-600 hover:shadow-lg hover:scale-[1.02] transform shadow-md",children:"Continue with Email"}),c.jsx("button",{onClick:q,className:"w-full px-4 py-3 rounded-lg font-medium bg-blue-50 dark:bg-slate-800 border-2 border-blue-300 dark:border-blue-400 text-blue-600 dark:text-blue-300 transition-all duration-200 hover:border-blue-500 dark:hover:border-blue-300 hover:bg-blue-100 dark:hover:bg-slate-700 hover:shadow-lg hover:scale-[1.02] transform",children:"Continue with Phone"})]})]}),c.jsxs("div",{className:"p-6 pt-0 flex-shrink-0 text-center text-sm text-gray-600 dark:text-slate-400 border-t border-gray-200 dark:border-slate-700",children:["Don't have an account?"," ",c.jsx(zt,{to:"/signup",className:"text-blue-500 dark:text-yellow-400 font-semibold hover:underline transition-colors duration-200",children:"Create one here"})]})]})]})}const h5="618939207673-gbevo0aok0bqufjch9mmr4sc9ma86qtm.apps.googleusercontent.com",q9=[{code:"+1",name:"USA"},{code:"+1",name:"Canada"},{code:"+44",name:"UK"},{code:"+91",name:"India"},{code:"+61",name:"Australia"},{code:"+81",name:"Japan"},{code:"+49",name:"Germany"},{code:"+33",name:"France"},{code:"+55",name:"Brazil"},{code:"+7",name:"Russia"},{code:"+86",name:"China"},{code:"+27",name:"South Africa"},{code:"+39",name:"Italy"},{code:"+34",name:"Spain"},{code:"+82",name:"South Korea"},{code:"+64",name:"New Zealand"},{code:"+65",name:"Singapore"},{code:"+90",name:"Turkey"},{code:"+31",name:"Netherlands"},{code:"+46",name:"Sweden"},{code:"+41",name:"Switzerland"},{code:"+351",name:"Portugal"},{code:"+352",name:"Luxembourg"},{code:"+353",name:"Ireland"},{code:"+358",name:"Finland"},{code:"+420",name:"Czech Republic"},{code:"+421",name:"Slovakia"},{code:"+48",name:"Poland"},{code:"+36",name:"Hungary"},{code:"+971",name:"UAE"},{code:"+972",name:"Israel"},{code:"+966",name:"Saudi Arabia"},{code:"+20",name:"Egypt"},{code:"+212",name:"Morocco"},{code:"+92",name:"Pakistan"},{code:"+880",name:"Bangladesh"},{code:"+974",name:"Qatar"},{code:"+965",name:"Kuwait"},{code:"+260",name:"Zambia"},{code:"+263",name:"Zimbabwe"},{code:"+254",name:"Kenya"},{code:"+234",name:"Nigeria"},{code:"+233",name:"Ghana"},{code:"+255",name:"Tanzania"},{code:"+256",name:"Uganda"},{code:"+251",name:"Ethiopia"},{code:"+231",name:"Liberia"},{code:"+232",name:"Sierra Leone"},{code:"+237",name:"Cameroon"},{code:"+225",name:"Ivory Coast"},{code:"+221",name:"Senegal"},{code:"+213",name:"Algeria"},{code:"+216",name:"Tunisia"},{code:"+218",name:"Libya"},{code:"+249",name:"Sudan"},{code:"+252",name:"Somalia"},{code:"+257",name:"Burundi"},{code:"+258",name:"Mozambique"},{code:"+264",name:"Namibia"},{code:"+265",name:"Malawi"},{code:"+266",name:"Lesotho"},{code:"+267",name:"Botswana"},{code:"+268",name:"Eswatini"},{code:"+350",name:"Gibraltar"},{code:"+356",name:"Malta"},{code:"+357",name:"Cyprus"},{code:"+370",name:"Lithuania"},{code:"+371",name:"Latvia"},{code:"+372",name:"Estonia"},{code:"+374",name:"Armenia"},{code:"+375",name:"Belarus"},{code:"+380",name:"Ukraine"},{code:"+381",name:"Serbia"},{code:"+382",name:"Montenegro"},{code:"+383",name:"Kosovo"},{code:"+385",name:"Croatia"},{code:"+386",name:"Slovenia"},{code:"+387",name:"Bosnia"},{code:"+389",name:"North Macedonia"},{code:"+40",name:"Romania"},{code:"+43",name:"Austria"},{code:"+45",name:"Denmark"},{code:"+47",name:"Norway"},{code:"+60",name:"Malaysia"},{code:"+62",name:"Indonesia"},{code:"+63",name:"Philippines"},{code:"+66",name:"Thailand"},{code:"+84",name:"Vietnam"},{code:"+852",name:"Hong Kong"},{code:"+853",name:"Macau"},{code:"+886",name:"Taiwan"},{code:"+94",name:"Sri Lanka"},{code:"+95",name:"Myanmar"},{code:"+98",name:"Iran"},{code:"+963",name:"Syria"},{code:"+964",name:"Iraq"},{code:"+967",name:"Yemen"},{code:"+968",name:"Oman"},{code:"+973",name:"Bahrain"},{code:"+975",name:"Bhutan"},{code:"+976",name:"Mongolia"},{code:"+977",name:"Nepal"},{code:"+992",name:"Tajikistan"},{code:"+993",name:"Turkmenistan"},{code:"+994",name:"Azerbaijan"},{code:"+995",name:"Georgia"},{code:"+996",name:"Kyrgyzstan"},{code:"+998",name:"Uzbekistan"}];function G9(){const r=ms(),{login:e}=C1(),[t,n]=U.useState(""),[s,i]=U.useState(""),[a,l]=U.useState("+1"),[d,h]=U.useState(""),[f,g]=U.useState(""),[b,m]=U.useState("email"),[S,k]=U.useState(!1),[w,_]=U.useState(""),[E,R]=U.useState(!1),[I,B]=U.useState(!1),[Q,te]=U.useState(""),$=U.useRef(null),[M,ne]=U.useState(!1),[D,L]=U.useState(""),[O,W]=U.useState(null),[X,le]=U.useState(""),[pe,ae]=U.useState(60),[xe,be]=U.useState(!1),ee=q9.filter(me=>me.name.toLowerCase().includes(Q.toLowerCase())||me.code.includes(Q)),A=()=>{if(window.recaptchaVerifier){try{window.recaptchaVerifier.clear()}catch{}window.recaptchaVerifier=null}const me=document.getElementById("recaptcha-container");me&&(me.innerHTML=""),window.recaptchaVerifier=new o4(rp,"recaptcha-container",{size:"invisible",callback:()=>console.log("reCAPTCHA solved")})};window.handleCredentialResponse=async me=>{R(!0),_("");try{const Me=await fetch("/api/auth/google",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({credential:me.credential})}),Be=await Me.json();if(!Me.ok)throw new Error(Be.detail||"Google sign-in failed");await e(Be.user,Be.access_token),r("/")}catch(Me){_(Me.message)}finally{R(!1)}};const q=()=>{R(!0),_("");try{if(typeof google>"u")throw new Error("Google Sign-In not loaded. Please refresh the page.");const me=document.getElementById("google-signin-button");me&&(me.innerHTML="",google.accounts.id.renderButton(me,{theme:"outline",size:"large",width:"100%",text:"signup_with"})),R(!1)}catch(me){_(me.message),R(!1)}},J=()=>k(!0),ue=me=>{const Me=/[A-Z]/.test(me),Be=/[a-z]/.test(me),ke=/[0-9]/.test(me),re=/[!@#$%^&*(),.?":{}|<>]/.test(me);return!Me||!Be||!ke||!re?"Password must contain uppercase, lowercase, number and special character":me.length<8?"Password must be at least 8 characters long":null},fe=async me=>{if(me.preventDefault(),_(""),R(!0),d!==f){_("Passwords do not match"),R(!1);return}const Me=ue(d);if(Me){_(Me),R(!1);return}if(b==="phone"){if(!s||s.length<7){_("Please enter a valid phone number"),R(!1);return}if(!t.trim()){_("Please enter your name"),R(!1);return}try{A();const Be=a+s;console.log("Sending OTP to:",Be);const ke=window.recaptchaVerifier,re=await l4(rp,Be,ke);W(re),ne(!0),_(""),console.log("OTP sent successfully")}catch(Be){console.error("OTP Error:",Be);let ke="Failed to send OTP. ";if(Be.code==="auth/operation-not-allowed"?ke="Phone authentication is not enabled. Please contact support.":Be.code==="auth/invalid-phone-number"?ke="Invalid phone number format. Please check and try again.":Be.code==="auth/too-many-requests"?ke="Too many requests. Please try again later.":ke+=Be.message||"Please try again.",_(ke),window.recaptchaVerifier){try{window.recaptchaVerifier.clear()}catch(re){console.error("Error clearing reCAPTCHA:",re)}window.recaptchaVerifier=null}}finally{R(!1)}return}try{const Be=await fetch("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:t,contact:s,password:d,confirm_password:f,contact_type:b})});if(!Be.ok){const re=await Be.json().catch(()=>({detail:"Signup failed"}));throw new Error(re.detail||"Signup failed")}const ke=await Be.json();await e(ke.user,ke.access_token),r("/")}catch(Be){_(Be.message)}finally{R(!1)}},de=async()=>{if(!D||D.length!==6){le("Please enter a valid 6-digit OTP");return}R(!0),le("");try{const Me=await(await O.confirm(D)).user.getIdToken(),Be=await fetch("/api/auth/firebase-phone-signup",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({firebase_token:Me,name:t,phone:a+s,password:d,confirm_password:f})});if(!Be.ok){const re=await Be.json();throw new Error(re.detail||"Signup failed")}const ke=await Be.json();await e(ke.user,ke.access_token),r("/")}catch(me){le(me.message||"Invalid OTP. Please try again.")}finally{R(!1)}},ce=me=>{l(me.code),B(!1),te("")},Z=me=>{me.key==="Enter"&&ee.length>0?ce(ee[0]):me.key==="Escape"&&(B(!1),te(""))},we=me=>{const Me=me.target.value.replace(/\D/g,"");i(Me)};return U.useEffect(()=>{const me=Me=>{$.current&&!$.current.contains(Me.target)&&(B(!1),te(""))};return document.addEventListener("mousedown",me),()=>document.removeEventListener("mousedown",me)},[]),U.useEffect(()=>{const me=document.createElement("script");return me.src="https://accounts.google.com/gsi/client",me.async=!0,me.defer=!0,me.onload=()=>{typeof google<"u"&&google.accounts.id.initialize({client_id:h5,callback:window.handleCredentialResponse,auto_select:!1,cancel_on_tap_outside:!1})},document.body.appendChild(me),()=>{document.body.contains(me)&&document.body.removeChild(me)}},[]),U.useEffect(()=>{let me;return M&&pe>0&&(me=setInterval(()=>{ae(Me=>Me<=1?(be(!0),0):Me-1)},1e3)),()=>clearInterval(me)},[M,pe]),c.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-slate-950 dark:to-slate-900 p-4 relative",children:[c.jsxs("div",{className:"absolute top-6 left-6 flex items-center space-x-2 z-10",children:[c.jsx("img",{src:"/favicon.png",alt:"Syla logo",className:"w-8 h-8 animate-float"}),c.jsx("span",{className:"font-inter font-bold text-xl text-gray-800 dark:text-slate-200",children:"Syla Analytics"})]}),c.jsxs("div",{className:"w-full max-w-md h-[85vh] bg-white dark:bg-ink/90 rounded-2xl shadow-2xl border-2 border-blue-500 dark:border-yellow-400 transform transition-all duration-300 hover:scale-[1.02] hover:shadow-3xl hover:border-blue-600 dark:hover:border-yellow-300 flex flex-col",children:[c.jsxs("div",{className:"text-center p-6 pb-0 flex-shrink-0",children:[c.jsx("h1",{className:"text-3xl font-display font-bold text-gray-800 dark:text-slate-200 mb-1",children:"Create Account"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Join Syla Analytics today"}),c.jsx("div",{className:"mt-3 w-16 h-1 bg-blue-500 dark:bg-yellow-400 rounded-full mx-auto"})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:[w&&c.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 dark:bg-red-900/20 dark:border-red-800 dark:text-red-400 text-sm",children:w}),S?c.jsxs("div",{className:"space-y-4",children:[c.jsx("button",{onClick:()=>k(!1),className:"mb-4 flex items-center text-sm text-gray-600 dark:text-slate-400 hover:text-gray-800 dark:hover:text-slate-200 transition-colors duration-200",children:"← Back to options"}),c.jsxs("form",{onSubmit:fe,className:"space-y-4",children:[c.jsx("input",{type:"text",value:t,onChange:me=>n(me.target.value),placeholder:"Full Name",required:!0,className:"w-full border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-3 bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"}),b==="phone"&&!M&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex space-x-2 relative",ref:$,children:[c.jsxs("div",{className:"relative",children:[c.jsxs("button",{type:"button",onClick:()=>B(!I),className:"border border-gray-300 dark:border-slate-600 rounded-lg px-3 py-3 bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 hover:border-blue-400 min-w-[100px] flex items-center justify-between",children:[c.jsx("span",{className:"text-sm",children:a}),c.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),I&&c.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg shadow-lg z-20 max-h-60 overflow-hidden",children:[c.jsx("div",{className:"p-2 border-b border-gray-200 dark:border-slate-600",children:c.jsx("input",{type:"text",value:Q,onChange:me=>te(me.target.value),onKeyDown:Z,placeholder:"Search country...",className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 focus:outline-none focus:ring-1 focus:ring-blue-500",autoFocus:!0})}),c.jsxs("div",{className:"max-h-40 overflow-y-auto",children:[ee.map((me,Me)=>c.jsxs("button",{type:"button",onClick:()=>ce(me),className:"w-full px-3 py-2 text-left text-sm hover:bg-blue-50 dark:hover:bg-slate-700 transition-colors duration-150 flex justify-between items-center",children:[c.jsx("span",{className:"text-gray-900 dark:text-slate-100",children:me.name}),c.jsx("span",{className:"text-gray-500 dark:text-slate-400",children:me.code})]},`${me.code}-${Me}`)),ee.length===0&&c.jsx("div",{className:"px-3 py-2 text-sm text-gray-500 dark:text-slate-400",children:"No countries found"})]})]})]}),c.jsx("input",{type:"tel",value:s,onChange:we,placeholder:"Phone Number",required:!0,className:"flex-1 border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-3 bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),c.jsx("input",{type:"password",value:d,onChange:me=>h(me.target.value),placeholder:"Password",required:!0,className:"w-full border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-3 bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"}),c.jsx("input",{type:"password",value:f,onChange:me=>g(me.target.value),placeholder:"Confirm Password",required:!0,className:"w-full border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-3 bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"}),c.jsx("button",{type:"submit",disabled:E,className:`w-full py-3 rounded-lg font-semibold text-white transition-all duration-200 transform ${E?"bg-gray-400 cursor-not-allowed":"bg-blue-500 dark:bg-yellow-400 dark:text-gray-900 hover:bg-blue-600 dark:hover:bg-yellow-300 hover:shadow-lg hover:scale-[1.02] shadow-md"}`,children:E?"Creating Account...":"Create Account"}),c.jsx("div",{id:"recaptcha-container",className:"flex justify-center"})]}),b==="phone"&&M&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"text-center p-4 bg-blue-50 dark:bg-slate-800 rounded-lg border border-blue-200 dark:border-slate-600",children:[c.jsx("p",{className:"text-sm text-gray-700 dark:text-slate-300 mb-1",children:"We've sent a 6-digit code to"}),c.jsxs("p",{className:"font-semibold text-gray-900 dark:text-slate-100",children:[a," ",s]}),pe>0&&c.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-2",children:["Code expires in ",pe,"s"]})]}),c.jsx("input",{type:"text",value:D,onChange:me=>L(me.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",maxLength:"6",className:"w-full border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-3 bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-center text-2xl tracking-widest font-mono",autoFocus:!0}),X&&c.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 dark:bg-red-900/20 dark:border-red-800 dark:text-red-400 text-sm",children:X}),c.jsx("button",{type:"button",onClick:de,disabled:E||D.length!==6,className:`w-full py-3 rounded-lg font-semibold text-white transition-all duration-200 transform ${E||D.length!==6?"bg-gray-400 cursor-not-allowed":"bg-blue-500 dark:bg-yellow-400 dark:text-gray-900 hover:bg-blue-600 dark:hover:bg-yellow-300 hover:shadow-lg hover:scale-[1.02] shadow-md"}`,children:E?"Verifying...":"Verify & Create Account"}),xe&&c.jsx("button",{type:"button",onClick:()=>{ne(!1),L(""),le(""),ae(60),be(!1)},className:"w-full text-sm text-blue-500 dark:text-yellow-400 hover:underline font-medium",children:"Resend OTP"}),c.jsx("button",{type:"button",onClick:()=>{ne(!1),L(""),le(""),ae(60),be(!1),window.recaptchaVerifier&&(window.recaptchaVerifier.clear(),window.recaptchaVerifier=null)},className:"w-full text-sm text-gray-600 dark:text-slate-400 hover:text-gray-800 dark:hover:text-slate-200",children:"← Change phone number"})]}),b==="email"&&c.jsxs(c.Fragment,{children:[c.jsx("input",{type:"email",value:s,onChange:me=>i(me.target.value),placeholder:"Email",required:!0,className:"w-full border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-3 bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"}),c.jsx("input",{type:"password",value:d,onChange:me=>h(me.target.value),placeholder:"Password",required:!0,className:"w-full border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-3 bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"}),c.jsx("input",{type:"password",value:f,onChange:me=>g(me.target.value),placeholder:"Confirm Password",required:!0,className:"w-full border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-3 bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"}),c.jsx("button",{type:"submit",disabled:E,className:`w-full py-3 rounded-lg font-semibold text-white transition-all duration-200 transform ${E?"bg-gray-400 cursor-not-allowed":"bg-blue-500 dark:bg-yellow-400 dark:text-gray-900 hover:bg-blue-600 dark:hover:bg-yellow-300 hover:shadow-lg hover:scale-[1.02] shadow-md"}`,children:E?"Creating...":"Create Account"})]})]})]}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"w-full",children:[c.jsx("div",{id:"g_id_onload","data-client_id":h5,"data-auto_prompt":"false"}),c.jsx("div",{id:"google-signin-button",className:"w-full flex justify-center"}),c.jsxs("button",{onClick:q,disabled:E,className:"w-full flex items-center justify-center px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-gray-700 dark:text-slate-200 font-medium transition-all duration-200 hover:bg-gray-50 dark:hover:bg-slate-700 hover:border-blue-400 hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed mt-2",children:[c.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[c.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),c.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),c.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),c.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),E?"Please wait...":"Continue with Google"]})]}),c.jsxs("div",{className:"flex items-center my-4",children:[c.jsx("div",{className:"flex-1 border-t border-gray-300 dark:border-white/20"}),c.jsx("span",{className:"px-4 text-sm text-gray-500 dark:text-slate-400",children:"or"}),c.jsx("div",{className:"flex-1 border-t border-gray-300 dark:border-white/20"})]}),c.jsx("button",{onClick:()=>{m("email"),k(!0)},className:"w-full px-4 py-3 rounded-lg font-medium bg-blue-500 text-white transition-all duration-200 hover:bg-blue-600 hover:shadow-lg hover:scale-[1.02] transform shadow-md",children:"Continue with Email"}),c.jsx("button",{onClick:()=>{m("phone"),J()},className:"w-full px-4 py-3 rounded-lg font-medium bg-blue-50 dark:bg-slate-800 border-2 border-blue-300 dark:border-blue-400 text-blue-600 dark:text-blue-300 transition-all duration-200 hover:border-blue-500 dark:hover:border-blue-300 hover:bg-blue-100 dark:hover:bg-slate-700 hover:shadow-lg hover:scale-[1.02] transform",children:"Continue with Mobile"})]})]}),c.jsxs("div",{className:"p-6 pt-0 flex-shrink-0 text-center text-sm text-gray-600 dark:text-slate-400 border-t border-gray-200 dark:border-slate-700",children:["Already have an account?"," ",c.jsx(zt,{to:"/login",className:"text-blue-500 dark:text-yellow-400 font-semibold hover:underline transition-colors duration-200",children:"Log in"})]})]})]})}function Y9(){const[r,e]=U.useState(""),[t,n]=U.useState(!1),[s,i]=U.useState(""),[a,l]=U.useState(""),[d,h]=U.useState(!1),f=async g=>{g.preventDefault(),n(!0),l(""),i("");try{const b=await fetch("/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({contact:r})}),m=await b.json();if(!b.ok)throw new Error(m.detail||"Request failed");i(m.message),h(!0)}catch(b){l(b.message)}finally{n(!1)}};return c.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-slate-950 dark:to-slate-900 p-4 relative",children:[c.jsxs("div",{className:"absolute top-6 left-6 flex items-center space-x-2 z-10",children:[c.jsx("img",{src:"/favicon.png",alt:"Syla logo",className:"w-8 h-8 animate-float"}),c.jsx("span",{className:"font-inter font-bold text-xl text-gray-800 dark:text-slate-200",children:"Syla Analytics"})]}),c.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-ink/90 rounded-2xl shadow-2xl border-2 border-blue-500 dark:border-yellow-400 transform transition-all duration-300 hover:scale-[1.02] hover:shadow-3xl hover:border-blue-600 dark:hover:border-yellow-300",children:[c.jsxs("div",{className:"text-center p-6 pb-4",children:[c.jsx("h1",{className:"text-3xl font-display font-bold text-gray-800 dark:text-slate-200 mb-1",children:"Forgot Password?"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Enter your email or phone to reset your password"}),c.jsx("div",{className:"mt-3 w-16 h-1 bg-blue-500 dark:bg-yellow-400 rounded-full mx-auto"})]}),c.jsxs("div",{className:"px-6 pb-6",children:[d&&s&&c.jsxs("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg text-green-700 dark:bg-green-900/20 dark:border-green-800 dark:text-green-400 text-sm",children:[c.jsx("div",{className:"font-medium mb-1",children:"Instructions Sent!"}),c.jsx("div",{children:s}),c.jsx("div",{className:"mt-3 pt-3 border-t border-green-200 dark:border-green-800",children:c.jsx(zt,{to:"/login",className:"text-green-600 dark:text-green-400 hover:underline font-medium",children:"Back to Login"})})]}),a&&c.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 dark:bg-red-900/20 dark:border-red-800 dark:text-red-400 text-sm",children:a}),!d&&c.jsxs("form",{onSubmit:f,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Email or Phone Number"}),c.jsx("input",{type:"text",value:r,onChange:g=>e(g.target.value),placeholder:"Enter your email or phone number",required:!0,className:"w-full border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-3 bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),c.jsx("button",{type:"submit",disabled:t||!r.trim(),className:`w-full py-3 rounded-lg font-semibold text-white transition-all duration-200 transform ${t||!r.trim()?"bg-gray-400 cursor-not-allowed":"bg-blue-500 dark:bg-yellow-400 dark:text-gray-900 hover:bg-blue-600 dark:hover:bg-yellow-300 hover:shadow-lg hover:scale-[1.02] shadow-md"}`,children:t?"Sending...":"Send Reset Instructions"})]}),c.jsxs("div",{className:"mt-6 text-center text-sm text-gray-600 dark:text-slate-400 border-t border-gray-200 dark:border-slate-700 pt-4",children:["Remember your password?"," ",c.jsx(zt,{to:"/login",className:"text-blue-500 dark:text-yellow-400 font-semibold hover:underline transition-colors duration-200",children:"Back to Login"})]})]})]})]})}function K9(){const r=ms(),[e]=E5(),t=e.get("token"),[n,s]=U.useState(""),[i,a]=U.useState(""),[l,d]=U.useState(!1),[h,f]=U.useState(!0),[g,b]=U.useState(""),[m,S]=U.useState(!1),[k,w]=U.useState("");U.useEffect(()=>{if(!t){b("Invalid reset link. Please request a new password reset."),f(!1);return}_()},[t]);const _=async()=>{try{const R=await fetch(`/api/auth/validate-reset-token/${t}`,{credentials:"include"});if(R.ok){const I=await R.json();S(!0),w(I.contact)}else b("This reset link has expired or is invalid. Please request a new password reset.")}catch{b("Unable to validate reset link. Please try again.")}finally{f(!1)}},E=async R=>{if(R.preventDefault(),d(!0),b(""),n!==i){b("Passwords do not match"),d(!1);return}if(n.length<6){b("Password must be at least 6 characters long"),d(!1);return}try{const I=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({token:t,new_password:n,confirm_password:i})}),B=await I.json();if(!I.ok)throw new Error(B.detail||"Password reset failed");localStorage.setItem("token",B.access_token),localStorage.setItem("user",JSON.stringify(B.user)),r("/")}catch(I){b(I.message)}finally{d(!1)}};return c.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-slate-950 dark:to-slate-900 p-4 relative",children:[c.jsxs("div",{className:"absolute top-6 left-6 flex items-center space-x-2 z-10",children:[c.jsx("img",{src:"/favicon.png",alt:"Syla logo",className:"w-8 h-8 animate-float"}),c.jsx("span",{className:"font-inter font-bold text-xl text-gray-800 dark:text-slate-200",children:"Syla Analytics"})]}),c.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-ink/90 rounded-2xl shadow-2xl border-2 border-blue-500 dark:border-yellow-400 transform transition-all duration-300 hover:scale-[1.02] hover:shadow-3xl hover:border-blue-600 dark:hover:border-yellow-300",children:[c.jsxs("div",{className:"text-center p-6 pb-4",children:[c.jsx("h1",{className:"text-3xl font-display font-bold text-gray-800 dark:text-slate-200 mb-1",children:"Reset Password"}),k&&c.jsxs("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:["Reset password for ",k]}),c.jsx("div",{className:"mt-3 w-16 h-1 bg-blue-500 dark:bg-yellow-400 rounded-full mx-auto"})]}),c.jsxs("div",{className:"px-6 pb-6",children:[h&&c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Validating reset link..."})]}),!h&&!m&&c.jsxs("div",{className:"text-center py-4",children:[c.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700 dark:bg-red-900/20 dark:border-red-800 dark:text-red-400 text-sm",children:g}),c.jsxs("div",{className:"space-y-3",children:[c.jsx(zt,{to:"/forgot-password",className:"block w-full px-4 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors duration-200 font-medium",children:"Request New Reset Link"}),c.jsx(zt,{to:"/login",className:"block text-blue-500 dark:text-yellow-400 hover:underline font-medium",children:"Back to Login"})]})]}),!h&&m&&c.jsxs(c.Fragment,{children:[g&&c.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 dark:bg-red-900/20 dark:border-red-800 dark:text-red-400 text-sm",children:g}),c.jsxs("form",{onSubmit:E,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"New Password"}),c.jsx("input",{type:"password",value:n,onChange:R=>s(R.target.value),placeholder:"Enter new password",required:!0,className:"w-full border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-3 bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Confirm New Password"}),c.jsx("input",{type:"password",value:i,onChange:R=>a(R.target.value),placeholder:"Confirm new password",required:!0,className:"w-full border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-3 bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),c.jsx("button",{type:"submit",disabled:l||!n||!i,className:`w-full py-3 rounded-lg font-semibold text-white transition-all duration-200 transform ${l||!n||!i?"bg-gray-400 cursor-not-allowed":"bg-blue-500 dark:bg-yellow-400 dark:text-gray-900 hover:bg-blue-600 dark:hover:bg-yellow-300 hover:shadow-lg hover:scale-[1.02] shadow-md"}`,children:l?"Resetting...":"Reset Password"})]})]}),c.jsxs("div",{className:"mt-6 text-center text-sm text-gray-600 dark:text-slate-400 border-t border-gray-200 dark:border-slate-700 pt-4",children:["Remember your password?"," ",c.jsx(zt,{to:"/login",className:"text-blue-500 dark:text-yellow-400 font-semibold hover:underline transition-colors duration-200",children:"Back to Login"})]})]})]})]})}function J9(){const[r,e]=U.useState("dark"),[t,n]=U.useState(null),[s,i]=U.useState(!1),[a,l]=U.useState(""),[d,h]=U.useState("appearance"),f=ms();U.useEffect(()=>{const k=localStorage.getItem("theme")||"dark";e(k),document.body.classList.remove("dark","light"),document.body.classList.add(k);const w=localStorage.getItem("user");if(w){const _=JSON.parse(w);n(_)}},[]);const g=k=>{e(k),localStorage.setItem("theme",k),document.body.classList.remove("dark","light"),document.body.classList.add(k)},b=async(k,w)=>{i(!0),l("");try{const _=localStorage.getItem("token");if(!_)throw new Error("Please log in to change password");const E=new FormData;E.append("current_password",k),E.append("new_password",w);const R=await fetch("/api/profile/change-password",{method:"POST",headers:{Authorization:`Bearer ${_}`},body:E});if(!R.ok){const I=await R.json();throw new Error(I.detail||"Failed to change password")}l("Password changed successfully!"),setTimeout(()=>l(""),3e3)}catch(_){l(_.message)}finally{i(!1)}},m=async()=>{try{const k=localStorage.getItem("token");if(!k)throw new Error("Please log in to clear files");if(!(await fetch("/api/filetools/clear-user-files",{method:"DELETE",headers:{Authorization:`Bearer ${k}`}})).ok)throw new Error("Failed to clear files");l("All files cleared successfully!"),setTimeout(()=>l(""),3e3)}catch(k){l(k.message)}},S=[{id:"appearance",label:"Appearance",icon:_1},{id:"profile",label:"Profile",icon:Oc},{id:"account",label:"Account",icon:$l},{id:"privacy",label:"Privacy",icon:Pm},{id:"notifications",label:"Notifications",icon:Od}];return c.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-slate-950",children:[c.jsx(xi,{theme:r,setTheme:e,onReportChange:()=>{}}),c.jsxs("div",{className:"flex-1 transition-all duration-300",children:[c.jsx(Bi,{user:t}),c.jsxs("main",{className:"mx-auto max-w-6xl px-6 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"font-display text-3xl text-gray-800 dark:text-slate-200 mb-2",children:"Settings"}),c.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Manage your account preferences and application settings"})]}),a&&c.jsx("div",{className:`mb-6 p-4 rounded-lg border ${a.includes("successfully")?"bg-green-50 border-green-200 text-green-700 dark:bg-green-900/20 dark:border-green-800 dark:text-green-400":"bg-red-50 border-red-200 text-red-700 dark:bg-red-900/20 dark:border-red-800 dark:text-red-400"}`,children:a}),c.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[c.jsx("div",{className:"lg:w-64",children:c.jsx("nav",{className:"bg-white dark:bg-ink/80 rounded-2xl border border-gray-200 dark:border-white/5 p-2 shadow-soft",children:S.map(k=>{const w=k.icon;return c.jsxs("button",{onClick:()=>h(k.id),className:`w-full text-left px-4 py-3 rounded-lg font-medium transition-all duration-200 flex items-center gap-3 ${d===k.id?"bg-neonBlue text-white shadow-lg":"text-gray-700 dark:text-slate-300 hover:bg-gray-50 dark:hover:bg-white/5"}`,children:[c.jsx(w,{className:"w-5 h-5"}),k.label]},k.id)})})}),c.jsxs("div",{className:"flex-1",children:[d==="appearance"&&c.jsxs("section",{className:"bg-white dark:bg-ink/80 rounded-2xl border border-gray-200 dark:border-white/5 p-6 shadow-soft",children:[c.jsx("h2",{className:"font-display text-xl text-gray-800 dark:text-slate-200 mb-6",children:"Appearance Preferences"}),c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-4",children:"Theme Preference"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsx("button",{onClick:()=>g("light"),className:`p-6 rounded-xl border-2 transition-all duration-200 ${r==="light"?"border-neonBlue bg-neonBlue/10 text-neonBlue ring-2 ring-neonBlue/20":"border-gray-200 hover:border-gray-300 text-gray-700 dark:border-white/10 dark:hover:border-white/20 dark:text-slate-300"}`,children:c.jsxs("div",{className:"flex flex-col items-center text-center",children:[c.jsx("div",{className:"flex items-center justify-center mb-3 p-3 rounded-full bg-white dark:bg-slate-800 shadow-sm",children:c.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})}),c.jsx("div",{className:"font-semibold text-lg mb-1",children:"Light Mode"}),c.jsx("div",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Clean and bright interface"})]})}),c.jsx("button",{onClick:()=>g("dark"),className:`p-6 rounded-xl border-2 transition-all duration-200 ${r==="dark"?"border-neonBlue bg-neonBlue/10 text-neonBlue ring-2 ring-neonBlue/20":"border-gray-200 hover:border-gray-300 text-gray-700 dark:border-white/10 dark:hover:border-white/20 dark:text-slate-300"}`,children:c.jsxs("div",{className:"flex flex-col items-center text-center",children:[c.jsx("div",{className:"flex items-center justify-center mb-3 p-3 rounded-full bg-white dark:bg-slate-800 shadow-sm",children:c.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})}),c.jsx("div",{className:"font-semibold text-lg mb-1",children:"Dark Mode"}),c.jsx("div",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Easy on the eyes"})]})})]})]})})]}),d==="profile"&&c.jsxs("div",{className:"bg-white dark:bg-ink/80 rounded-2xl border border-gray-200 dark:border-white/5 p-6 shadow-soft",children:[c.jsx("h2",{className:"font-display text-xl text-gray-800 dark:text-slate-200 mb-6",children:"Profile Information"}),t?c.jsxs("div",{className:"text-center py-8",children:[c.jsx(Oc,{className:"w-16 h-16 mx-auto text-neonBlue mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-slate-200 mb-2",children:"Manage Your Profile"}),c.jsx("p",{className:"text-gray-600 dark:text-slate-400 mb-6",children:"Update your profile information, avatar, and personal details"}),c.jsx("button",{onClick:()=>f("/profile"),className:"px-6 py-3 bg-neonBlue text-white rounded-lg hover:bg-blue-600 transition-colors duration-200 font-medium shadow-lg hover:shadow-neon",children:"Go to Profile Settings"})]}):c.jsxs("div",{className:"text-center py-8",children:[c.jsx(Oc,{className:"w-16 h-16 mx-auto text-gray-400 dark:text-slate-500 mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-slate-200 mb-2",children:"Sign in to access your profile"}),c.jsx("p",{className:"text-gray-600 dark:text-slate-400 mb-6",children:"Create an account or sign in to manage your profile information"}),c.jsxs("div",{className:"flex justify-center gap-4",children:[c.jsx(zt,{to:"/login",className:"px-6 py-3 bg-neonBlue text-white rounded-lg hover:bg-blue-600 transition-colors duration-200 font-medium",children:"Sign In"}),c.jsx(zt,{to:"/signup",className:"px-6 py-3 border border-neonBlue text-neonBlue rounded-lg hover:bg-neonBlue hover:text-white transition-colors duration-200 font-medium",children:"Create Account"})]})]})]}),d==="account"&&c.jsxs("section",{className:"bg-white dark:bg-ink/80 rounded-2xl border border-gray-200 dark:border-white/5 p-6 shadow-soft",children:[c.jsx("h2",{className:"font-display text-xl text-gray-800 dark:text-slate-200 mb-6",children:"Account Management"}),c.jsx("div",{className:"space-y-6",children:t?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[c.jsx("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-400 mb-2",children:"Account Status"}),c.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["Signed in as ",c.jsx("strong",{children:t.email||t.phone})]})]}),c.jsxs("div",{className:"border-t border-gray-200 dark:border-white/10 pt-4",children:[c.jsx("h3",{className:"font-medium text-gray-900 dark:text-slate-200 mb-3",children:"Password & Security"}),c.jsx("button",{onClick:()=>{const k=prompt("Enter your current password:"),w=prompt("Enter your new password:");if(k&&w){if(w.length<6){alert("New password must be at least 6 characters long");return}b(k,w)}},disabled:s,className:`px-4 py-2 rounded-lg font-medium transition-colors duration-200 ${s?"bg-gray-400 text-gray-600 cursor-not-allowed":"bg-gray-500 text-white hover:bg-gray-600"}`,children:s?"Changing...":"Change Password"})]}),c.jsxs("div",{className:"border-t border-gray-200 dark:border-white/10 pt-4",children:[c.jsx("h3",{className:"font-medium text-gray-900 dark:text-slate-200 mb-3",children:"Account Actions"}),c.jsx("button",{onClick:()=>{confirm("Are you sure you want to sign out?")&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/")},className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors duration-200 font-medium",children:"Sign Out"})]})]}):c.jsxs("div",{className:"text-center py-8",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-400 dark:text-slate-500 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-slate-200 mb-2",children:"Sign in to access account features"}),c.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Create an account or sign in to manage your profile and preferences"})]}),c.jsxs("div",{className:"flex justify-center gap-4",children:[c.jsx(zt,{to:"/login",className:"px-6 py-3 bg-neonBlue text-white rounded-lg hover:bg-blue-600 transition-colors duration-200 font-medium shadow-lg hover:shadow-neon",children:"Sign In"}),c.jsx(zt,{to:"/signup",className:"px-6 py-3 border border-neonBlue text-neonBlue rounded-lg hover:bg-neonBlue hover:text-white transition-colors duration-200 font-medium",children:"Create Account"})]})]})})]}),d==="privacy"&&c.jsxs("section",{className:"bg-white dark:bg-ink/80 rounded-2xl border border-gray-200 dark:border-white/5 p-6 shadow-soft",children:[c.jsx("h2",{className:"font-display text-xl text-gray-800 dark:text-slate-200 mb-6",children:"Data & Privacy"}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[c.jsxs("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-400 mb-2",children:[c.jsx("svg",{className:"w-5 h-5 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Data Usage Policy"]}),c.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Your uploaded files are processed securely and are automatically deleted after processing. We don't store your data permanently and use industry-standard encryption."})]}),c.jsxs("div",{className:"border-t border-gray-200 dark:border-white/10 pt-4",children:[c.jsx("h3",{className:"font-medium text-gray-900 dark:text-slate-200 mb-3",children:"File Management"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 mb-4",children:"Remove all your uploaded files from our servers. This action cannot be undone."}),c.jsx("button",{onClick:()=>{confirm("Are you sure you want to clear all your uploaded files? This cannot be undone.")&&m()},className:"px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 dark:border-red-600 dark:text-red-400 dark:hover:bg-red-900/20 transition-colors duration-200 font-medium",children:"Clear All Uploaded Files"})]}),c.jsxs("div",{className:"border-t border-gray-200 dark:border-white/10 pt-4",children:[c.jsx("h3",{className:"font-medium text-gray-900 dark:text-slate-200 mb-3",children:"Data Export"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 mb-4",children:"Request a copy of your personal data stored on our platform."}),c.jsx("button",{className:"px-4 py-2 border border-gray-300 text-gray-600 rounded-lg hover:bg-gray-50 dark:border-white/20 dark:text-slate-300 dark:hover:bg-white/5 transition-colors duration-200 font-medium",onClick:()=>alert("Data export functionality will be available soon."),children:"Request Data Export"})]})]})]}),d==="notifications"&&c.jsxs("section",{className:"bg-white dark:bg-ink/80 rounded-2xl border border-gray-200 dark:border-white/5 p-6 shadow-soft",children:[c.jsx("h2",{className:"font-display text-xl text-gray-800 dark:text-slate-200 mb-6",children:"Notification Preferences"}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 dark:border-white/10 rounded-lg",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("h3",{className:"text-sm font-medium text-gray-700 dark:text-slate-300 flex items-center",children:[c.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Email Notifications"]}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1",children:"Receive updates about your account and new features"})]}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),c.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),c.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 dark:border-white/10 rounded-lg",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("h3",{className:"text-sm font-medium text-gray-700 dark:text-slate-300 flex items-center",children:[c.jsx("svg",{className:"w-5 h-5 mr-2 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Processing Notifications"]}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1",children:"Get notified when file processing is complete"})]}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),c.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),c.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 dark:border-white/10 rounded-lg",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("h3",{className:"text-sm font-medium text-gray-700 dark:text-slate-300 flex items-center",children:[c.jsx("svg",{className:"w-5 h-5 mr-2 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16c-.77.833.192 2.5 1.732 2.5z"})}),"Security Alerts"]}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1",children:"Receive notifications about security events"})]}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),c.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})]})]})]})]})]})]})]})}function X9(){const{user:r,setUser:e,loading:t}=U.useContext(yi),[n,s]=U.useState("dark"),[i,a]=U.useState({name:"",email:"",phone:"",bio:"",location:"",website:"",company:"",job_title:"",birth_date:"",gender:"",language:"en",timezone:"UTC"}),[l,d]=U.useState(null),[h,f]=U.useState(null),[g,b]=U.useState(!1),[m,S]=U.useState(""),[k,w]=U.useState("personal"),[_,E]=U.useState(!1),[R,I]=U.useState(!1),[B,Q]=U.useState({currentPassword:"",newPassword:"",confirmPassword:""}),te=U.useRef(null);U.useEffect(()=>{const O=localStorage.getItem("theme")||"dark";s(O),r&&a({name:r.name||"",email:r.email||"",phone:r.phone||"",bio:r.bio||"",location:r.location||"",website:r.website||"",company:r.company||"",job_title:r.job_title||"",birth_date:r.birth_date||"",gender:r.gender||"",language:r.language||"en",timezone:r.timezone||"UTC"})},[r]),U.useEffect(()=>{const O=setTimeout(()=>{setInitialLoading(!1)},500);return()=>clearTimeout(O)},[]);const $=(O,W)=>{a(X=>({...X,[O]:W}))},M=O=>{const W=O.target.files[0];if(W){if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(W.type)){S("Invalid file type. Please select an image file (JPEG, PNG, GIF, WebP).");return}if(W.size>5*1024*1024){S("File too large. Please select an image smaller than 5MB.");return}d(W);const le=new FileReader;le.onload=pe=>{f(pe.target.result)},le.readAsDataURL(W)}},ne=async()=>{try{const O=await fetch("/api/profile/avatar",{method:"DELETE",credentials:"include"});if(!O.ok){const X=await O.json().catch(()=>({}));throw new Error(X.detail||"Failed to remove avatar")}const W=await O.json();e(W),d(null),f(null),S("Avatar removed successfully!"),setTimeout(()=>S(""),3e3)}catch(O){S(`Failed to remove avatar: ${O.message}`)}},D=async()=>{b(!0),S("");try{const O=new FormData;Object.entries(i).forEach(([le,pe])=>{O.append(le,pe||"")}),l&&O.append("avatar",l);const W=await fetch("/api/profile",{method:"PUT",body:O,credentials:"include"});if(!W.ok){const le=await W.json().catch(()=>({}));throw new Error(le.detail||"Failed to update profile")}const X=await W.json();e(X),S("Profile updated successfully!"),d(null),f(null),setTimeout(()=>S(""),3e3)}catch(O){S(`Failed to update profile: ${O.message}`)}finally{b(!1)}},L=async()=>{if(B.newPassword!==B.confirmPassword){S("New passwords don't match!");return}if(B.newPassword.length<6){S("New password must be at least 6 characters long!");return}b(!0),S("");try{const O=new FormData;O.append("current_password",B.currentPassword),O.append("new_password",B.newPassword);const W=await fetch("/api/profile/change-password",{method:"POST",body:O,credentials:"include"});if(!W.ok){const X=await W.json().catch(()=>({}));throw new Error(X.detail||"Failed to change password")}S("Password changed successfully!"),Q({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>S(""),3e3)}catch(O){S(`Failed to change password: ${O.message}`)}finally{b(!1)}};return t?c.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-slate-950",children:[c.jsx(xi,{theme:n,setTheme:s,onReportChange:()=>{}}),c.jsxs("div",{className:"flex-1 transition-all duration-300",children:[c.jsx(Bi,{user:r}),c.jsx("main",{className:"mx-auto max-w-6xl px-6 py-8",children:c.jsxs("div",{className:"text-center py-16",children:[c.jsx("div",{className:"w-16 h-16 mx-auto border-4 border-neonBlue border-t-transparent rounded-full animate-spin mb-4"}),c.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Loading profile..."})]})})]})]}):r?c.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-slate-950",children:[c.jsx(xi,{theme:n,setTheme:s,onReportChange:()=>{}}),c.jsxs("div",{className:"flex-1 transition-all duration-300",children:[c.jsx(Bi,{user:r}),c.jsxs("main",{className:"mx-auto max-w-6xl px-6 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"font-display text-3xl text-gray-800 dark:text-slate-200 mb-2",children:"Profile Settings"}),c.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Manage your personal information and account preferences"})]}),m&&c.jsx("div",{className:`mb-6 p-4 rounded-lg border ${m.includes("successfully")||m.includes("Success")?"bg-green-50 border-green-200 text-green-700 dark:bg-green-900/20 dark:border-green-800 dark:text-green-400":"bg-red-50 border-red-200 text-red-700 dark:bg-red-900/20 dark:border-red-800 dark:text-red-400"}`,children:m}),c.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[c.jsx("div",{className:"lg:w-64",children:c.jsxs("nav",{className:"bg-white dark:bg-ink/80 rounded-2xl border border-gray-200 dark:border-white/5 p-2 shadow-soft sticky top-8",children:[c.jsxs("button",{onClick:()=>w("personal"),className:`w-full text-left px-4 py-3 rounded-lg font-medium transition-all duration-200 flex items-center gap-3 mb-2 ${k==="personal"?"bg-neonBlue text-white shadow-lg":"text-gray-700 dark:text-slate-300 hover:bg-gray-50 dark:hover:bg-white/5"}`,children:[c.jsx(Oc,{className:"w-5 h-5"}),"Personal Info"]}),c.jsxs("button",{onClick:()=>w("professional"),className:`w-full text-left px-4 py-3 rounded-lg font-medium transition-all duration-200 flex items-center gap-3 mb-2 ${k==="professional"?"bg-neonBlue text-white shadow-lg":"text-gray-700 dark:text-slate-300 hover:bg-gray-50 dark:hover:bg-white/5"}`,children:[c.jsx(E2,{className:"w-5 h-5"}),"Professional"]}),c.jsxs("button",{onClick:()=>w("security"),className:`w-full text-left px-4 py-3 rounded-lg font-medium transition-all duration-200 flex items-center gap-3 ${k==="security"?"bg-neonBlue text-white shadow-lg":"text-gray-700 dark:text-slate-300 hover:bg-gray-50 dark:hover:bg-white/5"}`,children:[c.jsx(Ud,{className:"w-5 h-5"}),"Security"]})]})}),c.jsxs("div",{className:"flex-1",children:[k==="personal"&&c.jsxs("div",{className:"space-y-8",children:[c.jsxs("section",{className:"bg-white dark:bg-ink/80 rounded-2xl border border-gray-200 dark:border-white/5 p-6 shadow-soft",children:[c.jsx("h2",{className:"font-display text-xl text-gray-800 dark:text-slate-200 mb-6",children:"Profile Photo"}),c.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-gray-100 dark:border-white/10 shadow-lg",children:c.jsx("img",{src:h||r.avatar_url||"/default-avatar.png",alt:"Profile",className:"w-full h-full object-cover"})}),c.jsx("button",{onClick:()=>te.current?.click(),className:"absolute bottom-0 right-0 p-2 bg-neonBlue text-white rounded-full shadow-lg hover:bg-blue-600 transition-colors duration-200",children:c.jsx(eN,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"flex-1 text-center md:text-left",children:[c.jsx("h3",{className:"font-medium text-gray-900 dark:text-slate-200 mb-2",children:"Update your photo"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 mb-4",children:"Choose a photo that represents you well. Max file size: 5MB"}),c.jsxs("div",{className:"flex flex-wrap gap-2 justify-center md:justify-start",children:[c.jsx("button",{onClick:()=>te.current?.click(),className:"px-4 py-2 bg-gray-100 dark:bg-white/5 text-gray-700 dark:text-slate-300 rounded-lg hover:bg-gray-200 dark:hover:bg-white/10 transition-colors duration-200 font-medium",children:"Choose File"}),(r.avatar_url||h)&&c.jsxs("button",{onClick:ne,className:"px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 dark:border-red-600 dark:text-red-400 dark:hover:bg-red-900/20 transition-colors duration-200 font-medium flex items-center gap-2",children:[c.jsx(N1,{className:"w-4 h-4"}),"Remove"]})]}),c.jsx("input",{ref:te,type:"file",accept:"image/*",onChange:M,className:"hidden"})]})]})]}),c.jsxs("section",{className:"bg-white dark:bg-ink/80 rounded-2xl border border-gray-200 dark:border-white/5 p-6 shadow-soft",children:[c.jsx("h2",{className:"font-display text-xl text-gray-800 dark:text-slate-200 mb-6",children:"Basic Information"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:[c.jsx(Oc,{className:"w-4 h-4 inline mr-2"}),"Full Name"]}),c.jsx("input",{type:"text",value:i.name,onChange:O=>$("name",O.target.value),className:"w-full px-4 py-3 border border-gray-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-neonBlue focus:border-transparent bg-white dark:bg-white/5 text-gray-900 dark:text-slate-200 transition-colors duration-200",placeholder:"Enter your email address"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:[c.jsx(E6,{className:"w-4 h-4 inline mr-2"}),"Phone Number"]}),c.jsx("input",{type:"tel",value:i.phone,onChange:O=>$("phone",O.target.value),className:"w-full px-4 py-3 border border-gray-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-neonBlue focus:border-transparent bg-white dark:bg-white/5 text-gray-900 dark:text-slate-200 transition-colors duration-200",placeholder:"Enter your phone number"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:[c.jsx(x6,{className:"w-4 h-4 inline mr-2"}),"Location"]}),c.jsx("input",{type:"text",value:i.location,onChange:O=>$("location",O.target.value),className:"w-full px-4 py-3 border border-gray-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-neonBlue focus:border-transparent bg-white dark:bg-white/5 text-gray-900 dark:text-slate-200 transition-colors duration-200",placeholder:"City, Country"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:[c.jsx(rN,{className:"w-4 h-4 inline mr-2"}),"Date of Birth"]}),c.jsx("input",{type:"date",value:i.birth_date,onChange:O=>$("birth_date",O.target.value),className:"w-full px-4 py-3 border border-gray-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-neonBlue focus:border-transparent bg-white dark:bg-white/5 text-gray-900 dark:text-slate-200 transition-colors duration-200"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Gender"}),c.jsxs("select",{value:i.gender,onChange:O=>$("gender",O.target.value),className:"w-full px-4 py-3 border border-gray-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-neonBlue focus:border-transparent bg-white dark:bg-white/5 text-gray-900 dark:text-slate-200 transition-colors duration-200",children:[c.jsx("option",{value:"",children:"Select Gender"}),c.jsx("option",{value:"male",children:"Male"}),c.jsx("option",{value:"female",children:"Female"}),c.jsx("option",{value:"non-binary",children:"Non-binary"}),c.jsx("option",{value:"prefer-not-to-say",children:"Prefer not to say"})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:[c.jsx(i6,{className:"w-4 h-4 inline mr-2"}),"Website"]}),c.jsx("input",{type:"url",value:i.website,onChange:O=>$("website",O.target.value),className:"w-full px-4 py-3 border border-gray-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-neonBlue focus:border-transparent bg-white dark:bg-white/5 text-gray-900 dark:text-slate-200 transition-colors duration-200",placeholder:"https://yourwebsite.com"})]})]}),c.jsxs("div",{className:"mt-6",children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:[c.jsx(Kn,{className:"w-4 h-4 inline mr-2"}),"Bio"]}),c.jsx("textarea",{value:i.bio,onChange:O=>$("bio",O.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-neonBlue focus:border-transparent bg-white dark:bg-white/5 text-gray-900 dark:text-slate-200 transition-colors duration-200 resize-none",placeholder:"Tell us about yourself..."})]})]}),c.jsxs("section",{className:"bg-white dark:bg-ink/80 rounded-2xl border border-gray-200 dark:border-white/5 p-6 shadow-soft",children:[c.jsx("h2",{className:"font-display text-xl text-gray-800 dark:text-slate-200 mb-6",children:"Preferences"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:[c.jsx(c6,{className:"w-4 h-4 inline mr-2"}),"Language"]}),c.jsxs("select",{value:i.language,onChange:O=>$("language",O.target.value),className:"w-full px-4 py-3 border border-gray-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-neonBlue focus:border-transparent bg-white dark:bg-white/5 text-gray-900 dark:text-slate-200 transition-colors duration-200",children:[c.jsx("option",{value:"en",children:"English"}),c.jsx("option",{value:"es",children:"Spanish"}),c.jsx("option",{value:"fr",children:"French"}),c.jsx("option",{value:"de",children:"German"}),c.jsx("option",{value:"it",children:"Italian"}),c.jsx("option",{value:"pt",children:"Portuguese"}),c.jsx("option",{value:"zh",children:"Chinese"}),c.jsx("option",{value:"ja",children:"Japanese"}),c.jsx("option",{value:"ko",children:"Korean"})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:[c.jsx(R5,{className:"w-4 h-4 inline mr-2"}),"Timezone"]}),c.jsxs("select",{value:i.timezone,onChange:O=>$("timezone",O.target.value),className:"w-full px-4 py-3 border border-gray-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-neonBlue focus:border-transparent bg-white dark:bg-white/5 text-gray-900 dark:text-slate-200 transition-colors duration-200",children:[c.jsx("option",{value:"UTC",children:"UTC"}),c.jsx("option",{value:"America/New_York",children:"Eastern Time (ET)"}),c.jsx("option",{value:"America/Chicago",children:"Central Time (CT)"}),c.jsx("option",{value:"America/Denver",children:"Mountain Time (MT)"}),c.jsx("option",{value:"America/Los_Angeles",children:"Pacific Time (PT)"}),c.jsx("option",{value:"Europe/London",children:"London (GMT)"}),c.jsx("option",{value:"Europe/Paris",children:"Paris (CET)"}),c.jsx("option",{value:"Asia/Tokyo",children:"Tokyo (JST)"}),c.jsx("option",{value:"Asia/Shanghai",children:"Shanghai (CST)"}),c.jsx("option",{value:"Australia/Sydney",children:"Sydney (AEDT)"})]})]})]})]})]}),k==="professional"&&c.jsxs("section",{className:"bg-white dark:bg-ink/80 rounded-2xl border border-gray-200 dark:border-white/5 p-6 shadow-soft",children:[c.jsx("h2",{className:"font-display text-xl text-gray-800 dark:text-slate-200 mb-6",children:"Professional Information"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:[c.jsx(ZS,{className:"w-4 h-4 inline mr-2"}),"Company"]}),c.jsx("input",{type:"text",value:i.company,onChange:O=>$("company",O.target.value),className:"w-full px-4 py-3 border border-gray-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-neonBlue focus:border-transparent bg-white dark:bg-white/5 text-gray-900 dark:text-slate-200 transition-colors duration-200",placeholder:"Your company name"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:[c.jsx(E2,{className:"w-4 h-4 inline mr-2"}),"Job Title"]}),c.jsx("input",{type:"text",value:i.job_title,onChange:O=>$("job_title",O.target.value),className:"w-full px-4 py-3 border border-gray-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-neonBlue focus:border-transparent bg-white dark:bg-white/5 text-gray-900 dark:text-slate-200 transition-colors duration-200",placeholder:"Your job title"})]})]})]}),k==="security"&&c.jsxs("section",{className:"bg-white dark:bg-ink/80 rounded-2xl border border-gray-200 dark:border-white/5 p-6 shadow-soft",children:[c.jsx("h2",{className:"font-display text-xl text-gray-800 dark:text-slate-200 mb-6",children:"Security Settings"}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[c.jsx("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-400 mb-1",children:"Password Security"}),c.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Keep your account secure by using a strong password and changing it regularly."})]}),c.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Current Password"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:_?"text":"password",value:B.currentPassword,onChange:O=>Q(W=>({...W,currentPassword:O.target.value})),className:"w-full px-4 py-3 pr-12 border border-gray-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-neonBlue focus:border-transparent bg-white dark:bg-white/5 text-gray-900 dark:text-slate-200 transition-colors duration-200",placeholder:"Enter your current password"}),c.jsx("button",{type:"button",onClick:()=>E(!_),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-slate-300",children:_?c.jsx(A0,{className:"w-5 h-5"}):c.jsx(Ud,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"New Password"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:R?"text":"password",value:B.newPassword,onChange:O=>Q(W=>({...W,newPassword:O.target.value})),className:"w-full px-4 py-3 pr-12 border border-gray-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-neonBlue focus:border-transparent bg-white dark:bg-white/5 text-gray-900 dark:text-slate-200 transition-colors duration-200",placeholder:"Enter your new password"}),c.jsx("button",{type:"button",onClick:()=>I(!R),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-slate-300",children:R?c.jsx(A0,{className:"w-5 h-5"}):c.jsx(Ud,{className:"w-5 h-5"})})]}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1",children:"Password must be at least 6 characters long"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Confirm New Password"}),c.jsx("input",{type:"password",value:B.confirmPassword,onChange:O=>Q(W=>({...W,confirmPassword:O.target.value})),className:"w-full px-4 py-3 border border-gray-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-neonBlue focus:border-transparent bg-white dark:bg-white/5 text-gray-900 dark:text-slate-200 transition-colors duration-200",placeholder:"Confirm your new password"})]}),c.jsxs("button",{onClick:L,disabled:g||!B.currentPassword||!B.newPassword||!B.confirmPassword,className:`px-6 py-3 rounded-lg font-medium transition-all duration-200 flex items-center justify-center gap-2 ${g||!B.currentPassword||!B.newPassword||!B.confirmPassword?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700 shadow-lg hover:shadow-xl"}`,children:[g?c.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):c.jsx(L0,{className:"w-5 h-5"}),g?"Changing Password...":"Change Password"]})]})]})]}),(k==="personal"||k==="professional")&&c.jsx("div",{className:"mt-8 flex justify-end",children:c.jsxs("button",{onClick:D,disabled:g,className:`px-8 py-3 rounded-lg font-medium transition-all duration-200 flex items-center justify-center gap-2 ${g?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-neonBlue text-white hover:bg-blue-600 shadow-lg hover:shadow-neon"}`,children:[g?c.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):c.jsx(L0,{className:"w-5 h-5"}),g?"Saving...":"Save Changes"]})})]})]})]})]})]}):c.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-slate-950",children:[c.jsx(xi,{theme:n,setTheme:s,onReportChange:()=>{}}),c.jsxs("div",{className:"flex-1 transition-all duration-300",children:[c.jsx(Bi,{user:r}),c.jsx("main",{className:"mx-auto max-w-6xl px-6 py-8",children:c.jsxs("div",{className:"text-center py-16",children:[c.jsx(Oc,{className:"w-16 h-16 mx-auto text-gray-400 dark:text-slate-500 mb-4"}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-slate-200 mb-2",children:"Sign in to access your profile"}),c.jsx("p",{className:"text-gray-600 dark:text-slate-400 mb-6",children:"Please sign in to view and manage your profile settings"})]})})]})]})}function Z9({chartData:r,isMinimized:e,onToggle:t,chartTitle:n}){if(!r)return null;const s={labels:r.labels?.slice(0,10)||[],datasets:[{data:r.values?.slice(0,10)||[],backgroundColor:"rgba(59, 130, 246, 0.6)",borderColor:"rgb(59, 130, 246)",borderWidth:1}]},i={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!1},datalabels:{display:!1}},scales:{x:{display:!1},y:{display:!1}}};return c.jsx("div",{className:`fixed ${window.innerWidth<640?e?"top-2 right-2 w-12 h-12":"top-2 right-2 left-2 h-48":e?"top-4 right-4 w-14 h-14":"top-4 right-4 w-80 h-56"} bg-white dark:bg-slate-900 rounded-xl shadow-2xl border border-gray-200 dark:border-slate-700 transition-all duration-300 ease-in-out z-40 overflow-hidden`,style:{transform:"scale(1)",opacity:1},children:e?c.jsx("button",{onClick:t,className:"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 transition-all duration-300 rounded-lg sm:rounded-xl cursor-pointer group",title:"Expand chart preview",children:c.jsx(th,{size:window.innerWidth<640?20:24,className:"text-white group-hover:scale-110 transition-transform"})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center justify-between p-2 sm:p-3 border-b border-gray-200 dark:border-slate-700 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-slate-800 dark:to-slate-900",children:[c.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 flex-1 min-w-0",children:[c.jsx(th,{size:14,className:"sm:w-4 sm:h-4 text-blue-600 dark:text-blue-400 flex-shrink-0"}),c.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-slate-300 truncate",children:n||"Current Chart"})]}),c.jsx("button",{onClick:t,className:"p-1 hover:bg-white/50 dark:hover:bg-slate-700 rounded transition-colors flex-shrink-0",title:"Minimize",children:c.jsx(vh,{size:16,className:"text-gray-600 dark:text-slate-400"})})]}),c.jsx("div",{className:"p-2 sm:p-4 h-36 sm:h-44 bg-gradient-to-br from-blue-50/30 to-indigo-50/30 dark:from-slate-800/50 dark:to-slate-900/50",children:r.values&&r.values.length>0?c.jsx(Oa,{data:s,options:i}):c.jsx("div",{className:"h-full flex items-center justify-center text-center",children:c.jsxs("div",{children:[c.jsx(th,{size:24,className:"sm:w-8 sm:h-8 mx-auto mb-2 text-gray-300 dark:text-slate-600"}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Chart preview"})]})})})]})})}function Q9({onSubmit:r,isLoading:e,targetColumn:t}){const[n,s]=U.useState(""),[i,a]=U.useState("hybrid"),[l,d]=U.useState(!1),[h,f]=U.useState(12),[g,b]=U.useState(.95),m=[{value:"gpt",label:"GPT",icon:qS,description:"AI-powered scenario analysis"},{value:"hybrid",label:"Hybrid",icon:Hd,description:"Best of both worlds"},{value:"prophet",label:"Prophet",icon:Uc,description:"Statistical forecasting"}],S=["20% sales increase over next 6 months due to new product launch","15% decline in Q3 due to seasonal factors, recovery in Q4","Market expansion: 30% growth in new regions starting month 4"],k=()=>{!n.trim()||e||r({prompt:n.trim(),model:i,periods:h,confidence:g})},w=_=>{_.key==="Enter"&&_.ctrlKey&&k()};return c.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl border border-gray-200 dark:border-slate-700 shadow-lg overflow-hidden",children:[c.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:c.jsx("div",{className:"flex items-center gap-2",children:m.map(_=>{const E=_.icon;return c.jsxs("button",{onClick:()=>a(_.value),title:_.description,className:`flex items-center gap-2 px-4 py-2.5 rounded-lg font-medium transition-all ${i===_.value?"bg-blue-600 text-white shadow-md scale-105":"bg-white dark:bg-slate-900 text-gray-700 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-800 border border-gray-200 dark:border-slate-700"}`,children:[c.jsx(E,{size:18}),_.label]},_.value)})})}),c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx("textarea",{value:n,onChange:_=>s(_.target.value),onKeyPress:w,placeholder:`Write your forecast scenario for ${t||"your data"}...

Example: "Predict 25% growth over next 12 months with seasonal variations..."`,className:"w-full h-32 p-4 pr-16 rounded-xl border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-gray-800 dark:text-slate-200 placeholder-gray-400 dark:placeholder-slate-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none transition-all text-sm leading-relaxed",maxLength:500,disabled:e}),c.jsxs("div",{className:"absolute bottom-3 right-3 flex flex-col items-end gap-1",children:[c.jsxs("span",{className:"text-xs text-gray-400 dark:text-slate-500 font-mono",children:[n.length,"/500"]}),c.jsx("span",{className:"text-xs text-gray-400 dark:text-slate-500",children:"Ctrl+Enter to submit"})]})]}),!n&&c.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:S.map((_,E)=>c.jsxs("button",{onClick:()=>s(_),className:"text-xs px-3 py-1.5 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",children:[_.slice(0,40),"..."]},E))}),c.jsxs("div",{className:"mt-4 border-t border-gray-200 dark:border-slate-700 pt-4",children:[c.jsxs("button",{onClick:()=>d(!l),className:"flex items-center gap-2 text-sm font-medium text-gray-600 dark:text-slate-400 hover:text-gray-800 dark:hover:text-slate-200 transition-colors",children:[c.jsx("span",{children:"Advanced Settings"}),l?c.jsx(Sm,{size:16}):c.jsx(vh,{size:16})]}),l&&c.jsxs("div",{className:"mt-4 space-y-4 p-4 bg-gray-50 dark:bg-slate-800/50 rounded-lg",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Forecast Periods"}),c.jsx("span",{className:"text-sm font-semibold text-blue-600 dark:text-blue-400",children:h})]}),c.jsx("input",{type:"range",min:"1",max:"60",value:h,onChange:_=>f(Number(_.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-slate-700"}),c.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-slate-500 mt-1",children:[c.jsx("span",{children:"1"}),c.jsx("span",{children:"60"})]})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Confidence Level"}),c.jsxs("span",{className:"text-sm font-semibold text-blue-600 dark:text-blue-400",children:[Math.round(g*100),"%"]})]}),c.jsx("input",{type:"range",min:"0.5",max:"0.99",step:"0.01",value:g,onChange:_=>b(Number(_.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-slate-700"}),c.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-slate-500 mt-1",children:[c.jsx("span",{children:"50%"}),c.jsx("span",{children:"99%"})]})]})]})]}),c.jsx("button",{onClick:k,disabled:!n.trim()||e,className:`w-full mt-4 px-6 py-3.5 rounded-xl font-semibold transition-all flex items-center justify-center gap-2 ${n.trim()&&!e?"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white shadow-lg hover:shadow-xl transform hover:-translate-y-0.5":"bg-gray-300 dark:bg-slate-700 text-gray-500 dark:text-slate-500 cursor-not-allowed"}`,children:e?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),c.jsx("span",{children:"Generating Forecast..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(S1,{size:20}),c.jsx("span",{children:"Generate Forecast"})]})})]})]})}Jo.register(...gE);const l0=(r,e,t={})=>new Promise(n=>{const s=document.createElement("canvas");s.width=t.width||600,s.height=t.height||400;const i=s.getContext("2d");i.fillStyle="#ffffff",i.fillRect(0,0,s.width,s.height);const a=new Jo(i,{type:r,data:e,options:{...t,animation:!1,responsive:!1,maintainAspectRatio:!1,plugins:{...t.plugins,legend:{display:t.plugins?.legend?.display??!0,position:t.plugins?.legend?.position||"bottom",labels:{font:{size:10},boxWidth:12,padding:8,...t.plugins?.legend?.labels}},datalabels:{display:!0,color:"#000",font:{size:9,weight:"bold"},formatter:l=>typeof l=="number"?l.toFixed(0):l,anchor:"end",align:"top",offset:4,...t.plugins?.datalabels}}}});setTimeout(()=>{const l=s.toDataURL("image/png",1);a.destroy(),n(l)},100)}),eO=r=>{const e=r?.forecast;if(!e||!Array.isArray(e)||e.length<2)return{trend:"insufficient_data",trendPct:0,peak:0,trough:0,volatility:0,hasSeasonality:!1,insights:["Insufficient data for comprehensive analysis"]};const t=e.filter(b=>typeof b=="number"&&!isNaN(b));if(t.length<2)return{trend:"insufficient_data",trendPct:0,peak:0,trough:0,volatility:0,hasSeasonality:!1,insights:["Insufficient valid data for comprehensive analysis"]};const n=t[0],i=t[t.length-1]-n,a=n!==0?i/n*100:0,l=Math.max(...t),d=Math.min(...t),h=(l+d)/2,f=h!==0?(l-d)/h*100:0,g=t.length>=12&&tO(t);return{trend:a>5?"upward":a<-5?"downward":"stable",trendPct:a.toFixed(1),peak:l.toFixed(2),trough:d.toFixed(2),volatility:f.toFixed(1),hasSeasonality:g,insights:rO(a,f,g,t)}},tO=r=>{if(r.length<12)return!1;const e=[];for(let t=0;t<r.length;t+=3){const n=r.slice(t,t+3);if(n.length===3){const s=n.reduce((i,a)=>i+a,0)/3;e.push(s)}}return e.length>=4},rO=(r,e,t,n)=>{const s=[];r>10?(s.push(`Strong upward trend detected with ${Math.abs(r).toFixed(1)}% growth over forecast period`),s.push("Demand is increasing steadily - consider scaling operations accordingly")):r>5?(s.push(`Moderate growth trend of ${r}% indicates positive momentum`),s.push("Continue current strategies while monitoring for acceleration opportunities")):r<-10?(s.push(`Significant declining trend of ${Math.abs(r).toFixed(1)}% requires immediate attention`),s.push("Implement corrective measures to reverse downward trajectory")):r<-5?(s.push(`Declining trend of ${Math.abs(r).toFixed(1)}% detected - monitor closely`),s.push("Review strategies and identify factors contributing to decline")):(s.push("Forecast shows stable performance with minimal deviation from baseline"),s.push("Focus on maintaining consistency while seeking optimization opportunities")),e>30?(s.push(`High volatility (${e}%) suggests unpredictable fluctuations`),s.push("Consider risk mitigation strategies and contingency planning")):e>15?s.push(`Moderate volatility (${e}%) indicates some variability in projections`):s.push("Low volatility indicates stable and predictable forecast patterns"),t&&(s.push("Seasonal patterns identified - adjust inventory and staffing accordingly"),s.push("Plan for cyclical variations in demand throughout the year"));const i=n.reduce((a,l)=>a+l,0)/n.length;return s.push(`Average projected value: ${i.toFixed(2)} across all forecast periods`),s};function nO({summary:r,insights:e,recommendations:t,forecastData:n,targetColumn:s,scenario:i,onExportReport:a}){const{user:l}=U.useContext(yi),d=async()=>{const w=new xt,_=w.internal.pageSize.getWidth(),E=w.internal.pageSize.getHeight();w.setFillColor(37,99,235),w.rect(0,0,_,50,"F");try{const O=await(await fetch("/favicon.png")).blob(),W=new FileReader;await new Promise((X,le)=>{W.onloadend=()=>{try{const pe=W.result;w.addImage(pe,"PNG",14,12,16,16),X()}catch(pe){console.warn("Failed to add logo:",pe),X()}},W.onerror=()=>{console.warn("Failed to read logo file"),X()},W.readAsDataURL(O),setTimeout(X,2e3)})}catch(L){console.warn("Logo not loaded:",L)}w.setFontSize(18),w.setFont("helvetica","bold"),w.setTextColor(255,255,255),w.text("SYLA",34,18),w.setFontSize(8),w.setFont("helvetica","normal"),w.text("ANALYTICS",34,24),w.setFontSize(20),w.setFont("helvetica","bold"),w.text("AI Forecast Report",_/2,20,{align:"center"}),w.setFontSize(8),w.setTextColor(220,220,220),w.text(`Prepared for: ${l?.name||"User"}`,_-14,18,{align:"right"}),w.setFontSize(7),w.setTextColor(200,200,200);const R=new Date;w.text(`Generated: ${R.toLocaleDateString()} at ${R.toLocaleTimeString()}`,_-14,24,{align:"right"}),w.setTextColor(40,40,40);let I=60;w.setFontSize(16),w.setFont("helvetica","bold"),w.setTextColor(37,99,235),w.text("Executive Summary",14,I),I+=8,w.setFontSize(10),w.setFont("helvetica","normal"),w.setTextColor(60,60,60);const B=r||"AI-powered forecast analysis based on historical trends and scenario parameters.",Q=w.splitTextToSize(B,_-28);if(w.text(Q,14,I),I+=Q.length*5+10,i){w.setFontSize(11),w.setFont("helvetica","bold"),w.setTextColor(37,99,235),w.text("Scenario Applied:",14,I),I+=7,w.setFontSize(10),w.setFont("helvetica","italic"),w.setTextColor(80,80,80);const L=w.splitTextToSize(`"${i}"`,_-28);w.text(L,14,I),I+=L.length*5+15}I>E-60&&(w.addPage(),I=20),w.setFontSize(14),w.setFont("helvetica","bold"),w.setTextColor(37,99,235),w.text("Forecast Analysis",14,I),I+=8;const te=eO(n);w.setFontSize(10),w.setFont("helvetica","normal"),w.setTextColor(60,60,60),te.insights.slice(0,6).forEach((L,O)=>{const W=`• ${L}`,X=w.splitTextToSize(W,_-32);w.text(X,18,I),I+=X.length*5+2}),I+=10,w.addPage(),I=20,w.setFontSize(16),w.setFont("helvetica","bold"),w.setTextColor(37,99,235),w.text("Visual Forecast Analysis",14,I),I+=10;const $={width:700,height:400,devicePixelRatio:2,animation:!1,plugins:{legend:{display:!0,position:"bottom",labels:{font:{size:10,weight:"500"},boxWidth:12,padding:8,usePointStyle:!0}},datalabels:{display:!0,color:"#1f2937",font:{size:9,weight:"bold"},formatter:L=>typeof L=="number"?L.toFixed(0):L?.y?L.y.toFixed(0):"",anchor:"end",align:"top",offset:4}},scales:{y:{beginAtZero:!0,title:{display:!0,text:s||"Value",font:{size:11}},ticks:{font:{size:10},padding:6},grid:{color:"rgba(0,0,0,0.08)"}},x:{title:{display:!0,text:"Period",font:{size:11}},ticks:{font:{size:9},maxRotation:40},grid:{color:"rgba(0,0,0,0.05)"}}}};try{const L={labels:n?.timestamps?.slice(0,12)||[],datasets:[{label:s||"Forecast",data:n?.forecast?.slice(0,12)||[],backgroundColor:"rgba(59, 130, 246, 0.7)",borderColor:"rgb(59, 130, 246)",borderWidth:2}]};w.setFontSize(12),w.setFont("helvetica","bold"),w.setTextColor(37,99,235),w.text("1. Bar Chart Forecast",14,I),I+=5;try{const le=await l0("bar",L,$);if(le&&le.startsWith("data:image"))w.addImage(le,"PNG",14,I,180,100),I+=110;else throw new Error("Invalid chart image")}catch(le){console.warn("Bar chart render failed:",le),w.setFontSize(10),w.setTextColor(150,150,150),w.text("Chart could not be rendered",14,I+20),I+=50}const O={labels:n?.timestamps?.slice(0,12)||[],datasets:[{label:s||"Forecast",data:n?.forecast?.slice(0,12)||[],borderColor:"rgb(34, 197, 94)",backgroundColor:"rgba(34, 197, 94, 0.2)",borderWidth:3,fill:!0,tension:.4,pointRadius:4,pointBackgroundColor:"rgb(34, 197, 94)",pointBorderColor:"#fff"}]};I>E-120&&(w.addPage(),I=20),w.setFontSize(12),w.setFont("helvetica","bold"),w.setTextColor(37,99,235),w.text("2. Line Chart Forecast",14,I),I+=5;try{const le=await l0("line",O,$);if(le&&le.startsWith("data:image"))w.addImage(le,"PNG",14,I,180,100),I+=110;else throw new Error("Invalid chart image")}catch(le){console.warn("Line chart render failed:",le),w.setFontSize(10),w.setTextColor(150,150,150),w.text("Chart could not be rendered",14,I+20),I+=50}w.addPage(),I=20,w.setFontSize(16),w.setFont("helvetica","bold"),w.setTextColor(37,99,235),w.text("Additional Visualizations",14,I),I+=10;const W={labels:n?.timestamps?.slice(0,12)||[],datasets:[{label:s||"Forecast",data:n?.forecast?.slice(0,12)||[],borderColor:"rgb(168, 85, 247)",backgroundColor:"rgba(168, 85, 247, 0.3)",borderWidth:2,fill:!0,tension:.4,pointRadius:3}]};w.setFontSize(12),w.setFont("helvetica","bold"),w.text("3. Area Chart Forecast",14,I),I+=5;try{const le=await l0("line",W,$);if(le&&le.startsWith("data:image"))w.addImage(le,"PNG",14,I,180,100),I+=110;else throw new Error("Invalid chart image")}catch(le){console.warn("Area chart render failed:",le),w.setFontSize(10),w.setTextColor(150,150,150),w.text("Chart could not be rendered",14,I+20),I+=50}const X={labels:n?.timestamps?.slice(0,6)||[],datasets:[{data:n?.forecast?.slice(0,6)||[],backgroundColor:["rgba(59, 130, 246, 0.8)","rgba(34, 197, 94, 0.8)","rgba(168, 85, 247, 0.8)","rgba(249, 115, 22, 0.8)","rgba(239, 68, 68, 0.8)","rgba(236, 72, 153, 0.8)"],borderColor:"#fff",borderWidth:2}]};w.setFontSize(12),w.setFont("helvetica","bold"),w.text("4. Distribution Pie Chart",14,I),I+=5;try{const le=await l0("pie",X,{...$,scales:{},plugins:{...$.plugins,legend:{display:!0,position:"right",labels:{font:{size:9}}},datalabels:{display:!0,color:"#fff",font:{size:10,weight:"bold"},formatter:(pe,ae)=>{const xe=ae.dataset.data.reduce((be,ee)=>be+ee,0);return`${(pe/xe*100).toFixed(1)}%`}}}});if(le&&le.startsWith("data:image"))w.addImage(le,"PNG",14,I,180,100);else throw new Error("Invalid chart image")}catch(le){console.warn("Pie chart render failed:",le),w.setFontSize(10),w.setTextColor(150,150,150),w.text("Chart could not be rendered",14,I+20)}}catch(L){console.error("Chart rendering error:",L),w.setFontSize(10),w.setTextColor(200,50,50),w.text("Some charts could not be rendered. Please try again.",14,I)}if(n&&n.forecast&&n.forecast.length>0){w.addPage(),w.setFontSize(18),w.setFont("helvetica","bold"),w.setTextColor(37,99,235),w.text("Detailed Forecast Data",14,20);const L=n.forecast.map((W,X)=>[n.timestamps?.[X]||`Period ${X+1}`,W.toFixed(2),(n.lower?.[X]||W*.8).toFixed(2),(n.upper?.[X]||W*1.2).toFixed(2),((n.upper?.[X]||W*1.2)-(n.lower?.[X]||W*.8)).toFixed(2)]);i1(w,{startY:30,head:[["Period","Forecast","Lower Bound","Upper Bound","Range"]],body:L,theme:"striped",headStyles:{fillColor:[37,99,235],fontSize:10,fontStyle:"bold",halign:"center"},styles:{fontSize:9,cellPadding:4,halign:"center"},alternateRowStyles:{fillColor:[245,247,250]},margin:{top:30}});const O=w.lastAutoTable.finalY+15;if(O<E-60){w.setFontSize(14),w.setFont("helvetica","bold"),w.setTextColor(37,99,235),w.text("Statistical Summary",14,O);const W=n.forecast,X=W.reduce((be,ee)=>be+ee,0)/W.length,le=Math.max(...W),pe=Math.min(...W),xe=((W[W.length-1]-W[0])/W[0]*100).toFixed(2);i1(w,{startY:O+5,head:[["Metric","Value"]],body:[["Average Forecast",X.toFixed(2)],["Peak Value",le.toFixed(2)],["Trough Value",pe.toFixed(2)],["Overall Trend",`${xe}%`],["Data Points",W.length.toString()]],theme:"plain",headStyles:{fillColor:[37,99,235],fontSize:10,fontStyle:"bold"},styles:{fontSize:9,cellPadding:3},columnStyles:{0:{fontStyle:"bold",cellWidth:80},1:{halign:"right"}}})}}w.addPage(),I=20,w.setFontSize(16),w.setFont("helvetica","bold"),w.setTextColor(37,99,235),w.text("Actionable Recommendations",14,I),I+=10;const M=h(te);w.setFontSize(10),w.setFont("helvetica","normal"),w.setTextColor(60,60,60),M.forEach((L,O)=>{const W=`${O+1}. ${L}`,X=w.splitTextToSize(W,_-28);w.text(X,14,I),I+=X.length*5+4});const ne=w.internal.getNumberOfPages();for(let L=1;L<=ne;L++)w.setPage(L),w.setFontSize(8),w.setTextColor(120,120,120),w.text("Generated by Syla Analytics • © 2025 • Visit sylaanalytics.com",_/2,E-10,{align:"center"}),w.text(`Page ${L} of ${ne}`,_-20,E-10,{align:"right"});const D=`forecast-report-${s?.replace(/\s+/g,"-")||"analysis"}-${new Date().toISOString().split("T")[0]}.pdf`;w.save(D),a&&a()},h=w=>{const _=[];return w.trend==="upward"?(_.push("Scale infrastructure and increase inventory to meet growing demand"),_.push("Invest in marketing to capitalize on positive momentum"),_.push("Hire additional staff to handle projected workload increase")):w.trend==="downward"?(_.push("Implement cost reduction strategies immediately"),_.push("Analyze root causes of decline and address key issues"),_.push("Consider pivoting strategy or launching recovery initiatives")):(_.push("Maintain current operations while monitoring for changes"),_.push("Focus on efficiency improvements and optimization")),_.push("Review forecast monthly and update with actual performance data"),_.push("Set up automated alerts for deviations exceeding 15% from projections"),_.push("Conduct scenario planning for best/worst case outcomes"),parseFloat(w.volatility)>20&&_.push("Develop contingency plans for high-volatility scenarios"),_},f=["Forecast shows consistent patterns aligned with historical data","Seasonal trends have been identified and incorporated","Confidence intervals indicate moderate prediction certainty","Model performance validated against recent actuals"],g=["Track actual vs. forecast variance monthly","Update projections quarterly as new data arrives","Set up alerts for deviations exceeding 15%","Review assumptions if significant changes occur"],b=e&&e.length>0?e:f,m=t&&t.length>0?t:g,[S,k]=U.useState(!1);return c.jsxs("div",{className:"bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 rounded-2xl border border-blue-200 dark:border-slate-700 overflow-hidden shadow-lg",children:[c.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 p-6 text-white",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("button",{onClick:()=>k(!S),className:"flex-1 flex items-center gap-3 text-left hover:opacity-90 transition-opacity",children:[c.jsx(S1,{size:28,className:"flex-shrink-0"}),c.jsxs("div",{children:[c.jsxs("h3",{className:"text-2xl font-bold flex items-center gap-2",children:["Forecast Analysis",c.jsx("span",{className:"text-sm font-normal text-blue-100",children:S?"(Click to expand)":"(Click to minimize)"})]}),c.jsx("p",{className:"text-blue-100 text-sm",children:S?"AI-generated insights hidden":"AI-generated insights and actionable recommendations"})]})]}),c.jsxs("button",{onClick:d,className:"flex items-center gap-2 px-4 py-2.5 bg-white/20 hover:bg-white/30 backdrop-blur-sm rounded-lg font-medium transition-all shadow-lg hover:shadow-xl hover:scale-105 flex-shrink-0",children:[c.jsx(Vo,{size:18}),c.jsx("span",{className:"hidden sm:inline",children:"Export PDF"})]})]})}),!S&&c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800/50 rounded-xl p-5 border border-gray-200 dark:border-slate-700",children:[c.jsxs("h4",{className:"text-lg font-semibold text-gray-800 dark:text-slate-200 mb-3 flex items-center gap-2",children:[c.jsx(Kn,{size:20,className:"text-blue-600"}),"Summary"]}),c.jsx("p",{className:"text-gray-700 dark:text-slate-300 leading-relaxed text-sm",children:r||"AI-powered forecast reveals key trends in your data. The model analyzed historical performance and projected future outcomes based on your scenario."})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-5 border border-gray-200 dark:border-slate-700 shadow-sm",children:[c.jsxs("h4",{className:"text-base font-semibold text-gray-800 dark:text-slate-200 mb-4 flex items-center gap-2",children:[c.jsx(j0,{size:20,className:"text-green-600"}),"Key Insights"]}),c.jsx("ul",{className:"space-y-3",children:b.slice(0,4).map((w,_)=>c.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700 dark:text-slate-300",children:[c.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-bold mt-0.5 flex-shrink-0",children:"•"}),c.jsx("span",{className:"leading-relaxed",children:w})]},_))})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-5 border border-gray-200 dark:border-slate-700 shadow-sm",children:[c.jsxs("h4",{className:"text-base font-semibold text-gray-800 dark:text-slate-200 mb-4 flex items-center gap-2",children:[c.jsx(v1,{size:20,className:"text-orange-600"}),"Recommendations"]}),c.jsx("ol",{className:"space-y-3",children:m.slice(0,4).map((w,_)=>c.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700 dark:text-slate-300",children:[c.jsxs("span",{className:"text-orange-600 dark:text-orange-400 font-bold min-w-[20px] flex-shrink-0",children:[_+1,"."]}),c.jsx("span",{className:"leading-relaxed",children:w})]},_))})]})]}),c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 flex items-start gap-3",children:[c.jsx(Uc,{size:20,className:"text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),c.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:[c.jsx("strong",{children:"📄 Comprehensive Report:"}),' Click "Export PDF" to download a detailed report including all forecast charts, extended analysis, statistical summaries, and complete recommendations.']})]})]})]})}Jo.register(fp,pp,zh,Bh,Yc,du,Wh,hp,Hh,Uh,H1);function sO({chartType:r,data:e,onClose:t,title:n}){const s=U.useRef(null),[i,a]=U.useState(!1);if(!e)return null;const d=(()=>{switch(r){case"bar":case"column":case"comparison":case"stacked_bar":return Oa;case"line":case"area":return U0;case"pie":return q1;case"doughnut":return $1;case"scatter":case"bubble":return H0;case"radar":return V1;case"gauge":return jh;default:return Oa}})(),h={bar:{color:"59, 130, 246",colorEnd:"79, 70, 229",bgColor:"rgba(59, 130, 246, 0.7)",borderColor:"rgb(59, 130, 246)"},line:{color:"34, 197, 94",colorEnd:"5, 150, 105",bgColor:"rgba(34, 197, 94, 0.2)",borderColor:"rgb(34, 197, 94)"},area:{color:"34, 197, 94",colorEnd:"5, 150, 105",bgColor:"rgba(34, 197, 94, 0.2)",borderColor:"rgb(34, 197, 94)"},pie:{color:"168, 85, 247",colors:["#3b82f6","#8b5cf6","#ec4899","#f59e0b","#10b981","#6366f1","#f97316"]},doughnut:{color:"168, 85, 247",colors:["#3b82f6","#8b5cf6","#ec4899","#f59e0b","#10b981","#6366f1","#f97316"]},radar:{color:"16, 185, 129",bgColor:"rgba(16, 185, 129, 0.2)",borderColor:"rgb(16, 185, 129)"},scatter:{color:"249, 115, 22",colorEnd:"239, 68, 68",bgColor:"rgba(249, 115, 22, 0.6)",borderColor:"rgb(249, 115, 22)"},bubble:{color:"234, 179, 8",bgColor:"rgba(234, 179, 8, 0.4)",borderColor:"rgb(234, 179, 8)"},gauge:{color:"59, 130, 246",bgColor:"rgba(59, 130, 246, 0.3)",borderColor:"rgb(59, 130, 246)"},column:{color:"59, 130, 246",bgColor:"rgba(59, 130, 246, 0.7)",borderColor:"rgb(59, 130, 246)"},comparison:{color:"34, 197, 94",bgColor:"rgba(34, 197, 94, 0.7)",borderColor:"rgb(34, 197, 94)"},stacked_bar:{color:"34, 197, 94",bgColor:"rgba(34, 197, 94, 0.7)",borderColor:"rgb(34, 197, 94)"}},f=h[r]||h.bar,g={labels:e?.timestamps||[],datasets:[{label:n||"Forecast Data",data:r==="scatter"||r==="bubble"?(e?.forecast||[]).map((_,E)=>{const R=(e?.forecast||[]).filter(B=>typeof B=="number"&&!isNaN(B)&&B>0),I=R.length>0?Math.max(...R):1;return{x:E,y:_||0,r:r==="bubble"?Math.abs(_||0)/I*35+10:void 0}}):e?.forecast||[],backgroundColor:r==="pie"||r==="doughnut"?f.colors:f.bgColor,borderColor:r==="pie"||r==="doughnut"?"#ffffff":f.borderColor,borderWidth:r==="pie"||r==="doughnut"?2:3,tension:r==="line"||r==="area"?.4:0,pointRadius:r==="bubble"?void 0:r==="scatter"?8:r==="line"?6:0,pointHoverRadius:r==="bubble"?void 0:r==="scatter"?10:r==="line"?8:0,fill:r==="line"||r==="area",pointBackgroundColor:r==="scatter"||r==="bubble"?f.borderColor:void 0,pointBorderColor:r==="scatter"||r==="bubble"?"#fff":void 0,pointBorderWidth:r==="scatter"||r==="bubble"?2:void 0,showLine:r==="scatter"||r==="bubble"?!1:void 0,pointStyle:r==="scatter"||r==="bubble"?"circle":void 0}]};e?.lower&&e?.upper&&r!=="pie"&&r!=="doughnut"&&(g.datasets.push({label:"Lower Bound",data:e.lower,borderColor:"rgba(156, 163, 175, 0.6)",backgroundColor:"transparent",borderDash:[5,5],borderWidth:2,pointRadius:0,fill:!1}),g.datasets.push({label:"Upper Bound",data:e.upper,borderColor:"rgba(156, 163, 175, 0.6)",backgroundColor:"transparent",borderDash:[5,5],borderWidth:2,pointRadius:0,fill:!1})),r==="area"&&(g.datasets[0].fill=!0,g.datasets[0].backgroundColor="rgba(59, 130, 246, 0.2)",g.datasets[0].tension=.4),r==="doughnut"&&(g.datasets[0].cutout="60%"),r==="stacked_bar"&&(g.datasets=[{...g.datasets[0],label:"Series 1"},{...g.datasets[0],label:"Series 2",data:g.datasets[0].data.map(_=>_*.7),backgroundColor:"rgba(34, 197, 94, 0.7)"}]),r==="radar"&&(g.datasets[0].backgroundColor="rgba(59, 130, 246, 0.2)",g.datasets[0].pointBackgroundColor="rgb(59, 130, 246)",g.datasets[0].pointBorderColor="#fff",g.datasets[0].pointHoverBackgroundColor="#fff",g.datasets[0].pointHoverBorderColor="rgb(59, 130, 246)");const b={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top",labels:{usePointStyle:!0,padding:20,font:{size:14,weight:"500"},color:document.body.classList.contains("dark")?"#e2e8f0":"#334155"}},title:{display:!1},datalabels:{display:i,color:document.body.classList.contains("dark")?"#e2e8f0":"#334155",font:{size:11,weight:"bold"},formatter:_=>typeof _=="number"?_.toFixed(0):_?.y!==void 0?_.y.toFixed(0):"",anchor:"end",align:"top",offset:4},tooltip:{enabled:!0,backgroundColor:"rgba(0, 0, 0, 0.9)",padding:16,titleFont:{size:15,weight:"bold"},bodyFont:{size:14},borderColor:f.borderColor||"rgba(255, 255, 255, 0.2)",borderWidth:2,displayColors:!0,callbacks:{label:function(_){let E=_.dataset.label||"";if(E&&(E+=": "),_.parsed.y!==null&&_.parsed.y!==void 0){const R=_.parsed.y;E+=R.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}else _.parsed!==null&&_.parsed!==void 0&&(E+=_.parsed.toString());return E}}}},scales:r==="pie"||r==="doughnut"?{}:r==="radar"?{r:{beginAtZero:!0,ticks:{font:{size:12},backdropColor:"transparent",color:document.body.classList.contains("dark")?"#cbd5e1":"#64748b"},pointLabels:{font:{size:12},color:document.body.classList.contains("dark")?"#cbd5e1":"#64748b"},grid:{color:"rgba(0, 0, 0, 0.06)"}}}:r==="stacked_bar"?{x:{stacked:!0,ticks:{font:{size:13},maxRotation:45,minRotation:0,color:document.body.classList.contains("dark")?"#cbd5e1":"#64748b"}},y:{stacked:!0,beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.06)",drawBorder:!1},ticks:{font:{size:13},padding:12,color:document.body.classList.contains("dark")?"#cbd5e1":"#64748b",callback:function(_){return _.toLocaleString()}}}}:r==="scatter"||r==="bubble"?{x:{type:"linear",position:"bottom",ticks:{font:{size:13},color:document.body.classList.contains("dark")?"#cbd5e1":"#64748b"},grid:{color:"rgba(0, 0, 0, 0.06)",drawBorder:!1}},y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.06)",drawBorder:!1},ticks:{font:{size:13},padding:12,color:document.body.classList.contains("dark")?"#cbd5e1":"#64748b",callback:function(_){return _.toLocaleString()}}}}:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.06)",drawBorder:!1},ticks:{font:{size:13},padding:12,color:document.body.classList.contains("dark")?"#cbd5e1":"#64748b",callback:function(_){return _.toLocaleString()}}},x:{grid:{display:!1,drawBorder:!1},ticks:{font:{size:13},maxRotation:45,minRotation:0,color:document.body.classList.contains("dark")?"#cbd5e1":"#64748b"}}},animation:{duration:750,easing:"easeInOutQuart"},interaction:{intersect:!1,mode:"index"}},m=()=>{const _=s.current;if(!_?.canvas){alert("Chart not ready for export");return}try{const E=_.canvas,R=document.createElement("canvas");R.width=E.width,R.height=E.height;const I=R.getContext("2d");I.fillStyle="#ffffff",I.fillRect(0,0,R.width,R.height),I.drawImage(E,0,0);const B=R.toDataURL("image/png",1),Q=document.createElement("a");Q.href=B,Q.download=`${r}-forecast-${new Date().toISOString().split("T")[0]}.png`,document.body.appendChild(Q),Q.click(),document.body.removeChild(Q)}catch(E){console.error("Export failed:",E),alert("Failed to export chart: "+E.message)}},S=()=>{if(!e?.forecast||!e.timestamps)return;const _=[["Period","Forecast","Lower Bound","Upper Bound"]];e.forecast.forEach((Q,te)=>{_.push([e.timestamps[te]||`Period ${te+1}`,Q.toFixed(2),(e.lower?.[te]||Q*.8).toFixed(2),(e.upper?.[te]||Q*1.2).toFixed(2)])});const E=_.map(Q=>Q.join(",")).join(`
`),R=new Blob([E],{type:"text/csv"}),I=URL.createObjectURL(R),B=document.createElement("a");B.href=I,B.download=`${r}-forecast-data-${new Date().toISOString().split("T")[0]}.csv`,B.click(),URL.revokeObjectURL(I)},k=e?.forecast||[],w=k.length>0?{average:(k.reduce((_,E)=>_+E,0)/k.length).toFixed(2),peak:Math.max(...k).toFixed(2),trough:Math.min(...k).toFixed(2),trend:k[k.length-1]-k[0],trendPct:((k[k.length-1]-k[0])/k[0]*100).toFixed(1)}:null;return c.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-md z-50 flex items-center justify-center p-2 sm:p-4 animate-fadeIn",onClick:t,children:c.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl sm:rounded-2xl w-full max-w-6xl max-h-[95vh] sm:max-h-[90vh] shadow-2xl flex flex-col animate-slideUp overflow-hidden",onClick:_=>_.stopPropagation(),children:[c.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 p-3 sm:p-6 border-b border-gray-200 dark:border-slate-700 bg-gradient-to-r from-gray-50 to-white dark:from-slate-800 dark:to-slate-900",children:[c.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-1 min-w-0",children:[c.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-lg sm:rounded-xl flex items-center justify-center shadow-lg flex-shrink-0",style:{background:`linear-gradient(135deg, rgb(${f.color}), rgba(${f.colorEnd||f.color}, 0.7))`},children:c.jsx(E0,{size:20,className:"sm:w-6 sm:h-6 text-white"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-base sm:text-xl font-bold text-gray-800 dark:text-slate-200 truncate",children:n||`${r.charAt(0).toUpperCase()+r.slice(1)} Chart`}),c.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 dark:text-slate-400 truncate",children:[k.length," forecast periods • Full visualization"]})]})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-1 sm:gap-2 w-full sm:w-auto",children:[c.jsxs("button",{onClick:()=>a(!i),className:`flex items-center gap-1 sm:gap-2 px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg font-medium transition-colors text-xs sm:text-sm ${i?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-100 dark:bg-slate-800 hover:bg-gray-200 dark:hover:bg-slate-700 text-gray-700 dark:text-slate-300"}`,title:i?"Hide data labels":"Show data labels",children:[c.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"sm:w-4 sm:h-4",children:c.jsx("text",{x:"12",y:"18",fontSize:"16",textAnchor:"middle",fill:"currentColor",children:"123"})}),c.jsx("span",{className:"hidden sm:inline",children:"Labels"})]}),c.jsxs("button",{onClick:S,className:"flex items-center gap-1 sm:gap-2 px-2 sm:px-3 py-1.5 sm:py-2 bg-gray-100 dark:bg-slate-800 hover:bg-gray-200 dark:hover:bg-slate-700 text-gray-700 dark:text-slate-300 rounded-lg font-medium transition-colors text-xs sm:text-sm",title:"Export as CSV",children:[c.jsx(Vo,{size:14,className:"sm:w-4 sm:h-4"}),c.jsx("span",{className:"hidden sm:inline",children:"CSV"})]}),c.jsxs("button",{onClick:m,className:"flex items-center gap-1 sm:gap-2 px-2 sm:px-4 py-1.5 sm:py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors shadow-md text-xs sm:text-sm",children:[c.jsx(Vo,{size:14,className:"sm:w-[18px] sm:h-[18px]"}),c.jsx("span",{children:"PNG"})]}),c.jsx("button",{onClick:t,className:"p-1.5 sm:p-2 hover:bg-gray-200 dark:hover:bg-slate-700 rounded-lg transition-colors",title:"Close",children:c.jsx(lu,{size:20,className:"sm:w-6 sm:h-6 text-gray-600 dark:text-slate-400"})})]})]}),c.jsx("div",{className:"flex-1 p-3 sm:p-8 overflow-auto bg-gradient-to-br from-gray-50 to-white dark:from-slate-900 dark:to-slate-800",children:c.jsx("div",{className:"h-full min-h-[300px] sm:min-h-[500px]",children:k.length>0?r==="gauge"?c.jsx(jh,{value:k[0]||0,max:Math.max(...k)*1.2,options:b}):c.jsx(d,{ref:s,data:g,options:b}):c.jsx("div",{className:"h-full flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-gray-200 dark:bg-slate-700 flex items-center justify-center",children:c.jsx(E0,{size:40,className:"text-gray-400 dark:text-slate-500"})}),c.jsx("p",{className:"text-gray-500 dark:text-slate-400 text-lg",children:"No forecast data available"})]})})})}),w&&c.jsx("div",{className:"p-3 sm:p-5 border-t border-gray-200 dark:border-slate-700 bg-gradient-to-r from-gray-50 to-white dark:from-slate-800 dark:to-slate-900",children:c.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-2 sm:gap-4 text-center",children:[c.jsxs("div",{className:"p-2 sm:p-3 bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700",children:[c.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mb-1",children:"Average"}),c.jsx("p",{className:"text-sm sm:text-lg font-bold text-gray-800 dark:text-slate-200",children:w.average})]}),c.jsxs("div",{className:"p-3 bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700",children:[c.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mb-1",children:"Peak"}),c.jsx("p",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:w.peak})]}),c.jsxs("div",{className:"p-3 bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700",children:[c.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mb-1",children:"Trough"}),c.jsx("p",{className:"text-lg font-bold text-red-600 dark:text-red-400",children:w.trough})]}),c.jsxs("div",{className:"p-3 bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700",children:[c.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mb-1",children:"Trend"}),c.jsxs("div",{className:"flex items-center justify-center gap-1",children:[w.trend>0?c.jsx(Uc,{size:18,className:"text-green-600 dark:text-green-400"}):w.trend<0?c.jsx(Z6,{size:18,className:"text-red-600 dark:text-red-400"}):c.jsx(N6,{size:18,className:"text-gray-600 dark:text-gray-400"}),c.jsxs("p",{className:`text-lg font-bold ${w.trend>0?"text-green-600 dark:text-green-400":w.trend<0?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"}`,children:[w.trendPct,"%"]})]})]}),c.jsxs("div",{className:"p-3 bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700",children:[c.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mb-1",children:"Periods"}),c.jsx("p",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:k.length})]})]})})]})})}const iO="/api";class aO{constructor(){this.baseURL=iO}async makeRequest(e,t={}){const n=`${this.baseURL}${e}`,s={headers:{"Content-Type":"application/json",...t.headers},credentials:"include",...t};try{const i=await fetch(n,s);if(!i.ok){let l="Request failed";try{const d=await i.json();l=d.detail||d.message||l}catch{l=`HTTP ${i.status}: ${i.statusText}`}throw new Error(l)}const a=i.headers.get("content-type");return a&&a.includes("application/json")?await i.json():await i.text()}catch(i){throw console.error(`API request failed: ${e}`,i),i}}async createWhatIfForecast(e){return await this.makeRequest("/forecast/whatif",{method:"POST",body:JSON.stringify(e)})}async parseScenario(e,t){return await this.makeRequest("/forecast/scenario/parse",{method:"POST",body:JSON.stringify({scenario_text:e,available_columns:t})})}async getAvailableModels(){return await this.makeRequest("/forecast/models",{method:"GET"})}async getUserUsage(e){return await this.makeRequest(`/forecast/usage/${e}`,{method:"GET"})}async clearCache(){return await this.makeRequest("/forecast/cache/clear",{method:"DELETE"})}async generateChartPayload(e){return await this.makeRequest("/chart/payload",{method:"POST",body:JSON.stringify(e)})}async saveChart(e,t="",n=null){return await this.makeRequest("/charts/save",{method:"POST",body:JSON.stringify({chart_payload:e,description:t,owner_id:n})})}async exportChart(e){return await this.makeRequest("/charts/export",{method:"POST",body:JSON.stringify(e)})}async getExportStatus(e){return await this.makeRequest(`/export/status/${e}`,{method:"GET"})}async getDatasets(){return await this.makeRequest("/datasets",{method:"GET"})}async getDataPreview(e,t=10){return await this.makeRequest(`/preview?file_id=${e}&n=${t}`,{method:"GET"})}async uploadFile(e,t=null){const n=new FormData;n.append("file",e);try{return await new Promise((s,i)=>{const a=new XMLHttpRequest;t&&(a.upload.onprogress=l=>{if(l.lengthComputable){const d=l.loaded/l.total*100;t(Math.round(d))}}),a.onload=()=>{if(a.status>=200&&a.status<300)try{const l=JSON.parse(a.responseText);s(l)}catch{i(new Error("Invalid JSON response"))}else try{const l=JSON.parse(a.responseText);i(new Error(l.detail||"Upload failed"))}catch{i(new Error(`HTTP ${a.status}: ${a.statusText}`))}},a.onerror=()=>i(new Error("Network error during upload")),a.ontimeout=()=>i(new Error("Upload timeout")),a.open("POST",`${this.baseURL}/upload`),a.withCredentials=!0,a.timeout=3e5,a.send(n)})}catch(s){throw console.error("File upload failed:",s),s}}async createForecast(e){return await this.makeRequest("/forecast",{method:"POST",body:JSON.stringify(e)})}async getForecastStatus(e){return await this.makeRequest(`/forecast/${e}`,{method:"GET"})}async getModelMetadata(e){return await this.makeRequest(`/models/${e}`,{method:"GET"})}async checkAuth(){try{return await this.makeRequest("/auth/me",{method:"GET"})}catch{return null}}async healthCheck(){return await this.makeRequest("/health",{method:"GET"})}async retryRequest(e,t=3,n=1e3){let s;for(let i=0;i<t;i++)try{return await e()}catch(a){if(s=a,a.message.includes("401")||a.message.includes("403")||a.message.includes("400"))throw a;i<t-1&&await new Promise(l=>setTimeout(l,n*Math.pow(2,i)))}throw s}async batchOperation(e,t=5){const n=[],s=[];for(let i=0;i<e.length;i+=t){const l=e.slice(i,i+t).map(async(h,f)=>{try{const g=await h();return{index:i+f,result:g,error:null}}catch(g){return{index:i+f,result:null,error:g}}}),d=await Promise.all(l);for(const h of d)h.error?s.push({index:h.index,error:h.error}):n.push({index:h.index,result:h.result})}return{results:n,errors:s}}getFromCache(e){try{const t=localStorage.getItem(`aiApi_cache_${e}`);if(t){const{data:n,timestamp:s,ttl:i}=JSON.parse(t);if(Date.now()-s<i)return n;localStorage.removeItem(`aiApi_cache_${e}`)}}catch(t){console.warn("Cache read error:",t)}return null}setCache(e,t,n=30){try{const s={data:t,timestamp:Date.now(),ttl:n*60*1e3};localStorage.setItem(`aiApi_cache_${e}`,JSON.stringify(s))}catch(s){console.warn("Cache write error:",s)}}clearCache(){try{Object.keys(localStorage).filter(t=>t.startsWith("aiApi_cache_")).forEach(t=>localStorage.removeItem(t))}catch(e){console.warn("Cache clear error:",e)}}}const oO=new aO;Jo.register(fp,pp,zh,Bh,Yc,du,Wh,hp,Hh,Uh);const lO=({chart:r,data:e,onClick:t,isSelected:n})=>{const i={bar:Oa,line:U0,pie:q1,scatter:H0,area:U0,column:Oa,doughnut:$1,radar:V1,bubble:H0,comparison:Oa,stacked_bar:Oa,gauge:jh}[r.id]||Oa,a=()=>{const h={label:"Forecast",data:e?.forecast||[],backgroundColor:`rgba(${r.color}, 0.6)`,borderColor:`rgb(${r.color})`,borderWidth:2};if(r.id==="scatter"||r.id==="bubble"){const f=(e?.forecast||[]).filter(m=>typeof m=="number"&&!isNaN(m)&&m>0),g=f.length>0?Math.max(...f):1,b=(e?.forecast||[]).map((m,S)=>({x:S,y:m||0,r:r.id==="bubble"?Math.abs(m||0)/g*30+8:void 0}));return{...h,data:b,showLine:!1,pointRadius:r.id==="bubble"?void 0:5,pointHoverRadius:r.id==="bubble"?void 0:7,backgroundColor:r.id==="bubble"?`rgba(${r.color}, 0.6)`:`rgba(${r.color}, 0.7)`,borderColor:`rgb(${r.color})`,borderWidth:(r.id==="bubble",2),pointStyle:"circle",hoverBorderWidth:2}}if(r.id==="area")return{...h,fill:!0,backgroundColor:`rgba(${r.color}, 0.2)`,tension:.4};if(r.id==="pie"||r.id==="doughnut"){const f=[`rgba(${r.color}, 0.9)`,`rgba(${r.color}, 0.7)`,`rgba(${r.color}, 0.5)`,`rgba(${r.color}, 0.3)`,`rgba(${r.color}, 0.8)`,`rgba(${r.color}, 0.6)`];return{...h,backgroundColor:f.slice(0,(e?.forecast||[]).length)}}return r.id==="radar"?{...h,backgroundColor:`rgba(${r.color}, 0.2)`,pointBackgroundColor:`rgb(${r.color})`,pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:`rgb(${r.color})`}:r.id==="column"||r.id==="comparison"?{...h,barThickness:20,maxBarThickness:30}:r.id==="stacked_bar"?[{label:"Series 1",data:e?.forecast||[],backgroundColor:`rgba(${r.color}, 0.8)`},{label:"Series 2",data:(e?.forecast||[]).map(f=>f*.7),backgroundColor:`rgba(${r.color}, 0.5)`}]:h},l={labels:e?.timestamps||[],datasets:Array.isArray(a())?a():[a()]},d={responsive:!0,maintainAspectRatio:!1,indexAxis:r.id==="column"||r.id==="comparison"||r.id==="stacked_bar"?"y":"x",plugins:{legend:{display:r.id==="pie"||r.id==="doughnut"||r.id==="stacked_bar"||r.id==="radar",position:"bottom",labels:{font:{size:9},boxWidth:10,padding:8}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12,borderColor:`rgb(${r.color})`,borderWidth:1,displayColors:!0,callbacks:{title:h=>{if((r.id==="scatter"||r.id==="bubble")&&h[0]){const f=Math.round(h[0].parsed.x);return e?.timestamps?.[f]||`Point ${f}`}return h[0]?.label||""}}},datalabels:{display:!1}},scales:r.id==="pie"||r.id==="doughnut"?{}:r.id==="radar"?{r:{beginAtZero:!0,ticks:{font:{size:8},backdropColor:"transparent"},pointLabels:{font:{size:9}}}}:r.id==="stacked_bar"?{x:{stacked:!0,ticks:{font:{size:9}}},y:{stacked:!0,beginAtZero:!0,ticks:{font:{size:9}}}}:r.id==="scatter"||r.id==="bubble"?{x:{type:"linear",position:"bottom",ticks:{font:{size:9}},grid:{color:"rgba(0, 0, 0, 0.05)"}},y:{beginAtZero:!0,ticks:{font:{size:9}},grid:{color:"rgba(0, 0, 0, 0.05)"}}}:r.id==="column"||r.id==="comparison"?{x:{beginAtZero:!0,ticks:{font:{size:9}},grid:{color:"rgba(0, 0, 0, 0.05)"}},y:{ticks:{font:{size:9}},grid:{display:!1}}}:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.05)",drawBorder:!1},ticks:{font:{size:9},color:"rgba(100, 116, 139, 0.8)"}},x:{grid:{display:!1},ticks:{font:{size:9},color:"rgba(100, 116, 139, 0.8)",maxRotation:45,minRotation:0}}},animation:{duration:1e3,easing:"easeInOutQuart"},interaction:{intersect:!1,mode:"index"}};return c.jsxs("div",{onClick:t,"data-chart":r.id,className:`forecast-chart-card relative bg-white dark:bg-slate-900 rounded-xl border ${n?"border-blue-500 ring-2 ring-blue-500 shadow-xl selected":"border-gray-200 dark:border-slate-700"} p-4 cursor-pointer transition-all duration-300 group`,children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 rounded-full shadow-md",style:{backgroundColor:`rgb(${r.color})`}}),c.jsx("h3",{className:"font-semibold text-sm text-gray-800 dark:text-slate-200",children:r.label})]}),c.jsx("div",{className:"w-8 h-8 rounded-lg opacity-80 group-hover:opacity-100 transition-opacity shadow-inner",style:{background:`linear-gradient(135deg, rgb(${r.color}), rgb(${r.colorEnd}))`}})]}),c.jsx("div",{className:"h-40 bg-gradient-to-br from-gray-50 to-gray-100 dark:from-slate-800 dark:to-slate-900 rounded-lg p-2 shadow-inner",children:e&&(e.forecast||[]).length>0?r.id==="gauge"?c.jsx(jh,{value:(e.forecast||[])[0]||0,max:Math.max(...e.forecast||[0])*1.2,options:d}):c.jsx(i,{data:l,options:d}):c.jsx("div",{className:"h-full flex items-center justify-center text-sm text-gray-400 dark:text-slate-500",children:"No data available"})}),c.jsx("div",{className:"absolute inset-0 bg-blue-500/5 opacity-0 group-hover:opacity-100 transition-opacity rounded-xl pointer-events-none"}),n&&c.jsx("div",{className:"absolute top-2 right-2 bg-blue-600 text-white text-xs px-2 py-1 rounded-full font-medium shadow-lg",children:"Viewing"})]})};function cO({forecastData:r,onChartClick:e,selectedChart:t,chartTypes:n=["bar","line","pie","scatter"]}){const i=[{id:"bar",label:"Bar Chart",color:"59, 130, 246",colorEnd:"79, 70, 229"},{id:"line",label:"Line Chart",color:"34, 197, 94",colorEnd:"5, 150, 105"},{id:"area",label:"Area Chart",color:"168, 85, 247",colorEnd:"147, 51, 234"},{id:"pie",label:"Pie Chart",color:"239, 68, 68",colorEnd:"220, 38, 38"},{id:"scatter",label:"Scatter Plot",color:"249, 115, 22",colorEnd:"239, 68, 68"},{id:"column",label:"Column Chart",color:"6, 182, 212",colorEnd:"14, 165, 233"},{id:"doughnut",label:"Doughnut Chart",color:"236, 72, 153",colorEnd:"219, 39, 119"},{id:"radar",label:"Radar Chart",color:"99, 102, 241",colorEnd:"79, 70, 229"},{id:"bubble",label:"Bubble Chart",color:"245, 158, 11",colorEnd:"217, 119, 6"},{id:"comparison",label:"Comparison Chart",color:"20, 184, 166",colorEnd:"13, 148, 136"},{id:"stacked_bar",label:"Stacked Bar",color:"132, 204, 22",colorEnd:"101, 163, 13"},{id:"gauge",label:"Gauge Chart",color:"244, 63, 94",colorEnd:"225, 29, 72"}].filter(a=>n.includes(a.id));return c.jsx("div",{className:`transition-all duration-500 ${t?"blur-sm scale-95":""}`,children:c.jsx("div",{className:"grid grid-cols-2 gap-4",children:i.map(a=>c.jsx(lO,{chart:a,data:r,onClick:()=>e(a.id),isSelected:t===a.id},a.id))})})}function dO({forecastData:r,onChartClick:e,selectedChart:t}){const[n,s]=U.useState(0),i=[["bar","line","area","pie"],["scatter","column","doughnut","radar"],["bubble","comparison","stacked_bar","gauge"]],a=i[n];return c.jsxs("div",{className:"space-y-4",children:[c.jsx(cO,{forecastData:r,onChartClick:e,selectedChart:t,chartTypes:a}),c.jsxs("div",{className:"flex items-center justify-center gap-4",children:[c.jsxs("button",{onClick:()=>s(Math.max(0,n-1)),disabled:n===0,className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[c.jsx(pN,{size:18}),"Previous"]}),c.jsx("div",{className:"flex items-center gap-2",children:i.map((l,d)=>c.jsx("button",{onClick:()=>s(d),className:`w-10 h-10 rounded-full font-medium transition-all ${n===d?"bg-blue-600 text-white shadow-lg scale-110":"bg-gray-200 dark:bg-slate-700 text-gray-700 dark:text-slate-300 hover:bg-gray-300 dark:hover:bg-slate-600"}`,children:d+1},d))}),c.jsxs("button",{onClick:()=>s(Math.min(i.length-1,n+1)),disabled:n===i.length-1,className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:["Next",c.jsx(mN,{size:18})]})]}),c.jsxs("div",{className:"text-center text-sm text-gray-600 dark:text-slate-400",children:["Page ",n+1," of ",i.length," • ",a.length," charts"]})]})}function uO(){const r=ms(),{user:e,theme:t,setTheme:n}=U.useContext(yi),{chartData:s,hasData:i,isDataLoaded:a}=cu(),[l,d]=U.useState(!1),[h,f]=U.useState(null),[g,b]=U.useState(null),[m,S]=U.useState(!1),[k,w]=U.useState(""),[_,E]=U.useState(""),[R,I]=U.useState("none");U.useEffect(()=>{if(!e){r("/login");return}if(a&&i){const L=s.yAxis||s.columns.find(O=>s.data.slice(0,5).some(W=>!isNaN(Number(W[O]))))||s.columns[0];E(L)}},[e,i,a,s,r]);const B=async L=>{if(!i||!_){w("No data available. Please upload data first.");return}w(""),S(!0),b(null);const O={csv_data:s.data,scenario_text:L.prompt,target_column:_,date_column:s.columns.find(W=>W.toLowerCase().includes("date")||W.toLowerCase().includes("time"))||void 0,model_preference:L.model,periods_ahead:L.periods,confidence_level:L.confidence};try{const W=await oO.createWhatIfForecast(O);b(W),d(!0),localStorage.setItem("lastForecast",JSON.stringify({result:W,timestamp:new Date().toISOString(),scenario:L.prompt,targetColumn:_}))}catch(W){console.error("Forecast error:",W),w(W.message||"Forecast generation failed. Please try again.")}finally{S(!1)}},Q=L=>{f(L)},te=()=>{console.log("Exporting comprehensive report...")},$=i?{labels:s.data.slice(0,20).map(L=>L[s.xAxis]||""),values:s.data.slice(0,20).map(L=>{const O=L[_];return typeof O=="number"?O:parseFloat(String(O).replace(/,/g,""))||0})}:null,M=()=>{if(!g)return[];const L=g.forecast?.forecast||[];if(L.length===0)return[];const O=[],W=L.reduce((pe,ae)=>pe+ae,0)/L.length,le=(L[L.length-1]-L[0])/L[0]*100;return O.push(`Average forecast value is ${W.toFixed(2)} over the prediction period`),le>10?O.push(`Strong upward trend detected with ${le.toFixed(1)}% growth`):le<-10?O.push(`Declining trend identified with ${Math.abs(le).toFixed(1)}% decrease`):O.push(`Stable trend with ${Math.abs(le).toFixed(1)}% variation`),O.push(`Confidence intervals indicate ${g.metadata?.confidence_level>.9?"high":"moderate"} prediction certainty`),O.push(`Model used: ${g.metadata?.model_used||"Hybrid"} for optimal accuracy`),O},ne=()=>{if(!g)return[];const L=g.forecast?.forecast||[];if(L.length===0)return[];const O=[],W=L[L.length-1]-L[0];return W>0?(O.push("Consider increasing inventory or capacity to meet projected demand growth"),O.push("Monitor early indicators to capitalize on upward momentum")):W<0&&(O.push("Implement cost optimization strategies to mitigate declining trends"),O.push("Review market conditions and adjust positioning accordingly")),O.push("Conduct monthly reviews to compare actual vs. forecast performance"),O.push("Update forecast quarterly as new data becomes available"),O.push("Set up automated alerts for significant deviations from projections"),O},D=Ho.useMemo(()=>{if(!g?.forecast)return null;const L=g.forecast;if(R==="none")return L;const W=[...L.forecast.map((X,le)=>le)].sort((X,le)=>R==="asc"?L.forecast[X]-L.forecast[le]:L.forecast[le]-L.forecast[X]);return{forecast:W.map(X=>L.forecast[X]),lower:L.lower?W.map(X=>L.lower[X]):void 0,upper:L.upper?W.map(X=>L.upper[X]):void 0,timestamps:W.map(X=>L.timestamps[X])}},[g,R]);return e?c.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-slate-950",children:[c.jsx(xi,{theme:t,setTheme:n,onReportChange:()=>{}}),c.jsxs("div",{className:"flex-1 relative",children:[c.jsx(Z9,{chartData:$,isMinimized:l,onToggle:()=>d(!l),chartTitle:s.chartTitle||_}),c.jsxs("div",{className:"p-3 sm:p-6 max-w-7xl mx-auto",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4 mb-6 sm:mb-8",children:[c.jsx("div",{className:"p-2 sm:p-3 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-xl sm:rounded-2xl text-white shadow-lg",children:c.jsx(km,{size:24,className:"sm:w-8 sm:h-8"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-800 dark:text-slate-200",children:"AI Forecasting"}),c.jsxs("p",{className:"text-sm sm:text-base text-gray-600 dark:text-slate-400",children:["Natural language scenario analysis • ",s.data.length.toLocaleString()," data points"]})]})]}),k&&c.jsxs("div",{className:"mb-4 sm:mb-6 p-3 sm:p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700/50 rounded-lg sm:rounded-xl flex items-start gap-2 sm:gap-3",children:[c.jsx(V5,{className:"text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5",size:16}),c.jsx("div",{className:"text-xs sm:text-sm text-red-700 dark:text-red-300",children:k})]}),g&&c.jsxs("div",{className:"mb-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"text-sm text-gray-600 dark:text-slate-400",children:["Showing ",D?.forecast?.length||0," forecast periods"]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Sort:"}),c.jsxs("div",{className:"flex bg-white dark:bg-slate-800 rounded-lg border border-gray-300 dark:border-slate-600 p-1",children:[c.jsx("button",{onClick:()=>I("none"),className:`px-3 py-1.5 rounded text-sm font-medium transition-colors ${R==="none"?"bg-blue-600 text-white":"text-gray-700 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-700"}`,children:"Default"}),c.jsxs("button",{onClick:()=>I("asc"),className:`px-3 py-1.5 rounded text-sm font-medium transition-colors flex items-center gap-1 ${R==="asc"?"bg-blue-600 text-white":"text-gray-700 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-700"}`,children:[c.jsx(A2,{size:14}),"Ascending"]}),c.jsxs("button",{onClick:()=>I("desc"),className:`px-3 py-1.5 rounded text-sm font-medium transition-colors flex items-center gap-1 ${R==="desc"?"bg-blue-600 text-white":"text-gray-700 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-700"}`,children:[c.jsx(A2,{size:14,className:"rotate-180"}),"Descending"]})]})]})]}),c.jsx(dO,{forecastData:D,onChartClick:Q,selectedChart:h})]}),g&&c.jsx("div",{className:"mb-6",children:c.jsx(nO,{summary:g.explanation,insights:M(),recommendations:ne(),forecastData:D,targetColumn:_,scenario:g.scenario_parsed?.target_change?`${g.scenario_parsed.target_change>0?"Increase":"Decrease"} by ${Math.abs(g.scenario_parsed.target_change)}%`:"Custom scenario",onExportReport:te})}),c.jsx(Q9,{onSubmit:B,isLoading:m,targetColumn:_}),!i&&c.jsxs("div",{className:"mt-6 p-8 bg-white dark:bg-slate-900 rounded-2xl border text-center",children:[c.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Data Available"}),c.jsx("p",{className:"text-gray-600 dark:text-slate-400 mb-4",children:"Upload CSV data to start forecasting"}),c.jsx("button",{onClick:()=>r("/"),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Upload Data"})]})]}),h&&g&&c.jsx(sO,{chartType:h,data:D,onClose:()=>f(null),title:`${_} Forecast - ${h.charAt(0).toUpperCase()+h.slice(1)} Chart`})]})]}):c.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-slate-950",children:[c.jsx(xi,{theme:t,setTheme:n,onReportChange:()=>{}}),c.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:c.jsxs("div",{className:"text-center max-w-md",children:[c.jsx(km,{size:64,className:"mx-auto text-blue-600 mb-4"}),c.jsx("h2",{className:"text-2xl font-bold mb-2",children:"AI Forecasting"}),c.jsx("p",{className:"text-gray-600 dark:text-slate-400 mb-6",children:"Sign in to access AI-powered forecasting"}),c.jsxs("div",{className:"flex justify-center gap-3",children:[c.jsx("button",{onClick:()=>r("/signup"),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Sign Up"}),c.jsx("button",{onClick:()=>r("/login"),className:"px-6 py-2 border rounded-lg hover:bg-gray-50",children:"Sign In"})]})]})})]})}function hO({sidebarOpen:r,setSidebarOpen:e,chartOptions:t,onOptionsChange:n,onSave:s,onExport:i,onUndo:a,onRedo:l,canUndo:d,canRedo:h,onResetView:f,onFitToScreen:g,className:b=""}){const m=ms(),[S,k]=U.useState(null),{chartData:w}=cu(),_=[{type:Ie.BAR,icon:th,label:"Bar"},{type:Ie.LINE,icon:M5,label:"Line"},{type:Ie.AREA,icon:T5,label:"Area"},{type:Ie.PIE,icon:N0,label:"Pie"},{type:Ie.SCATTER,icon:P0,label:"Scatter"},{type:Ie.COLUMN,icon:_m,label:"Column"},{type:Ie.DOUGHNUT,icon:N0,label:"Doughnut"},{type:Ie.BUBBLE,icon:P0,label:"Bubble"},{type:Ie.RADAR,icon:W5,label:"Radar"},{type:Ie.COMPARISON,icon:rh,label:"Compare"},{type:Ie.STACKED_BAR,icon:Cm,label:"Stacked"},{type:Ie.GAUGE,icon:B5,label:"Gauge"}],E=[{name:"Blue",color:"#2563eb"},{name:"Green",color:"#059669"},{name:"Purple",color:"#7c3aed"},{name:"Orange",color:"#ea580c"},{name:"Pink",color:"#db2777"},{name:"Teal",color:"#0d9488"}],R=D=>{k(S===D?null:D)},I=D=>{n({type:D}),k(null)},B=D=>{n({color:D}),k(null)},Q=D=>{n({sort:D}),k(null)},te=()=>{const D=!t.gradient,L={gradient:D};D&&!t.gradientStops&&(L.gradientStops=[t.color||"#2563eb","#60a5fa"]),n(L)},$=()=>{const D=t.gradientStops||[t.color||"#2563eb","#60a5fa"];if(D.length>=5)return;const L=D[Math.floor(D.length/2)];n({gradientStops:[...D,L]})},M=D=>{const L=t.gradientStops||[];if(L.length<=2)return;const O=L.filter((W,X)=>X!==D);n({gradientStops:O})},ne=(D,L)=>{const O=[...t.gradientStops||[]];O[D]=L,n({gradientStops:O})};return c.jsxs("div",{className:`bg-white dark:bg-slate-800 shadow-lg ${b}`,style:{zIndex:30},children:[c.jsxs("div",{className:"px-4 py-2 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("button",{onClick:()=>e(!r),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Toggle Sidebar",children:c.jsx(v6,{size:18})}),c.jsx("div",{className:"w-px h-6 bg-gray-300 dark:bg-slate-600 mx-2"}),c.jsx("button",{onClick:s,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Save Chart",children:c.jsx(L0,{size:18})}),c.jsx("button",{onClick:i,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Export Chart",children:c.jsx(Vo,{size:18})})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsxs("div",{className:"relative",children:[c.jsx("button",{onClick:()=>R("chartType"),className:`p-2 rounded-lg transition-colors ${S==="chartType"?"bg-blue-100 text-blue-600 dark:bg-blue-900/30":"hover:bg-gray-100 dark:hover:bg-slate-700"}`,title:"Chart Type",children:_.find(D=>D.type===t.type)?.icon?Ho.createElement(_.find(D=>D.type===t.type).icon,{size:18}):c.jsx(th,{size:18})}),S==="chartType"&&c.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-600 rounded-lg shadow-lg min-w-[120px]",style:{zIndex:70},children:_.map(({type:D,icon:L,label:O})=>c.jsxs("button",{onClick:()=>I(D),className:`w-full flex items-center gap-2 px-3 py-2 text-sm hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors ${t.type===D?"bg-blue-50 text-blue-600 dark:bg-blue-900/30":""}`,children:[c.jsx(L,{size:16}),O]},D))})]}),c.jsxs("div",{className:"relative",children:[c.jsx("button",{onClick:()=>R("colors"),className:`p-2 rounded-lg transition-colors ${S==="colors"?"bg-blue-100 text-blue-600 dark:bg-blue-900/30":"hover:bg-gray-100 dark:hover:bg-slate-700"}`,title:"Colors",children:c.jsx(_1,{size:18})}),S==="colors"&&c.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-600 rounded-lg shadow-lg p-3 min-w-[280px]",style:{zIndex:70},children:[c.jsx("div",{className:"grid grid-cols-3 gap-2 mb-3",children:E.map(({name:D,color:L})=>c.jsx("button",{onClick:()=>B(L),className:"w-8 h-8 rounded-lg border-2 border-white dark:border-slate-700 hover:scale-110 transition-transform",style:{backgroundColor:L},title:D},D))}),c.jsx("div",{className:"mb-3",children:c.jsx("input",{type:"color",value:t.color||"#2563eb",onChange:D=>B(D.target.value),className:"w-full h-8 rounded border cursor-pointer"})}),c.jsx("div",{className:"mb-3",children:c.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[c.jsx("input",{type:"checkbox",checked:t.gradient||!1,onChange:te,className:"rounded"}),c.jsx("span",{children:"Enable Gradient"})]})}),t.gradient&&c.jsxs("div",{className:"space-y-3",children:[c.jsx("div",{className:"flex flex-wrap gap-2",children:(t.gradientStops||[t.color||"#2563eb","#60a5fa"]).map((D,L)=>c.jsxs("div",{className:"flex flex-col items-center gap-1",children:[c.jsx("input",{type:"color",value:D,onChange:O=>ne(L,O.target.value),className:"w-12 h-12 rounded-lg border-2 border-gray-300 cursor-pointer hover:border-blue-400 transition-colors",title:`Color ${L+1}`}),c.jsx("button",{onClick:()=>M(L),disabled:t.gradientStops?.length<=2,className:"text-xs px-2 py-0.5 rounded bg-red-100 text-red-600 hover:bg-red-200 disabled:opacity-50 disabled:cursor-not-allowed",title:"Remove color",children:"Remove"})]},L))}),c.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[c.jsxs("button",{onClick:$,disabled:t.gradientStops?.length>=5,className:"flex items-center gap-1 px-3 py-1.5 text-sm bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx("span",{children:"+"})," Add Color"]}),c.jsxs("span",{className:"text-xs text-gray-500",children:[t.gradientStops?.length||2," / 5 colors"]})]}),c.jsx("div",{className:"h-8 rounded-lg border",style:{background:t.gradientStops?`linear-gradient(to right, ${t.gradientStops.join(", ")})`:`linear-gradient(to right, ${t.color||"#2563eb"}, #60a5fa)`},title:"Gradient preview"})]})]})]}),(t.type===Ie.BAR||t.type===Ie.COLUMN||t.type===Ie.PIE||t.type===Ie.DOUGHNUT||t.type===Ie.COMPARISON||t.type===Ie.STACKED_BAR)&&c.jsx("button",{onClick:()=>n({enable3D:!t.enable3D}),className:`p-2 rounded-lg transition-colors ${t.enable3D?"bg-indigo-100 text-indigo-600 dark:bg-indigo-900/30":"hover:bg-gray-100 dark:hover:bg-slate-700"}`,title:`Toggle 3D Effect (${t.enable3D?"ON":"OFF"})`,children:c.jsx(Cm,{size:18})}),c.jsx("button",{onClick:()=>n({logScale:!t.logScale}),className:`p-2 rounded-lg transition-colors ${t.logScale?"bg-blue-100 text-blue-600 dark:bg-blue-900/30":"hover:bg-gray-100 dark:hover:bg-slate-700"}`,title:"Toggle Logarithmic Scale",children:c.jsx(_m,{size:18})}),c.jsxs("div",{className:"relative",children:[c.jsx("button",{onClick:()=>R("sort"),className:`p-2 rounded-lg transition-colors ${S==="sort"?"bg-blue-100 text-blue-600 dark:bg-blue-900/30":"hover:bg-gray-100 dark:hover:bg-slate-700"}`,title:"Sort Data",children:c.jsx(vm,{size:18})}),S==="sort"&&c.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-600 rounded-lg shadow-lg min-w-[120px]",style:{zIndex:70},children:[c.jsxs("button",{onClick:()=>Q("none"),className:`w-full flex items-center gap-2 px-3 py-2 text-sm hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors ${t.sort==="none"?"bg-blue-50 text-blue-600 dark:bg-blue-900/30":""}`,children:[c.jsx(M2,{size:16}),"No Sort"]}),c.jsxs("button",{onClick:()=>Q("asc"),className:`w-full flex items-center gap-2 px-3 py-2 text-sm hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors ${t.sort==="asc"?"bg-blue-50 text-blue-600 dark:bg-blue-900/30":""}`,children:[c.jsx(vm,{size:16}),"Ascending"]}),c.jsxs("button",{onClick:()=>Q("desc"),className:`w-full flex items-center gap-2 px-3 py-2 text-sm hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors ${t.sort==="desc"?"bg-blue-50 text-blue-600 dark:bg-blue-900/30":""}`,children:[c.jsx(I5,{size:16}),"Descending"]})]})]}),c.jsxs("button",{onClick:()=>{window.dispatchEvent(new CustomEvent("openRowSelectionModal"))},className:`p-2 rounded-lg transition-colors ${w?.selectedRowIndices?"bg-green-100 text-green-600 dark:bg-green-900/30":"hover:bg-gray-100 dark:hover:bg-slate-700"}`,title:"Select Rows",children:[c.jsx(M2,{size:18}),w?.selectedRowIndices&&c.jsx("span",{className:"absolute -top-1 -right-1 bg-green-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:w.selectedRowIndices.length})]}),c.jsx("div",{className:"w-px h-6 bg-gray-300 dark:bg-slate-600 mx-2"}),c.jsxs("div",{className:"relative",children:[c.jsx("button",{onClick:()=>R("labels"),className:`p-2 rounded-lg transition-colors ${S==="labels"||t.showLabels?"bg-blue-100 text-blue-600 dark:bg-blue-900/30":"hover:bg-gray-100 dark:hover:bg-slate-700"}`,title:"Data Labels Options",children:t.showLabels?c.jsx(Ud,{size:18}):c.jsx(A0,{size:18})}),S==="labels"&&c.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-600 rounded-lg shadow-lg min-w-[160px] p-2",style:{zIndex:70},children:[c.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 text-sm hover:bg-gray-100 dark:hover:bg-slate-700 rounded cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:t.showLabels||!1,onChange:D=>{n({showLabels:D.target.checked}),D.target.checked||k(null)},className:"rounded"}),"Show Labels"]}),t.showLabels&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"border-t border-gray-200 dark:border-slate-600 my-2"}),c.jsx("div",{className:"px-3 py-1 text-xs text-gray-500",children:"Position:"}),c.jsx("button",{onClick:()=>{n({labelPosition:"center"}),k(null)},className:`w-full text-left px-3 py-2 text-sm hover:bg-gray-100 dark:hover:bg-slate-700 rounded transition-colors ${(t.labelPosition||"center")==="center"?"bg-blue-50 text-blue-600 dark:bg-blue-900/30":""}`,children:"Centered"}),c.jsx("button",{onClick:()=>{n({labelPosition:"outside"}),k(null)},className:`w-full text-left px-3 py-2 text-sm hover:bg-gray-100 dark:hover:bg-slate-700 rounded transition-colors ${t.labelPosition==="outside"?"bg-blue-50 text-blue-600 dark:bg-blue-900/30":""}`,children:"Outside"})]})]})]}),c.jsx("button",{onClick:()=>n({trendline:!t.trendline}),className:`p-2 rounded-lg transition-colors ${t.trendline?"bg-blue-100 text-blue-600 dark:bg-blue-900/30":"hover:bg-gray-100 dark:hover:bg-slate-700"}`,title:"Toggle Trendline",children:c.jsx(Uc,{size:18})})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("button",{onClick:a,disabled:!d,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Undo",children:c.jsx(rC,{size:18})}),c.jsx("button",{onClick:l,disabled:!h,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Redo",children:c.jsx(I6,{size:18})}),c.jsx("div",{className:"w-px h-6 bg-gray-300 dark:bg-slate-600 mx-2"}),c.jsx("button",{onClick:g,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Fit to Screen",children:c.jsx(E0,{size:18})}),c.jsx("button",{onClick:f,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Reset View",children:c.jsx(nh,{size:18})}),c.jsx("div",{className:"w-px h-6 bg-gray-300 dark:bg-slate-600 mx-2"}),c.jsx("button",{onClick:()=>m("/settings"),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Settings",children:c.jsx($l,{size:18})})]})]}),S&&c.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>k(null)})]})}function fO({data:r=[],columns:e=[],selectedIndices:t=[],onSelectionChange:n=()=>{},maxHeight:s="500px"}){const[i,a]=U.useState(""),[l,d]=U.useState(""),[h,f]=U.useState("asc"),g=U.useMemo(()=>{let w=r.map((_,E)=>({..._,_index:E}));if(i.trim()){const _=i.toLowerCase();w=w.filter(E=>Object.values(E).some(R=>String(R).toLowerCase().includes(_)))}return l&&w.sort((_,E)=>{const R=_[l],I=E[l],B=h==="asc"?1:-1;return typeof R=="number"&&typeof I=="number"?(R-I)*B:String(R).localeCompare(String(I))*B}),w},[r,i,l,h]),b=()=>{t.length===g.length?n([]):n(g.map(w=>w._index))},m=w=>{const _=t.includes(w)?t.filter(E=>E!==w):[...t,w];n(_)},S=w=>{l===w?f(h==="asc"?"desc":"asc"):(d(w),f("asc"))},k=e.slice(0,3);return c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsx("div",{className:"p-3 border-b dark:border-slate-600",children:c.jsxs("div",{className:"relative",children:[c.jsx(Dh,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search rows...",value:i,onChange:w=>a(w.target.value),className:"w-full pl-9 pr-3 py-2 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-slate-800 dark:border-slate-600"})]})}),c.jsxs("div",{className:"p-3 border-b dark:border-slate-600 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("label",{className:"text-xs text-gray-600 dark:text-slate-400",children:"Sort by:"}),c.jsxs("select",{value:l,onChange:w=>S(w.target.value),className:"text-sm border rounded px-2 py-1 dark:bg-slate-800 dark:border-slate-600",children:[c.jsx("option",{value:"",children:"None"}),e.map(w=>c.jsx("option",{value:w,children:w},w))]}),l&&c.jsx("button",{onClick:()=>f(h==="asc"?"desc":"asc"),className:"p-1 hover:bg-gray-100 dark:hover:bg-slate-700 rounded",children:h==="asc"?c.jsx(vm,{size:16}):c.jsx(I5,{size:16})})]}),c.jsxs("span",{className:"text-xs text-gray-500",children:["Selected: ",t.length," of ",r.length]})]}),c.jsx("div",{className:"p-3 border-b dark:border-slate-600 flex gap-2",children:c.jsx("button",{onClick:b,className:"flex-1 px-3 py-1.5 text-sm bg-blue-50 hover:bg-blue-100 dark:bg-blue-900/20 dark:hover:bg-blue-900/30 rounded transition-colors",children:t.length===g.length?"Clear All":"Select All"})}),c.jsx("div",{className:"flex-1 overflow-y-auto",style:{maxHeight:s},children:g.map(w=>{const _=t.includes(w._index);return c.jsx("div",{onClick:()=>m(w._index),className:`p-3 border-b dark:border-slate-700 cursor-pointer transition-colors ${_?"bg-blue-50 dark:bg-blue-900/20 hover:bg-blue-100 dark:hover:bg-blue-900/30":"hover:bg-gray-50 dark:hover:bg-slate-800"}`,children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"mt-0.5",children:_?c.jsx(H6,{size:18,className:"text-blue-600"}):c.jsx(H5,{size:18,className:"text-gray-400"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"text-xs text-gray-500 dark:text-slate-400 mb-1",children:["Row #",w._index+1]}),c.jsx("div",{className:"text-sm space-y-1",children:k.map(E=>c.jsxs("div",{className:"truncate",children:[c.jsxs("span",{className:"font-medium text-gray-600 dark:text-slate-400",children:[E,":"]})," ",c.jsx("span",{className:"text-gray-800 dark:text-slate-200",children:String(w[E]||"")})]},E))})]})]})},w._index)})})]})}function u4({isOpen:r,onClose:e,data:t=[],columns:n=[],chartData:s={},onApply:i=()=>{}}){const[a,l]=U.useState([]),[d,h]=U.useState(!1),g=Um()?10:20;U.useEffect(()=>{if(r){const w=s.selectedRowIndices||Array.from({length:Math.min(g,t.length)},(_,E)=>E);l(w)}},[r,s.selectedRowIndices,g,t.length]),U.useEffect(()=>{h(a.length>20)},[a]);const b=w=>{let _=[];const E=n.find(R=>typeof t[0]?.[R]=="number")||n[1];switch(w){case"top10":_=wE(t,E,10).map(R=>R._originalIndex);break;case"bottom10":_=kE(t,E,10).map(R=>R._originalIndex);break;case"first20":_=Array.from({length:Math.min(20,t.length)},(R,I)=>I);break;case"last20":_=Array.from({length:Math.min(20,t.length)},(R,I)=>t.length-20+I);break;case"random":_=SE(t,Math.min(20,t.length)).map(R=>R._originalIndex);break}l(_)},m=()=>{const w=Array.from({length:Math.min(g,t.length)},(_,E)=>E);l(w)},S=()=>{if(a.length===0){alert("Please select at least one row");return}i(a),e()},k=t.filter((w,_)=>a.includes(_));return r?c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:e,children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-6xl max-h-[90vh] flex flex-col",onClick:w=>w.stopPropagation(),children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b dark:border-slate-600",children:[c.jsx("h2",{className:"text-xl font-semibold",children:"Select Rows to Display"}),c.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:c.jsx(lu,{size:20})})]}),d&&c.jsx("div",{className:"p-3 bg-orange-50 dark:bg-orange-900/20 border-b border-orange-200 dark:border-orange-700",children:c.jsxs("div",{className:"flex items-center gap-2 text-orange-700 dark:text-orange-300",children:[c.jsx(V5,{size:18}),c.jsxs("span",{className:"text-sm",children:["You've selected ",a.length," rows. For optimal visualization, we recommend 20 or fewer rows."]})]})}),c.jsx("div",{className:"p-4 border-b dark:border-slate-600 bg-gray-50 dark:bg-slate-700",children:c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("button",{onClick:()=>b("top10"),className:"px-3 py-1.5 text-sm bg-white dark:bg-slate-800 border rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700",children:"Top 10"}),c.jsx("button",{onClick:()=>b("bottom10"),className:"px-3 py-1.5 text-sm bg-white dark:bg-slate-800 border rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700",children:"Bottom 10"}),c.jsx("button",{onClick:()=>b("first20"),className:"px-3 py-1.5 text-sm bg-white dark:bg-slate-800 border rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700",children:"First 20"}),c.jsx("button",{onClick:()=>b("last20"),className:"px-3 py-1.5 text-sm bg-white dark:bg-slate-800 border rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700",children:"Last 20"}),c.jsx("button",{onClick:()=>b("random"),className:"px-3 py-1.5 text-sm bg-white dark:bg-slate-800 border rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700",children:"Random Sample"})]})}),c.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[c.jsx("div",{className:"w-1/2 border-r dark:border-slate-600 overflow-hidden",children:c.jsx(fO,{data:t,columns:n,selectedIndices:a,onSelectionChange:l,maxHeight:"100%"})}),c.jsxs("div",{className:"w-1/2 p-4 overflow-y-auto",children:[c.jsx("div",{className:"mb-3",children:c.jsxs("h3",{className:"text-sm font-medium text-gray-600 dark:text-slate-400",children:["Live Preview (",k.length," rows)"]})}),k.length>0?c.jsx("div",{style:{height:"400px"},children:c.jsx(Y1,{data:k,columns:n,types:s.types,options:s.chartOptions,xAxis:s.xAxis,yAxis:s.yAxis,chartTitle:s.chartTitle})}):c.jsx("div",{className:"flex items-center justify-center h-64 text-gray-400",children:"Select rows to see preview"})]})]}),c.jsxs("div",{className:"p-4 border-t dark:border-slate-600 flex items-center justify-between",children:[c.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-4 py-2 text-sm border rounded-lg hover:bg-gray-50 dark:border-slate-600 dark:hover:bg-slate-700",children:[c.jsx(R6,{size:16}),"Reset to Default"]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:e,className:"px-4 py-2 text-sm border rounded-lg hover:bg-gray-50 dark:border-slate-600 dark:hover:bg-slate-700",children:"Cancel"}),c.jsx("button",{onClick:S,disabled:a.length===0,className:"px-4 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Apply Selection"})]})]})]})}):null}const mm=({value:r,onSave:e,className:t="",placeholder:n="Click to edit...",multiline:s=!1,maxLength:i=100})=>{const[a,l]=U.useState(!1),[d,h]=U.useState(r||""),f=U.useRef(null);U.useEffect(()=>{a&&f.current&&(f.current.focus(),s||f.current.select())},[a,s]);const g=()=>{e(d),l(!1)},b=()=>{h(r||""),l(!1)},m=S=>{S.key==="Enter"&&!s?(S.preventDefault(),g()):S.key==="Escape"&&b()};if(a){const S=s?"textarea":"input";return c.jsx(S,{ref:f,type:s?void 0:"text",value:d,onChange:k=>h(k.target.value),onBlur:g,onKeyDown:m,className:`bg-transparent border-b-2 border-blue-500 focus:outline-none ${t}`,placeholder:n,maxLength:i,rows:s?2:void 0,style:{minWidth:"200px"}})}return c.jsxs("span",{className:`cursor-pointer hover:text-blue-600 transition-colors flex items-center gap-2 ${t}`,onClick:()=>{h(r||""),l(!0)},title:"Double-click to edit",children:[r||n,c.jsx(U5,{size:14,className:"opacity-50"})]})};function pO({sidebarOpen:r,onTitleEdit:e,onExport:t,onForecast:n,selectedBars:s,onBarClick:i,onSelectionDelete:a,onSelectionClear:l}){const{chartData:d,updateChartData:h}=cu(),[f,g]=U.useState(!1);U.useEffect(()=>{const w=()=>g(!0);return window.addEventListener("openRowSelectionModal",w),()=>window.removeEventListener("openRowSelectionModal",w)},[]);const b=w=>{h({selectedRowIndices:w,rowSelectionMode:"custom",totalRowCount:d.data.length})},m=(w,_)=>{h({xAxis:w,yAxis:_})},S=w=>{h({chartTitle:w}),e?.(w)},k=(w,_)=>{const E={};w==="x"?E.xAxisLabel=_:w==="y"&&(E.yAxisLabel=_),h(E)};return d.data.length?c.jsxs("div",{ref:panelRef,className:`flex-1 transition-all duration-300 ${r?"ml-0 lg:ml-64":"ml-0"} overflow-auto`,style:{height:"calc(100vh - 120px)"},children:[c.jsx("div",{className:"mx-2 sm:mx-4 mt-2 sm:mt-4 mb-2 sm:mb-4 rounded-xl sm:rounded-2xl bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-600 shadow-sm min-h-[calc(100vh-8rem)]",children:c.jsxs("div",{className:"p-3 sm:p-6 h-full",children:[c.jsx("div",{className:"flex flex-wrap items-center justify-between gap-2 sm:gap-4 mb-4 sm:mb-6",children:c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsx("div",{className:"flex items-center",children:c.jsx(mm,{value:d.chartTitle,onSave:S,className:"text-xl font-semibold text-gray-800 dark:text-slate-200",placeholder:"Untitled Chart",maxLength:100})}),c.jsxs("div",{className:"text-xs sm:text-sm text-gray-500 dark:text-slate-400",children:[d.data.length.toLocaleString()," rows • ",d.columns.length," columns"]})]})}),c.jsxs("div",{className:"flex flex-col sm:flex-row flex-wrap gap-3 sm:gap-6 mb-4 sm:mb-6 items-stretch sm:items-center",children:[c.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-1 sm:flex-initial",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(mm,{value:d.xAxisLabel||"X-Axis",onSave:w=>k("x",w),className:"text-sm font-medium text-gray-600 dark:text-slate-400",placeholder:"X-Axis Label",maxLength:50}),c.jsx("span",{className:"text-gray-400",children:":"})]}),c.jsx("select",{value:d.xAxis||"",onChange:w=>m(w.target.value,d.yAxis),className:"border border-gray-300 rounded-lg px-2 sm:px-3 py-1 text-xs sm:text-sm bg-white dark:bg-slate-700 dark:border-slate-600 w-full sm:min-w-[120px] focus:outline-none focus:ring-2 focus:ring-blue-500",children:d.columns.map(w=>c.jsx("option",{value:w,children:w},w))})]}),c.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-1 sm:flex-initial",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(mm,{value:d.yAxisLabel||"Y-Axis",onSave:w=>k("y",w),className:"text-sm font-medium text-gray-600 dark:text-slate-400",placeholder:"Y-Axis Label",maxLength:50}),c.jsx("span",{className:"text-gray-400",children:":"})]}),c.jsx("select",{value:d.yAxis||"",onChange:w=>m(d.xAxis,w.target.value),className:"border border-gray-300 rounded-lg px-2 sm:px-3 py-1 text-xs sm:text-sm bg-white dark:bg-slate-700 dark:border-slate-600 w-full sm:min-w-[120px] focus:outline-none focus:ring-2 focus:ring-blue-500",children:d.columns.map(w=>c.jsx("option",{value:w,children:w},w))})]}),c.jsx("div",{className:"w-full sm:w-auto sm:ml-auto",children:c.jsxs("button",{onClick:()=>setSelectionMode(!selectionMode),className:`w-full sm:w-auto flex items-center justify-center gap-2 px-3 sm:px-4 py-2 rounded-lg transition-colors text-sm ${selectionMode?"bg-orange-100 text-orange-700 border border-orange-300":"border border-gray-300 text-gray-700 hover:bg-gray-50"} dark:border-slate-600 dark:text-slate-300 dark:hover:bg-slate-700`,children:[c.jsx(H5,{size:16}),selectionMode?"Exit Selection":"Select Mode"]})})]}),s?.length>0&&c.jsx("div",{className:"mb-3 sm:mb-4 p-2 sm:p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-700",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("span",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:[s.length," item(s) selected"]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:a,className:"flex items-center gap-1 px-2 sm:px-3 py-1 bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors text-xs sm:text-sm",children:[c.jsx(N1,{size:14}),"Delete Selected"]}),c.jsx("button",{onClick:l,className:"px-2 sm:px-3 py-1 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors text-xs sm:text-sm",children:"Clear Selection"})]})]})}),selectionMode&&c.jsx("div",{className:"mb-3 sm:mb-4 p-2 sm:p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg border border-orange-200 dark:border-orange-700",children:c.jsxs("div",{className:"text-xs sm:text-sm text-orange-700 dark:text-orange-300",children:[c.jsx("strong",{children:"Selection Mode Active:"})," Click on chart elements to select them for bulk operations."]})}),c.jsx("div",{className:"bg-gradient-to-b from-gray-50 to-white dark:from-black/20 dark:to-black/10 rounded-lg sm:rounded-xl p-2 sm:p-4 border dark:border-white/10",style:{minHeight:"550px",overflow:"visible"},children:c.jsx(Y1,{data:d.data,columns:d.columns,types:d.types,options:d.chartOptions,chartTitle:d.chartTitle,xAxis:d.xAxis,yAxis:d.yAxis,setXAxis:w=>m(w,d.yAxis),setYAxis:w=>m(d.xAxis,w),onBarClick:i,selectedBars:s,selectionMode})}),c.jsx(lk,{options:d.chartOptions,setOptions:w=>{h({chartOptions:{...d.chartOptions,...w}})},columns:d.columns,data:d.data})]})}),c.jsx(u4,{isOpen:f,onClose:()=>g(!1),data:d.data,columns:d.columns,chartData:d,onApply:b})]}):c.jsx("div",{className:`flex-1 transition-all duration-300 ${r?"ml-0 lg:ml-64":"ml-0"}`,children:c.jsx("div",{className:"mx-2 sm:mx-4 mt-2 sm:mt-4 mb-2 sm:mb-4 rounded-xl sm:rounded-2xl bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-600 shadow-sm min-h-[calc(100vh-8rem)]",children:c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-24 h-24 mx-auto mb-4 rounded-full bg-gray-100 dark:bg-slate-700 flex items-center justify-center",children:c.jsx("svg",{className:"w-12 h-12 text-gray-400 dark:text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 00-2-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v4"})})}),c.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-slate-200 mb-2",children:"No Chart Data Available"}),c.jsx("p",{className:"text-gray-600 dark:text-slate-400 mb-6",children:"Upload a CSV file to start creating and editing charts"}),c.jsx("button",{onClick:()=>window.history.back(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Go Back to Upload"})]})})})})}function gO({isOpen:r,onClose:e,data:t=[],columns:n=[],title:s="Data Preview"}){const[i,a]=U.useState(!1),[l,d]=U.useState(""),[h,f]=U.useState(""),[g,b]=U.useState("asc"),[m,S]=U.useState(1),[k,w]=U.useState(!1),[_,E]=U.useState({x:0,y:0}),R=U.useRef(null),I=U.useRef(null),B=50;U.useEffect(()=>{if(!k)return;const L=W=>{E({x:W.clientX-I.current.offsetX,y:W.clientY-I.current.offsetY})},O=()=>{w(!1)};return document.addEventListener("mousemove",L),document.addEventListener("mouseup",O),()=>{document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",O)}},[k]);const Q=L=>{w(!0),I.current={offsetX:L.clientX-_.x,offsetY:L.clientY-_.y}},te=t.filter(L=>l?Object.values(L).some(O=>String(O).toLowerCase().includes(l.toLowerCase())):!0),$=[...te].sort((L,O)=>{if(!h)return 0;const W=L[h],X=O[h],le=g==="asc"?1:-1;return typeof W=="number"&&typeof X=="number"?(W-X)*le:String(W).localeCompare(String(X))*le}),M=Math.ceil($.length/B),ne=$.slice((m-1)*B,m*B),D=L=>{h===L?b(g==="asc"?"desc":"asc"):(f(L),b("asc"))};return r?c.jsxs("div",{ref:R,className:"fixed z-50 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-600 rounded-xl shadow-2xl",style:{right:_.x||20,top:_.y||100,width:i?"300px":"500px",height:i?"60px":"600px",maxWidth:"calc(100vw - 40px)",maxHeight:"calc(100vh - 40px)"},children:[c.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-200 dark:border-slate-600 cursor-move bg-gray-50 dark:bg-slate-700 rounded-t-xl",onMouseDown:Q,children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Qd,{size:16,className:"text-blue-600 dark:text-blue-400"}),c.jsx("h3",{className:"font-medium text-sm text-gray-800 dark:text-slate-200",children:s}),c.jsxs("span",{className:"text-xs text-gray-500 dark:text-slate-400",children:["(",t.length," rows)"]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("button",{onClick:()=>a(!i),className:"p-1 rounded hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors",title:i?"Maximize":"Minimize",children:i?c.jsx(E0,{size:14}):c.jsx(_6,{size:14})}),c.jsx("button",{onClick:e,className:"p-1 rounded hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors",title:"Close",children:c.jsx(lu,{size:14})})]})]}),!i&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"p-3 border-b border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(Dh,{size:16,className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search data...",value:l,onChange:L=>d(L.target.value),className:"w-full pl-8 pr-3 py-1 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-slate-600 dark:bg-slate-800"})]}),c.jsx("button",{className:"p-1 rounded hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors",title:"Filter options",children:c.jsx(F5,{size:16})})]}),c.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600 dark:text-slate-400",children:[c.jsxs("span",{children:["Showing ",ne.length," of ",te.length]}),c.jsxs("span",{children:["Page ",m," of ",M]})]})]}),c.jsx("div",{className:"flex-1 overflow-auto",children:t.length===0?c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsxs("div",{className:"text-center",children:[c.jsx(Qd,{size:48,className:"mx-auto text-gray-400 mb-4"}),c.jsx("p",{className:"text-gray-500 dark:text-slate-400 text-sm",children:"No data to preview"}),c.jsxs("button",{className:"mt-2 px-3 py-1 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[c.jsx(I0,{size:14,className:"inline mr-1"}),"Upload File"]})]})}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-xs",children:[c.jsx("thead",{className:"sticky top-0 bg-gray-100 dark:bg-slate-600",children:c.jsx("tr",{children:n.map(L=>c.jsx("th",{className:"text-left p-2 font-medium cursor-pointer hover:bg-gray-200 dark:hover:bg-slate-500 transition-colors border-r border-gray-200 dark:border-slate-500",onClick:()=>D(L),children:c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("span",{className:"truncate max-w-[100px]",title:L,children:L}),h===L&&c.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:g==="asc"?"↑":"↓"})]})},L))})}),c.jsx("tbody",{children:ne.map((L,O)=>c.jsx("tr",{className:"border-b border-gray-100 dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:n.map(W=>c.jsx("td",{className:"p-2 text-gray-600 dark:text-slate-300 border-r border-gray-100 dark:border-slate-700",children:c.jsx("div",{className:"truncate max-w-[120px]",title:String(L[W]||""),children:String(L[W]||"")})},W))},O))})]})})}),M>1&&c.jsx("div",{className:"p-3 border-t border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("button",{onClick:()=>S(Math.max(1,m-1)),disabled:m===1,className:"px-3 py-1 text-sm bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded hover:bg-gray-50 dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),c.jsx("div",{className:"flex items-center gap-1",children:[...Array(Math.min(5,M))].map((L,O)=>{const W=m-2+O;return W<1||W>M?null:c.jsx("button",{onClick:()=>S(W),className:`px-2 py-1 text-xs rounded transition-colors ${m===W?"bg-blue-600 text-white":"bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:W},W)})}),c.jsx("button",{onClick:()=>S(Math.min(M,m+1)),disabled:m===M,className:"px-3 py-1 text-sm bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded hover:bg-gray-50 dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})})]})]}):null}function mO(){const r=ms(),{user:e,theme:t,setTheme:n}=U.useContext(yi),{chartData:s,updateChartOptions:i,updateChartData:a,hasData:l,isDataLoaded:d}=cu(),[h,f]=U.useState(!1),[g,b]=U.useState(!1),[m,S]=U.useState(!1),[k,w]=U.useState(!1),[_,E]=U.useState([]),[R,I]=U.useState([]),[B,Q]=U.useState(-1),[te,$]=U.useState(!1),[M,ne]=U.useState(0),D=U.useRef(null),L=U.useRef(null);U.useEffect(()=>{if(!e){r("/login");return}if(d&&!l){r("/");return}},[e,l,d,r]),U.useEffect(()=>{const ce=()=>f(!0);return window.addEventListener("openRowSelectionModal",ce),()=>window.removeEventListener("openRowSelectionModal",ce)},[]);const O=ce=>{a({selectedRowIndices:ce,rowSelectionMode:"custom",totalRowCount:s.data.length})};U.useEffect(()=>{if(s&&R.length===0){const ce={chartData:{...s},timestamp:Date.now(),action:"initial"};I([ce]),Q(0)}},[s,R.length]),U.useEffect(()=>{const ce=()=>{if(!L.current)return;const we=L.current.scrollTop,me=we>M;we>50?$(me):$(!1),ne(we)},Z=L.current;if(Z)return Z.addEventListener("scroll",ce,{passive:!0}),()=>Z.removeEventListener("scroll",ce)},[M]);const W=(ce,Z="change")=>{const we={chartData:{...ce},timestamp:Date.now(),action:Z},me=R.slice(0,B+1);me.push(we),me.length>50?me.shift():Q(me.length-1),I(me)},X=()=>{if(B>0){const ce=B-1,Z=R[ce];Q(ce),a(Z.chartData)}},le=()=>{if(B<R.length-1){const ce=B+1,Z=R[ce];Q(ce),a(Z.chartData)}},pe=ce=>{const Z=typeof ce=="object"&&ce!==null?{...s.chartOptions,...ce}:s.chartOptions,we={...s,chartOptions:Z};i(Z),W(we,"options_change")},ae=ce=>{const Z={...s,...ce};a(ce),W(Z,"data_change")},xe=()=>{const ce={...s,savedAt:new Date().toISOString()};localStorage.setItem("chartSaved",JSON.stringify(ce)),e&&console.log("Saving to backend:",ce),alert("Chart saved successfully!")},be=()=>{S(!0)},ee=()=>{localStorage.setItem("chartBeforeForecast",JSON.stringify(s)),r("/forecast")},A=(ce,Z)=>{const we=_.includes(Z)?_.filter(me=>me!==Z):[..._,Z];E(we)},q=()=>{if(_.length===0)return;const ce=s.data.filter((we,me)=>{const Me=we[s.xAxis]||`Row ${me+1}`;return!_.includes(Me)}),Z={...s,data:ce};a({data:ce}),W(Z,"delete_selection"),E([]),alert(`Deleted ${_.length} items`)},J=()=>{E([])},ue=ce=>{const Z=ce.target.files[0];if(!Z)return;const we=new FileReader;we.onload=me=>{try{const Be=me.target.result.split(`
`),ke=Be[0].split(",").map(Xe=>Xe.trim().replace(/"/g,"")),re=Be.slice(1).filter(Xe=>Xe.trim()).map(Xe=>{const ct=Xe.split(",").map(De=>De.trim().replace(/"/g,"")),Qe={};return ke.forEach((De,Ye)=>{const We=ct[Ye]||"",mt=parseFloat(We);Qe[De]=isNaN(mt)?We:mt}),Qe});w(!0)}catch(Me){console.error("File parsing error:",Me),alert("Failed to parse file. Please ensure it's a valid CSV.")}},we.readAsText(Z)},fe=ce=>{console.log("Exporting image:",ce),S(!1)},de=ce=>{if(s.data.length){if(ce==="csv"){const Z=Object.keys(s.data[0]),we=[Z.join(","),...s.data.map(ke=>Z.map(re=>`"${ke[re]??""}"`).join(","))].join(`
`),me=new Blob([we],{type:"text/csv"}),Me=URL.createObjectURL(me),Be=document.createElement("a");Be.href=Me,Be.download=`${s.chartTitle||"data"}.csv`,Be.click(),URL.revokeObjectURL(Me)}S(!1)}};return e?d?c.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-slate-950",children:[c.jsx("div",{className:`hidden md:block transition-transform duration-300 ${te?"-translate-y-full":"translate-y-0"}`,children:c.jsx(Bi,{user:e})}),c.jsx("div",{className:"hidden md:block",children:c.jsx(hO,{sidebarOpen:g,setSidebarOpen:b,chartOptions:s.chartOptions,onOptionsChange:pe,onSave:xe,onExport:be,onUndo:X,onRedo:le,canUndo:B>0,canRedo:B<R.length-1,onResetView:()=>console.log("Reset view"),onFitToScreen:()=>console.log("Fit to screen"),className:"sticky top-0 z-40"})}),c.jsxs("div",{ref:L,className:"flex flex-1 relative overflow-auto",style:{height:window.innerWidth<768?"calc(100vh - 60px)":"calc(100vh - 120px)",paddingBottom:"40px"},children:[g&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 bg-black/20 z-20 hidden lg:block",onClick:()=>b(!1)}),c.jsx("div",{className:"fixed lg:relative left-0 top-0 h-full w-64 z-30 lg:z-10 hidden lg:block",children:c.jsx(xi,{theme:t,setTheme:n,onReportChange:()=>{}})})]}),c.jsx(pO,{sidebarOpen:g,onTitleEdit:ce=>ae({chartTitle:ce}),onExport:be,onForecast:ee,selectedBars:_,onBarClick:A,onSelectionDelete:q,onSelectionClear:J}),c.jsx("button",{onClick:()=>D.current?.click(),className:"fixed bottom-6 right-6 p-3 bg-green-600 text-white rounded-full shadow-lg hover:bg-green-700 transition-colors z-10",title:"Upload File for Preview",children:c.jsx(Ud,{size:20})}),c.jsx("input",{ref:D,type:"file",accept:".csv,.xlsx,.xls",onChange:ue,className:"hidden"}),c.jsx(gO,{isOpen:k,onClose:()=>w(!1),data:s.data,columns:s.columns,title:"Data Preview"}),m&&c.jsx(ok,{onClose:()=>S(!1),onExportImage:fe,onExportCSV:()=>de("csv"),onExportJSON:()=>de("json"),chartData:s.data,chartTitle:s.chartTitle})]}),c.jsx(u4,{isOpen:h,onClose:()=>f(!1),data:s.data,columns:s.columns,chartData:s,onApply:O})]}):c.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-slate-950",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-12 h-12 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Loading chart data..."})]})}):c.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-slate-950",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Authentication Required"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Please sign in to access the chart editor."}),c.jsx("button",{onClick:()=>r("/login"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Sign In"})]})})}function xO(){const r=ms(),{user:e,theme:t,setTheme:n}=U.useContext(yi),[s,i]=U.useState([]),[a,l]=U.useState([]),[d,h]=U.useState(!0),[f,g]=U.useState(new Set),[b,m]=U.useState("all"),[S,k]=U.useState(""),[w,_]=U.useState("newest"),[E,R]=U.useState(!1),[I,B]=U.useState(null),Q=async()=>{if(e){h(!0);try{const A=await fetch("/api/notifications/",{method:"GET",credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(A.ok){const q=await A.json();i(q)}else console.error("Failed to fetch notifications:",A.statusText)}catch(A){console.error("Failed to fetch notifications:",A)}finally{h(!1)}}},te=async()=>{if(e)try{const A=await fetch("/api/notifications/stats",{method:"GET",credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(A.ok){const q=await A.json();B(q)}}catch(A){console.error("Failed to fetch notification stats:",A)}};U.useEffect(()=>{e&&(Q(),te())},[e]),U.useEffect(()=>{let A=s;b==="unread"?A=A.filter(q=>!q.read):b==="read"?A=A.filter(q=>q.read):b==="archived"?A=A.filter(q=>q.archived):A=A.filter(q=>!q.archived),S&&(A=A.filter(q=>q.title.toLowerCase().includes(S.toLowerCase())||q.message.toLowerCase().includes(S.toLowerCase()))),A.sort((q,J)=>{if(w==="newest")return new Date(J.created_at)-new Date(q.created_at);if(w==="oldest")return new Date(q.created_at)-new Date(J.created_at);if(w==="priority"){const ue={high:3,medium:2,low:1};return ue[J.priority]-ue[q.priority]}return 0}),l(A)},[s,b,S,w]);const $=A=>{switch(A){case"success":return c.jsx(j0,{className:"w-5 h-5 text-green-500"});case"warning":return c.jsx(v1,{className:"w-5 h-5 text-yellow-500"});case"error":return c.jsx(kN,{className:"w-5 h-5 text-red-500"});default:return c.jsx(z5,{className:"w-5 h-5 text-blue-500"})}},M=A=>{switch(A){case"processing":return c.jsx(nh,{className:"w-4 h-4"});case"export":return c.jsx(Vo,{className:"w-4 h-4"});case"upload":return c.jsx(I0,{className:"w-4 h-4"});case"report":return c.jsx(Kn,{className:"w-4 h-4"});case"forecast":return c.jsx(Uc,{className:"w-4 h-4"});default:return c.jsx(Od,{className:"w-4 h-4"})}},ne=A=>{const q=new Date,J=new Date(A),ue=q-J,fe=Math.floor(ue/(1e3*60)),de=Math.floor(ue/(1e3*60*60)),ce=Math.floor(ue/(1e3*60*60*24));return fe<60?`${fe}m ago`:de<24?`${de}h ago`:`${ce}d ago`},D=()=>{f.size===a.length?g(new Set):g(new Set(a.map(A=>A.id)))},L=A=>{const q=new Set(f);q.has(A)?q.delete(A):q.add(A),g(q)},O=async A=>{try{await fetch("/api/notifications/bulk-action",{method:"POST",credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({notification_ids:A,action:"read"})}),i(q=>q.map(J=>A.includes(J.id)?{...J,read:!0}:J))}catch(q){console.error("Failed to mark notifications as read:",q)}},W=async A=>{try{await fetch("/api/notifications/bulk-action",{method:"POST",credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({notification_ids:A,action:"unread"})}),i(q=>q.map(J=>A.includes(J.id)?{...J,read:!1}:J))}catch(q){console.error("Failed to mark notifications as unread:",q)}},X=async A=>{try{await fetch("/api/notifications/bulk-action",{method:"POST",credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({notification_ids:A,action:"archive"})}),i(q=>q.map(J=>A.includes(J.id)?{...J,archived:!0}:J)),g(new Set)}catch(q){console.error("Failed to archive notifications:",q)}},le=async A=>{try{await fetch("/api/notifications/bulk-action",{method:"POST",credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({notification_ids:A,action:"unarchive"})}),i(q=>q.map(J=>A.includes(J.id)?{...J,archived:!1}:J)),g(new Set)}catch(q){console.error("Failed to unarchive notifications:",q)}},pe=async A=>{if(confirm(`Are you sure you want to delete ${A.length} notification(s)? This action cannot be undone.`))try{await fetch("/api/notifications/bulk-action",{method:"POST",credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({notification_ids:A,action:"delete"})}),i(q=>q.filter(J=>!A.includes(J.id))),g(new Set)}catch(q){console.error("Failed to delete notifications:",q)}},ae=A=>{const q=Array.from(f);if(q.length!==0){switch(A){case"read":O(q);break;case"unread":W(q);break;case"archive":X(q);break;case"unarchive":le(q);break;case"delete":pe(q);break}R(!1)}},xe=async A=>{A.read||await O([A.id]),A.action_url&&(A.action_url.startsWith("http")?window.open(A.action_url,"_blank"):r(A.action_url))},be=async()=>{try{await fetch("/api/notifications/mark-all-read",{method:"POST",credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}}),i(A=>A.map(q=>({...q,read:!0})))}catch(A){console.error("Failed to mark all as read:",A)}},ee=s.filter(A=>!A.read&&!A.archived).length;return e?c.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-slate-950",children:[c.jsx(xi,{theme:t,setTheme:n,onReportChange:()=>{}}),c.jsxs("div",{className:"flex-1 transition-all duration-300",children:[c.jsx(Bi,{}),c.jsxs("main",{className:"mx-auto max-w-6xl px-4 sm:px-6 py-8",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8",children:[c.jsxs("div",{children:[c.jsxs("h1",{className:"font-display text-2xl sm:text-3xl text-gray-800 dark:text-slate-200 mb-2 flex items-center gap-3",children:[c.jsx(Od,{className:"w-6 sm:w-8 h-6 sm:h-8 text-blue-600"}),"Notifications",ee>0&&c.jsx("span",{className:"bg-red-500 text-white text-sm px-2 py-1 rounded-full",children:ee})]}),c.jsx("p",{className:"text-gray-600 dark:text-slate-400 text-sm sm:text-base",children:"Stay updated with your latest activity and system updates"})]}),c.jsxs("div",{className:"mt-4 sm:mt-0 flex gap-2",children:[ee>0&&c.jsxs("button",{onClick:be,className:"px-3 sm:px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 flex items-center gap-2 text-sm sm:text-base",children:[c.jsx(dN,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Mark All Read"}),c.jsx("span",{className:"sm:hidden",children:"Read All"})]}),c.jsxs("button",{onClick:()=>{Q(),te()},className:"px-3 sm:px-4 py-2 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-600 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors duration-200 flex items-center gap-2 text-gray-700 dark:text-slate-300 text-sm sm:text-base",children:[c.jsx(nh,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]})]})]}),I&&c.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-6 mb-6",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-3 sm:p-4 border border-gray-200 dark:border-slate-600",children:[c.jsx("div",{className:"text-xl sm:text-2xl font-bold text-gray-800 dark:text-slate-200",children:I.total}),c.jsx("div",{className:"text-xs sm:text-sm text-gray-600 dark:text-slate-400",children:"Total"})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-3 sm:p-4 border border-gray-200 dark:border-slate-600",children:[c.jsx("div",{className:"text-xl sm:text-2xl font-bold text-blue-600",children:I.unread}),c.jsx("div",{className:"text-xs sm:text-sm text-gray-600 dark:text-slate-400",children:"Unread"})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-3 sm:p-4 border border-gray-200 dark:border-slate-600",children:[c.jsx("div",{className:"text-xl sm:text-2xl font-bold text-green-600",children:I.read}),c.jsx("div",{className:"text-xs sm:text-sm text-gray-600 dark:text-slate-400",children:"Read"})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-3 sm:p-4 border border-gray-200 dark:border-slate-600",children:[c.jsx("div",{className:"text-xl sm:text-2xl font-bold text-gray-600",children:I.archived}),c.jsx("div",{className:"text-xs sm:text-sm text-gray-600 dark:text-slate-400",children:"Archived"})]})]}),c.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-600 p-4 sm:p-6 mb-6 shadow-sm",children:c.jsxs("div",{className:"flex flex-col space-y-4 lg:flex-row lg:space-y-0 lg:space-x-4",children:[c.jsx("div",{className:"flex-1 max-w-full lg:max-w-md",children:c.jsxs("div",{className:"relative",children:[c.jsx(Dh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),c.jsx("input",{type:"text",placeholder:"Search notifications...",value:S,onChange:A=>k(A.target.value),className:"w-full pl-10 pr-4 py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:border-slate-600 dark:bg-slate-700 dark:text-slate-200"})]})}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[c.jsxs("select",{value:b,onChange:A=>m(A.target.value),className:"px-3 py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-slate-600 dark:bg-slate-700 dark:text-slate-200",children:[c.jsx("option",{value:"all",children:"All Active"}),c.jsx("option",{value:"unread",children:"Unread"}),c.jsx("option",{value:"read",children:"Read"}),c.jsx("option",{value:"archived",children:"Archived"})]}),c.jsxs("select",{value:w,onChange:A=>_(A.target.value),className:"px-3 py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-slate-600 dark:bg-slate-700 dark:text-slate-200",children:[c.jsx("option",{value:"newest",children:"Newest First"}),c.jsx("option",{value:"oldest",children:"Oldest First"}),c.jsx("option",{value:"priority",children:"By Priority"})]})]}),f.size>0&&c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>R(!E),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 flex items-center gap-2 text-sm sm:text-base w-full sm:w-auto justify-center",children:["Actions (",f.size,")",c.jsx(DN,{className:"w-4 h-4"})]}),E&&c.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-600 rounded-lg shadow-lg z-50",children:[c.jsxs("button",{onClick:()=>ae("read"),className:"w-full px-4 py-2 text-left hover:bg-gray-50 dark:hover:bg-slate-700 flex items-center gap-2 text-gray-700 dark:text-slate-300 text-sm",children:[c.jsx(Ud,{className:"w-4 h-4"}),"Mark as Read"]}),c.jsxs("button",{onClick:()=>ae("unread"),className:"w-full px-4 py-2 text-left hover:bg-gray-50 dark:hover:bg-slate-700 flex items-center gap-2 text-gray-700 dark:text-slate-300 text-sm",children:[c.jsx(A0,{className:"w-4 h-4"}),"Mark as Unread"]}),b==="archived"?c.jsxs("button",{onClick:()=>ae("unarchive"),className:"w-full px-4 py-2 text-left hover:bg-gray-50 dark:hover:bg-slate-700 flex items-center gap-2 text-gray-700 dark:text-slate-300 text-sm",children:[c.jsx(P2,{className:"w-4 h-4"}),"Unarchive"]}):c.jsxs("button",{onClick:()=>ae("archive"),className:"w-full px-4 py-2 text-left hover:bg-gray-50 dark:hover:bg-slate-700 flex items-center gap-2 text-gray-700 dark:text-slate-300 text-sm",children:[c.jsx(P2,{className:"w-4 h-4"}),"Archive"]}),c.jsxs("button",{onClick:()=>ae("delete"),className:"w-full px-4 py-2 text-left hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center gap-2 text-red-600 dark:text-red-400 text-sm",children:[c.jsx(N1,{className:"w-4 h-4"}),"Delete"]})]})]})]})}),c.jsx("div",{className:"space-y-3 sm:space-y-4",children:d?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(nh,{className:"w-8 h-8 mx-auto text-gray-400 animate-spin mb-4"}),c.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Loading notifications..."})]}):a.length===0?c.jsxs("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-600 shadow-sm",children:[c.jsx(Od,{className:"w-16 h-16 mx-auto text-gray-400 dark:text-slate-500 mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-slate-200 mb-2",children:S?"No matching notifications":b==="archived"?"No archived notifications":"No notifications"}),c.jsx("p",{className:"text-gray-600 dark:text-slate-400 text-sm sm:text-base",children:S?"Try adjusting your search terms.":b==="archived"?"Archived notifications will appear here.":"You're all caught up! New notifications will appear here."})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-gray-50 dark:bg-slate-700/50 rounded-lg",children:[c.jsx("input",{type:"checkbox",checked:f.size===a.length,onChange:D,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),c.jsxs("span",{className:"text-sm text-gray-600 dark:text-slate-400",children:["Select All (",a.length,")"]})]}),a.map(A=>c.jsx("div",{className:`bg-white dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-600 shadow-sm overflow-hidden transition-all duration-200 hover:shadow-md cursor-pointer ${A.read?"":"ring-2 ring-blue-100 dark:ring-blue-900/50 bg-blue-50/50 dark:bg-blue-900/10"}`,onClick:()=>xe(A),children:c.jsx("div",{className:"p-4 sm:p-6",children:c.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[c.jsx("input",{type:"checkbox",checked:f.has(A.id),onChange:q=>{q.stopPropagation(),L(A.id)},className:"mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),!A.read&&c.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),c.jsx("div",{className:"flex-shrink-0 mt-1",children:$(A.type)}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-2 gap-1 sm:gap-0",children:[c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-slate-200 text-sm sm:text-base line-clamp-2",children:A.title}),c.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-gray-500 dark:text-slate-400 flex-shrink-0",children:[A.priority==="high"&&c.jsx($6,{className:"w-3 h-3 sm:w-4 sm:h-4 text-yellow-500 fill-current"}),c.jsx(R5,{className:"w-3 h-3 sm:w-4 sm:h-4"}),ne(A.created_at)]})]}),c.jsx("p",{className:"text-gray-700 dark:text-slate-300 mb-3 text-sm sm:text-base line-clamp-2",children:A.message}),c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-0",children:[c.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[c.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-medium ${A.type==="success"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":A.type==="warning"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":A.type==="error"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400"}`,children:[M(A.category),A.category]}),!A.read&&c.jsx("span",{className:"px-2 py-1 bg-blue-500/10 text-blue-600 dark:text-blue-400 rounded text-xs font-medium",children:"New"})]}),A.action_url&&c.jsxs("div",{className:"flex items-center gap-2 text-blue-600 hover:text-blue-700 text-xs sm:text-sm font-medium",children:[c.jsx("span",{children:"View Details"}),c.jsx(k1,{className:"w-3 h-3 sm:w-4 sm:h-4"})]})]})]})]})})},A.id))]})})]})]})]}):c.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-slate-950",children:[c.jsx(xi,{theme:t,setTheme:n,onReportChange:()=>{}}),c.jsxs("div",{className:"flex-1 transition-all duration-300",children:[c.jsx(Bi,{}),c.jsx("main",{className:"mx-auto max-w-4xl px-4 sm:px-6 py-8",children:c.jsxs("div",{className:"text-center py-16",children:[c.jsx(Od,{className:"w-16 h-16 mx-auto text-gray-400 dark:text-slate-500 mb-4"}),c.jsx("h1",{className:"text-2xl font-display font-bold text-gray-800 dark:text-slate-200 mb-2",children:"Sign In Required"}),c.jsx("p",{className:"text-gray-600 dark:text-slate-400 mb-8",children:"Please sign in to view your notifications and activity updates."}),c.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[c.jsx(zt,{to:"/login",className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 font-medium shadow-lg",children:"Sign In"}),c.jsx(zt,{to:"/signup",className:"px-6 py-3 border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-600 hover:text-white transition-colors duration-200 font-medium",children:"Create Account"})]})]})})]})]})}const bO=()=>{const r=ms(),{user:e,theme:t,setTheme:n}=U.useContext(yi),[s,i]=U.useState(""),[a,l]=U.useState("getting-started"),[d,h]=U.useState(null),g=[{id:"getting-started",title:"Getting Started",icon:Hd,faqs:[{question:"How do I upload my first file?",answer:"Click the upload area on the homepage, select your CSV or Excel file (max 10MB), and our system will automatically process it. You'll see a preview with column types and summary statistics within seconds."},{question:"What file formats are supported?",answer:"Syla supports CSV (.csv), Excel (.xlsx, .xls), and can also process PDF files for data extraction. For visualization features, CSV and Excel work best."},{question:"Do I need to sign up to use Syla?",answer:"You can explore file conversion tools without an account, but data visualization, AI forecasting, and chart editing require a free account. Sign up takes less than 30 seconds with email or Google."},{question:"Is my data secure?",answer:"Yes. All files are encrypted in transit (HTTPS) and at rest. We never share your data with third parties. Files are automatically deleted after 30 days of inactivity. You can manually delete files anytime from your account."}]},{id:"data-visualization",title:"Data Visualization",icon:wm,faqs:[{question:"How do I create a chart?",answer:"After uploading your file, select X-axis and Y-axis columns from the dropdown menus. Choose a chart type (bar, line, pie, scatter) from the chart options panel. Your visualization updates in real-time."},{question:"Can I customize chart colors and styles?",answer:"Yes! Click the settings icon in the chart panel to access color schemes, font sizes, grid options, and background colors. You can save custom themes for future use."},{question:"How do I export my chart?",answer:"Go to the Editing page, click the export button, and choose your format: PNG (web), SVG (scalable), PDF (print), or CSV (data). You can also adjust DPI for high-resolution exports."},{question:"What if my data has missing values?",answer:"Syla automatically handles missing values by either removing rows with nulls or filling them with statistical defaults (mean/median). You can control this behavior in chart settings under 'Data Cleaning'."}]},{id:"ai-forecasting",title:"AI Forecasting",icon:w1,faqs:[{question:"What is AI forecasting?",answer:"Our AI forecasting uses advanced language models (GPT-4) and statistical models (Prophet) to predict future trends based on your historical data and business scenarios. Simply describe your scenario in plain English."},{question:"How accurate are the forecasts?",answer:"Forecast accuracy depends on data quality and quantity. With 12+ months of clean historical data, our hybrid model typically achieves 85-95% accuracy for short-term (3-6 month) predictions. Longer forecasts have wider confidence intervals."},{question:"What's a 'scenario' in forecasting?",answer:"A scenario is a plain-English description of business conditions like 'increase marketing budget by 15% starting next month' or 'seasonal 20% sales boost during holidays'. The AI interprets this and adjusts forecasts accordingly."},{question:"Can I forecast any type of data?",answer:"Best results come from time-series data (sales over time, website traffic, inventory levels). You need at least 6 data points, though 12+ is recommended. The target column must be numeric."},{question:"What's the difference between Prophet and GPT models?",answer:"Prophet is a statistical model great for seasonal patterns and holidays. GPT uses AI to understand business context and scenarios. Hybrid combines both for best accuracy. We recommend starting with Hybrid."}]},{id:"file-tools",title:"File Tools",icon:YN,faqs:[{question:"How do I convert PDF to Excel?",answer:"Navigate to Tools → PDF to Excel, upload your PDF file, and click Convert. Our system extracts tables and converts them to Excel format. Works best with PDFs containing clear table structures."},{question:"Can I merge multiple PDFs?",answer:"Yes! Go to Tools → Merge PDF, upload up to 15 PDF files, arrange them in your preferred order (drag-and-drop), and click Merge. The combined PDF downloads instantly."},{question:"How does file compression work?",answer:"We offer three compression levels: Light (10-30% reduction), Medium (30-50%), and Strong (50-70%). Higher compression may slightly reduce quality for images. PDFs and documents compress without quality loss."},{question:"Are converted files stored on your servers?",answer:"Converted files are temporarily stored for 10 minutes for download, then automatically deleted. You can also manually delete files immediately after download from the Tools → Files page."}]},{id:"account-billing",title:"Account & Billing",icon:Pm,faqs:[{question:"Is Syla free to use?",answer:"Yes! We offer a generous free tier with 50 AI forecasts per month, unlimited file conversions, and core visualization features. Paid plans ($12-49/mo) add priority processing, advanced features, and higher limits."},{question:"What's included in the Free plan?",answer:"Free tier includes: unlimited file uploads (10MB each), basic visualizations, 50 AI forecast requests/month, all file conversion tools, CSV/PNG export, and community support."},{question:"How do I upgrade my account?",answer:"Click your profile → Settings → Billing, choose Professional or Business plan, and enter payment details. All plans include a 14-day money-back guarantee."},{question:"Can I cancel anytime?",answer:"Yes, cancel anytime from Settings → Billing. You'll retain access until the end of your billing period. No cancellation fees or questions asked."},{question:"Do you offer educational discounts?",answer:"Yes! Students and educators get 50% off all paid plans. Email support@syla.ai with your .edu email for verification."}]},{id:"troubleshooting",title:"Troubleshooting",icon:D2,faqs:[{question:"My file upload failed. What should I do?",answer:"Check: (1) File size under 10MB, (2) Supported format (CSV/Excel/PDF), (3) File isn't corrupted (try opening locally first), (4) Stable internet connection. Try clearing browser cache if issue persists."},{question:"Charts aren't displaying correctly",answer:"Ensure your data has numeric columns for Y-axis. Try refreshing the page, selecting different columns, or using a different chart type. Contact support if specific chart types consistently fail."},{question:"AI forecast request failed",answer:"Check: (1) Target column is numeric, (2) At least 6 data points exist, (3) You haven't exceeded monthly limit (50/month free tier), (4) Scenario text is under 500 characters. Try simplifying your scenario."},{question:"I forgot my password",answer:"Click 'Forgot Password' on the login page, enter your email, and follow the reset link sent to your inbox. Check spam folder if not received within 5 minutes. Links expire after 1 hour."},{question:"How do I delete my account?",answer:"Go to Settings → Account → Delete Account. This permanently removes all your data, files, and charts. This action cannot be undone. Export any data you want to keep first."}]}].map(S=>({...S,faqs:S.faqs.filter(k=>s===""||k.question.toLowerCase().includes(s.toLowerCase())||k.answer.toLowerCase().includes(s.toLowerCase()))})).filter(S=>S.faqs.length>0),b=S=>{l(a===S?null:S)},m=S=>{h(d===S?null:S)};return c.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-slate-950",children:[c.jsx(xi,{theme:t,setTheme:n,onReportChange:()=>{}}),c.jsxs("div",{className:"flex-1 transition-all duration-300",children:[c.jsx(Bi,{user:e}),c.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-8",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h1",{className:"text-4xl font-display font-bold text-gray-800 dark:text-slate-200 mb-4",children:"How can we help you?"}),c.jsx("p",{className:"text-lg text-gray-600 dark:text-slate-400 mb-8",children:"Find answers to common questions about Syla Analytics"}),c.jsxs("div",{className:"max-w-2xl mx-auto relative",children:[c.jsx(Dh,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"text",placeholder:"Search for help articles...",value:s,onChange:S=>i(S.target.value),className:"w-full pl-12 pr-4 py-4 rounded-xl border-2 border-gray-200 dark:border-slate-600 dark:bg-slate-800 focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-800 dark:text-slate-200"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-12",children:[c.jsxs("button",{onClick:()=>r("/docs"),className:"p-6 rounded-xl border-2 border-gray-200 dark:border-slate-700 hover:border-blue-500 dark:hover:border-blue-400 transition-all bg-white dark:bg-slate-800 text-left group",children:[c.jsx(wm,{className:"text-blue-600 dark:text-blue-400 mb-3 group-hover:scale-110 transition-transform",size:24}),c.jsx("h3",{className:"font-semibold text-gray-800 dark:text-slate-200 mb-2",children:"Documentation"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Complete guides and API docs"})]}),c.jsxs("a",{href:"mailto:support@syla.ai",className:"p-6 rounded-xl border-2 border-gray-200 dark:border-slate-700 hover:border-blue-500 dark:hover:border-blue-400 transition-all bg-white dark:bg-slate-800 text-left group",children:[c.jsx(R2,{className:"text-blue-600 dark:text-blue-400 mb-3 group-hover:scale-110 transition-transform",size:24}),c.jsx("h3",{className:"font-semibold text-gray-800 dark:text-slate-200 mb-2",children:"Email Support"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Get help from our team"})]}),c.jsxs("button",{onClick:()=>r("/pricing"),className:"p-6 rounded-xl border-2 border-gray-200 dark:border-slate-700 hover:border-blue-500 dark:hover:border-blue-400 transition-all bg-white dark:bg-slate-800 text-left group",children:[c.jsx(Pm,{className:"text-blue-600 dark:text-blue-400 mb-3 group-hover:scale-110 transition-transform",size:24}),c.jsx("h3",{className:"font-semibold text-gray-800 dark:text-slate-200 mb-2",children:"Pricing Plans"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Compare features and pricing"})]})]}),c.jsx("div",{className:"space-y-4",children:g.length===0?c.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-slate-400",children:['No results found for "',s,'". Try different keywords.']}):g.map(S=>{const k=S.icon,w=a===S.id;return c.jsxs("div",{className:"rounded-xl border-2 border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-800 overflow-hidden",children:[c.jsxs("button",{onClick:()=>b(S.id),className:"w-full p-6 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(k,{className:"text-blue-600 dark:text-blue-400",size:24}),c.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-slate-200",children:S.title}),c.jsx("span",{className:"px-3 py-1 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 text-sm font-medium",children:S.faqs.length})]}),w?c.jsx(Sm,{className:"text-gray-400",size:20}):c.jsx(vh,{className:"text-gray-400",size:20})]}),w&&c.jsx("div",{className:"border-t border-gray-200 dark:border-slate-700",children:S.faqs.map((_,E)=>{const R=`${S.id}-${E}`,I=d===R;return c.jsxs("div",{className:"border-b border-gray-100 dark:border-slate-700 last:border-b-0",children:[c.jsxs("button",{onClick:()=>m(R),className:"w-full p-5 text-left hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors flex items-start justify-between gap-4",children:[c.jsx("span",{className:"font-medium text-gray-800 dark:text-slate-200",children:_.question}),I?c.jsx(Sm,{className:"text-gray-400 flex-shrink-0 mt-1",size:18}):c.jsx(vh,{className:"text-gray-400 flex-shrink-0 mt-1",size:18})]}),I&&c.jsx("div",{className:"px-5 pb-5 text-gray-600 dark:text-slate-400 leading-relaxed",children:_.answer})]},E)})})]},S.id)})}),c.jsxs("div",{className:"mt-12 p-8 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 text-white text-center",children:[c.jsx(D2,{className:"mx-auto mb-4",size:40}),c.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Still need help?"}),c.jsx("p",{className:"mb-6 text-blue-100",children:"Our support team typically responds within 24 hours"}),c.jsxs("a",{href:"mailto:support@syla.ai",className:"inline-flex items-center gap-2 px-6 py-3 bg-white text-blue-600 rounded-lg font-semibold hover:bg-blue-50 transition-colors",children:[c.jsx(R2,{size:20}),"Contact Support",c.jsx(k1,{size:16})]})]})]}),c.jsx(mp,{})]})]})},yO=()=>{ms();const{user:r,theme:e,setTheme:t}=U.useContext(yi),[n,s]=U.useState("overview"),[i,a]=U.useState(null),l=(b,m)=>{navigator.clipboard.writeText(b),a(m),setTimeout(()=>a(null),2e3)},d=[{id:"overview",label:"Overview",icon:VS},{id:"quickstart",label:"Quick Start",icon:Hd},{id:"api",label:"API Reference",icon:L2},{id:"data-viz",label:"Data Visualization",icon:I2},{id:"ai-forecast",label:"AI Forecasting",icon:K6},{id:"file-tools",label:"File Tools",icon:Kn},{id:"advanced",label:"Advanced",icon:$l}],h=({sections:b,activeSection:m,setActiveSection:S})=>c.jsxs("div",{className:"w-64 bg-slate-50 dark:bg-slate-800 border-r border-slate-200 dark:border-slate-700 p-4 hidden lg:block",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4 text-slate-800 dark:text-slate-200",children:"Documentation"}),b.map(k=>c.jsxs("button",{onClick:()=>S(k.id),className:`flex items-center w-full text-left p-2 rounded-lg mb-2 transition-colors ${m===k.id?"bg-blue-600 text-white":"text-gray-700 dark:text-slate-300 hover:bg-blue-100 dark:hover:bg-slate-700"}`,children:[c.jsx(k.icon,{className:"w-4 h-4 mr-2"}),k.label]},k.id))]}),f=({code:b,language:m="javascript",id:S})=>c.jsxs("div",{className:"relative group",children:[c.jsx("div",{className:"absolute top-3 right-3 z-10",children:c.jsx("button",{onClick:()=>l(b,S),className:"p-2 rounded-lg bg-slate-700 hover:bg-slate-600 transition-colors",children:i===S?c.jsx(C0,{size:16,className:"text-green-400"}):c.jsx(jN,{size:16,className:"text-slate-300"})})}),c.jsx("pre",{className:"bg-slate-900 text-slate-100 p-4 rounded-lg overflow-x-auto text-sm",children:c.jsx("code",{children:b})})]}),g=()=>{switch(n){case"overview":return c.jsxs("div",{className:"prose dark:prose-invert max-w-none",children:[c.jsx("h1",{className:"text-3xl font-display font-bold mb-4",children:"Syla Analytics Documentation"}),c.jsx("p",{className:"text-lg text-gray-600 dark:text-slate-400 mb-6",children:"Complete guide to building data-driven applications with Syla"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[c.jsxs("div",{className:"p-6 bg-blue-50 dark:bg-blue-900/20 rounded-xl border-2 border-blue-200 dark:border-blue-700",children:[c.jsx(I2,{className:"text-blue-600 dark:text-blue-400 mb-3",size:32}),c.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Data Processing"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Upload CSV/Excel files up to 10MB. Automatic cleaning, type detection, and summary statistics."})]}),c.jsxs("div",{className:"p-6 bg-purple-50 dark:bg-purple-900/20 rounded-xl border-2 border-purple-200 dark:border-purple-700",children:[c.jsx(Hd,{className:"text-purple-600 dark:text-purple-400 mb-3",size:32}),c.jsx("h3",{className:"font-semibold text-lg mb-2",children:"AI Forecasting"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Natural language scenarios with GPT-4 + Prophet models. 85-95% accuracy for short-term forecasts."})]}),c.jsxs("div",{className:"p-6 bg-green-50 dark:bg-green-900/20 rounded-xl border-2 border-green-200 dark:border-green-700",children:[c.jsx(Kn,{className:"text-green-600 dark:text-green-400 mb-3",size:32}),c.jsx("h3",{className:"font-semibold text-lg mb-2",children:"File Tools"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Convert between PDF, Excel, CSV, Word. Merge PDFs. Compress files with 3 levels."})]}),c.jsxs("div",{className:"p-6 bg-orange-50 dark:bg-orange-900/20 rounded-xl border-2 border-orange-200 dark:border-orange-700",children:[c.jsx(L2,{className:"text-orange-600 dark:text-orange-400 mb-3",size:32}),c.jsx("h3",{className:"font-semibold text-lg mb-2",children:"REST API"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"FastAPI backend with JWT auth. OpenAPI docs at /api/docs. Rate limits: 50/hour."})]})]}),c.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"Technology Stack"}),c.jsxs("ul",{className:"space-y-2 text-gray-700 dark:text-slate-300",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Frontend:"})," React 18, Chart.js, TailwindCSS, Vite"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Backend:"})," Python 3.11+, FastAPI, Pandas, Prophet"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"AI:"})," OpenAI GPT-4o-mini, Prophet time-series"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Database:"})," PostgreSQL with SQLAlchemy ORM"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Auth:"})," JWT tokens, Google OAuth 2.0"]})]})]});case"quickstart":return c.jsxs("div",{className:"prose dark:prose-invert max-w-none",children:[c.jsx("h1",{className:"text-3xl font-display font-bold mb-4",children:"Quick Start Guide"}),c.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"1. Upload Your First File"}),c.jsx("p",{className:"text-gray-600 dark:text-slate-400 mb-4",children:"Upload a CSV or Excel file from the homepage:"}),c.jsx(f,{id:"upload-curl",language:"bash",code:`curl -X POST "https://api.syla.ai/api/upload" \\
  -H "Authorization: Bearer YOUR_TOKEN" \\
  -F "file=@data.csv"

# Response:
{
  "file_id": "1234567890_data.csv",
  "rows": 1000,
  "columns": ["Date", "Revenue", "Customers"],
  "types": {"Date": "datetime", "Revenue": "numeric"},
  "summary": {...},
  "data": [...]
}`}),c.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"2. Create a Visualization"}),c.jsx("p",{className:"text-gray-600 dark:text-slate-400 mb-4",children:"After upload, charts are created automatically. Customize via UI or API:"}),c.jsx(f,{id:"viz-js",language:"javascript",code:`// Using fetch API
const response = await fetch('/api/chart/payload', {
  method: 'POST',
  headers: { 
    'Content-Type': 'application/json',
    'Authorization': 'Bearer YOUR_TOKEN'
  },
  body: JSON.stringify({
    file_id: "1234567890_data.csv",
    display: {
      chart_type: "line",
      x_axis: "Date",
      y_axis: "Revenue"
    }
  })
});

const chartData = await response.json();
// Use chartData.chart_payload with Chart.js`}),c.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"3. Generate AI Forecast"}),c.jsx(f,{id:"forecast-js",language:"javascript",code:`const forecastResponse = await fetch('/api/forecast/whatif', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer YOUR_TOKEN'
  },
  body: JSON.stringify({
    csv_data: yourDataArray,
    scenario_text: "Increase marketing by 15% next quarter",
    target_column: "Revenue",
    date_column: "Date",
    model_preference: "hybrid",
    periods_ahead: 12
  })
});

const forecast = await forecastResponse.json();
console.log(forecast.forecast.forecast); // [123.4, 145.2, ...]`}),c.jsxs("div",{className:"mt-8 p-6 bg-yellow-50 dark:bg-yellow-900/20 rounded-xl border-2 border-yellow-200 dark:border-yellow-700",children:[c.jsxs("h3",{className:"font-semibold text-lg mb-2 flex items-center gap-2",children:[c.jsx(Hd,{className:"text-yellow-600 dark:text-yellow-400",size:20}),"Rate Limits"]}),c.jsxs("ul",{className:"text-sm text-gray-700 dark:text-slate-300 space-y-1",children:[c.jsx("li",{children:"• Free tier: 50 AI forecasts/month, 100 uploads/hour"}),c.jsx("li",{children:"• Professional: 500 forecasts/month, priority queue"}),c.jsx("li",{children:"• Business: Unlimited forecasts, dedicated resources"})]})]})]});case"api":return c.jsxs("div",{className:"prose dark:prose-invert max-w-none",children:[c.jsx("h1",{className:"text-3xl font-display font-bold mb-4",children:"API Reference"}),c.jsxs("p",{className:"text-gray-600 dark:text-slate-400 mb-6",children:["Base URL: ",c.jsx("code",{className:"bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded",children:"https://api.syla.ai/api"})]}),c.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"Authentication"}),c.jsx("p",{className:"mb-4",children:"All API requests require JWT authentication:"}),c.jsx(f,{id:"auth-header",code:`Authorization: Bearer YOUR_JWT_TOKEN

# Get token via login:
POST /api/auth/login
{
  "contact": "user@example.com",
  "password": "yourpassword"
}

# Response includes:
{
  "access_token": "eyJ0eXAiOiJKV1QiLCJhbGc...",
  "user": {...}
}`}),c.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"Core Endpoints"}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[c.jsx("h3",{className:"font-semibold text-lg mb-2",children:"POST /api/upload"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 mb-2",children:"Upload CSV/Excel file for processing"}),c.jsx(f,{id:"upload-endpoint",code:`# Request (multipart/form-data):
file: <binary>

# Response:
{
  "file_id": "string",
  "rows": 1000,
  "columns": ["col1", "col2"],
  "types": {"col1": "numeric", "col2": "categorical"},
  "data": [{...}]
}`})]}),c.jsxs("div",{className:"border-l-4 border-purple-500 pl-4",children:[c.jsx("h3",{className:"font-semibold text-lg mb-2",children:"POST /api/forecast/whatif"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 mb-2",children:"Generate AI-powered forecast"}),c.jsx(f,{id:"forecast-endpoint",code:`# Request:
{
  "csv_data": [{...}],
  "scenario_text": "10% growth next quarter",
  "target_column": "Revenue",
  "model_preference": "hybrid",
  "periods_ahead": 12,
  "confidence_level": 0.95
}

# Response:
{
  "forecast": {
    "forecast": [100.2, 105.3, ...],
    "lower": [95.1, 99.8, ...],
    "upper": [105.3, 110.8, ...],
    "timestamps": ["2025-01-01", ...]
  },
  "explanation": "Based on scenario...",
  "metadata": {...}
}`})]}),c.jsxs("div",{className:"border-l-4 border-green-500 pl-4",children:[c.jsx("h3",{className:"font-semibold text-lg mb-2",children:"POST /api/filetools/pdf-to-excel"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 mb-2",children:"Convert PDF to Excel"}),c.jsx(f,{id:"pdf-convert",code:`# Request (multipart/form-data):
file: <pdf_binary>

# Response:
{
  "message": "PDF successfully converted to Excel",
  "download_url": "/api/filetools/files/converted_123.xlsx",
  "filename": "converted_123.xlsx"
}`})]})]}),c.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"Error Handling"}),c.jsx(f,{id:"errors",code:`# Standard error response:
{
  "detail": "Error message",
  "status_code": 400
}

# Common status codes:
400 - Bad Request (invalid parameters)
401 - Unauthorized (missing/invalid token)
403 - Forbidden (insufficient permissions)
429 - Rate Limit Exceeded
500 - Internal Server Error`}),c.jsx("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:c.jsxs("p",{className:"text-sm flex items-center gap-2",children:[c.jsx(k1,{size:16}),"Interactive API docs available at:",c.jsx("a",{href:"https://api.syla.ai/docs",className:"text-blue-600 dark:text-blue-400 hover:underline",children:"api.syla.ai/docs"})]})})]});case"data-viz":return c.jsxs("div",{className:"prose dark:prose-invert max-w-none",children:[c.jsx("h1",{className:"text-3xl font-display font-bold mb-4",children:"Data Visualization Guide"}),c.jsx("h2",{className:"text-2xl font-semibold mt-6 mb-4",children:"Supported Chart Types"}),c.jsxs("ul",{className:"space-y-2 text-gray-700 dark:text-slate-300",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Bar Charts:"})," Compare categories, show distributions"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Line Charts:"})," Time-series data, trends over time"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Pie Charts:"})," Show proportions and percentages"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Scatter Plots:"})," Correlation analysis, outlier detection"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Area Charts:"})," Cumulative trends, stacked data"]})]}),c.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"Creating Charts via UI"}),c.jsxs("ol",{className:"space-y-3 text-gray-700 dark:text-slate-300",children:[c.jsx("li",{children:"1. Upload your CSV/Excel file on the homepage"}),c.jsx("li",{children:"2. Select X-axis column (usually date/category)"}),c.jsx("li",{children:"3. Select Y-axis column (numeric values)"}),c.jsx("li",{children:"4. Click settings icon to choose chart type"}),c.jsx("li",{children:"5. Customize colors, labels, and gridlines"}),c.jsx("li",{children:"6. Export as PNG, SVG, or PDF"})]}),c.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"Programmatic Chart Creation"}),c.jsx(f,{id:"chart-code",language:"javascript",code:`import { useChartData } from "./context/ChartDataContext";

function MyComponent() {
  const { chartData, updateChartOptions } = useChartData();

  const customizeChart = () => {
    updateChartOptions({
      chartType: "line",
      backgroundColor: "#ffffff",
      gridColor: "#e5e7eb",
      fontSize: 14,
      showLegend: true,
      colors: ["#3b82f6", "#10b981", "#f59e0b"]
    });
  };

  return <ChartView data={chartData} />;
}`}),c.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"Data Cleaning"}),c.jsx("p",{className:"text-gray-600 dark:text-slate-400 mb-4",children:"Syla automatically cleans your data before visualization:"}),c.jsxs("ul",{className:"space-y-2 text-gray-700 dark:text-slate-300",children:[c.jsx("li",{children:"• Removes duplicate rows"}),c.jsx("li",{children:"• Handles missing values (mean/median imputation)"}),c.jsx("li",{children:"• Converts data types (strings to numbers where applicable)"}),c.jsx("li",{children:"• Detects and formats dates automatically"}),c.jsx("li",{children:"• Trims whitespace from text columns"})]}),c.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"Chart Options Reference"}),c.jsx(f,{id:"chart-options",code:`{
  chartType: "bar" | "line" | "pie" | "scatter" | "area",
  backgroundColor: "#ffffff",
  gridColor: "#e5e7eb",
  fontSize: 12-24,
  fontFamily: "Inter",
  showLegend: boolean,
  showGrid: boolean,
  colors: string[], // hex colors
  xAxisLabel: string,
  yAxisLabel: string,
  title: string,
  responsive: boolean,
  maintainAspectRatio: boolean
}`})]});case"ai-forecast":return c.jsxs("div",{className:"prose dark:prose-invert max-w-none",children:[c.jsx("h1",{className:"text-3xl font-display font-bold mb-4",children:"AI Forecasting Guide"}),c.jsx("h2",{className:"text-2xl font-semibold mt-6 mb-4",children:"Overview"}),c.jsx("p",{className:"text-gray-600 dark:text-slate-400 mb-4",children:"Syla combines GPT-4o-mini language understanding with Prophet statistical modeling to generate accurate, scenario-aware forecasts from natural language descriptions."}),c.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"Model Types"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[c.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-700",children:[c.jsx("h3",{className:"font-semibold mb-2",children:"GPT Model"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Uses AI to interpret scenarios. Fast, context-aware, good for what-if analysis."})]}),c.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-200 dark:border-purple-700",children:[c.jsx("h3",{className:"font-semibold mb-2",children:"Prophet Model"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Statistical time-series. Excellent for seasonality, holidays, trend detection."})]}),c.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-700",children:[c.jsx("h3",{className:"font-semibold mb-2",children:"Hybrid (Recommended)"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Combines both. Statistical base + AI scenario adjustments. Best accuracy."})]})]}),c.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"Writing Effective Scenarios"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border-l-4 border-green-500",children:[c.jsx("p",{className:"font-semibold text-green-800 dark:text-green-300 mb-2",children:"✓ Good Example:"}),c.jsx("p",{className:"text-sm text-gray-700 dark:text-slate-300",children:'"Increase marketing budget by 15% starting next month, expecting 10% revenue boost in months 2-6, then stabilizing at 8% ongoing growth due to brand awareness."'})]}),c.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border-l-4 border-red-500",children:[c.jsx("p",{className:"font-semibold text-red-800 dark:text-red-300 mb-2",children:"✗ Bad Example:"}),c.jsx("p",{className:"text-sm text-gray-700 dark:text-slate-300",children:'"Things will get better"'})]})]}),c.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"Scenario Best Practices"}),c.jsxs("ul",{className:"space-y-2 text-gray-700 dark:text-slate-300",children:[c.jsx("li",{children:"• Include specific percentages (10%, 15%, 20%)"}),c.jsx("li",{children:"• Mention timeframes (next month, Q2, starting January)"}),c.jsx("li",{children:"• Describe business context (marketing campaign, price increase)"}),c.jsx("li",{children:"• Reference external factors (seasonality, competition, economy)"}),c.jsx("li",{children:"• Keep under 500 characters for best results"})]}),c.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"Forecast Parameters"}),c.jsx(f,{id:"forecast-params",code:`{
  target_column: "Revenue",        // What to forecast
  date_column: "Date",            // Optional, auto-generated if missing
  model_preference: "hybrid",     // gpt | prophet | hybrid | auto
  periods_ahead: 12,              // 1-120 periods
  confidence_level: 0.95,         // 0.5-0.99 (80%, 90%, 95%, 99%)
  scenario_text: "Your scenario"  // Max 500 chars
}`}),c.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"Understanding Results"}),c.jsx("p",{className:"text-gray-600 dark:text-slate-400 mb-4",children:"Forecast responses include:"}),c.jsxs("ul",{className:"space-y-2 text-gray-700 dark:text-slate-300",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"forecast:"})," Predicted values (most likely outcome)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"lower:"})," Lower confidence bound (pessimistic scenario)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"upper:"})," Upper confidence bound (optimistic scenario)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"timestamps:"})," Future dates for each prediction"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"explanation:"})," AI-generated interpretation"]})]}),c.jsxs("div",{className:"mt-8 p-6 bg-yellow-50 dark:bg-yellow-900/20 rounded-xl border-2 border-yellow-200 dark:border-yellow-700",children:[c.jsx("h3",{className:"font-semibold mb-2",children:"Data Requirements"}),c.jsxs("ul",{className:"text-sm space-y-1 text-gray-700 dark:text-slate-300",children:[c.jsx("li",{children:"• Minimum 6 data points (12+ recommended)"}),c.jsx("li",{children:"• Target column must be numeric"}),c.jsx("li",{children:"• Clean data (no excessive nulls or outliers)"}),c.jsx("li",{children:"• Consistent time intervals (daily, weekly, monthly)"})]})]})]});case"file-tools":return c.jsxs("div",{className:"prose dark:prose-invert max-w-none",children:[c.jsx("h1",{className:"text-3xl font-display font-bold mb-4",children:"File Tools Documentation"}),c.jsx("h2",{className:"text-2xl font-semibold mt-6 mb-4",children:"Available Conversions"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:["PDF → Excel","PDF → Word","PDF → CSV","Excel → PDF","Excel → CSV","CSV → Excel","CSV → PDF"].map(b=>c.jsx("div",{className:"p-4 bg-gray-50 dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700",children:c.jsx("p",{className:"font-semibold",children:b})},b))}),c.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"PDF to Excel"}),c.jsx("p",{className:"text-gray-600 dark:text-slate-400 mb-4",children:"Extracts tables from PDF files into Excel format. Works best with structured PDFs containing clear tables."}),c.jsx(f,{id:"pdf-excel",code:`POST /api/filetools/pdf-to-excel

# Request:
Content-Type: multipart/form-data
file: <pdf_binary>

# Response:
{
  "message": "PDF table data successfully converted to Excel",
  "download_url": "/api/filetools/files/converted_123.xlsx",
  "filename": "converted_123.xlsx"
}`}),c.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"File Compression"}),c.jsx("p",{className:"text-gray-600 dark:text-slate-400 mb-4",children:"Compress PDFs and other files with three levels:"}),c.jsxs("ul",{className:"space-y-2 text-gray-700 dark:text-slate-300",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Light:"})," 10-30% reduction, minimal quality loss"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Medium:"})," 30-50% reduction, balanced quality"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Strong:"})," 50-70% reduction, may affect images"]})]}),c.jsx(f,{id:"compress",code:`POST /api/filetools/pdf/compress

# Request:
Content-Type: multipart/form-data
file: <file_binary>
level: "medium"  # light | medium | strong

# Response:
{
  "message": "PDF compressed successfully (medium level)",
  "download_url": "/api/filetools/files/compressed_123.pdf",
  "size_before": 5242880,
  "size_after": 2621440,
  "reduction_percent": 50.0
}`}),c.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"Merge PDFs"}),c.jsx("p",{className:"text-gray-600 dark:text-slate-400 mb-4",children:"Combine up to 15 PDF files into a single document:"}),c.jsx(f,{id:"merge-pdf",code:`POST /api/filetools/pdf/merge

# Request:
Content-Type: multipart/form-data
files: <pdf_binary_1>
files: <pdf_binary_2>
files: <pdf_binary_3>

# Response:
{
  "message": "Successfully merged 3 PDF files",
  "download_url": "/api/filetools/files/merged_123.pdf",
  "filename": "merged_123.pdf"
}`}),c.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"File Limits"}),c.jsxs("ul",{className:"space-y-2 text-gray-700 dark:text-slate-300",children:[c.jsx("li",{children:"• Maximum file size: 10MB per file"}),c.jsx("li",{children:"• PDF merge: Up to 15 files"}),c.jsx("li",{children:"• Conversion formats: PDF, Excel, CSV, Word"}),c.jsx("li",{children:"• Files auto-delete after 30 days"}),c.jsx("li",{children:"• Rate limit: 100 conversions per hour"})]}),c.jsxs("div",{className:"mt-8 p-6 bg-blue-50 dark:bg-blue-900/20 rounded-xl border-2 border-blue-200 dark:border-blue-700",children:[c.jsx("h3",{className:"font-semibold mb-2",children:"Tips for Best Results"}),c.jsxs("ul",{className:"text-sm space-y-1 text-gray-700 dark:text-slate-300",children:[c.jsx("li",{children:"• Use high-quality source PDFs with clear tables"}),c.jsx("li",{children:"• Avoid scanned images (use OCR tools first)"}),c.jsx("li",{children:"• Test compression levels on a sample first"}),c.jsx("li",{children:"• Ensure PDF files aren't password-protected"})]})]})]});case"advanced":return c.jsxs("div",{className:"prose dark:prose-invert max-w-none",children:[c.jsx("h1",{className:"text-3xl font-display font-bold mb-4",children:"Advanced Topics"}),c.jsx("h2",{className:"text-2xl font-semibold mt-6 mb-4",children:"Authentication Flow"}),c.jsx("p",{className:"text-gray-600 dark:text-slate-400 mb-4",children:"Syla uses JWT (JSON Web Tokens) for authentication with httpOnly cookies for security."}),c.jsx(f,{id:"auth-flow",code:`// 1. Login
const loginResponse = await fetch('/api/auth/login', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    contact: 'user@example.com',
    password: 'password123'
  })
});

const { access_token, user } = await loginResponse.json();

// Token automatically stored in httpOnly cookie
// For API calls, include in Authorization header:
const apiCall = await fetch('/api/forecast/whatif', {
  headers: {
    'Authorization': \`Bearer \${access_token}\`,
    'Content-Type': 'application/json'
  }
});`}),c.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"Rate Limiting"}),c.jsx("p",{className:"text-gray-600 dark:text-slate-400 mb-4",children:"All API endpoints are rate-limited to ensure fair usage:"}),c.jsxs("ul",{className:"space-y-2 text-gray-700 dark:text-slate-300",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Free tier:"})," 100 requests/hour for uploads, 50 AI forecasts/month"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Professional:"})," 500 requests/hour, 500 AI forecasts/month"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Business:"})," Unlimited requests, dedicated rate limits"]})]}),c.jsx(f,{id:"rate-limit-headers",code:`// Rate limit info in response headers:
X-RateLimit-Limit: 100
X-RateLimit-Remaining: 95
X-RateLimit-Reset: 1704124800

// Handle 429 responses:
if (response.status === 429) {
  const retryAfter = response.headers.get('Retry-After');
  console.log(\`Rate limited. Retry after \${retryAfter} seconds\`);
}`}),c.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"Error Handling Best Practices"}),c.jsx(f,{id:"error-handling",code:`// Robust error handling with retries
async function apiCallWithRetry(url, options, maxRetries = 3) {
  for (let i = 0; i < maxRetries; i++) {
    try {
      const response = await fetch(url, options);
      
      if (!response.ok) {
        const error = await response.json();
        throw new Error(error.detail || 'API request failed');
      }
      
      return await response.json();
    } catch (error) {
      if (i === maxRetries - 1) throw error;
      
      // Exponential backoff
      await new Promise(resolve => 
        setTimeout(resolve, Math.pow(2, i) * 1000)
      );
    }
  }
}`}),c.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"Webhook Integration"}),c.jsx("p",{className:"text-gray-600 dark:text-slate-400 mb-4",children:"Business plan users can configure webhooks for real-time notifications:"}),c.jsx(f,{id:"webhooks",code:`// Configure webhook
POST /api/webhooks
{
  "url": "https://your-app.com/syla-webhook",
  "events": ["forecast.completed", "upload.processed"],
  "secret": "your_webhook_secret"
}

// Webhook payload example:
{
  "event": "forecast.completed",
  "timestamp": "2025-01-15T10:30:00Z",
  "data": {
    "forecast_id": "fcast_123",
    "user_id": "user_456",
    "status": "completed",
    "result": {...}
  },
  "signature": "sha256=..."
}`}),c.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"Custom Data Pipelines"}),c.jsx("p",{className:"text-gray-600 dark:text-slate-400 mb-4",children:"Integrate Syla into your data pipeline:"}),c.jsx(f,{id:"pipeline",code:`// Example: Automated daily forecast pipeline
import cron from 'node-cron';
import SylaClient from 'syla-sdk';

const syla = new SylaClient({ apiKey: process.env.SYLA_API_KEY });

// Run every day at 6 AM
cron.schedule('0 6 * * *', async () => {
  try {
    // 1. Fetch latest data from your database
    const data = await fetchLatestSalesData();
    
    // 2. Upload to Syla
    const upload = await syla.upload(data);
    
    // 3. Generate forecast
    const forecast = await syla.forecast({
      file_id: upload.file_id,
      scenario: "Standard growth projection",
      target_column: "revenue",
      periods_ahead: 30
    });
    
    // 4. Store results
    await storeForecast(forecast);
    
    // 5. Send alerts if needed
    if (forecast.trend === 'declining') {
      await sendAlert('Revenue forecast shows decline');
    }
  } catch (error) {
    console.error('Forecast pipeline failed:', error);
  }
});`}),c.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"Performance Optimization"}),c.jsxs("ul",{className:"space-y-3 text-gray-700 dark:text-slate-300",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Batch Uploads:"})," Group multiple files into a single API call to reduce overhead"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Caching:"})," Cache frequently accessed charts and forecasts locally"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Compression:"})," Enable gzip compression on API requests"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Pagination:"})," Use pagination for large datasets (limit=100 recommended)"]})]}),c.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"Security Best Practices"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border-l-4 border-yellow-500",children:[c.jsx("h3",{className:"font-semibold text-yellow-800 dark:text-yellow-300 mb-2",children:"⚠️ Never expose API keys"}),c.jsx("p",{className:"text-sm text-gray-700 dark:text-slate-300",children:"Store API keys in environment variables, never commit them to git"})]}),c.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border-l-4 border-blue-500",children:[c.jsx("h3",{className:"font-semibold text-blue-800 dark:text-blue-300 mb-2",children:"✓ Use HTTPS only"}),c.jsx("p",{className:"text-sm text-gray-700 dark:text-slate-300",children:"All API calls must use HTTPS. HTTP requests are rejected."})]}),c.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border-l-4 border-green-500",children:[c.jsx("h3",{className:"font-semibold text-green-800 dark:text-green-300 mb-2",children:"✓ Rotate tokens regularly"}),c.jsx("p",{className:"text-sm text-gray-700 dark:text-slate-300",children:"Refresh JWT tokens every 24 hours using /api/auth/refresh endpoint"})]})]}),c.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"SDK Libraries"}),c.jsx("p",{className:"text-gray-600 dark:text-slate-400 mb-4",children:"Official SDKs available for popular languages:"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700",children:[c.jsx("h4",{className:"font-semibold mb-2",children:"JavaScript/TypeScript"}),c.jsx("code",{className:"text-sm text-blue-600 dark:text-blue-400",children:"npm install @syla/sdk"})]}),c.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700",children:[c.jsx("h4",{className:"font-semibold mb-2",children:"Python"}),c.jsx("code",{className:"text-sm text-blue-600 dark:text-blue-400",children:"pip install syla-client"})]}),c.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700",children:[c.jsx("h4",{className:"font-semibold mb-2",children:"Ruby"}),c.jsx("code",{className:"text-sm text-blue-600 dark:text-blue-400",children:"gem install syla"})]}),c.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700",children:[c.jsx("h4",{className:"font-semibold mb-2",children:"Go"}),c.jsx("code",{className:"text-sm text-blue-600 dark:text-blue-400",children:"go get github.com/syla/sdk-go"})]})]}),c.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"Environment Configuration"}),c.jsx("p",{className:"text-gray-600 dark:text-slate-400 mb-4",children:"Recommended environment variables for production:"}),c.jsx(f,{id:"env-config",code:`# .env file
SYLA_API_KEY=your_api_key_here
SYLA_API_URL=https://api.sylaanalytics.com
SYLA_TIMEOUT=30000
SYLA_RETRY_ATTEMPTS=3
SYLA_LOG_LEVEL=info

# Node.js example
import dotenv from 'dotenv';
dotenv.config();

const sylaConfig = {
  apiKey: process.env.SYLA_API_KEY,
  timeout: parseInt(process.env.SYLA_TIMEOUT),
  retryAttempts: parseInt(process.env.SYLA_RETRY_ATTEMPTS)
};`}),c.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"Monitoring & Logging"}),c.jsx("p",{className:"text-gray-600 dark:text-slate-400 mb-4",children:"Track API usage and performance:"}),c.jsx(f,{id:"monitoring",code:`// Custom logging middleware
const sylaLogger = {
  logRequest: (endpoint, params) => {
    console.log(\`[\${new Date().toISOString()}] Syla API Request\`, {
      endpoint,
      params: JSON.stringify(params)
    });
  },
  
  logResponse: (endpoint, duration, success) => {
    console.log(\`[\${new Date().toISOString()}] Syla API Response\`, {
      endpoint,
      duration: \`\${duration}ms\`,
      success
    });
  },
  
  logError: (endpoint, error) => {
    console.error(\`[\${new Date().toISOString()}] Syla API Error\`, {
      endpoint,
      error: error.message,
      stack: error.stack
    });
  }
};

// Usage with fetch wrapper
async function monitoredFetch(url, options) {
  const start = Date.now();
  const endpoint = new URL(url).pathname;
  
  sylaLogger.logRequest(endpoint, options.body);
  
  try {
    const response = await fetch(url, options);
    const duration = Date.now() - start;
    sylaLogger.logResponse(endpoint, duration, response.ok);
    return response;
  } catch (error) {
    sylaLogger.logError(endpoint, error);
    throw error;
  }
}`}),c.jsxs("div",{className:"mt-8 p-6 bg-blue-50 dark:bg-blue-900/20 rounded-xl border-2 border-blue-200 dark:border-blue-700",children:[c.jsx("h3",{className:"font-semibold text-lg mb-2 text-blue-800 dark:text-blue-200",children:"Need More Help?"}),c.jsx("p",{className:"text-sm text-gray-700 dark:text-slate-300 mb-4",children:"For advanced use cases, custom integrations, or enterprise support:"}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("a",{href:"mailto:enterprise@syla.ai",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"Contact Enterprise Team"}),c.jsx("a",{href:"/help",className:"px-4 py-2 border-2 border-blue-600 text-blue-600 dark:text-blue-400 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/30 transition-colors text-sm font-medium",children:"View FAQ"})]})]})]});default:return c.jsx("div",{children:"Select a section from the sidebar"})}};return c.jsxs("div",{className:"flex flex-col lg:flex-row min-h-screen bg-gray-50 dark:bg-slate-900",children:[c.jsx(h,{sections:d,activeSection:n,setActiveSection:s}),c.jsxs("div",{className:"flex-1 flex flex-col",children:[c.jsx(Bi,{}),c.jsx("main",{className:"flex-1 p-4 sm:p-8 overflow-y-auto",children:g()}),c.jsx(mp,{})]})]})},vO=()=>{const r=ms(),{user:e,theme:t,setTheme:n}=U.useContext(yi),[s,i]=U.useState("monthly"),[a,l]=U.useState(!1),d=[{name:"Free",icon:Hd,price:0,yearlyPrice:0,description:"Perfect for trying out Syla",color:"blue",features:[{text:"Unlimited file uploads (10MB each)",included:!0},{text:"Basic data visualizations",included:!0},{text:"50 AI forecast requests/month",included:!0},{text:"All file conversion tools",included:!0},{text:"CSV & PNG export",included:!0},{text:"Community support",included:!0},{text:"Advanced chart customization",included:!1},{text:"Priority AI processing",included:!1},{text:"API access",included:!1},{text:"Team collaboration",included:!1}],cta:e?"Current Plan":"Sign Up Free",popular:!1},{name:"Professional",icon:LN,price:12,yearlyPrice:120,description:"For professionals and growing teams",color:"purple",features:[{text:"Everything in Free, plus:",included:!0},{text:"Unlimited file uploads (50MB each)",included:!0},{text:"500 AI forecast requests/month",included:!0},{text:"Advanced chart customization",included:!0},{text:"Priority AI processing queue",included:!0},{text:"SVG, PDF, JSON export",included:!0},{text:"Chart templates & themes",included:!0},{text:"Email support (24h response)",included:!0},{text:"Remove Syla branding",included:!0},{text:"API access (1000 calls/day)",included:!0}],cta:"Start 14-Day Trial",popular:!0},{name:"Business",icon:JS,price:49,yearlyPrice:490,description:"For teams with advanced needs",color:"orange",features:[{text:"Everything in Professional, plus:",included:!0},{text:"Unlimited AI forecast requests",included:!0},{text:"Unlimited file uploads (500MB each)",included:!0},{text:"Custom AI model training",included:!0},{text:"Advanced forecasting models",included:!0},{text:"Team collaboration (10 users)",included:!0},{text:"Dedicated support (4h response)",included:!0},{text:"Priority phone support",included:!0},{text:"API access (unlimited)",included:!0},{text:"Custom integrations",included:!0}],cta:"Contact Sales",popular:!1}],h=[{category:"Data Processing",features:[{name:"File upload size",free:"10MB",pro:"50MB",business:"500MB"},{name:"Monthly uploads",free:"Unlimited",pro:"Unlimited",business:"Unlimited"},{name:"Supported formats",free:"CSV, Excel, PDF",pro:"CSV, Excel, PDF",business:"CSV, Excel, PDF + Custom"},{name:"Data retention",free:"30 days",pro:"90 days",business:"1 year"}]},{category:"AI Forecasting",features:[{name:"Monthly forecast requests",free:"50",pro:"500",business:"Unlimited"},{name:"Forecast horizon",free:"12 periods",pro:"120 periods",business:"Unlimited"},{name:"Model selection",free:"Basic",pro:"All models",business:"All + Custom"},{name:"Processing priority",free:"Standard",pro:"High",business:"Highest"}]},{category:"Visualization",features:[{name:"Chart types",free:"5 basic",pro:"15 advanced",business:"All + Custom"},{name:"Custom themes",free:"No",pro:"Yes",business:"Yes + Templates"},{name:"Export formats",free:"CSV, PNG",pro:"CSV, PNG, SVG, PDF",business:"All formats"},{name:"Resolution",free:"Standard",pro:"High (300 DPI)",business:"Ultra (600 DPI)"}]},{category:"Support & API",features:[{name:"Support channel",free:"Community",pro:"Email",business:"Email + Phone"},{name:"Response time",free:"Best effort",pro:"24 hours",business:"4 hours"},{name:"API access",free:"No",pro:"1000 calls/day",business:"Unlimited"},{name:"Documentation",free:"Public docs",pro:"Public docs",business:"Private docs"}]}],f=m=>m.price===0?"Free":`$${s==="monthly"?m.price:m.yearlyPrice}${s==="monthly"?"/month":"/year"}`,g=m=>{if(m.price===0)return null;const S=m.price*12-m.yearlyPrice,k=Math.round(S/(m.price*12)*100);return s==="yearly"?`Save $${S} (${k}%)`:null},b=m=>{m.name==="Free"?r(e?"/":"/signup"):m.name==="Business"?window.location.href="mailto:sales@syla.ai?subject=Business Plan Inquiry":r(e?"/settings?tab=billing":"/signup?plan=professional")};return c.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-slate-950",children:[c.jsx(xi,{theme:t,setTheme:n,onReportChange:()=>{}}),c.jsxs("div",{className:"flex-1 transition-all duration-300",children:[c.jsx(Bi,{user:e}),c.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h1",{className:"text-4xl md:text-5xl font-display font-bold text-gray-800 dark:text-slate-200 mb-4",children:"Simple, Transparent Pricing"}),c.jsx("p",{className:"text-xl text-gray-600 dark:text-slate-400 mb-8",children:"Choose the plan that fits your needs. All plans include 14-day money-back guarantee."}),c.jsxs("div",{className:"inline-flex items-center gap-3 p-1 bg-gray-200 dark:bg-slate-800 rounded-xl",children:[c.jsx("button",{onClick:()=>i("monthly"),className:`px-6 py-2 rounded-lg font-medium transition-all ${s==="monthly"?"bg-white dark:bg-slate-700 text-gray-800 dark:text-slate-200 shadow-sm":"text-gray-600 dark:text-slate-400"}`,children:"Monthly"}),c.jsxs("button",{onClick:()=>i("yearly"),className:`px-6 py-2 rounded-lg font-medium transition-all flex items-center gap-2 ${s==="yearly"?"bg-white dark:bg-slate-700 text-gray-800 dark:text-slate-200 shadow-sm":"text-gray-600 dark:text-slate-400"}`,children:["Yearly",c.jsx("span",{className:"px-2 py-0.5 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 text-xs rounded-full",children:"Save 17%"})]})]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:d.map(m=>{const S=m.icon,k={blue:"border-blue-500 bg-blue-50 dark:bg-blue-900/20",purple:"border-purple-500 bg-purple-50 dark:bg-purple-900/20",orange:"border-orange-500 bg-orange-50 dark:bg-orange-900/20"};return c.jsxs("div",{className:`rounded-2xl border-2 bg-white dark:bg-slate-800 overflow-hidden transition-all hover:scale-105 ${m.popular?"border-purple-500 shadow-xl shadow-purple-200 dark:shadow-purple-900/50 relative":"border-gray-200 dark:border-slate-700"}`,children:[m.popular&&c.jsxs("div",{className:"absolute top-0 right-0 bg-gradient-to-r from-purple-600 to-pink-600 text-white px-4 py-1 rounded-bl-xl text-sm font-semibold flex items-center gap-1",children:[c.jsx(S1,{size:14}),"Most Popular"]}),c.jsxs("div",{className:`p-8 ${m.popular?"pt-12":""}`,children:[c.jsx("div",{className:`inline-flex p-3 rounded-xl ${k[m.color]} mb-4`,children:c.jsx(S,{className:`text-${m.color}-600 dark:text-${m.color}-400`,size:32})}),c.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-slate-200 mb-2",children:m.name}),c.jsx("p",{className:"text-gray-600 dark:text-slate-400 text-sm mb-6",children:m.description}),c.jsxs("div",{className:"mb-6",children:[c.jsx("div",{className:"text-4xl font-bold text-gray-800 dark:text-slate-200",children:f(m)}),g(m)&&c.jsx("div",{className:"text-sm text-green-600 dark:text-green-400 font-medium mt-1",children:g(m)})]}),c.jsxs("button",{onClick:()=>b(m),className:`w-full py-3 rounded-xl font-semibold transition-all flex items-center justify-center gap-2 ${m.popular?"bg-gradient-to-r from-purple-600 to-pink-600 text-white hover:from-purple-700 hover:to-pink-700 shadow-lg":"bg-gray-100 dark:bg-slate-700 text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-600"}`,children:[m.cta,c.jsx(FS,{size:16})]}),c.jsx("div",{className:"mt-8 space-y-3",children:m.features.map((w,_)=>c.jsxs("div",{className:"flex items-start gap-3",children:[w.included?c.jsx(C0,{className:"text-green-600 dark:text-green-400 flex-shrink-0 mt-0.5",size:18}):c.jsx(lu,{className:"text-gray-400 flex-shrink-0 mt-0.5",size:18}),c.jsx("span",{className:`text-sm ${w.included?"text-gray-700 dark:text-slate-300":"text-gray-400 dark:text-slate-500"}`,children:w.text})]},_))})]})]},m.name)})}),c.jsx("div",{className:"text-center mb-8",children:c.jsxs("button",{onClick:()=>l(!a),className:"inline-flex items-center gap-2 px-6 py-3 bg-white dark:bg-slate-800 border-2 border-gray-200 dark:border-slate-700 rounded-xl hover:border-blue-500 dark:hover:border-blue-400 transition-colors",children:[c.jsx(z5,{size:20}),a?"Hide":"Show"," Detailed Comparison"]})}),a&&c.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border-2 border-gray-200 dark:border-slate-700 overflow-hidden mb-12",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 dark:bg-slate-900",children:[c.jsx("th",{className:"text-left p-4 font-semibold text-gray-800 dark:text-slate-200",children:"Feature"}),c.jsx("th",{className:"text-center p-4 font-semibold text-gray-800 dark:text-slate-200",children:"Free"}),c.jsx("th",{className:"text-center p-4 font-semibold text-purple-600 dark:text-purple-400",children:"Professional"}),c.jsx("th",{className:"text-center p-4 font-semibold text-orange-600 dark:text-orange-400",children:"Business"})]})}),c.jsx("tbody",{children:h.map((m,S)=>c.jsxs(Ho.Fragment,{children:[c.jsx("tr",{className:"bg-gray-100 dark:bg-slate-700/50",children:c.jsx("td",{colSpan:4,className:"p-3 font-semibold text-gray-800 dark:text-slate-200",children:m.category})}),m.features.map((k,w)=>c.jsxs("tr",{className:"border-b border-gray-200 dark:border-slate-700",children:[c.jsx("td",{className:"p-4 text-gray-700 dark:text-slate-300",children:k.name}),c.jsx("td",{className:"p-4 text-center text-gray-600 dark:text-slate-400",children:k.free}),c.jsx("td",{className:"p-4 text-center text-gray-600 dark:text-slate-400",children:k.pro}),c.jsx("td",{className:"p-4 text-center text-gray-600 dark:text-slate-400",children:k.business})]},w))]},S))})]})})}),c.jsxs("div",{className:"max-w-3xl mx-auto mb-12",children:[c.jsx("h2",{className:"text-3xl font-display font-bold text-center text-gray-800 dark:text-slate-200 mb-8",children:"Frequently Asked Questions"}),c.jsx("div",{className:"space-y-4",children:[{q:"Can I change plans anytime?",a:"Yes, upgrade or downgrade anytime. Changes take effect immediately with prorated billing."},{q:"Do you offer refunds?",a:"All paid plans include a 14-day money-back guarantee. Cancel anytime within 14 days for a full refund."},{q:"What payment methods do you accept?",a:"We accept all major credit cards (Visa, Mastercard, Amex) and PayPal. Enterprise customers can request invoicing."},{q:"Is there a free trial?",a:"Yes! Professional and Business plans include a 14-day free trial. No credit card required."},{q:"Do you offer student discounts?",a:"Yes, students and educators get 50% off all paid plans. Email support@syla.ai with your .edu address."}].map((m,S)=>c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 p-6",children:[c.jsx("h4",{className:"font-semibold text-gray-800 dark:text-slate-200 mb-2",children:m.q}),c.jsx("p",{className:"text-gray-600 dark:text-slate-400 text-sm",children:m.a})]},S))})]}),c.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-12 text-center text-white",children:[c.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to transform your data analysis?"}),c.jsx("p",{className:"text-xl mb-8 text-blue-100",children:"Join thousands of professionals using Syla to make data-driven decisions"}),c.jsxs("div",{className:"flex justify-center gap-4",children:[c.jsx("button",{onClick:()=>r("/signup"),className:"px-8 py-3 bg-white text-blue-600 rounded-xl font-semibold hover:bg-blue-50 transition-colors",children:"Start Free Trial"}),c.jsx("button",{onClick:()=>r("/help"),className:"px-8 py-3 border-2 border-white text-white rounded-xl font-semibold hover:bg-white/10 transition-colors",children:"Learn More"})]})]})]}),c.jsx(mp,{})]})]})};Q4.createRoot(document.getElementById("root")).render(c.jsx(Ho.StrictMode,{children:c.jsx(lC,{children:c.jsx(oC,{children:c.jsx(pS,{children:c.jsxs(V_,{children:[c.jsx(hs,{path:"/",element:c.jsx(MT,{})}),c.jsx(hs,{path:"/login",element:c.jsx($9,{})}),c.jsx(hs,{path:"/signup",element:c.jsx(G9,{})}),c.jsx(hs,{path:"/forgot-password",element:c.jsx(Y9,{})}),c.jsx(hs,{path:"/reset-password",element:c.jsx(K9,{})}),c.jsx(hs,{path:"/settings",element:c.jsx(J9,{})}),c.jsx(hs,{path:"/profile",element:c.jsx(X9,{})}),c.jsx(hs,{path:"/tools/:action",element:c.jsx(OT,{})}),c.jsx(hs,{path:"/forecast",element:c.jsx(uO,{})}),c.jsx(hs,{path:"/editing",element:c.jsx(mO,{})}),c.jsx(hs,{path:"/notifications",element:c.jsx(xO,{})}),c.jsx(hs,{path:"/help",element:c.jsx(bO,{})}),c.jsx(hs,{path:"/docs",element:c.jsx(yO,{})}),c.jsx(hs,{path:"/pricing",element:c.jsx(vO,{})}),c.jsx(hs,{path:"*",element:c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-slate-950",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-slate-200 mb-2",children:"Page Not Found"}),c.jsx("p",{className:"text-gray-600 dark:text-slate-400 mb-4",children:"The page you're looking for doesn't exist."}),c.jsx("a",{href:"/",className:"px-4 py-2 bg-neonBlue text-white rounded-lg hover:bg-blue-600 transition-colors duration-200",children:"Go Home"})]})})})]})})})})}));export{xr as _,wO as c,f5 as g};
