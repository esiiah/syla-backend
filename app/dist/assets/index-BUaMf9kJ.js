(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function _p(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Nc={exports:{}},ta={},Cc={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tf;function xy(){if(Tf)return we;Tf=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),x=Symbol.iterator;function b(F){return F===null||typeof F!="object"?null:(F=x&&F[x]||F["@@iterator"],typeof F=="function"?F:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,v={};function w(F,q,ge){this.props=F,this.context=q,this.refs=v,this.updater=ge||k}w.prototype.isReactComponent={},w.prototype.setState=function(F,q){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,q,"setState")},w.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function N(){}N.prototype=w.prototype;function C(F,q,ge){this.props=F,this.context=q,this.refs=v,this.updater=ge||k}var M=C.prototype=new N;M.constructor=C,_(M,w.prototype),M.isPureReactComponent=!0;var L=Array.isArray,E=Object.prototype.hasOwnProperty,Y={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function z(F,q,ge){var xe,ie={},oe=null,ne=null;if(q!=null)for(xe in q.ref!==void 0&&(ne=q.ref),q.key!==void 0&&(oe=""+q.key),q)E.call(q,xe)&&!O.hasOwnProperty(xe)&&(ie[xe]=q[xe]);var Z=arguments.length-2;if(Z===1)ie.children=ge;else if(1<Z){for(var le=Array(Z),ue=0;ue<Z;ue++)le[ue]=arguments[ue+2];ie.children=le}if(F&&F.defaultProps)for(xe in Z=F.defaultProps,Z)ie[xe]===void 0&&(ie[xe]=Z[xe]);return{$$typeof:n,type:F,key:oe,ref:ne,props:ie,_owner:Y.current}}function G(F,q){return{$$typeof:n,type:F.type,key:q,ref:F.ref,props:F.props,_owner:F._owner}}function W(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function R(F){var q={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ge){return q[ge]})}var D=/\/+/g;function I(F,q){return typeof F=="object"&&F!==null&&F.key!=null?R(""+F.key):q.toString(36)}function H(F,q,ge,xe,ie){var oe=typeof F;(oe==="undefined"||oe==="boolean")&&(F=null);var ne=!1;if(F===null)ne=!0;else switch(oe){case"string":case"number":ne=!0;break;case"object":switch(F.$$typeof){case n:case e:ne=!0}}if(ne)return ne=F,ie=ie(ne),F=xe===""?"."+I(ne,0):xe,L(ie)?(ge="",F!=null&&(ge=F.replace(D,"$&/")+"/"),H(ie,q,ge,"",function(ue){return ue})):ie!=null&&(W(ie)&&(ie=G(ie,ge+(!ie.key||ne&&ne.key===ie.key?"":(""+ie.key).replace(D,"$&/")+"/")+F)),q.push(ie)),1;if(ne=0,xe=xe===""?".":xe+":",L(F))for(var Z=0;Z<F.length;Z++){oe=F[Z];var le=xe+I(oe,Z);ne+=H(oe,q,ge,le,ie)}else if(le=b(F),typeof le=="function")for(F=le.call(F),Z=0;!(oe=F.next()).done;)oe=oe.value,le=xe+I(oe,Z++),ne+=H(oe,q,ge,le,ie);else if(oe==="object")throw q=String(F),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return ne}function $(F,q,ge){if(F==null)return F;var xe=[],ie=0;return H(F,xe,"","",function(oe){return q.call(ge,oe,ie++)}),xe}function X(F){if(F._status===-1){var q=F._result;q=q(),q.then(function(ge){(F._status===0||F._status===-1)&&(F._status=1,F._result=ge)},function(ge){(F._status===0||F._status===-1)&&(F._status=2,F._result=ge)}),F._status===-1&&(F._status=0,F._result=q)}if(F._status===1)return F._result.default;throw F._result}var K={current:null},Q={transition:null},ae={ReactCurrentDispatcher:K,ReactCurrentBatchConfig:Q,ReactCurrentOwner:Y};function J(){throw Error("act(...) is not supported in production builds of React.")}return we.Children={map:$,forEach:function(F,q,ge){$(F,function(){q.apply(this,arguments)},ge)},count:function(F){var q=0;return $(F,function(){q++}),q},toArray:function(F){return $(F,function(q){return q})||[]},only:function(F){if(!W(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},we.Component=w,we.Fragment=t,we.Profiler=a,we.PureComponent=C,we.StrictMode=s,we.Suspense=h,we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,we.act=J,we.cloneElement=function(F,q,ge){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var xe=_({},F.props),ie=F.key,oe=F.ref,ne=F._owner;if(q!=null){if(q.ref!==void 0&&(oe=q.ref,ne=Y.current),q.key!==void 0&&(ie=""+q.key),F.type&&F.type.defaultProps)var Z=F.type.defaultProps;for(le in q)E.call(q,le)&&!O.hasOwnProperty(le)&&(xe[le]=q[le]===void 0&&Z!==void 0?Z[le]:q[le])}var le=arguments.length-2;if(le===1)xe.children=ge;else if(1<le){Z=Array(le);for(var ue=0;ue<le;ue++)Z[ue]=arguments[ue+2];xe.children=Z}return{$$typeof:n,type:F.type,key:ie,ref:oe,props:xe,_owner:ne}},we.createContext=function(F){return F={$$typeof:c,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:o,_context:F},F.Consumer=F},we.createElement=z,we.createFactory=function(F){var q=z.bind(null,F);return q.type=F,q},we.createRef=function(){return{current:null}},we.forwardRef=function(F){return{$$typeof:u,render:F}},we.isValidElement=W,we.lazy=function(F){return{$$typeof:m,_payload:{_status:-1,_result:F},_init:X}},we.memo=function(F,q){return{$$typeof:p,type:F,compare:q===void 0?null:q}},we.startTransition=function(F){var q=Q.transition;Q.transition={};try{F()}finally{Q.transition=q}},we.unstable_act=J,we.useCallback=function(F,q){return K.current.useCallback(F,q)},we.useContext=function(F){return K.current.useContext(F)},we.useDebugValue=function(){},we.useDeferredValue=function(F){return K.current.useDeferredValue(F)},we.useEffect=function(F,q){return K.current.useEffect(F,q)},we.useId=function(){return K.current.useId()},we.useImperativeHandle=function(F,q,ge){return K.current.useImperativeHandle(F,q,ge)},we.useInsertionEffect=function(F,q){return K.current.useInsertionEffect(F,q)},we.useLayoutEffect=function(F,q){return K.current.useLayoutEffect(F,q)},we.useMemo=function(F,q){return K.current.useMemo(F,q)},we.useReducer=function(F,q,ge){return K.current.useReducer(F,q,ge)},we.useRef=function(F){return K.current.useRef(F)},we.useState=function(F){return K.current.useState(F)},we.useSyncExternalStore=function(F,q,ge){return K.current.useSyncExternalStore(F,q,ge)},we.useTransition=function(){return K.current.useTransition()},we.version="18.3.1",we}var Rf;function xd(){return Rf||(Rf=1,Cc.exports=xy()),Cc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Af;function yy(){if(Af)return ta;Af=1;var n=xd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(u,h,p){var m,x={},b=null,k=null;p!==void 0&&(b=""+p),h.key!==void 0&&(b=""+h.key),h.ref!==void 0&&(k=h.ref);for(m in h)s.call(h,m)&&!o.hasOwnProperty(m)&&(x[m]=h[m]);if(u&&u.defaultProps)for(m in h=u.defaultProps,h)x[m]===void 0&&(x[m]=h[m]);return{$$typeof:e,type:u,key:b,ref:k,props:x,_owner:a.current}}return ta.Fragment=t,ta.jsx=c,ta.jsxs=c,ta}var zf;function by(){return zf||(zf=1,Nc.exports=yy()),Nc.exports}var l=by(),S=xd();const So=_p(S);var Hi={},Mc={exports:{}},kt={},Pc={exports:{}},Ec={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Of;function vy(){return Of||(Of=1,(function(n){function e(Q,ae){var J=Q.length;Q.push(ae);e:for(;0<J;){var F=J-1>>>1,q=Q[F];if(0<a(q,ae))Q[F]=ae,Q[J]=q,J=F;else break e}}function t(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var ae=Q[0],J=Q.pop();if(J!==ae){Q[0]=J;e:for(var F=0,q=Q.length,ge=q>>>1;F<ge;){var xe=2*(F+1)-1,ie=Q[xe],oe=xe+1,ne=Q[oe];if(0>a(ie,J))oe<q&&0>a(ne,ie)?(Q[F]=ne,Q[oe]=J,F=oe):(Q[F]=ie,Q[xe]=J,F=xe);else if(oe<q&&0>a(ne,J))Q[F]=ne,Q[oe]=J,F=oe;else break e}}return ae}function a(Q,ae){var J=Q.sortIndex-ae.sortIndex;return J!==0?J:Q.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();n.unstable_now=function(){return c.now()-u}}var h=[],p=[],m=1,x=null,b=3,k=!1,_=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(Q){for(var ae=t(p);ae!==null;){if(ae.callback===null)s(p);else if(ae.startTime<=Q)s(p),ae.sortIndex=ae.expirationTime,e(h,ae);else break;ae=t(p)}}function L(Q){if(v=!1,M(Q),!_)if(t(h)!==null)_=!0,X(E);else{var ae=t(p);ae!==null&&K(L,ae.startTime-Q)}}function E(Q,ae){_=!1,v&&(v=!1,N(z),z=-1),k=!0;var J=b;try{for(M(ae),x=t(h);x!==null&&(!(x.expirationTime>ae)||Q&&!R());){var F=x.callback;if(typeof F=="function"){x.callback=null,b=x.priorityLevel;var q=F(x.expirationTime<=ae);ae=n.unstable_now(),typeof q=="function"?x.callback=q:x===t(h)&&s(h),M(ae)}else s(h);x=t(h)}if(x!==null)var ge=!0;else{var xe=t(p);xe!==null&&K(L,xe.startTime-ae),ge=!1}return ge}finally{x=null,b=J,k=!1}}var Y=!1,O=null,z=-1,G=5,W=-1;function R(){return!(n.unstable_now()-W<G)}function D(){if(O!==null){var Q=n.unstable_now();W=Q;var ae=!0;try{ae=O(!0,Q)}finally{ae?I():(Y=!1,O=null)}}else Y=!1}var I;if(typeof C=="function")I=function(){C(D)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,$=H.port2;H.port1.onmessage=D,I=function(){$.postMessage(null)}}else I=function(){w(D,0)};function X(Q){O=Q,Y||(Y=!0,I())}function K(Q,ae){z=w(function(){Q(n.unstable_now())},ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_continueExecution=function(){_||k||(_=!0,X(E))},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(Q){switch(b){case 1:case 2:case 3:var ae=3;break;default:ae=b}var J=b;b=ae;try{return Q()}finally{b=J}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Q,ae){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var J=b;b=Q;try{return ae()}finally{b=J}},n.unstable_scheduleCallback=function(Q,ae,J){var F=n.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?F+J:F):J=F,Q){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=J+q,Q={id:m++,callback:ae,priorityLevel:Q,startTime:J,expirationTime:q,sortIndex:-1},J>F?(Q.sortIndex=J,e(p,Q),t(h)===null&&Q===t(p)&&(v?(N(z),z=-1):v=!0,K(L,J-F))):(Q.sortIndex=q,e(h,Q),_||k||(_=!0,X(E))),Q},n.unstable_shouldYield=R,n.unstable_wrapCallback=function(Q){var ae=b;return function(){var J=b;b=ae;try{return Q.apply(this,arguments)}finally{b=J}}}})(Ec)),Ec}var Ff;function ky(){return Ff||(Ff=1,Pc.exports=vy()),Pc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var If;function wy(){if(If)return kt;If=1;var n=xd(),e=ky();function t(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,d=1;d<arguments.length;d++)i+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function o(r,i){c(r,i),c(r+"Capture",i)}function c(r,i){for(a[r]=i,r=0;r<i.length;r++)s.add(i[r])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},x={};function b(r){return h.call(x,r)?!0:h.call(m,r)?!1:p.test(r)?x[r]=!0:(m[r]=!0,!1)}function k(r,i,d,f){if(d!==null&&d.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return f?!1:d!==null?!d.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function _(r,i,d,f){if(i===null||typeof i>"u"||k(r,i,d,f))return!0;if(f)return!1;if(d!==null)switch(d.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function v(r,i,d,f,g,y,j){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=d,this.propertyName=r,this.type=i,this.sanitizeURL=y,this.removeEmptyString=j}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){w[r]=new v(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];w[i]=new v(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){w[r]=new v(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){w[r]=new v(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){w[r]=new v(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){w[r]=new v(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){w[r]=new v(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){w[r]=new v(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){w[r]=new v(r,5,!1,r.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function C(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(N,C);w[i]=new v(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(N,C);w[i]=new v(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(N,C);w[i]=new v(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){w[r]=new v(r,1,!1,r.toLowerCase(),null,!1,!1)}),w.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){w[r]=new v(r,1,!1,r.toLowerCase(),null,!0,!0)});function M(r,i,d,f){var g=w.hasOwnProperty(i)?w[i]:null;(g!==null?g.type!==0:f||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(_(i,d,g,f)&&(d=null),f||g===null?b(i)&&(d===null?r.removeAttribute(i):r.setAttribute(i,""+d)):g.mustUseProperty?r[g.propertyName]=d===null?g.type===3?!1:"":d:(i=g.attributeName,f=g.attributeNamespace,d===null?r.removeAttribute(i):(g=g.type,d=g===3||g===4&&d===!0?"":""+d,f?r.setAttributeNS(f,i,d):r.setAttribute(i,d))))}var L=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),Y=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),R=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),Q=Symbol.iterator;function ae(r){return r===null||typeof r!="object"?null:(r=Q&&r[Q]||r["@@iterator"],typeof r=="function"?r:null)}var J=Object.assign,F;function q(r){if(F===void 0)try{throw Error()}catch(d){var i=d.stack.trim().match(/\n( *(at )?)/);F=i&&i[1]||""}return`
`+F+r}var ge=!1;function xe(r,i){if(!r||ge)return"";ge=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(U){var f=U}Reflect.construct(r,[],i)}else{try{i.call()}catch(U){f=U}r.call(i.prototype)}else{try{throw Error()}catch(U){f=U}r()}}catch(U){if(U&&f&&typeof U.stack=="string"){for(var g=U.stack.split(`
`),y=f.stack.split(`
`),j=g.length-1,P=y.length-1;1<=j&&0<=P&&g[j]!==y[P];)P--;for(;1<=j&&0<=P;j--,P--)if(g[j]!==y[P]){if(j!==1||P!==1)do if(j--,P--,0>P||g[j]!==y[P]){var T=`
`+g[j].replace(" at new "," at ");return r.displayName&&T.includes("<anonymous>")&&(T=T.replace("<anonymous>",r.displayName)),T}while(1<=j&&0<=P);break}}}finally{ge=!1,Error.prepareStackTrace=d}return(r=r?r.displayName||r.name:"")?q(r):""}function ie(r){switch(r.tag){case 5:return q(r.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return r=xe(r.type,!1),r;case 11:return r=xe(r.type.render,!1),r;case 1:return r=xe(r.type,!0),r;default:return""}}function oe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case O:return"Fragment";case Y:return"Portal";case G:return"Profiler";case z:return"StrictMode";case I:return"Suspense";case H:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case R:return(r.displayName||"Context")+".Consumer";case W:return(r._context.displayName||"Context")+".Provider";case D:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case $:return i=r.displayName||null,i!==null?i:oe(r.type)||"Memo";case X:i=r._payload,r=r._init;try{return oe(r(i))}catch{}}return null}function ne(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(i);case 8:return i===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Z(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function le(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ue(r){var i=le(r)?"checked":"value",d=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),f=""+r[i];if(!r.hasOwnProperty(i)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var g=d.get,y=d.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return g.call(this)},set:function(j){f=""+j,y.call(this,j)}}),Object.defineProperty(r,i,{enumerable:d.enumerable}),{getValue:function(){return f},setValue:function(j){f=""+j},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Ce(r){r._valueTracker||(r._valueTracker=ue(r))}function Re(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var d=i.getValue(),f="";return r&&(f=le(r)?r.checked?"true":"false":r.value),r=f,r!==d?(i.setValue(r),!0):!1}function Be(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Oe(r,i){var d=i.checked;return J({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??r._wrapperState.initialChecked})}function st(r,i){var d=i.defaultValue==null?"":i.defaultValue,f=i.checked!=null?i.checked:i.defaultChecked;d=Z(i.value!=null?i.value:d),r._wrapperState={initialChecked:f,initialValue:d,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Dn(r,i){i=i.checked,i!=null&&M(r,"checked",i,!1)}function hn(r,i){Dn(r,i);var d=Z(i.value),f=i.type;if(d!=null)f==="number"?(d===0&&r.value===""||r.value!=d)&&(r.value=""+d):r.value!==""+d&&(r.value=""+d);else if(f==="submit"||f==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?Dr(r,i.type,d):i.hasOwnProperty("defaultValue")&&Dr(r,i.type,Z(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function Zt(r,i,d){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var f=i.type;if(!(f!=="submit"&&f!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,d||i===r.value||(r.value=i),r.defaultValue=i}d=r.name,d!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,d!==""&&(r.name=d)}function Dr(r,i,d){(i!=="number"||Be(r.ownerDocument)!==r)&&(d==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+d&&(r.defaultValue=""+d))}var gs=Array.isArray;function Lr(r,i,d,f){if(r=r.options,i){i={};for(var g=0;g<d.length;g++)i["$"+d[g]]=!0;for(d=0;d<r.length;d++)g=i.hasOwnProperty("$"+r[d].value),r[d].selected!==g&&(r[d].selected=g),g&&f&&(r[d].defaultSelected=!0)}else{for(d=""+Z(d),i=null,g=0;g<r.length;g++){if(r[g].value===d){r[g].selected=!0,f&&(r[g].defaultSelected=!0);return}i!==null||r[g].disabled||(i=r[g])}i!==null&&(i.selected=!0)}}function zo(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return J({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Vd(r,i){var d=i.value;if(d==null){if(d=i.children,i=i.defaultValue,d!=null){if(i!=null)throw Error(t(92));if(gs(d)){if(1<d.length)throw Error(t(93));d=d[0]}i=d}i==null&&(i=""),d=i}r._wrapperState={initialValue:Z(d)}}function Hd(r,i){var d=Z(i.value),f=Z(i.defaultValue);d!=null&&(d=""+d,d!==r.value&&(r.value=d),i.defaultValue==null&&r.defaultValue!==d&&(r.defaultValue=d)),f!=null&&(r.defaultValue=""+f)}function Wd(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function Ud(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Oo(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?Ud(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Aa,Yd=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,d,f,g){MSApp.execUnsafeLocalFunction(function(){return r(i,d,f,g)})}:r})(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(Aa=Aa||document.createElement("div"),Aa.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Aa.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function xs(r,i){if(i){var d=r.firstChild;if(d&&d===r.lastChild&&d.nodeType===3){d.nodeValue=i;return}}r.textContent=i}var ys={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kg=["Webkit","ms","Moz","O"];Object.keys(ys).forEach(function(r){kg.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),ys[i]=ys[r]})});function Gd(r,i,d){return i==null||typeof i=="boolean"||i===""?"":d||typeof i!="number"||i===0||ys.hasOwnProperty(r)&&ys[r]?(""+i).trim():i+"px"}function Kd(r,i){r=r.style;for(var d in i)if(i.hasOwnProperty(d)){var f=d.indexOf("--")===0,g=Gd(d,i[d],f);d==="float"&&(d="cssFloat"),f?r.setProperty(d,g):r[d]=g}}var wg=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fo(r,i){if(i){if(wg[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Io(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bo=null;function $o(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Vo=null,Tr=null,Rr=null;function qd(r){if(r=Bs(r)){if(typeof Vo!="function")throw Error(t(280));var i=r.stateNode;i&&(i=si(i),Vo(r.stateNode,r.type,i))}}function Xd(r){Tr?Rr?Rr.push(r):Rr=[r]:Tr=r}function Qd(){if(Tr){var r=Tr,i=Rr;if(Rr=Tr=null,qd(r),i)for(r=0;r<i.length;r++)qd(i[r])}}function Jd(r,i){return r(i)}function Zd(){}var Ho=!1;function eu(r,i,d){if(Ho)return r(i,d);Ho=!0;try{return Jd(r,i,d)}finally{Ho=!1,(Tr!==null||Rr!==null)&&(Zd(),Qd())}}function bs(r,i){var d=r.stateNode;if(d===null)return null;var f=si(d);if(f===null)return null;d=f[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(d&&typeof d!="function")throw Error(t(231,i,typeof d));return d}var Wo=!1;if(u)try{var vs={};Object.defineProperty(vs,"passive",{get:function(){Wo=!0}}),window.addEventListener("test",vs,vs),window.removeEventListener("test",vs,vs)}catch{Wo=!1}function jg(r,i,d,f,g,y,j,P,T){var U=Array.prototype.slice.call(arguments,3);try{i.apply(d,U)}catch(te){this.onError(te)}}var ks=!1,za=null,Oa=!1,Uo=null,_g={onError:function(r){ks=!0,za=r}};function Sg(r,i,d,f,g,y,j,P,T){ks=!1,za=null,jg.apply(_g,arguments)}function Ng(r,i,d,f,g,y,j,P,T){if(Sg.apply(this,arguments),ks){if(ks){var U=za;ks=!1,za=null}else throw Error(t(198));Oa||(Oa=!0,Uo=U)}}function rr(r){var i=r,d=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(d=i.return),r=i.return;while(r)}return i.tag===3?d:null}function tu(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function nu(r){if(rr(r)!==r)throw Error(t(188))}function Cg(r){var i=r.alternate;if(!i){if(i=rr(r),i===null)throw Error(t(188));return i!==r?null:r}for(var d=r,f=i;;){var g=d.return;if(g===null)break;var y=g.alternate;if(y===null){if(f=g.return,f!==null){d=f;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===d)return nu(g),r;if(y===f)return nu(g),i;y=y.sibling}throw Error(t(188))}if(d.return!==f.return)d=g,f=y;else{for(var j=!1,P=g.child;P;){if(P===d){j=!0,d=g,f=y;break}if(P===f){j=!0,f=g,d=y;break}P=P.sibling}if(!j){for(P=y.child;P;){if(P===d){j=!0,d=y,f=g;break}if(P===f){j=!0,f=y,d=g;break}P=P.sibling}if(!j)throw Error(t(189))}}if(d.alternate!==f)throw Error(t(190))}if(d.tag!==3)throw Error(t(188));return d.stateNode.current===d?r:i}function ru(r){return r=Cg(r),r!==null?su(r):null}function su(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=su(r);if(i!==null)return i;r=r.sibling}return null}var au=e.unstable_scheduleCallback,iu=e.unstable_cancelCallback,Mg=e.unstable_shouldYield,Pg=e.unstable_requestPaint,Ge=e.unstable_now,Eg=e.unstable_getCurrentPriorityLevel,Yo=e.unstable_ImmediatePriority,ou=e.unstable_UserBlockingPriority,Fa=e.unstable_NormalPriority,Dg=e.unstable_LowPriority,lu=e.unstable_IdlePriority,Ia=null,en=null;function Lg(r){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Ia,r,void 0,(r.current.flags&128)===128)}catch{}}var Ht=Math.clz32?Math.clz32:Ag,Tg=Math.log,Rg=Math.LN2;function Ag(r){return r>>>=0,r===0?32:31-(Tg(r)/Rg|0)|0}var Ba=64,$a=4194304;function ws(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Va(r,i){var d=r.pendingLanes;if(d===0)return 0;var f=0,g=r.suspendedLanes,y=r.pingedLanes,j=d&268435455;if(j!==0){var P=j&~g;P!==0?f=ws(P):(y&=j,y!==0&&(f=ws(y)))}else j=d&~g,j!==0?f=ws(j):y!==0&&(f=ws(y));if(f===0)return 0;if(i!==0&&i!==f&&(i&g)===0&&(g=f&-f,y=i&-i,g>=y||g===16&&(y&4194240)!==0))return i;if((f&4)!==0&&(f|=d&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=f;0<i;)d=31-Ht(i),g=1<<d,f|=r[d],i&=~g;return f}function zg(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Og(r,i){for(var d=r.suspendedLanes,f=r.pingedLanes,g=r.expirationTimes,y=r.pendingLanes;0<y;){var j=31-Ht(y),P=1<<j,T=g[j];T===-1?((P&d)===0||(P&f)!==0)&&(g[j]=zg(P,i)):T<=i&&(r.expiredLanes|=P),y&=~P}}function Go(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function cu(){var r=Ba;return Ba<<=1,(Ba&4194240)===0&&(Ba=64),r}function Ko(r){for(var i=[],d=0;31>d;d++)i.push(r);return i}function js(r,i,d){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-Ht(i),r[i]=d}function Fg(r,i){var d=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var f=r.eventTimes;for(r=r.expirationTimes;0<d;){var g=31-Ht(d),y=1<<g;i[g]=0,f[g]=-1,r[g]=-1,d&=~y}}function qo(r,i){var d=r.entangledLanes|=i;for(r=r.entanglements;d;){var f=31-Ht(d),g=1<<f;g&i|r[f]&i&&(r[f]|=i),d&=~g}}var Ee=0;function du(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var uu,Xo,hu,fu,pu,Qo=!1,Ha=[],Ln=null,Tn=null,Rn=null,_s=new Map,Ss=new Map,An=[],Ig="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mu(r,i){switch(r){case"focusin":case"focusout":Ln=null;break;case"dragenter":case"dragleave":Tn=null;break;case"mouseover":case"mouseout":Rn=null;break;case"pointerover":case"pointerout":_s.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ss.delete(i.pointerId)}}function Ns(r,i,d,f,g,y){return r===null||r.nativeEvent!==y?(r={blockedOn:i,domEventName:d,eventSystemFlags:f,nativeEvent:y,targetContainers:[g]},i!==null&&(i=Bs(i),i!==null&&Xo(i)),r):(r.eventSystemFlags|=f,i=r.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),r)}function Bg(r,i,d,f,g){switch(i){case"focusin":return Ln=Ns(Ln,r,i,d,f,g),!0;case"dragenter":return Tn=Ns(Tn,r,i,d,f,g),!0;case"mouseover":return Rn=Ns(Rn,r,i,d,f,g),!0;case"pointerover":var y=g.pointerId;return _s.set(y,Ns(_s.get(y)||null,r,i,d,f,g)),!0;case"gotpointercapture":return y=g.pointerId,Ss.set(y,Ns(Ss.get(y)||null,r,i,d,f,g)),!0}return!1}function gu(r){var i=sr(r.target);if(i!==null){var d=rr(i);if(d!==null){if(i=d.tag,i===13){if(i=tu(d),i!==null){r.blockedOn=i,pu(r.priority,function(){hu(d)});return}}else if(i===3&&d.stateNode.current.memoizedState.isDehydrated){r.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Wa(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var d=Zo(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(d===null){d=r.nativeEvent;var f=new d.constructor(d.type,d);Bo=f,d.target.dispatchEvent(f),Bo=null}else return i=Bs(d),i!==null&&Xo(i),r.blockedOn=d,!1;i.shift()}return!0}function xu(r,i,d){Wa(r)&&d.delete(i)}function $g(){Qo=!1,Ln!==null&&Wa(Ln)&&(Ln=null),Tn!==null&&Wa(Tn)&&(Tn=null),Rn!==null&&Wa(Rn)&&(Rn=null),_s.forEach(xu),Ss.forEach(xu)}function Cs(r,i){r.blockedOn===i&&(r.blockedOn=null,Qo||(Qo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,$g)))}function Ms(r){function i(g){return Cs(g,r)}if(0<Ha.length){Cs(Ha[0],r);for(var d=1;d<Ha.length;d++){var f=Ha[d];f.blockedOn===r&&(f.blockedOn=null)}}for(Ln!==null&&Cs(Ln,r),Tn!==null&&Cs(Tn,r),Rn!==null&&Cs(Rn,r),_s.forEach(i),Ss.forEach(i),d=0;d<An.length;d++)f=An[d],f.blockedOn===r&&(f.blockedOn=null);for(;0<An.length&&(d=An[0],d.blockedOn===null);)gu(d),d.blockedOn===null&&An.shift()}var Ar=L.ReactCurrentBatchConfig,Ua=!0;function Vg(r,i,d,f){var g=Ee,y=Ar.transition;Ar.transition=null;try{Ee=1,Jo(r,i,d,f)}finally{Ee=g,Ar.transition=y}}function Hg(r,i,d,f){var g=Ee,y=Ar.transition;Ar.transition=null;try{Ee=4,Jo(r,i,d,f)}finally{Ee=g,Ar.transition=y}}function Jo(r,i,d,f){if(Ua){var g=Zo(r,i,d,f);if(g===null)gl(r,i,f,Ya,d),mu(r,f);else if(Bg(g,r,i,d,f))f.stopPropagation();else if(mu(r,f),i&4&&-1<Ig.indexOf(r)){for(;g!==null;){var y=Bs(g);if(y!==null&&uu(y),y=Zo(r,i,d,f),y===null&&gl(r,i,f,Ya,d),y===g)break;g=y}g!==null&&f.stopPropagation()}else gl(r,i,f,null,d)}}var Ya=null;function Zo(r,i,d,f){if(Ya=null,r=$o(f),r=sr(r),r!==null)if(i=rr(r),i===null)r=null;else if(d=i.tag,d===13){if(r=tu(i),r!==null)return r;r=null}else if(d===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return Ya=r,null}function yu(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Eg()){case Yo:return 1;case ou:return 4;case Fa:case Dg:return 16;case lu:return 536870912;default:return 16}default:return 16}}var zn=null,el=null,Ga=null;function bu(){if(Ga)return Ga;var r,i=el,d=i.length,f,g="value"in zn?zn.value:zn.textContent,y=g.length;for(r=0;r<d&&i[r]===g[r];r++);var j=d-r;for(f=1;f<=j&&i[d-f]===g[y-f];f++);return Ga=g.slice(r,1<f?1-f:void 0)}function Ka(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function qa(){return!0}function vu(){return!1}function St(r){function i(d,f,g,y,j){this._reactName=d,this._targetInst=g,this.type=f,this.nativeEvent=y,this.target=j,this.currentTarget=null;for(var P in r)r.hasOwnProperty(P)&&(d=r[P],this[P]=d?d(y):y[P]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?qa:vu,this.isPropagationStopped=vu,this}return J(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=qa)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=qa)},persist:function(){},isPersistent:qa}),i}var zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tl=St(zr),Ps=J({},zr,{view:0,detail:0}),Wg=St(Ps),nl,rl,Es,Xa=J({},Ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:al,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Es&&(Es&&r.type==="mousemove"?(nl=r.screenX-Es.screenX,rl=r.screenY-Es.screenY):rl=nl=0,Es=r),nl)},movementY:function(r){return"movementY"in r?r.movementY:rl}}),ku=St(Xa),Ug=J({},Xa,{dataTransfer:0}),Yg=St(Ug),Gg=J({},Ps,{relatedTarget:0}),sl=St(Gg),Kg=J({},zr,{animationName:0,elapsedTime:0,pseudoElement:0}),qg=St(Kg),Xg=J({},zr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Qg=St(Xg),Jg=J({},zr,{data:0}),wu=St(Jg),Zg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ex={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nx(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=tx[r])?!!i[r]:!1}function al(){return nx}var rx=J({},Ps,{key:function(r){if(r.key){var i=Zg[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Ka(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?ex[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:al,charCode:function(r){return r.type==="keypress"?Ka(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ka(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),sx=St(rx),ax=J({},Xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ju=St(ax),ix=J({},Ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:al}),ox=St(ix),lx=J({},zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),cx=St(lx),dx=J({},Xa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ux=St(dx),hx=[9,13,27,32],il=u&&"CompositionEvent"in window,Ds=null;u&&"documentMode"in document&&(Ds=document.documentMode);var fx=u&&"TextEvent"in window&&!Ds,_u=u&&(!il||Ds&&8<Ds&&11>=Ds),Su=" ",Nu=!1;function Cu(r,i){switch(r){case"keyup":return hx.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mu(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Or=!1;function px(r,i){switch(r){case"compositionend":return Mu(i);case"keypress":return i.which!==32?null:(Nu=!0,Su);case"textInput":return r=i.data,r===Su&&Nu?null:r;default:return null}}function mx(r,i){if(Or)return r==="compositionend"||!il&&Cu(r,i)?(r=bu(),Ga=el=zn=null,Or=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _u&&i.locale!=="ko"?null:i.data;default:return null}}var gx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pu(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!gx[r.type]:i==="textarea"}function Eu(r,i,d,f){Xd(f),i=ti(i,"onChange"),0<i.length&&(d=new tl("onChange","change",null,d,f),r.push({event:d,listeners:i}))}var Ls=null,Ts=null;function xx(r){Ku(r,0)}function Qa(r){var i=Vr(r);if(Re(i))return r}function yx(r,i){if(r==="change")return i}var Du=!1;if(u){var ol;if(u){var ll="oninput"in document;if(!ll){var Lu=document.createElement("div");Lu.setAttribute("oninput","return;"),ll=typeof Lu.oninput=="function"}ol=ll}else ol=!1;Du=ol&&(!document.documentMode||9<document.documentMode)}function Tu(){Ls&&(Ls.detachEvent("onpropertychange",Ru),Ts=Ls=null)}function Ru(r){if(r.propertyName==="value"&&Qa(Ts)){var i=[];Eu(i,Ts,r,$o(r)),eu(xx,i)}}function bx(r,i,d){r==="focusin"?(Tu(),Ls=i,Ts=d,Ls.attachEvent("onpropertychange",Ru)):r==="focusout"&&Tu()}function vx(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Qa(Ts)}function kx(r,i){if(r==="click")return Qa(i)}function wx(r,i){if(r==="input"||r==="change")return Qa(i)}function jx(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Wt=typeof Object.is=="function"?Object.is:jx;function Rs(r,i){if(Wt(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var d=Object.keys(r),f=Object.keys(i);if(d.length!==f.length)return!1;for(f=0;f<d.length;f++){var g=d[f];if(!h.call(i,g)||!Wt(r[g],i[g]))return!1}return!0}function Au(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function zu(r,i){var d=Au(r);r=0;for(var f;d;){if(d.nodeType===3){if(f=r+d.textContent.length,r<=i&&f>=i)return{node:d,offset:i-r};r=f}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Au(d)}}function Ou(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Ou(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Fu(){for(var r=window,i=Be();i instanceof r.HTMLIFrameElement;){try{var d=typeof i.contentWindow.location.href=="string"}catch{d=!1}if(d)r=i.contentWindow;else break;i=Be(r.document)}return i}function cl(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function _x(r){var i=Fu(),d=r.focusedElem,f=r.selectionRange;if(i!==d&&d&&d.ownerDocument&&Ou(d.ownerDocument.documentElement,d)){if(f!==null&&cl(d)){if(i=f.start,r=f.end,r===void 0&&(r=i),"selectionStart"in d)d.selectionStart=i,d.selectionEnd=Math.min(r,d.value.length);else if(r=(i=d.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var g=d.textContent.length,y=Math.min(f.start,g);f=f.end===void 0?y:Math.min(f.end,g),!r.extend&&y>f&&(g=f,f=y,y=g),g=zu(d,y);var j=zu(d,f);g&&j&&(r.rangeCount!==1||r.anchorNode!==g.node||r.anchorOffset!==g.offset||r.focusNode!==j.node||r.focusOffset!==j.offset)&&(i=i.createRange(),i.setStart(g.node,g.offset),r.removeAllRanges(),y>f?(r.addRange(i),r.extend(j.node,j.offset)):(i.setEnd(j.node,j.offset),r.addRange(i)))}}for(i=[],r=d;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<i.length;d++)r=i[d],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Sx=u&&"documentMode"in document&&11>=document.documentMode,Fr=null,dl=null,As=null,ul=!1;function Iu(r,i,d){var f=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;ul||Fr==null||Fr!==Be(f)||(f=Fr,"selectionStart"in f&&cl(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),As&&Rs(As,f)||(As=f,f=ti(dl,"onSelect"),0<f.length&&(i=new tl("onSelect","select",null,i,d),r.push({event:i,listeners:f}),i.target=Fr)))}function Ja(r,i){var d={};return d[r.toLowerCase()]=i.toLowerCase(),d["Webkit"+r]="webkit"+i,d["Moz"+r]="moz"+i,d}var Ir={animationend:Ja("Animation","AnimationEnd"),animationiteration:Ja("Animation","AnimationIteration"),animationstart:Ja("Animation","AnimationStart"),transitionend:Ja("Transition","TransitionEnd")},hl={},Bu={};u&&(Bu=document.createElement("div").style,"AnimationEvent"in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),"TransitionEvent"in window||delete Ir.transitionend.transition);function Za(r){if(hl[r])return hl[r];if(!Ir[r])return r;var i=Ir[r],d;for(d in i)if(i.hasOwnProperty(d)&&d in Bu)return hl[r]=i[d];return r}var $u=Za("animationend"),Vu=Za("animationiteration"),Hu=Za("animationstart"),Wu=Za("transitionend"),Uu=new Map,Yu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function On(r,i){Uu.set(r,i),o(i,[r])}for(var fl=0;fl<Yu.length;fl++){var pl=Yu[fl],Nx=pl.toLowerCase(),Cx=pl[0].toUpperCase()+pl.slice(1);On(Nx,"on"+Cx)}On($u,"onAnimationEnd"),On(Vu,"onAnimationIteration"),On(Hu,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(Wu,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mx=new Set("cancel close invalid load scroll toggle".split(" ").concat(zs));function Gu(r,i,d){var f=r.type||"unknown-event";r.currentTarget=d,Ng(f,i,void 0,r),r.currentTarget=null}function Ku(r,i){i=(i&4)!==0;for(var d=0;d<r.length;d++){var f=r[d],g=f.event;f=f.listeners;e:{var y=void 0;if(i)for(var j=f.length-1;0<=j;j--){var P=f[j],T=P.instance,U=P.currentTarget;if(P=P.listener,T!==y&&g.isPropagationStopped())break e;Gu(g,P,U),y=T}else for(j=0;j<f.length;j++){if(P=f[j],T=P.instance,U=P.currentTarget,P=P.listener,T!==y&&g.isPropagationStopped())break e;Gu(g,P,U),y=T}}}if(Oa)throw r=Uo,Oa=!1,Uo=null,r}function Ae(r,i){var d=i[wl];d===void 0&&(d=i[wl]=new Set);var f=r+"__bubble";d.has(f)||(qu(i,r,2,!1),d.add(f))}function ml(r,i,d){var f=0;i&&(f|=4),qu(d,r,f,i)}var ei="_reactListening"+Math.random().toString(36).slice(2);function Os(r){if(!r[ei]){r[ei]=!0,s.forEach(function(d){d!=="selectionchange"&&(Mx.has(d)||ml(d,!1,r),ml(d,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[ei]||(i[ei]=!0,ml("selectionchange",!1,i))}}function qu(r,i,d,f){switch(yu(i)){case 1:var g=Vg;break;case 4:g=Hg;break;default:g=Jo}d=g.bind(null,i,d,r),g=void 0,!Wo||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),f?g!==void 0?r.addEventListener(i,d,{capture:!0,passive:g}):r.addEventListener(i,d,!0):g!==void 0?r.addEventListener(i,d,{passive:g}):r.addEventListener(i,d,!1)}function gl(r,i,d,f,g){var y=f;if((i&1)===0&&(i&2)===0&&f!==null)e:for(;;){if(f===null)return;var j=f.tag;if(j===3||j===4){var P=f.stateNode.containerInfo;if(P===g||P.nodeType===8&&P.parentNode===g)break;if(j===4)for(j=f.return;j!==null;){var T=j.tag;if((T===3||T===4)&&(T=j.stateNode.containerInfo,T===g||T.nodeType===8&&T.parentNode===g))return;j=j.return}for(;P!==null;){if(j=sr(P),j===null)return;if(T=j.tag,T===5||T===6){f=y=j;continue e}P=P.parentNode}}f=f.return}eu(function(){var U=y,te=$o(d),re=[];e:{var ee=Uu.get(r);if(ee!==void 0){var de=tl,fe=r;switch(r){case"keypress":if(Ka(d)===0)break e;case"keydown":case"keyup":de=sx;break;case"focusin":fe="focus",de=sl;break;case"focusout":fe="blur",de=sl;break;case"beforeblur":case"afterblur":de=sl;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=ku;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=Yg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=ox;break;case $u:case Vu:case Hu:de=qg;break;case Wu:de=cx;break;case"scroll":de=Wg;break;case"wheel":de=ux;break;case"copy":case"cut":case"paste":de=Qg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=ju}var pe=(i&4)!==0,Ke=!pe&&r==="scroll",B=pe?ee!==null?ee+"Capture":null:ee;pe=[];for(var A=U,V;A!==null;){V=A;var se=V.stateNode;if(V.tag===5&&se!==null&&(V=se,B!==null&&(se=bs(A,B),se!=null&&pe.push(Fs(A,se,V)))),Ke)break;A=A.return}0<pe.length&&(ee=new de(ee,fe,null,d,te),re.push({event:ee,listeners:pe}))}}if((i&7)===0){e:{if(ee=r==="mouseover"||r==="pointerover",de=r==="mouseout"||r==="pointerout",ee&&d!==Bo&&(fe=d.relatedTarget||d.fromElement)&&(sr(fe)||fe[fn]))break e;if((de||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,de?(fe=d.relatedTarget||d.toElement,de=U,fe=fe?sr(fe):null,fe!==null&&(Ke=rr(fe),fe!==Ke||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(de=null,fe=U),de!==fe)){if(pe=ku,se="onMouseLeave",B="onMouseEnter",A="mouse",(r==="pointerout"||r==="pointerover")&&(pe=ju,se="onPointerLeave",B="onPointerEnter",A="pointer"),Ke=de==null?ee:Vr(de),V=fe==null?ee:Vr(fe),ee=new pe(se,A+"leave",de,d,te),ee.target=Ke,ee.relatedTarget=V,se=null,sr(te)===U&&(pe=new pe(B,A+"enter",fe,d,te),pe.target=V,pe.relatedTarget=Ke,se=pe),Ke=se,de&&fe)t:{for(pe=de,B=fe,A=0,V=pe;V;V=Br(V))A++;for(V=0,se=B;se;se=Br(se))V++;for(;0<A-V;)pe=Br(pe),A--;for(;0<V-A;)B=Br(B),V--;for(;A--;){if(pe===B||B!==null&&pe===B.alternate)break t;pe=Br(pe),B=Br(B)}pe=null}else pe=null;de!==null&&Xu(re,ee,de,pe,!1),fe!==null&&Ke!==null&&Xu(re,Ke,fe,pe,!0)}}e:{if(ee=U?Vr(U):window,de=ee.nodeName&&ee.nodeName.toLowerCase(),de==="select"||de==="input"&&ee.type==="file")var me=yx;else if(Pu(ee))if(Du)me=wx;else{me=vx;var ye=bx}else(de=ee.nodeName)&&de.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(me=kx);if(me&&(me=me(r,U))){Eu(re,me,d,te);break e}ye&&ye(r,ee,U),r==="focusout"&&(ye=ee._wrapperState)&&ye.controlled&&ee.type==="number"&&Dr(ee,"number",ee.value)}switch(ye=U?Vr(U):window,r){case"focusin":(Pu(ye)||ye.contentEditable==="true")&&(Fr=ye,dl=U,As=null);break;case"focusout":As=dl=Fr=null;break;case"mousedown":ul=!0;break;case"contextmenu":case"mouseup":case"dragend":ul=!1,Iu(re,d,te);break;case"selectionchange":if(Sx)break;case"keydown":case"keyup":Iu(re,d,te)}var be;if(il)e:{switch(r){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Or?Cu(r,d)&&(ve="onCompositionEnd"):r==="keydown"&&d.keyCode===229&&(ve="onCompositionStart");ve&&(_u&&d.locale!=="ko"&&(Or||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Or&&(be=bu()):(zn=te,el="value"in zn?zn.value:zn.textContent,Or=!0)),ye=ti(U,ve),0<ye.length&&(ve=new wu(ve,r,null,d,te),re.push({event:ve,listeners:ye}),be?ve.data=be:(be=Mu(d),be!==null&&(ve.data=be)))),(be=fx?px(r,d):mx(r,d))&&(U=ti(U,"onBeforeInput"),0<U.length&&(te=new wu("onBeforeInput","beforeinput",null,d,te),re.push({event:te,listeners:U}),te.data=be))}Ku(re,i)})}function Fs(r,i,d){return{instance:r,listener:i,currentTarget:d}}function ti(r,i){for(var d=i+"Capture",f=[];r!==null;){var g=r,y=g.stateNode;g.tag===5&&y!==null&&(g=y,y=bs(r,d),y!=null&&f.unshift(Fs(r,y,g)),y=bs(r,i),y!=null&&f.push(Fs(r,y,g))),r=r.return}return f}function Br(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Xu(r,i,d,f,g){for(var y=i._reactName,j=[];d!==null&&d!==f;){var P=d,T=P.alternate,U=P.stateNode;if(T!==null&&T===f)break;P.tag===5&&U!==null&&(P=U,g?(T=bs(d,y),T!=null&&j.unshift(Fs(d,T,P))):g||(T=bs(d,y),T!=null&&j.push(Fs(d,T,P)))),d=d.return}j.length!==0&&r.push({event:i,listeners:j})}var Px=/\r\n?/g,Ex=/\u0000|\uFFFD/g;function Qu(r){return(typeof r=="string"?r:""+r).replace(Px,`
`).replace(Ex,"")}function ni(r,i,d){if(i=Qu(i),Qu(r)!==i&&d)throw Error(t(425))}function ri(){}var xl=null,yl=null;function bl(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var vl=typeof setTimeout=="function"?setTimeout:void 0,Dx=typeof clearTimeout=="function"?clearTimeout:void 0,Ju=typeof Promise=="function"?Promise:void 0,Lx=typeof queueMicrotask=="function"?queueMicrotask:typeof Ju<"u"?function(r){return Ju.resolve(null).then(r).catch(Tx)}:vl;function Tx(r){setTimeout(function(){throw r})}function kl(r,i){var d=i,f=0;do{var g=d.nextSibling;if(r.removeChild(d),g&&g.nodeType===8)if(d=g.data,d==="/$"){if(f===0){r.removeChild(g),Ms(i);return}f--}else d!=="$"&&d!=="$?"&&d!=="$!"||f++;d=g}while(d);Ms(i)}function Fn(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function Zu(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var d=r.data;if(d==="$"||d==="$!"||d==="$?"){if(i===0)return r;i--}else d==="/$"&&i++}r=r.previousSibling}return null}var $r=Math.random().toString(36).slice(2),tn="__reactFiber$"+$r,Is="__reactProps$"+$r,fn="__reactContainer$"+$r,wl="__reactEvents$"+$r,Rx="__reactListeners$"+$r,Ax="__reactHandles$"+$r;function sr(r){var i=r[tn];if(i)return i;for(var d=r.parentNode;d;){if(i=d[fn]||d[tn]){if(d=i.alternate,i.child!==null||d!==null&&d.child!==null)for(r=Zu(r);r!==null;){if(d=r[tn])return d;r=Zu(r)}return i}r=d,d=r.parentNode}return null}function Bs(r){return r=r[tn]||r[fn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Vr(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function si(r){return r[Is]||null}var jl=[],Hr=-1;function In(r){return{current:r}}function ze(r){0>Hr||(r.current=jl[Hr],jl[Hr]=null,Hr--)}function Te(r,i){Hr++,jl[Hr]=r.current,r.current=i}var Bn={},lt=In(Bn),gt=In(!1),ar=Bn;function Wr(r,i){var d=r.type.contextTypes;if(!d)return Bn;var f=r.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===i)return f.__reactInternalMemoizedMaskedChildContext;var g={},y;for(y in d)g[y]=i[y];return f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=g),g}function xt(r){return r=r.childContextTypes,r!=null}function ai(){ze(gt),ze(lt)}function eh(r,i,d){if(lt.current!==Bn)throw Error(t(168));Te(lt,i),Te(gt,d)}function th(r,i,d){var f=r.stateNode;if(i=i.childContextTypes,typeof f.getChildContext!="function")return d;f=f.getChildContext();for(var g in f)if(!(g in i))throw Error(t(108,ne(r)||"Unknown",g));return J({},d,f)}function ii(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Bn,ar=lt.current,Te(lt,r),Te(gt,gt.current),!0}function nh(r,i,d){var f=r.stateNode;if(!f)throw Error(t(169));d?(r=th(r,i,ar),f.__reactInternalMemoizedMergedChildContext=r,ze(gt),ze(lt),Te(lt,r)):ze(gt),Te(gt,d)}var pn=null,oi=!1,_l=!1;function rh(r){pn===null?pn=[r]:pn.push(r)}function zx(r){oi=!0,rh(r)}function $n(){if(!_l&&pn!==null){_l=!0;var r=0,i=Ee;try{var d=pn;for(Ee=1;r<d.length;r++){var f=d[r];do f=f(!0);while(f!==null)}pn=null,oi=!1}catch(g){throw pn!==null&&(pn=pn.slice(r+1)),au(Yo,$n),g}finally{Ee=i,_l=!1}}return null}var Ur=[],Yr=0,li=null,ci=0,Tt=[],Rt=0,ir=null,mn=1,gn="";function or(r,i){Ur[Yr++]=ci,Ur[Yr++]=li,li=r,ci=i}function sh(r,i,d){Tt[Rt++]=mn,Tt[Rt++]=gn,Tt[Rt++]=ir,ir=r;var f=mn;r=gn;var g=32-Ht(f)-1;f&=~(1<<g),d+=1;var y=32-Ht(i)+g;if(30<y){var j=g-g%5;y=(f&(1<<j)-1).toString(32),f>>=j,g-=j,mn=1<<32-Ht(i)+g|d<<g|f,gn=y+r}else mn=1<<y|d<<g|f,gn=r}function Sl(r){r.return!==null&&(or(r,1),sh(r,1,0))}function Nl(r){for(;r===li;)li=Ur[--Yr],Ur[Yr]=null,ci=Ur[--Yr],Ur[Yr]=null;for(;r===ir;)ir=Tt[--Rt],Tt[Rt]=null,gn=Tt[--Rt],Tt[Rt]=null,mn=Tt[--Rt],Tt[Rt]=null}var Nt=null,Ct=null,Fe=!1,Ut=null;function ah(r,i){var d=Ft(5,null,null,0);d.elementType="DELETED",d.stateNode=i,d.return=r,i=r.deletions,i===null?(r.deletions=[d],r.flags|=16):i.push(d)}function ih(r,i){switch(r.tag){case 5:var d=r.type;return i=i.nodeType!==1||d.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,Nt=r,Ct=Fn(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,Nt=r,Ct=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(d=ir!==null?{id:mn,overflow:gn}:null,r.memoizedState={dehydrated:i,treeContext:d,retryLane:1073741824},d=Ft(18,null,null,0),d.stateNode=i,d.return=r,r.child=d,Nt=r,Ct=null,!0):!1;default:return!1}}function Cl(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Ml(r){if(Fe){var i=Ct;if(i){var d=i;if(!ih(r,i)){if(Cl(r))throw Error(t(418));i=Fn(d.nextSibling);var f=Nt;i&&ih(r,i)?ah(f,d):(r.flags=r.flags&-4097|2,Fe=!1,Nt=r)}}else{if(Cl(r))throw Error(t(418));r.flags=r.flags&-4097|2,Fe=!1,Nt=r}}}function oh(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Nt=r}function di(r){if(r!==Nt)return!1;if(!Fe)return oh(r),Fe=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!bl(r.type,r.memoizedProps)),i&&(i=Ct)){if(Cl(r))throw lh(),Error(t(418));for(;i;)ah(r,i),i=Fn(i.nextSibling)}if(oh(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var d=r.data;if(d==="/$"){if(i===0){Ct=Fn(r.nextSibling);break e}i--}else d!=="$"&&d!=="$!"&&d!=="$?"||i++}r=r.nextSibling}Ct=null}}else Ct=Nt?Fn(r.stateNode.nextSibling):null;return!0}function lh(){for(var r=Ct;r;)r=Fn(r.nextSibling)}function Gr(){Ct=Nt=null,Fe=!1}function Pl(r){Ut===null?Ut=[r]:Ut.push(r)}var Ox=L.ReactCurrentBatchConfig;function $s(r,i,d){if(r=d.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(t(309));var f=d.stateNode}if(!f)throw Error(t(147,r));var g=f,y=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===y?i.ref:(i=function(j){var P=g.refs;j===null?delete P[y]:P[y]=j},i._stringRef=y,i)}if(typeof r!="string")throw Error(t(284));if(!d._owner)throw Error(t(290,r))}return r}function ui(r,i){throw r=Object.prototype.toString.call(i),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function ch(r){var i=r._init;return i(r._payload)}function dh(r){function i(B,A){if(r){var V=B.deletions;V===null?(B.deletions=[A],B.flags|=16):V.push(A)}}function d(B,A){if(!r)return null;for(;A!==null;)i(B,A),A=A.sibling;return null}function f(B,A){for(B=new Map;A!==null;)A.key!==null?B.set(A.key,A):B.set(A.index,A),A=A.sibling;return B}function g(B,A){return B=qn(B,A),B.index=0,B.sibling=null,B}function y(B,A,V){return B.index=V,r?(V=B.alternate,V!==null?(V=V.index,V<A?(B.flags|=2,A):V):(B.flags|=2,A)):(B.flags|=1048576,A)}function j(B){return r&&B.alternate===null&&(B.flags|=2),B}function P(B,A,V,se){return A===null||A.tag!==6?(A=vc(V,B.mode,se),A.return=B,A):(A=g(A,V),A.return=B,A)}function T(B,A,V,se){var me=V.type;return me===O?te(B,A,V.props.children,se,V.key):A!==null&&(A.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===X&&ch(me)===A.type)?(se=g(A,V.props),se.ref=$s(B,A,V),se.return=B,se):(se=Ai(V.type,V.key,V.props,null,B.mode,se),se.ref=$s(B,A,V),se.return=B,se)}function U(B,A,V,se){return A===null||A.tag!==4||A.stateNode.containerInfo!==V.containerInfo||A.stateNode.implementation!==V.implementation?(A=kc(V,B.mode,se),A.return=B,A):(A=g(A,V.children||[]),A.return=B,A)}function te(B,A,V,se,me){return A===null||A.tag!==7?(A=mr(V,B.mode,se,me),A.return=B,A):(A=g(A,V),A.return=B,A)}function re(B,A,V){if(typeof A=="string"&&A!==""||typeof A=="number")return A=vc(""+A,B.mode,V),A.return=B,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case E:return V=Ai(A.type,A.key,A.props,null,B.mode,V),V.ref=$s(B,null,A),V.return=B,V;case Y:return A=kc(A,B.mode,V),A.return=B,A;case X:var se=A._init;return re(B,se(A._payload),V)}if(gs(A)||ae(A))return A=mr(A,B.mode,V,null),A.return=B,A;ui(B,A)}return null}function ee(B,A,V,se){var me=A!==null?A.key:null;if(typeof V=="string"&&V!==""||typeof V=="number")return me!==null?null:P(B,A,""+V,se);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case E:return V.key===me?T(B,A,V,se):null;case Y:return V.key===me?U(B,A,V,se):null;case X:return me=V._init,ee(B,A,me(V._payload),se)}if(gs(V)||ae(V))return me!==null?null:te(B,A,V,se,null);ui(B,V)}return null}function de(B,A,V,se,me){if(typeof se=="string"&&se!==""||typeof se=="number")return B=B.get(V)||null,P(A,B,""+se,me);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case E:return B=B.get(se.key===null?V:se.key)||null,T(A,B,se,me);case Y:return B=B.get(se.key===null?V:se.key)||null,U(A,B,se,me);case X:var ye=se._init;return de(B,A,V,ye(se._payload),me)}if(gs(se)||ae(se))return B=B.get(V)||null,te(A,B,se,me,null);ui(A,se)}return null}function fe(B,A,V,se){for(var me=null,ye=null,be=A,ve=A=0,rt=null;be!==null&&ve<V.length;ve++){be.index>ve?(rt=be,be=null):rt=be.sibling;var Me=ee(B,be,V[ve],se);if(Me===null){be===null&&(be=rt);break}r&&be&&Me.alternate===null&&i(B,be),A=y(Me,A,ve),ye===null?me=Me:ye.sibling=Me,ye=Me,be=rt}if(ve===V.length)return d(B,be),Fe&&or(B,ve),me;if(be===null){for(;ve<V.length;ve++)be=re(B,V[ve],se),be!==null&&(A=y(be,A,ve),ye===null?me=be:ye.sibling=be,ye=be);return Fe&&or(B,ve),me}for(be=f(B,be);ve<V.length;ve++)rt=de(be,B,ve,V[ve],se),rt!==null&&(r&&rt.alternate!==null&&be.delete(rt.key===null?ve:rt.key),A=y(rt,A,ve),ye===null?me=rt:ye.sibling=rt,ye=rt);return r&&be.forEach(function(Xn){return i(B,Xn)}),Fe&&or(B,ve),me}function pe(B,A,V,se){var me=ae(V);if(typeof me!="function")throw Error(t(150));if(V=me.call(V),V==null)throw Error(t(151));for(var ye=me=null,be=A,ve=A=0,rt=null,Me=V.next();be!==null&&!Me.done;ve++,Me=V.next()){be.index>ve?(rt=be,be=null):rt=be.sibling;var Xn=ee(B,be,Me.value,se);if(Xn===null){be===null&&(be=rt);break}r&&be&&Xn.alternate===null&&i(B,be),A=y(Xn,A,ve),ye===null?me=Xn:ye.sibling=Xn,ye=Xn,be=rt}if(Me.done)return d(B,be),Fe&&or(B,ve),me;if(be===null){for(;!Me.done;ve++,Me=V.next())Me=re(B,Me.value,se),Me!==null&&(A=y(Me,A,ve),ye===null?me=Me:ye.sibling=Me,ye=Me);return Fe&&or(B,ve),me}for(be=f(B,be);!Me.done;ve++,Me=V.next())Me=de(be,B,ve,Me.value,se),Me!==null&&(r&&Me.alternate!==null&&be.delete(Me.key===null?ve:Me.key),A=y(Me,A,ve),ye===null?me=Me:ye.sibling=Me,ye=Me);return r&&be.forEach(function(gy){return i(B,gy)}),Fe&&or(B,ve),me}function Ke(B,A,V,se){if(typeof V=="object"&&V!==null&&V.type===O&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case E:e:{for(var me=V.key,ye=A;ye!==null;){if(ye.key===me){if(me=V.type,me===O){if(ye.tag===7){d(B,ye.sibling),A=g(ye,V.props.children),A.return=B,B=A;break e}}else if(ye.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===X&&ch(me)===ye.type){d(B,ye.sibling),A=g(ye,V.props),A.ref=$s(B,ye,V),A.return=B,B=A;break e}d(B,ye);break}else i(B,ye);ye=ye.sibling}V.type===O?(A=mr(V.props.children,B.mode,se,V.key),A.return=B,B=A):(se=Ai(V.type,V.key,V.props,null,B.mode,se),se.ref=$s(B,A,V),se.return=B,B=se)}return j(B);case Y:e:{for(ye=V.key;A!==null;){if(A.key===ye)if(A.tag===4&&A.stateNode.containerInfo===V.containerInfo&&A.stateNode.implementation===V.implementation){d(B,A.sibling),A=g(A,V.children||[]),A.return=B,B=A;break e}else{d(B,A);break}else i(B,A);A=A.sibling}A=kc(V,B.mode,se),A.return=B,B=A}return j(B);case X:return ye=V._init,Ke(B,A,ye(V._payload),se)}if(gs(V))return fe(B,A,V,se);if(ae(V))return pe(B,A,V,se);ui(B,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,A!==null&&A.tag===6?(d(B,A.sibling),A=g(A,V),A.return=B,B=A):(d(B,A),A=vc(V,B.mode,se),A.return=B,B=A),j(B)):d(B,A)}return Ke}var Kr=dh(!0),uh=dh(!1),hi=In(null),fi=null,qr=null,El=null;function Dl(){El=qr=fi=null}function Ll(r){var i=hi.current;ze(hi),r._currentValue=i}function Tl(r,i,d){for(;r!==null;){var f=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,f!==null&&(f.childLanes|=i)):f!==null&&(f.childLanes&i)!==i&&(f.childLanes|=i),r===d)break;r=r.return}}function Xr(r,i){fi=r,El=qr=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(yt=!0),r.firstContext=null)}function At(r){var i=r._currentValue;if(El!==r)if(r={context:r,memoizedValue:i,next:null},qr===null){if(fi===null)throw Error(t(308));qr=r,fi.dependencies={lanes:0,firstContext:r}}else qr=qr.next=r;return i}var lr=null;function Rl(r){lr===null?lr=[r]:lr.push(r)}function hh(r,i,d,f){var g=i.interleaved;return g===null?(d.next=d,Rl(i)):(d.next=g.next,g.next=d),i.interleaved=d,xn(r,f)}function xn(r,i){r.lanes|=i;var d=r.alternate;for(d!==null&&(d.lanes|=i),d=r,r=r.return;r!==null;)r.childLanes|=i,d=r.alternate,d!==null&&(d.childLanes|=i),d=r,r=r.return;return d.tag===3?d.stateNode:null}var Vn=!1;function Al(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fh(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function yn(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function Hn(r,i,d){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(Ne&2)!==0){var g=f.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),f.pending=i,xn(r,d)}return g=f.interleaved,g===null?(i.next=i,Rl(f)):(i.next=g.next,g.next=i),f.interleaved=i,xn(r,d)}function pi(r,i,d){if(i=i.updateQueue,i!==null&&(i=i.shared,(d&4194240)!==0)){var f=i.lanes;f&=r.pendingLanes,d|=f,i.lanes=d,qo(r,d)}}function ph(r,i){var d=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,d===f)){var g=null,y=null;if(d=d.firstBaseUpdate,d!==null){do{var j={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};y===null?g=y=j:y=y.next=j,d=d.next}while(d!==null);y===null?g=y=i:y=y.next=i}else g=y=i;d={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:f.shared,effects:f.effects},r.updateQueue=d;return}r=d.lastBaseUpdate,r===null?d.firstBaseUpdate=i:r.next=i,d.lastBaseUpdate=i}function mi(r,i,d,f){var g=r.updateQueue;Vn=!1;var y=g.firstBaseUpdate,j=g.lastBaseUpdate,P=g.shared.pending;if(P!==null){g.shared.pending=null;var T=P,U=T.next;T.next=null,j===null?y=U:j.next=U,j=T;var te=r.alternate;te!==null&&(te=te.updateQueue,P=te.lastBaseUpdate,P!==j&&(P===null?te.firstBaseUpdate=U:P.next=U,te.lastBaseUpdate=T))}if(y!==null){var re=g.baseState;j=0,te=U=T=null,P=y;do{var ee=P.lane,de=P.eventTime;if((f&ee)===ee){te!==null&&(te=te.next={eventTime:de,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var fe=r,pe=P;switch(ee=i,de=d,pe.tag){case 1:if(fe=pe.payload,typeof fe=="function"){re=fe.call(de,re,ee);break e}re=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=pe.payload,ee=typeof fe=="function"?fe.call(de,re,ee):fe,ee==null)break e;re=J({},re,ee);break e;case 2:Vn=!0}}P.callback!==null&&P.lane!==0&&(r.flags|=64,ee=g.effects,ee===null?g.effects=[P]:ee.push(P))}else de={eventTime:de,lane:ee,tag:P.tag,payload:P.payload,callback:P.callback,next:null},te===null?(U=te=de,T=re):te=te.next=de,j|=ee;if(P=P.next,P===null){if(P=g.shared.pending,P===null)break;ee=P,P=ee.next,ee.next=null,g.lastBaseUpdate=ee,g.shared.pending=null}}while(!0);if(te===null&&(T=re),g.baseState=T,g.firstBaseUpdate=U,g.lastBaseUpdate=te,i=g.shared.interleaved,i!==null){g=i;do j|=g.lane,g=g.next;while(g!==i)}else y===null&&(g.shared.lanes=0);ur|=j,r.lanes=j,r.memoizedState=re}}function mh(r,i,d){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var f=r[i],g=f.callback;if(g!==null){if(f.callback=null,f=d,typeof g!="function")throw Error(t(191,g));g.call(f)}}}var Vs={},nn=In(Vs),Hs=In(Vs),Ws=In(Vs);function cr(r){if(r===Vs)throw Error(t(174));return r}function zl(r,i){switch(Te(Ws,i),Te(Hs,r),Te(nn,Vs),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Oo(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=Oo(i,r)}ze(nn),Te(nn,i)}function Qr(){ze(nn),ze(Hs),ze(Ws)}function gh(r){cr(Ws.current);var i=cr(nn.current),d=Oo(i,r.type);i!==d&&(Te(Hs,r),Te(nn,d))}function Ol(r){Hs.current===r&&(ze(nn),ze(Hs))}var $e=In(0);function gi(r){for(var i=r;i!==null;){if(i.tag===13){var d=i.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Fl=[];function Il(){for(var r=0;r<Fl.length;r++)Fl[r]._workInProgressVersionPrimary=null;Fl.length=0}var xi=L.ReactCurrentDispatcher,Bl=L.ReactCurrentBatchConfig,dr=0,Ve=null,Je=null,tt=null,yi=!1,Us=!1,Ys=0,Fx=0;function ct(){throw Error(t(321))}function $l(r,i){if(i===null)return!1;for(var d=0;d<i.length&&d<r.length;d++)if(!Wt(r[d],i[d]))return!1;return!0}function Vl(r,i,d,f,g,y){if(dr=y,Ve=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,xi.current=r===null||r.memoizedState===null?Vx:Hx,r=d(f,g),Us){y=0;do{if(Us=!1,Ys=0,25<=y)throw Error(t(301));y+=1,tt=Je=null,i.updateQueue=null,xi.current=Wx,r=d(f,g)}while(Us)}if(xi.current=ki,i=Je!==null&&Je.next!==null,dr=0,tt=Je=Ve=null,yi=!1,i)throw Error(t(300));return r}function Hl(){var r=Ys!==0;return Ys=0,r}function rn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?Ve.memoizedState=tt=r:tt=tt.next=r,tt}function zt(){if(Je===null){var r=Ve.alternate;r=r!==null?r.memoizedState:null}else r=Je.next;var i=tt===null?Ve.memoizedState:tt.next;if(i!==null)tt=i,Je=r;else{if(r===null)throw Error(t(310));Je=r,r={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},tt===null?Ve.memoizedState=tt=r:tt=tt.next=r}return tt}function Gs(r,i){return typeof i=="function"?i(r):i}function Wl(r){var i=zt(),d=i.queue;if(d===null)throw Error(t(311));d.lastRenderedReducer=r;var f=Je,g=f.baseQueue,y=d.pending;if(y!==null){if(g!==null){var j=g.next;g.next=y.next,y.next=j}f.baseQueue=g=y,d.pending=null}if(g!==null){y=g.next,f=f.baseState;var P=j=null,T=null,U=y;do{var te=U.lane;if((dr&te)===te)T!==null&&(T=T.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),f=U.hasEagerState?U.eagerState:r(f,U.action);else{var re={lane:te,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};T===null?(P=T=re,j=f):T=T.next=re,Ve.lanes|=te,ur|=te}U=U.next}while(U!==null&&U!==y);T===null?j=f:T.next=P,Wt(f,i.memoizedState)||(yt=!0),i.memoizedState=f,i.baseState=j,i.baseQueue=T,d.lastRenderedState=f}if(r=d.interleaved,r!==null){g=r;do y=g.lane,Ve.lanes|=y,ur|=y,g=g.next;while(g!==r)}else g===null&&(d.lanes=0);return[i.memoizedState,d.dispatch]}function Ul(r){var i=zt(),d=i.queue;if(d===null)throw Error(t(311));d.lastRenderedReducer=r;var f=d.dispatch,g=d.pending,y=i.memoizedState;if(g!==null){d.pending=null;var j=g=g.next;do y=r(y,j.action),j=j.next;while(j!==g);Wt(y,i.memoizedState)||(yt=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),d.lastRenderedState=y}return[y,f]}function xh(){}function yh(r,i){var d=Ve,f=zt(),g=i(),y=!Wt(f.memoizedState,g);if(y&&(f.memoizedState=g,yt=!0),f=f.queue,Yl(kh.bind(null,d,f,r),[r]),f.getSnapshot!==i||y||tt!==null&&tt.memoizedState.tag&1){if(d.flags|=2048,Ks(9,vh.bind(null,d,f,g,i),void 0,null),nt===null)throw Error(t(349));(dr&30)!==0||bh(d,i,g)}return g}function bh(r,i,d){r.flags|=16384,r={getSnapshot:i,value:d},i=Ve.updateQueue,i===null?(i={lastEffect:null,stores:null},Ve.updateQueue=i,i.stores=[r]):(d=i.stores,d===null?i.stores=[r]:d.push(r))}function vh(r,i,d,f){i.value=d,i.getSnapshot=f,wh(i)&&jh(r)}function kh(r,i,d){return d(function(){wh(i)&&jh(r)})}function wh(r){var i=r.getSnapshot;r=r.value;try{var d=i();return!Wt(r,d)}catch{return!0}}function jh(r){var i=xn(r,1);i!==null&&qt(i,r,1,-1)}function _h(r){var i=rn();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gs,lastRenderedState:r},i.queue=r,r=r.dispatch=$x.bind(null,Ve,r),[i.memoizedState,r]}function Ks(r,i,d,f){return r={tag:r,create:i,destroy:d,deps:f,next:null},i=Ve.updateQueue,i===null?(i={lastEffect:null,stores:null},Ve.updateQueue=i,i.lastEffect=r.next=r):(d=i.lastEffect,d===null?i.lastEffect=r.next=r:(f=d.next,d.next=r,r.next=f,i.lastEffect=r)),r}function Sh(){return zt().memoizedState}function bi(r,i,d,f){var g=rn();Ve.flags|=r,g.memoizedState=Ks(1|i,d,void 0,f===void 0?null:f)}function vi(r,i,d,f){var g=zt();f=f===void 0?null:f;var y=void 0;if(Je!==null){var j=Je.memoizedState;if(y=j.destroy,f!==null&&$l(f,j.deps)){g.memoizedState=Ks(i,d,y,f);return}}Ve.flags|=r,g.memoizedState=Ks(1|i,d,y,f)}function Nh(r,i){return bi(8390656,8,r,i)}function Yl(r,i){return vi(2048,8,r,i)}function Ch(r,i){return vi(4,2,r,i)}function Mh(r,i){return vi(4,4,r,i)}function Ph(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Eh(r,i,d){return d=d!=null?d.concat([r]):null,vi(4,4,Ph.bind(null,i,r),d)}function Gl(){}function Dh(r,i){var d=zt();i=i===void 0?null:i;var f=d.memoizedState;return f!==null&&i!==null&&$l(i,f[1])?f[0]:(d.memoizedState=[r,i],r)}function Lh(r,i){var d=zt();i=i===void 0?null:i;var f=d.memoizedState;return f!==null&&i!==null&&$l(i,f[1])?f[0]:(r=r(),d.memoizedState=[r,i],r)}function Th(r,i,d){return(dr&21)===0?(r.baseState&&(r.baseState=!1,yt=!0),r.memoizedState=d):(Wt(d,i)||(d=cu(),Ve.lanes|=d,ur|=d,r.baseState=!0),i)}function Ix(r,i){var d=Ee;Ee=d!==0&&4>d?d:4,r(!0);var f=Bl.transition;Bl.transition={};try{r(!1),i()}finally{Ee=d,Bl.transition=f}}function Rh(){return zt().memoizedState}function Bx(r,i,d){var f=Gn(r);if(d={lane:f,action:d,hasEagerState:!1,eagerState:null,next:null},Ah(r))zh(i,d);else if(d=hh(r,i,d,f),d!==null){var g=mt();qt(d,r,f,g),Oh(d,i,f)}}function $x(r,i,d){var f=Gn(r),g={lane:f,action:d,hasEagerState:!1,eagerState:null,next:null};if(Ah(r))zh(i,g);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var j=i.lastRenderedState,P=y(j,d);if(g.hasEagerState=!0,g.eagerState=P,Wt(P,j)){var T=i.interleaved;T===null?(g.next=g,Rl(i)):(g.next=T.next,T.next=g),i.interleaved=g;return}}catch{}finally{}d=hh(r,i,g,f),d!==null&&(g=mt(),qt(d,r,f,g),Oh(d,i,f))}}function Ah(r){var i=r.alternate;return r===Ve||i!==null&&i===Ve}function zh(r,i){Us=yi=!0;var d=r.pending;d===null?i.next=i:(i.next=d.next,d.next=i),r.pending=i}function Oh(r,i,d){if((d&4194240)!==0){var f=i.lanes;f&=r.pendingLanes,d|=f,i.lanes=d,qo(r,d)}}var ki={readContext:At,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useInsertionEffect:ct,useLayoutEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useMutableSource:ct,useSyncExternalStore:ct,useId:ct,unstable_isNewReconciler:!1},Vx={readContext:At,useCallback:function(r,i){return rn().memoizedState=[r,i===void 0?null:i],r},useContext:At,useEffect:Nh,useImperativeHandle:function(r,i,d){return d=d!=null?d.concat([r]):null,bi(4194308,4,Ph.bind(null,i,r),d)},useLayoutEffect:function(r,i){return bi(4194308,4,r,i)},useInsertionEffect:function(r,i){return bi(4,2,r,i)},useMemo:function(r,i){var d=rn();return i=i===void 0?null:i,r=r(),d.memoizedState=[r,i],r},useReducer:function(r,i,d){var f=rn();return i=d!==void 0?d(i):i,f.memoizedState=f.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},f.queue=r,r=r.dispatch=Bx.bind(null,Ve,r),[f.memoizedState,r]},useRef:function(r){var i=rn();return r={current:r},i.memoizedState=r},useState:_h,useDebugValue:Gl,useDeferredValue:function(r){return rn().memoizedState=r},useTransition:function(){var r=_h(!1),i=r[0];return r=Ix.bind(null,r[1]),rn().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,d){var f=Ve,g=rn();if(Fe){if(d===void 0)throw Error(t(407));d=d()}else{if(d=i(),nt===null)throw Error(t(349));(dr&30)!==0||bh(f,i,d)}g.memoizedState=d;var y={value:d,getSnapshot:i};return g.queue=y,Nh(kh.bind(null,f,y,r),[r]),f.flags|=2048,Ks(9,vh.bind(null,f,y,d,i),void 0,null),d},useId:function(){var r=rn(),i=nt.identifierPrefix;if(Fe){var d=gn,f=mn;d=(f&~(1<<32-Ht(f)-1)).toString(32)+d,i=":"+i+"R"+d,d=Ys++,0<d&&(i+="H"+d.toString(32)),i+=":"}else d=Fx++,i=":"+i+"r"+d.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},Hx={readContext:At,useCallback:Dh,useContext:At,useEffect:Yl,useImperativeHandle:Eh,useInsertionEffect:Ch,useLayoutEffect:Mh,useMemo:Lh,useReducer:Wl,useRef:Sh,useState:function(){return Wl(Gs)},useDebugValue:Gl,useDeferredValue:function(r){var i=zt();return Th(i,Je.memoizedState,r)},useTransition:function(){var r=Wl(Gs)[0],i=zt().memoizedState;return[r,i]},useMutableSource:xh,useSyncExternalStore:yh,useId:Rh,unstable_isNewReconciler:!1},Wx={readContext:At,useCallback:Dh,useContext:At,useEffect:Yl,useImperativeHandle:Eh,useInsertionEffect:Ch,useLayoutEffect:Mh,useMemo:Lh,useReducer:Ul,useRef:Sh,useState:function(){return Ul(Gs)},useDebugValue:Gl,useDeferredValue:function(r){var i=zt();return Je===null?i.memoizedState=r:Th(i,Je.memoizedState,r)},useTransition:function(){var r=Ul(Gs)[0],i=zt().memoizedState;return[r,i]},useMutableSource:xh,useSyncExternalStore:yh,useId:Rh,unstable_isNewReconciler:!1};function Yt(r,i){if(r&&r.defaultProps){i=J({},i),r=r.defaultProps;for(var d in r)i[d]===void 0&&(i[d]=r[d]);return i}return i}function Kl(r,i,d,f){i=r.memoizedState,d=d(f,i),d=d==null?i:J({},i,d),r.memoizedState=d,r.lanes===0&&(r.updateQueue.baseState=d)}var wi={isMounted:function(r){return(r=r._reactInternals)?rr(r)===r:!1},enqueueSetState:function(r,i,d){r=r._reactInternals;var f=mt(),g=Gn(r),y=yn(f,g);y.payload=i,d!=null&&(y.callback=d),i=Hn(r,y,g),i!==null&&(qt(i,r,g,f),pi(i,r,g))},enqueueReplaceState:function(r,i,d){r=r._reactInternals;var f=mt(),g=Gn(r),y=yn(f,g);y.tag=1,y.payload=i,d!=null&&(y.callback=d),i=Hn(r,y,g),i!==null&&(qt(i,r,g,f),pi(i,r,g))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var d=mt(),f=Gn(r),g=yn(d,f);g.tag=2,i!=null&&(g.callback=i),i=Hn(r,g,f),i!==null&&(qt(i,r,f,d),pi(i,r,f))}};function Fh(r,i,d,f,g,y,j){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,y,j):i.prototype&&i.prototype.isPureReactComponent?!Rs(d,f)||!Rs(g,y):!0}function Ih(r,i,d){var f=!1,g=Bn,y=i.contextType;return typeof y=="object"&&y!==null?y=At(y):(g=xt(i)?ar:lt.current,f=i.contextTypes,y=(f=f!=null)?Wr(r,g):Bn),i=new i(d,y),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=wi,r.stateNode=i,i._reactInternals=r,f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=g,r.__reactInternalMemoizedMaskedChildContext=y),i}function Bh(r,i,d,f){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(d,f),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(d,f),i.state!==r&&wi.enqueueReplaceState(i,i.state,null)}function ql(r,i,d,f){var g=r.stateNode;g.props=d,g.state=r.memoizedState,g.refs={},Al(r);var y=i.contextType;typeof y=="object"&&y!==null?g.context=At(y):(y=xt(i)?ar:lt.current,g.context=Wr(r,y)),g.state=r.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(Kl(r,i,y,d),g.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(i=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),i!==g.state&&wi.enqueueReplaceState(g,g.state,null),mi(r,d,g,f),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308)}function Jr(r,i){try{var d="",f=i;do d+=ie(f),f=f.return;while(f);var g=d}catch(y){g=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:i,stack:g,digest:null}}function Xl(r,i,d){return{value:r,source:null,stack:d??null,digest:i??null}}function Ql(r,i){try{console.error(i.value)}catch(d){setTimeout(function(){throw d})}}var Ux=typeof WeakMap=="function"?WeakMap:Map;function $h(r,i,d){d=yn(-1,d),d.tag=3,d.payload={element:null};var f=i.value;return d.callback=function(){Pi||(Pi=!0,hc=f),Ql(r,i)},d}function Vh(r,i,d){d=yn(-1,d),d.tag=3;var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var g=i.value;d.payload=function(){return f(g)},d.callback=function(){Ql(r,i)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(d.callback=function(){Ql(r,i),typeof f!="function"&&(Un===null?Un=new Set([this]):Un.add(this));var j=i.stack;this.componentDidCatch(i.value,{componentStack:j!==null?j:""})}),d}function Hh(r,i,d){var f=r.pingCache;if(f===null){f=r.pingCache=new Ux;var g=new Set;f.set(i,g)}else g=f.get(i),g===void 0&&(g=new Set,f.set(i,g));g.has(d)||(g.add(d),r=ay.bind(null,r,i,d),i.then(r,r))}function Wh(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function Uh(r,i,d,f,g){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(i=yn(-1,1),i.tag=2,Hn(d,i,1))),d.lanes|=1),r):(r.flags|=65536,r.lanes=g,r)}var Yx=L.ReactCurrentOwner,yt=!1;function pt(r,i,d,f){i.child=r===null?uh(i,null,d,f):Kr(i,r.child,d,f)}function Yh(r,i,d,f,g){d=d.render;var y=i.ref;return Xr(i,g),f=Vl(r,i,d,f,y,g),d=Hl(),r!==null&&!yt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~g,bn(r,i,g)):(Fe&&d&&Sl(i),i.flags|=1,pt(r,i,f,g),i.child)}function Gh(r,i,d,f,g){if(r===null){var y=d.type;return typeof y=="function"&&!bc(y)&&y.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(i.tag=15,i.type=y,Kh(r,i,y,f,g)):(r=Ai(d.type,null,f,i,i.mode,g),r.ref=i.ref,r.return=i,i.child=r)}if(y=r.child,(r.lanes&g)===0){var j=y.memoizedProps;if(d=d.compare,d=d!==null?d:Rs,d(j,f)&&r.ref===i.ref)return bn(r,i,g)}return i.flags|=1,r=qn(y,f),r.ref=i.ref,r.return=i,i.child=r}function Kh(r,i,d,f,g){if(r!==null){var y=r.memoizedProps;if(Rs(y,f)&&r.ref===i.ref)if(yt=!1,i.pendingProps=f=y,(r.lanes&g)!==0)(r.flags&131072)!==0&&(yt=!0);else return i.lanes=r.lanes,bn(r,i,g)}return Jl(r,i,d,f,g)}function qh(r,i,d){var f=i.pendingProps,g=f.children,y=r!==null?r.memoizedState:null;if(f.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(es,Mt),Mt|=d;else{if((d&1073741824)===0)return r=y!==null?y.baseLanes|d:d,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,Te(es,Mt),Mt|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=y!==null?y.baseLanes:d,Te(es,Mt),Mt|=f}else y!==null?(f=y.baseLanes|d,i.memoizedState=null):f=d,Te(es,Mt),Mt|=f;return pt(r,i,g,d),i.child}function Xh(r,i){var d=i.ref;(r===null&&d!==null||r!==null&&r.ref!==d)&&(i.flags|=512,i.flags|=2097152)}function Jl(r,i,d,f,g){var y=xt(d)?ar:lt.current;return y=Wr(i,y),Xr(i,g),d=Vl(r,i,d,f,y,g),f=Hl(),r!==null&&!yt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~g,bn(r,i,g)):(Fe&&f&&Sl(i),i.flags|=1,pt(r,i,d,g),i.child)}function Qh(r,i,d,f,g){if(xt(d)){var y=!0;ii(i)}else y=!1;if(Xr(i,g),i.stateNode===null)_i(r,i),Ih(i,d,f),ql(i,d,f,g),f=!0;else if(r===null){var j=i.stateNode,P=i.memoizedProps;j.props=P;var T=j.context,U=d.contextType;typeof U=="object"&&U!==null?U=At(U):(U=xt(d)?ar:lt.current,U=Wr(i,U));var te=d.getDerivedStateFromProps,re=typeof te=="function"||typeof j.getSnapshotBeforeUpdate=="function";re||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(P!==f||T!==U)&&Bh(i,j,f,U),Vn=!1;var ee=i.memoizedState;j.state=ee,mi(i,f,j,g),T=i.memoizedState,P!==f||ee!==T||gt.current||Vn?(typeof te=="function"&&(Kl(i,d,te,f),T=i.memoizedState),(P=Vn||Fh(i,d,P,f,ee,T,U))?(re||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(i.flags|=4194308)):(typeof j.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=f,i.memoizedState=T),j.props=f,j.state=T,j.context=U,f=P):(typeof j.componentDidMount=="function"&&(i.flags|=4194308),f=!1)}else{j=i.stateNode,fh(r,i),P=i.memoizedProps,U=i.type===i.elementType?P:Yt(i.type,P),j.props=U,re=i.pendingProps,ee=j.context,T=d.contextType,typeof T=="object"&&T!==null?T=At(T):(T=xt(d)?ar:lt.current,T=Wr(i,T));var de=d.getDerivedStateFromProps;(te=typeof de=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(P!==re||ee!==T)&&Bh(i,j,f,T),Vn=!1,ee=i.memoizedState,j.state=ee,mi(i,f,j,g);var fe=i.memoizedState;P!==re||ee!==fe||gt.current||Vn?(typeof de=="function"&&(Kl(i,d,de,f),fe=i.memoizedState),(U=Vn||Fh(i,d,U,f,ee,fe,T)||!1)?(te||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(f,fe,T),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(f,fe,T)),typeof j.componentDidUpdate=="function"&&(i.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof j.componentDidUpdate!="function"||P===r.memoizedProps&&ee===r.memoizedState||(i.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&ee===r.memoizedState||(i.flags|=1024),i.memoizedProps=f,i.memoizedState=fe),j.props=f,j.state=fe,j.context=T,f=U):(typeof j.componentDidUpdate!="function"||P===r.memoizedProps&&ee===r.memoizedState||(i.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&ee===r.memoizedState||(i.flags|=1024),f=!1)}return Zl(r,i,d,f,y,g)}function Zl(r,i,d,f,g,y){Xh(r,i);var j=(i.flags&128)!==0;if(!f&&!j)return g&&nh(i,d,!1),bn(r,i,y);f=i.stateNode,Yx.current=i;var P=j&&typeof d.getDerivedStateFromError!="function"?null:f.render();return i.flags|=1,r!==null&&j?(i.child=Kr(i,r.child,null,y),i.child=Kr(i,null,P,y)):pt(r,i,P,y),i.memoizedState=f.state,g&&nh(i,d,!0),i.child}function Jh(r){var i=r.stateNode;i.pendingContext?eh(r,i.pendingContext,i.pendingContext!==i.context):i.context&&eh(r,i.context,!1),zl(r,i.containerInfo)}function Zh(r,i,d,f,g){return Gr(),Pl(g),i.flags|=256,pt(r,i,d,f),i.child}var ec={dehydrated:null,treeContext:null,retryLane:0};function tc(r){return{baseLanes:r,cachePool:null,transitions:null}}function ef(r,i,d){var f=i.pendingProps,g=$e.current,y=!1,j=(i.flags&128)!==0,P;if((P=j)||(P=r!==null&&r.memoizedState===null?!1:(g&2)!==0),P?(y=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(g|=1),Te($e,g&1),r===null)return Ml(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(j=f.children,r=f.fallback,y?(f=i.mode,y=i.child,j={mode:"hidden",children:j},(f&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=j):y=zi(j,f,0,null),r=mr(r,f,d,null),y.return=i,r.return=i,y.sibling=r,i.child=y,i.child.memoizedState=tc(d),i.memoizedState=ec,r):nc(i,j));if(g=r.memoizedState,g!==null&&(P=g.dehydrated,P!==null))return Gx(r,i,j,f,P,g,d);if(y){y=f.fallback,j=i.mode,g=r.child,P=g.sibling;var T={mode:"hidden",children:f.children};return(j&1)===0&&i.child!==g?(f=i.child,f.childLanes=0,f.pendingProps=T,i.deletions=null):(f=qn(g,T),f.subtreeFlags=g.subtreeFlags&14680064),P!==null?y=qn(P,y):(y=mr(y,j,d,null),y.flags|=2),y.return=i,f.return=i,f.sibling=y,i.child=f,f=y,y=i.child,j=r.child.memoizedState,j=j===null?tc(d):{baseLanes:j.baseLanes|d,cachePool:null,transitions:j.transitions},y.memoizedState=j,y.childLanes=r.childLanes&~d,i.memoizedState=ec,f}return y=r.child,r=y.sibling,f=qn(y,{mode:"visible",children:f.children}),(i.mode&1)===0&&(f.lanes=d),f.return=i,f.sibling=null,r!==null&&(d=i.deletions,d===null?(i.deletions=[r],i.flags|=16):d.push(r)),i.child=f,i.memoizedState=null,f}function nc(r,i){return i=zi({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function ji(r,i,d,f){return f!==null&&Pl(f),Kr(i,r.child,null,d),r=nc(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function Gx(r,i,d,f,g,y,j){if(d)return i.flags&256?(i.flags&=-257,f=Xl(Error(t(422))),ji(r,i,j,f)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(y=f.fallback,g=i.mode,f=zi({mode:"visible",children:f.children},g,0,null),y=mr(y,g,j,null),y.flags|=2,f.return=i,y.return=i,f.sibling=y,i.child=f,(i.mode&1)!==0&&Kr(i,r.child,null,j),i.child.memoizedState=tc(j),i.memoizedState=ec,y);if((i.mode&1)===0)return ji(r,i,j,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var P=f.dgst;return f=P,y=Error(t(419)),f=Xl(y,f,void 0),ji(r,i,j,f)}if(P=(j&r.childLanes)!==0,yt||P){if(f=nt,f!==null){switch(j&-j){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|j))!==0?0:g,g!==0&&g!==y.retryLane&&(y.retryLane=g,xn(r,g),qt(f,r,g,-1))}return yc(),f=Xl(Error(t(421))),ji(r,i,j,f)}return g.data==="$?"?(i.flags|=128,i.child=r.child,i=iy.bind(null,r),g._reactRetry=i,null):(r=y.treeContext,Ct=Fn(g.nextSibling),Nt=i,Fe=!0,Ut=null,r!==null&&(Tt[Rt++]=mn,Tt[Rt++]=gn,Tt[Rt++]=ir,mn=r.id,gn=r.overflow,ir=i),i=nc(i,f.children),i.flags|=4096,i)}function tf(r,i,d){r.lanes|=i;var f=r.alternate;f!==null&&(f.lanes|=i),Tl(r.return,i,d)}function rc(r,i,d,f,g){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:f,tail:d,tailMode:g}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=d,y.tailMode=g)}function nf(r,i,d){var f=i.pendingProps,g=f.revealOrder,y=f.tail;if(pt(r,i,f.children,d),f=$e.current,(f&2)!==0)f=f&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&tf(r,d,i);else if(r.tag===19)tf(r,d,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}if(Te($e,f),(i.mode&1)===0)i.memoizedState=null;else switch(g){case"forwards":for(d=i.child,g=null;d!==null;)r=d.alternate,r!==null&&gi(r)===null&&(g=d),d=d.sibling;d=g,d===null?(g=i.child,i.child=null):(g=d.sibling,d.sibling=null),rc(i,!1,g,d,y);break;case"backwards":for(d=null,g=i.child,i.child=null;g!==null;){if(r=g.alternate,r!==null&&gi(r)===null){i.child=g;break}r=g.sibling,g.sibling=d,d=g,g=r}rc(i,!0,d,null,y);break;case"together":rc(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function _i(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function bn(r,i,d){if(r!==null&&(i.dependencies=r.dependencies),ur|=i.lanes,(d&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(t(153));if(i.child!==null){for(r=i.child,d=qn(r,r.pendingProps),i.child=d,d.return=i;r.sibling!==null;)r=r.sibling,d=d.sibling=qn(r,r.pendingProps),d.return=i;d.sibling=null}return i.child}function Kx(r,i,d){switch(i.tag){case 3:Jh(i),Gr();break;case 5:gh(i);break;case 1:xt(i.type)&&ii(i);break;case 4:zl(i,i.stateNode.containerInfo);break;case 10:var f=i.type._context,g=i.memoizedProps.value;Te(hi,f._currentValue),f._currentValue=g;break;case 13:if(f=i.memoizedState,f!==null)return f.dehydrated!==null?(Te($e,$e.current&1),i.flags|=128,null):(d&i.child.childLanes)!==0?ef(r,i,d):(Te($e,$e.current&1),r=bn(r,i,d),r!==null?r.sibling:null);Te($e,$e.current&1);break;case 19:if(f=(d&i.childLanes)!==0,(r.flags&128)!==0){if(f)return nf(r,i,d);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Te($e,$e.current),f)break;return null;case 22:case 23:return i.lanes=0,qh(r,i,d)}return bn(r,i,d)}var rf,sc,sf,af;rf=function(r,i){for(var d=i.child;d!==null;){if(d.tag===5||d.tag===6)r.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break;for(;d.sibling===null;){if(d.return===null||d.return===i)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},sc=function(){},sf=function(r,i,d,f){var g=r.memoizedProps;if(g!==f){r=i.stateNode,cr(nn.current);var y=null;switch(d){case"input":g=Oe(r,g),f=Oe(r,f),y=[];break;case"select":g=J({},g,{value:void 0}),f=J({},f,{value:void 0}),y=[];break;case"textarea":g=zo(r,g),f=zo(r,f),y=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(r.onclick=ri)}Fo(d,f);var j;d=null;for(U in g)if(!f.hasOwnProperty(U)&&g.hasOwnProperty(U)&&g[U]!=null)if(U==="style"){var P=g[U];for(j in P)P.hasOwnProperty(j)&&(d||(d={}),d[j]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(a.hasOwnProperty(U)?y||(y=[]):(y=y||[]).push(U,null));for(U in f){var T=f[U];if(P=g?.[U],f.hasOwnProperty(U)&&T!==P&&(T!=null||P!=null))if(U==="style")if(P){for(j in P)!P.hasOwnProperty(j)||T&&T.hasOwnProperty(j)||(d||(d={}),d[j]="");for(j in T)T.hasOwnProperty(j)&&P[j]!==T[j]&&(d||(d={}),d[j]=T[j])}else d||(y||(y=[]),y.push(U,d)),d=T;else U==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,P=P?P.__html:void 0,T!=null&&P!==T&&(y=y||[]).push(U,T)):U==="children"?typeof T!="string"&&typeof T!="number"||(y=y||[]).push(U,""+T):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(a.hasOwnProperty(U)?(T!=null&&U==="onScroll"&&Ae("scroll",r),y||P===T||(y=[])):(y=y||[]).push(U,T))}d&&(y=y||[]).push("style",d);var U=y;(i.updateQueue=U)&&(i.flags|=4)}},af=function(r,i,d,f){d!==f&&(i.flags|=4)};function qs(r,i){if(!Fe)switch(r.tailMode){case"hidden":i=r.tail;for(var d=null;i!==null;)i.alternate!==null&&(d=i),i=i.sibling;d===null?r.tail=null:d.sibling=null;break;case"collapsed":d=r.tail;for(var f=null;d!==null;)d.alternate!==null&&(f=d),d=d.sibling;f===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function dt(r){var i=r.alternate!==null&&r.alternate.child===r.child,d=0,f=0;if(i)for(var g=r.child;g!==null;)d|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)d|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=f,r.childLanes=d,i}function qx(r,i,d){var f=i.pendingProps;switch(Nl(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(i),null;case 1:return xt(i.type)&&ai(),dt(i),null;case 3:return f=i.stateNode,Qr(),ze(gt),ze(lt),Il(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(r===null||r.child===null)&&(di(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ut!==null&&(mc(Ut),Ut=null))),sc(r,i),dt(i),null;case 5:Ol(i);var g=cr(Ws.current);if(d=i.type,r!==null&&i.stateNode!=null)sf(r,i,d,f,g),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!f){if(i.stateNode===null)throw Error(t(166));return dt(i),null}if(r=cr(nn.current),di(i)){f=i.stateNode,d=i.type;var y=i.memoizedProps;switch(f[tn]=i,f[Is]=y,r=(i.mode&1)!==0,d){case"dialog":Ae("cancel",f),Ae("close",f);break;case"iframe":case"object":case"embed":Ae("load",f);break;case"video":case"audio":for(g=0;g<zs.length;g++)Ae(zs[g],f);break;case"source":Ae("error",f);break;case"img":case"image":case"link":Ae("error",f),Ae("load",f);break;case"details":Ae("toggle",f);break;case"input":st(f,y),Ae("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!y.multiple},Ae("invalid",f);break;case"textarea":Vd(f,y),Ae("invalid",f)}Fo(d,y),g=null;for(var j in y)if(y.hasOwnProperty(j)){var P=y[j];j==="children"?typeof P=="string"?f.textContent!==P&&(y.suppressHydrationWarning!==!0&&ni(f.textContent,P,r),g=["children",P]):typeof P=="number"&&f.textContent!==""+P&&(y.suppressHydrationWarning!==!0&&ni(f.textContent,P,r),g=["children",""+P]):a.hasOwnProperty(j)&&P!=null&&j==="onScroll"&&Ae("scroll",f)}switch(d){case"input":Ce(f),Zt(f,y,!0);break;case"textarea":Ce(f),Wd(f);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(f.onclick=ri)}f=g,i.updateQueue=f,f!==null&&(i.flags|=4)}else{j=g.nodeType===9?g:g.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Ud(d)),r==="http://www.w3.org/1999/xhtml"?d==="script"?(r=j.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof f.is=="string"?r=j.createElement(d,{is:f.is}):(r=j.createElement(d),d==="select"&&(j=r,f.multiple?j.multiple=!0:f.size&&(j.size=f.size))):r=j.createElementNS(r,d),r[tn]=i,r[Is]=f,rf(r,i,!1,!1),i.stateNode=r;e:{switch(j=Io(d,f),d){case"dialog":Ae("cancel",r),Ae("close",r),g=f;break;case"iframe":case"object":case"embed":Ae("load",r),g=f;break;case"video":case"audio":for(g=0;g<zs.length;g++)Ae(zs[g],r);g=f;break;case"source":Ae("error",r),g=f;break;case"img":case"image":case"link":Ae("error",r),Ae("load",r),g=f;break;case"details":Ae("toggle",r),g=f;break;case"input":st(r,f),g=Oe(r,f),Ae("invalid",r);break;case"option":g=f;break;case"select":r._wrapperState={wasMultiple:!!f.multiple},g=J({},f,{value:void 0}),Ae("invalid",r);break;case"textarea":Vd(r,f),g=zo(r,f),Ae("invalid",r);break;default:g=f}Fo(d,g),P=g;for(y in P)if(P.hasOwnProperty(y)){var T=P[y];y==="style"?Kd(r,T):y==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,T!=null&&Yd(r,T)):y==="children"?typeof T=="string"?(d!=="textarea"||T!=="")&&xs(r,T):typeof T=="number"&&xs(r,""+T):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(a.hasOwnProperty(y)?T!=null&&y==="onScroll"&&Ae("scroll",r):T!=null&&M(r,y,T,j))}switch(d){case"input":Ce(r),Zt(r,f,!1);break;case"textarea":Ce(r),Wd(r);break;case"option":f.value!=null&&r.setAttribute("value",""+Z(f.value));break;case"select":r.multiple=!!f.multiple,y=f.value,y!=null?Lr(r,!!f.multiple,y,!1):f.defaultValue!=null&&Lr(r,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(r.onclick=ri)}switch(d){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return dt(i),null;case 6:if(r&&i.stateNode!=null)af(r,i,r.memoizedProps,f);else{if(typeof f!="string"&&i.stateNode===null)throw Error(t(166));if(d=cr(Ws.current),cr(nn.current),di(i)){if(f=i.stateNode,d=i.memoizedProps,f[tn]=i,(y=f.nodeValue!==d)&&(r=Nt,r!==null))switch(r.tag){case 3:ni(f.nodeValue,d,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&ni(f.nodeValue,d,(r.mode&1)!==0)}y&&(i.flags|=4)}else f=(d.nodeType===9?d:d.ownerDocument).createTextNode(f),f[tn]=i,i.stateNode=f}return dt(i),null;case 13:if(ze($e),f=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Fe&&Ct!==null&&(i.mode&1)!==0&&(i.flags&128)===0)lh(),Gr(),i.flags|=98560,y=!1;else if(y=di(i),f!==null&&f.dehydrated!==null){if(r===null){if(!y)throw Error(t(318));if(y=i.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[tn]=i}else Gr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;dt(i),y=!1}else Ut!==null&&(mc(Ut),Ut=null),y=!0;if(!y)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=d,i):(f=f!==null,f!==(r!==null&&r.memoizedState!==null)&&f&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||($e.current&1)!==0?Ze===0&&(Ze=3):yc())),i.updateQueue!==null&&(i.flags|=4),dt(i),null);case 4:return Qr(),sc(r,i),r===null&&Os(i.stateNode.containerInfo),dt(i),null;case 10:return Ll(i.type._context),dt(i),null;case 17:return xt(i.type)&&ai(),dt(i),null;case 19:if(ze($e),y=i.memoizedState,y===null)return dt(i),null;if(f=(i.flags&128)!==0,j=y.rendering,j===null)if(f)qs(y,!1);else{if(Ze!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(j=gi(r),j!==null){for(i.flags|=128,qs(y,!1),f=j.updateQueue,f!==null&&(i.updateQueue=f,i.flags|=4),i.subtreeFlags=0,f=d,d=i.child;d!==null;)y=d,r=f,y.flags&=14680066,j=y.alternate,j===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=j.childLanes,y.lanes=j.lanes,y.child=j.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=j.memoizedProps,y.memoizedState=j.memoizedState,y.updateQueue=j.updateQueue,y.type=j.type,r=j.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),d=d.sibling;return Te($e,$e.current&1|2),i.child}r=r.sibling}y.tail!==null&&Ge()>ts&&(i.flags|=128,f=!0,qs(y,!1),i.lanes=4194304)}else{if(!f)if(r=gi(j),r!==null){if(i.flags|=128,f=!0,d=r.updateQueue,d!==null&&(i.updateQueue=d,i.flags|=4),qs(y,!0),y.tail===null&&y.tailMode==="hidden"&&!j.alternate&&!Fe)return dt(i),null}else 2*Ge()-y.renderingStartTime>ts&&d!==1073741824&&(i.flags|=128,f=!0,qs(y,!1),i.lanes=4194304);y.isBackwards?(j.sibling=i.child,i.child=j):(d=y.last,d!==null?d.sibling=j:i.child=j,y.last=j)}return y.tail!==null?(i=y.tail,y.rendering=i,y.tail=i.sibling,y.renderingStartTime=Ge(),i.sibling=null,d=$e.current,Te($e,f?d&1|2:d&1),i):(dt(i),null);case 22:case 23:return xc(),f=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==f&&(i.flags|=8192),f&&(i.mode&1)!==0?(Mt&1073741824)!==0&&(dt(i),i.subtreeFlags&6&&(i.flags|=8192)):dt(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function Xx(r,i){switch(Nl(i),i.tag){case 1:return xt(i.type)&&ai(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Qr(),ze(gt),ze(lt),Il(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return Ol(i),null;case 13:if(ze($e),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(t(340));Gr()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return ze($e),null;case 4:return Qr(),null;case 10:return Ll(i.type._context),null;case 22:case 23:return xc(),null;case 24:return null;default:return null}}var Si=!1,ut=!1,Qx=typeof WeakSet=="function"?WeakSet:Set,he=null;function Zr(r,i){var d=r.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(f){Ue(r,i,f)}else d.current=null}function ac(r,i,d){try{d()}catch(f){Ue(r,i,f)}}var of=!1;function Jx(r,i){if(xl=Ua,r=Fu(),cl(r)){if("selectionStart"in r)var d={start:r.selectionStart,end:r.selectionEnd};else e:{d=(d=r.ownerDocument)&&d.defaultView||window;var f=d.getSelection&&d.getSelection();if(f&&f.rangeCount!==0){d=f.anchorNode;var g=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{d.nodeType,y.nodeType}catch{d=null;break e}var j=0,P=-1,T=-1,U=0,te=0,re=r,ee=null;t:for(;;){for(var de;re!==d||g!==0&&re.nodeType!==3||(P=j+g),re!==y||f!==0&&re.nodeType!==3||(T=j+f),re.nodeType===3&&(j+=re.nodeValue.length),(de=re.firstChild)!==null;)ee=re,re=de;for(;;){if(re===r)break t;if(ee===d&&++U===g&&(P=j),ee===y&&++te===f&&(T=j),(de=re.nextSibling)!==null)break;re=ee,ee=re.parentNode}re=de}d=P===-1||T===-1?null:{start:P,end:T}}else d=null}d=d||{start:0,end:0}}else d=null;for(yl={focusedElem:r,selectionRange:d},Ua=!1,he=i;he!==null;)if(i=he,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,he=r;else for(;he!==null;){i=he;try{var fe=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var pe=fe.memoizedProps,Ke=fe.memoizedState,B=i.stateNode,A=B.getSnapshotBeforeUpdate(i.elementType===i.type?pe:Yt(i.type,pe),Ke);B.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var V=i.stateNode.containerInfo;V.nodeType===1?V.textContent="":V.nodeType===9&&V.documentElement&&V.removeChild(V.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(se){Ue(i,i.return,se)}if(r=i.sibling,r!==null){r.return=i.return,he=r;break}he=i.return}return fe=of,of=!1,fe}function Xs(r,i,d){var f=i.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&r)===r){var y=g.destroy;g.destroy=void 0,y!==void 0&&ac(i,d,y)}g=g.next}while(g!==f)}}function Ni(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var d=i=i.next;do{if((d.tag&r)===r){var f=d.create;d.destroy=f()}d=d.next}while(d!==i)}}function ic(r){var i=r.ref;if(i!==null){var d=r.stateNode;switch(r.tag){case 5:r=d;break;default:r=d}typeof i=="function"?i(r):i.current=r}}function lf(r){var i=r.alternate;i!==null&&(r.alternate=null,lf(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[tn],delete i[Is],delete i[wl],delete i[Rx],delete i[Ax])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function cf(r){return r.tag===5||r.tag===3||r.tag===4}function df(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||cf(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function oc(r,i,d){var f=r.tag;if(f===5||f===6)r=r.stateNode,i?d.nodeType===8?d.parentNode.insertBefore(r,i):d.insertBefore(r,i):(d.nodeType===8?(i=d.parentNode,i.insertBefore(r,d)):(i=d,i.appendChild(r)),d=d._reactRootContainer,d!=null||i.onclick!==null||(i.onclick=ri));else if(f!==4&&(r=r.child,r!==null))for(oc(r,i,d),r=r.sibling;r!==null;)oc(r,i,d),r=r.sibling}function lc(r,i,d){var f=r.tag;if(f===5||f===6)r=r.stateNode,i?d.insertBefore(r,i):d.appendChild(r);else if(f!==4&&(r=r.child,r!==null))for(lc(r,i,d),r=r.sibling;r!==null;)lc(r,i,d),r=r.sibling}var at=null,Gt=!1;function Wn(r,i,d){for(d=d.child;d!==null;)uf(r,i,d),d=d.sibling}function uf(r,i,d){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Ia,d)}catch{}switch(d.tag){case 5:ut||Zr(d,i);case 6:var f=at,g=Gt;at=null,Wn(r,i,d),at=f,Gt=g,at!==null&&(Gt?(r=at,d=d.stateNode,r.nodeType===8?r.parentNode.removeChild(d):r.removeChild(d)):at.removeChild(d.stateNode));break;case 18:at!==null&&(Gt?(r=at,d=d.stateNode,r.nodeType===8?kl(r.parentNode,d):r.nodeType===1&&kl(r,d),Ms(r)):kl(at,d.stateNode));break;case 4:f=at,g=Gt,at=d.stateNode.containerInfo,Gt=!0,Wn(r,i,d),at=f,Gt=g;break;case 0:case 11:case 14:case 15:if(!ut&&(f=d.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var y=g,j=y.destroy;y=y.tag,j!==void 0&&((y&2)!==0||(y&4)!==0)&&ac(d,i,j),g=g.next}while(g!==f)}Wn(r,i,d);break;case 1:if(!ut&&(Zr(d,i),f=d.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=d.memoizedProps,f.state=d.memoizedState,f.componentWillUnmount()}catch(P){Ue(d,i,P)}Wn(r,i,d);break;case 21:Wn(r,i,d);break;case 22:d.mode&1?(ut=(f=ut)||d.memoizedState!==null,Wn(r,i,d),ut=f):Wn(r,i,d);break;default:Wn(r,i,d)}}function hf(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var d=r.stateNode;d===null&&(d=r.stateNode=new Qx),i.forEach(function(f){var g=oy.bind(null,r,f);d.has(f)||(d.add(f),f.then(g,g))})}}function Kt(r,i){var d=i.deletions;if(d!==null)for(var f=0;f<d.length;f++){var g=d[f];try{var y=r,j=i,P=j;e:for(;P!==null;){switch(P.tag){case 5:at=P.stateNode,Gt=!1;break e;case 3:at=P.stateNode.containerInfo,Gt=!0;break e;case 4:at=P.stateNode.containerInfo,Gt=!0;break e}P=P.return}if(at===null)throw Error(t(160));uf(y,j,g),at=null,Gt=!1;var T=g.alternate;T!==null&&(T.return=null),g.return=null}catch(U){Ue(g,i,U)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)ff(i,r),i=i.sibling}function ff(r,i){var d=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Kt(i,r),sn(r),f&4){try{Xs(3,r,r.return),Ni(3,r)}catch(pe){Ue(r,r.return,pe)}try{Xs(5,r,r.return)}catch(pe){Ue(r,r.return,pe)}}break;case 1:Kt(i,r),sn(r),f&512&&d!==null&&Zr(d,d.return);break;case 5:if(Kt(i,r),sn(r),f&512&&d!==null&&Zr(d,d.return),r.flags&32){var g=r.stateNode;try{xs(g,"")}catch(pe){Ue(r,r.return,pe)}}if(f&4&&(g=r.stateNode,g!=null)){var y=r.memoizedProps,j=d!==null?d.memoizedProps:y,P=r.type,T=r.updateQueue;if(r.updateQueue=null,T!==null)try{P==="input"&&y.type==="radio"&&y.name!=null&&Dn(g,y),Io(P,j);var U=Io(P,y);for(j=0;j<T.length;j+=2){var te=T[j],re=T[j+1];te==="style"?Kd(g,re):te==="dangerouslySetInnerHTML"?Yd(g,re):te==="children"?xs(g,re):M(g,te,re,U)}switch(P){case"input":hn(g,y);break;case"textarea":Hd(g,y);break;case"select":var ee=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!y.multiple;var de=y.value;de!=null?Lr(g,!!y.multiple,de,!1):ee!==!!y.multiple&&(y.defaultValue!=null?Lr(g,!!y.multiple,y.defaultValue,!0):Lr(g,!!y.multiple,y.multiple?[]:"",!1))}g[Is]=y}catch(pe){Ue(r,r.return,pe)}}break;case 6:if(Kt(i,r),sn(r),f&4){if(r.stateNode===null)throw Error(t(162));g=r.stateNode,y=r.memoizedProps;try{g.nodeValue=y}catch(pe){Ue(r,r.return,pe)}}break;case 3:if(Kt(i,r),sn(r),f&4&&d!==null&&d.memoizedState.isDehydrated)try{Ms(i.containerInfo)}catch(pe){Ue(r,r.return,pe)}break;case 4:Kt(i,r),sn(r);break;case 13:Kt(i,r),sn(r),g=r.child,g.flags&8192&&(y=g.memoizedState!==null,g.stateNode.isHidden=y,!y||g.alternate!==null&&g.alternate.memoizedState!==null||(uc=Ge())),f&4&&hf(r);break;case 22:if(te=d!==null&&d.memoizedState!==null,r.mode&1?(ut=(U=ut)||te,Kt(i,r),ut=U):Kt(i,r),sn(r),f&8192){if(U=r.memoizedState!==null,(r.stateNode.isHidden=U)&&!te&&(r.mode&1)!==0)for(he=r,te=r.child;te!==null;){for(re=he=te;he!==null;){switch(ee=he,de=ee.child,ee.tag){case 0:case 11:case 14:case 15:Xs(4,ee,ee.return);break;case 1:Zr(ee,ee.return);var fe=ee.stateNode;if(typeof fe.componentWillUnmount=="function"){f=ee,d=ee.return;try{i=f,fe.props=i.memoizedProps,fe.state=i.memoizedState,fe.componentWillUnmount()}catch(pe){Ue(f,d,pe)}}break;case 5:Zr(ee,ee.return);break;case 22:if(ee.memoizedState!==null){gf(re);continue}}de!==null?(de.return=ee,he=de):gf(re)}te=te.sibling}e:for(te=null,re=r;;){if(re.tag===5){if(te===null){te=re;try{g=re.stateNode,U?(y=g.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(P=re.stateNode,T=re.memoizedProps.style,j=T!=null&&T.hasOwnProperty("display")?T.display:null,P.style.display=Gd("display",j))}catch(pe){Ue(r,r.return,pe)}}}else if(re.tag===6){if(te===null)try{re.stateNode.nodeValue=U?"":re.memoizedProps}catch(pe){Ue(r,r.return,pe)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===r)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===r)break e;for(;re.sibling===null;){if(re.return===null||re.return===r)break e;te===re&&(te=null),re=re.return}te===re&&(te=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:Kt(i,r),sn(r),f&4&&hf(r);break;case 21:break;default:Kt(i,r),sn(r)}}function sn(r){var i=r.flags;if(i&2){try{e:{for(var d=r.return;d!==null;){if(cf(d)){var f=d;break e}d=d.return}throw Error(t(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(xs(g,""),f.flags&=-33);var y=df(r);lc(r,y,g);break;case 3:case 4:var j=f.stateNode.containerInfo,P=df(r);oc(r,P,j);break;default:throw Error(t(161))}}catch(T){Ue(r,r.return,T)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Zx(r,i,d){he=r,pf(r)}function pf(r,i,d){for(var f=(r.mode&1)!==0;he!==null;){var g=he,y=g.child;if(g.tag===22&&f){var j=g.memoizedState!==null||Si;if(!j){var P=g.alternate,T=P!==null&&P.memoizedState!==null||ut;P=Si;var U=ut;if(Si=j,(ut=T)&&!U)for(he=g;he!==null;)j=he,T=j.child,j.tag===22&&j.memoizedState!==null?xf(g):T!==null?(T.return=j,he=T):xf(g);for(;y!==null;)he=y,pf(y),y=y.sibling;he=g,Si=P,ut=U}mf(r)}else(g.subtreeFlags&8772)!==0&&y!==null?(y.return=g,he=y):mf(r)}}function mf(r){for(;he!==null;){var i=he;if((i.flags&8772)!==0){var d=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:ut||Ni(5,i);break;case 1:var f=i.stateNode;if(i.flags&4&&!ut)if(d===null)f.componentDidMount();else{var g=i.elementType===i.type?d.memoizedProps:Yt(i.type,d.memoizedProps);f.componentDidUpdate(g,d.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var y=i.updateQueue;y!==null&&mh(i,y,f);break;case 3:var j=i.updateQueue;if(j!==null){if(d=null,i.child!==null)switch(i.child.tag){case 5:d=i.child.stateNode;break;case 1:d=i.child.stateNode}mh(i,j,d)}break;case 5:var P=i.stateNode;if(d===null&&i.flags&4){d=P;var T=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":T.autoFocus&&d.focus();break;case"img":T.src&&(d.src=T.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var U=i.alternate;if(U!==null){var te=U.memoizedState;if(te!==null){var re=te.dehydrated;re!==null&&Ms(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ut||i.flags&512&&ic(i)}catch(ee){Ue(i,i.return,ee)}}if(i===r){he=null;break}if(d=i.sibling,d!==null){d.return=i.return,he=d;break}he=i.return}}function gf(r){for(;he!==null;){var i=he;if(i===r){he=null;break}var d=i.sibling;if(d!==null){d.return=i.return,he=d;break}he=i.return}}function xf(r){for(;he!==null;){var i=he;try{switch(i.tag){case 0:case 11:case 15:var d=i.return;try{Ni(4,i)}catch(T){Ue(i,d,T)}break;case 1:var f=i.stateNode;if(typeof f.componentDidMount=="function"){var g=i.return;try{f.componentDidMount()}catch(T){Ue(i,g,T)}}var y=i.return;try{ic(i)}catch(T){Ue(i,y,T)}break;case 5:var j=i.return;try{ic(i)}catch(T){Ue(i,j,T)}}}catch(T){Ue(i,i.return,T)}if(i===r){he=null;break}var P=i.sibling;if(P!==null){P.return=i.return,he=P;break}he=i.return}}var ey=Math.ceil,Ci=L.ReactCurrentDispatcher,cc=L.ReactCurrentOwner,Ot=L.ReactCurrentBatchConfig,Ne=0,nt=null,Xe=null,it=0,Mt=0,es=In(0),Ze=0,Qs=null,ur=0,Mi=0,dc=0,Js=null,bt=null,uc=0,ts=1/0,vn=null,Pi=!1,hc=null,Un=null,Ei=!1,Yn=null,Di=0,Zs=0,fc=null,Li=-1,Ti=0;function mt(){return(Ne&6)!==0?Ge():Li!==-1?Li:Li=Ge()}function Gn(r){return(r.mode&1)===0?1:(Ne&2)!==0&&it!==0?it&-it:Ox.transition!==null?(Ti===0&&(Ti=cu()),Ti):(r=Ee,r!==0||(r=window.event,r=r===void 0?16:yu(r.type)),r)}function qt(r,i,d,f){if(50<Zs)throw Zs=0,fc=null,Error(t(185));js(r,d,f),((Ne&2)===0||r!==nt)&&(r===nt&&((Ne&2)===0&&(Mi|=d),Ze===4&&Kn(r,it)),vt(r,f),d===1&&Ne===0&&(i.mode&1)===0&&(ts=Ge()+500,oi&&$n()))}function vt(r,i){var d=r.callbackNode;Og(r,i);var f=Va(r,r===nt?it:0);if(f===0)d!==null&&iu(d),r.callbackNode=null,r.callbackPriority=0;else if(i=f&-f,r.callbackPriority!==i){if(d!=null&&iu(d),i===1)r.tag===0?zx(bf.bind(null,r)):rh(bf.bind(null,r)),Lx(function(){(Ne&6)===0&&$n()}),d=null;else{switch(du(f)){case 1:d=Yo;break;case 4:d=ou;break;case 16:d=Fa;break;case 536870912:d=lu;break;default:d=Fa}d=Cf(d,yf.bind(null,r))}r.callbackPriority=i,r.callbackNode=d}}function yf(r,i){if(Li=-1,Ti=0,(Ne&6)!==0)throw Error(t(327));var d=r.callbackNode;if(ns()&&r.callbackNode!==d)return null;var f=Va(r,r===nt?it:0);if(f===0)return null;if((f&30)!==0||(f&r.expiredLanes)!==0||i)i=Ri(r,f);else{i=f;var g=Ne;Ne|=2;var y=kf();(nt!==r||it!==i)&&(vn=null,ts=Ge()+500,fr(r,i));do try{ry();break}catch(P){vf(r,P)}while(!0);Dl(),Ci.current=y,Ne=g,Xe!==null?i=0:(nt=null,it=0,i=Ze)}if(i!==0){if(i===2&&(g=Go(r),g!==0&&(f=g,i=pc(r,g))),i===1)throw d=Qs,fr(r,0),Kn(r,f),vt(r,Ge()),d;if(i===6)Kn(r,f);else{if(g=r.current.alternate,(f&30)===0&&!ty(g)&&(i=Ri(r,f),i===2&&(y=Go(r),y!==0&&(f=y,i=pc(r,y))),i===1))throw d=Qs,fr(r,0),Kn(r,f),vt(r,Ge()),d;switch(r.finishedWork=g,r.finishedLanes=f,i){case 0:case 1:throw Error(t(345));case 2:pr(r,bt,vn);break;case 3:if(Kn(r,f),(f&130023424)===f&&(i=uc+500-Ge(),10<i)){if(Va(r,0)!==0)break;if(g=r.suspendedLanes,(g&f)!==f){mt(),r.pingedLanes|=r.suspendedLanes&g;break}r.timeoutHandle=vl(pr.bind(null,r,bt,vn),i);break}pr(r,bt,vn);break;case 4:if(Kn(r,f),(f&4194240)===f)break;for(i=r.eventTimes,g=-1;0<f;){var j=31-Ht(f);y=1<<j,j=i[j],j>g&&(g=j),f&=~y}if(f=g,f=Ge()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*ey(f/1960))-f,10<f){r.timeoutHandle=vl(pr.bind(null,r,bt,vn),f);break}pr(r,bt,vn);break;case 5:pr(r,bt,vn);break;default:throw Error(t(329))}}}return vt(r,Ge()),r.callbackNode===d?yf.bind(null,r):null}function pc(r,i){var d=Js;return r.current.memoizedState.isDehydrated&&(fr(r,i).flags|=256),r=Ri(r,i),r!==2&&(i=bt,bt=d,i!==null&&mc(i)),r}function mc(r){bt===null?bt=r:bt.push.apply(bt,r)}function ty(r){for(var i=r;;){if(i.flags&16384){var d=i.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var f=0;f<d.length;f++){var g=d[f],y=g.getSnapshot;g=g.value;try{if(!Wt(y(),g))return!1}catch{return!1}}}if(d=i.child,i.subtreeFlags&16384&&d!==null)d.return=i,i=d;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Kn(r,i){for(i&=~dc,i&=~Mi,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var d=31-Ht(i),f=1<<d;r[d]=-1,i&=~f}}function bf(r){if((Ne&6)!==0)throw Error(t(327));ns();var i=Va(r,0);if((i&1)===0)return vt(r,Ge()),null;var d=Ri(r,i);if(r.tag!==0&&d===2){var f=Go(r);f!==0&&(i=f,d=pc(r,f))}if(d===1)throw d=Qs,fr(r,0),Kn(r,i),vt(r,Ge()),d;if(d===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,pr(r,bt,vn),vt(r,Ge()),null}function gc(r,i){var d=Ne;Ne|=1;try{return r(i)}finally{Ne=d,Ne===0&&(ts=Ge()+500,oi&&$n())}}function hr(r){Yn!==null&&Yn.tag===0&&(Ne&6)===0&&ns();var i=Ne;Ne|=1;var d=Ot.transition,f=Ee;try{if(Ot.transition=null,Ee=1,r)return r()}finally{Ee=f,Ot.transition=d,Ne=i,(Ne&6)===0&&$n()}}function xc(){Mt=es.current,ze(es)}function fr(r,i){r.finishedWork=null,r.finishedLanes=0;var d=r.timeoutHandle;if(d!==-1&&(r.timeoutHandle=-1,Dx(d)),Xe!==null)for(d=Xe.return;d!==null;){var f=d;switch(Nl(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&ai();break;case 3:Qr(),ze(gt),ze(lt),Il();break;case 5:Ol(f);break;case 4:Qr();break;case 13:ze($e);break;case 19:ze($e);break;case 10:Ll(f.type._context);break;case 22:case 23:xc()}d=d.return}if(nt=r,Xe=r=qn(r.current,null),it=Mt=i,Ze=0,Qs=null,dc=Mi=ur=0,bt=Js=null,lr!==null){for(i=0;i<lr.length;i++)if(d=lr[i],f=d.interleaved,f!==null){d.interleaved=null;var g=f.next,y=d.pending;if(y!==null){var j=y.next;y.next=g,f.next=j}d.pending=f}lr=null}return r}function vf(r,i){do{var d=Xe;try{if(Dl(),xi.current=ki,yi){for(var f=Ve.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}yi=!1}if(dr=0,tt=Je=Ve=null,Us=!1,Ys=0,cc.current=null,d===null||d.return===null){Ze=1,Qs=i,Xe=null;break}e:{var y=r,j=d.return,P=d,T=i;if(i=it,P.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){var U=T,te=P,re=te.tag;if((te.mode&1)===0&&(re===0||re===11||re===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var de=Wh(j);if(de!==null){de.flags&=-257,Uh(de,j,P,y,i),de.mode&1&&Hh(y,U,i),i=de,T=U;var fe=i.updateQueue;if(fe===null){var pe=new Set;pe.add(T),i.updateQueue=pe}else fe.add(T);break e}else{if((i&1)===0){Hh(y,U,i),yc();break e}T=Error(t(426))}}else if(Fe&&P.mode&1){var Ke=Wh(j);if(Ke!==null){(Ke.flags&65536)===0&&(Ke.flags|=256),Uh(Ke,j,P,y,i),Pl(Jr(T,P));break e}}y=T=Jr(T,P),Ze!==4&&(Ze=2),Js===null?Js=[y]:Js.push(y),y=j;do{switch(y.tag){case 3:y.flags|=65536,i&=-i,y.lanes|=i;var B=$h(y,T,i);ph(y,B);break e;case 1:P=T;var A=y.type,V=y.stateNode;if((y.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(Un===null||!Un.has(V)))){y.flags|=65536,i&=-i,y.lanes|=i;var se=Vh(y,P,i);ph(y,se);break e}}y=y.return}while(y!==null)}jf(d)}catch(me){i=me,Xe===d&&d!==null&&(Xe=d=d.return);continue}break}while(!0)}function kf(){var r=Ci.current;return Ci.current=ki,r===null?ki:r}function yc(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),nt===null||(ur&268435455)===0&&(Mi&268435455)===0||Kn(nt,it)}function Ri(r,i){var d=Ne;Ne|=2;var f=kf();(nt!==r||it!==i)&&(vn=null,fr(r,i));do try{ny();break}catch(g){vf(r,g)}while(!0);if(Dl(),Ne=d,Ci.current=f,Xe!==null)throw Error(t(261));return nt=null,it=0,Ze}function ny(){for(;Xe!==null;)wf(Xe)}function ry(){for(;Xe!==null&&!Mg();)wf(Xe)}function wf(r){var i=Nf(r.alternate,r,Mt);r.memoizedProps=r.pendingProps,i===null?jf(r):Xe=i,cc.current=null}function jf(r){var i=r;do{var d=i.alternate;if(r=i.return,(i.flags&32768)===0){if(d=qx(d,i,Mt),d!==null){Xe=d;return}}else{if(d=Xx(d,i),d!==null){d.flags&=32767,Xe=d;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Ze=6,Xe=null;return}}if(i=i.sibling,i!==null){Xe=i;return}Xe=i=r}while(i!==null);Ze===0&&(Ze=5)}function pr(r,i,d){var f=Ee,g=Ot.transition;try{Ot.transition=null,Ee=1,sy(r,i,d,f)}finally{Ot.transition=g,Ee=f}return null}function sy(r,i,d,f){do ns();while(Yn!==null);if((Ne&6)!==0)throw Error(t(327));d=r.finishedWork;var g=r.finishedLanes;if(d===null)return null;if(r.finishedWork=null,r.finishedLanes=0,d===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var y=d.lanes|d.childLanes;if(Fg(r,y),r===nt&&(Xe=nt=null,it=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||Ei||(Ei=!0,Cf(Fa,function(){return ns(),null})),y=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||y){y=Ot.transition,Ot.transition=null;var j=Ee;Ee=1;var P=Ne;Ne|=4,cc.current=null,Jx(r,d),ff(d,r),_x(yl),Ua=!!xl,yl=xl=null,r.current=d,Zx(d),Pg(),Ne=P,Ee=j,Ot.transition=y}else r.current=d;if(Ei&&(Ei=!1,Yn=r,Di=g),y=r.pendingLanes,y===0&&(Un=null),Lg(d.stateNode),vt(r,Ge()),i!==null)for(f=r.onRecoverableError,d=0;d<i.length;d++)g=i[d],f(g.value,{componentStack:g.stack,digest:g.digest});if(Pi)throw Pi=!1,r=hc,hc=null,r;return(Di&1)!==0&&r.tag!==0&&ns(),y=r.pendingLanes,(y&1)!==0?r===fc?Zs++:(Zs=0,fc=r):Zs=0,$n(),null}function ns(){if(Yn!==null){var r=du(Di),i=Ot.transition,d=Ee;try{if(Ot.transition=null,Ee=16>r?16:r,Yn===null)var f=!1;else{if(r=Yn,Yn=null,Di=0,(Ne&6)!==0)throw Error(t(331));var g=Ne;for(Ne|=4,he=r.current;he!==null;){var y=he,j=y.child;if((he.flags&16)!==0){var P=y.deletions;if(P!==null){for(var T=0;T<P.length;T++){var U=P[T];for(he=U;he!==null;){var te=he;switch(te.tag){case 0:case 11:case 15:Xs(8,te,y)}var re=te.child;if(re!==null)re.return=te,he=re;else for(;he!==null;){te=he;var ee=te.sibling,de=te.return;if(lf(te),te===U){he=null;break}if(ee!==null){ee.return=de,he=ee;break}he=de}}}var fe=y.alternate;if(fe!==null){var pe=fe.child;if(pe!==null){fe.child=null;do{var Ke=pe.sibling;pe.sibling=null,pe=Ke}while(pe!==null)}}he=y}}if((y.subtreeFlags&2064)!==0&&j!==null)j.return=y,he=j;else e:for(;he!==null;){if(y=he,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Xs(9,y,y.return)}var B=y.sibling;if(B!==null){B.return=y.return,he=B;break e}he=y.return}}var A=r.current;for(he=A;he!==null;){j=he;var V=j.child;if((j.subtreeFlags&2064)!==0&&V!==null)V.return=j,he=V;else e:for(j=A;he!==null;){if(P=he,(P.flags&2048)!==0)try{switch(P.tag){case 0:case 11:case 15:Ni(9,P)}}catch(me){Ue(P,P.return,me)}if(P===j){he=null;break e}var se=P.sibling;if(se!==null){se.return=P.return,he=se;break e}he=P.return}}if(Ne=g,$n(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Ia,r)}catch{}f=!0}return f}finally{Ee=d,Ot.transition=i}}return!1}function _f(r,i,d){i=Jr(d,i),i=$h(r,i,1),r=Hn(r,i,1),i=mt(),r!==null&&(js(r,1,i),vt(r,i))}function Ue(r,i,d){if(r.tag===3)_f(r,r,d);else for(;i!==null;){if(i.tag===3){_f(i,r,d);break}else if(i.tag===1){var f=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Un===null||!Un.has(f))){r=Jr(d,r),r=Vh(i,r,1),i=Hn(i,r,1),r=mt(),i!==null&&(js(i,1,r),vt(i,r));break}}i=i.return}}function ay(r,i,d){var f=r.pingCache;f!==null&&f.delete(i),i=mt(),r.pingedLanes|=r.suspendedLanes&d,nt===r&&(it&d)===d&&(Ze===4||Ze===3&&(it&130023424)===it&&500>Ge()-uc?fr(r,0):dc|=d),vt(r,i)}function Sf(r,i){i===0&&((r.mode&1)===0?i=1:(i=$a,$a<<=1,($a&130023424)===0&&($a=4194304)));var d=mt();r=xn(r,i),r!==null&&(js(r,i,d),vt(r,d))}function iy(r){var i=r.memoizedState,d=0;i!==null&&(d=i.retryLane),Sf(r,d)}function oy(r,i){var d=0;switch(r.tag){case 13:var f=r.stateNode,g=r.memoizedState;g!==null&&(d=g.retryLane);break;case 19:f=r.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(i),Sf(r,d)}var Nf;Nf=function(r,i,d){if(r!==null)if(r.memoizedProps!==i.pendingProps||gt.current)yt=!0;else{if((r.lanes&d)===0&&(i.flags&128)===0)return yt=!1,Kx(r,i,d);yt=(r.flags&131072)!==0}else yt=!1,Fe&&(i.flags&1048576)!==0&&sh(i,ci,i.index);switch(i.lanes=0,i.tag){case 2:var f=i.type;_i(r,i),r=i.pendingProps;var g=Wr(i,lt.current);Xr(i,d),g=Vl(null,i,f,r,g,d);var y=Hl();return i.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,xt(f)?(y=!0,ii(i)):y=!1,i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Al(i),g.updater=wi,i.stateNode=g,g._reactInternals=i,ql(i,f,r,d),i=Zl(null,i,f,!0,y,d)):(i.tag=0,Fe&&y&&Sl(i),pt(null,i,g,d),i=i.child),i;case 16:f=i.elementType;e:{switch(_i(r,i),r=i.pendingProps,g=f._init,f=g(f._payload),i.type=f,g=i.tag=cy(f),r=Yt(f,r),g){case 0:i=Jl(null,i,f,r,d);break e;case 1:i=Qh(null,i,f,r,d);break e;case 11:i=Yh(null,i,f,r,d);break e;case 14:i=Gh(null,i,f,Yt(f.type,r),d);break e}throw Error(t(306,f,""))}return i;case 0:return f=i.type,g=i.pendingProps,g=i.elementType===f?g:Yt(f,g),Jl(r,i,f,g,d);case 1:return f=i.type,g=i.pendingProps,g=i.elementType===f?g:Yt(f,g),Qh(r,i,f,g,d);case 3:e:{if(Jh(i),r===null)throw Error(t(387));f=i.pendingProps,y=i.memoizedState,g=y.element,fh(r,i),mi(i,f,null,d);var j=i.memoizedState;if(f=j.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){g=Jr(Error(t(423)),i),i=Zh(r,i,f,d,g);break e}else if(f!==g){g=Jr(Error(t(424)),i),i=Zh(r,i,f,d,g);break e}else for(Ct=Fn(i.stateNode.containerInfo.firstChild),Nt=i,Fe=!0,Ut=null,d=uh(i,null,f,d),i.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Gr(),f===g){i=bn(r,i,d);break e}pt(r,i,f,d)}i=i.child}return i;case 5:return gh(i),r===null&&Ml(i),f=i.type,g=i.pendingProps,y=r!==null?r.memoizedProps:null,j=g.children,bl(f,g)?j=null:y!==null&&bl(f,y)&&(i.flags|=32),Xh(r,i),pt(r,i,j,d),i.child;case 6:return r===null&&Ml(i),null;case 13:return ef(r,i,d);case 4:return zl(i,i.stateNode.containerInfo),f=i.pendingProps,r===null?i.child=Kr(i,null,f,d):pt(r,i,f,d),i.child;case 11:return f=i.type,g=i.pendingProps,g=i.elementType===f?g:Yt(f,g),Yh(r,i,f,g,d);case 7:return pt(r,i,i.pendingProps,d),i.child;case 8:return pt(r,i,i.pendingProps.children,d),i.child;case 12:return pt(r,i,i.pendingProps.children,d),i.child;case 10:e:{if(f=i.type._context,g=i.pendingProps,y=i.memoizedProps,j=g.value,Te(hi,f._currentValue),f._currentValue=j,y!==null)if(Wt(y.value,j)){if(y.children===g.children&&!gt.current){i=bn(r,i,d);break e}}else for(y=i.child,y!==null&&(y.return=i);y!==null;){var P=y.dependencies;if(P!==null){j=y.child;for(var T=P.firstContext;T!==null;){if(T.context===f){if(y.tag===1){T=yn(-1,d&-d),T.tag=2;var U=y.updateQueue;if(U!==null){U=U.shared;var te=U.pending;te===null?T.next=T:(T.next=te.next,te.next=T),U.pending=T}}y.lanes|=d,T=y.alternate,T!==null&&(T.lanes|=d),Tl(y.return,d,i),P.lanes|=d;break}T=T.next}}else if(y.tag===10)j=y.type===i.type?null:y.child;else if(y.tag===18){if(j=y.return,j===null)throw Error(t(341));j.lanes|=d,P=j.alternate,P!==null&&(P.lanes|=d),Tl(j,d,i),j=y.sibling}else j=y.child;if(j!==null)j.return=y;else for(j=y;j!==null;){if(j===i){j=null;break}if(y=j.sibling,y!==null){y.return=j.return,j=y;break}j=j.return}y=j}pt(r,i,g.children,d),i=i.child}return i;case 9:return g=i.type,f=i.pendingProps.children,Xr(i,d),g=At(g),f=f(g),i.flags|=1,pt(r,i,f,d),i.child;case 14:return f=i.type,g=Yt(f,i.pendingProps),g=Yt(f.type,g),Gh(r,i,f,g,d);case 15:return Kh(r,i,i.type,i.pendingProps,d);case 17:return f=i.type,g=i.pendingProps,g=i.elementType===f?g:Yt(f,g),_i(r,i),i.tag=1,xt(f)?(r=!0,ii(i)):r=!1,Xr(i,d),Ih(i,f,g),ql(i,f,g,d),Zl(null,i,f,!0,r,d);case 19:return nf(r,i,d);case 22:return qh(r,i,d)}throw Error(t(156,i.tag))};function Cf(r,i){return au(r,i)}function ly(r,i,d,f){this.tag=r,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(r,i,d,f){return new ly(r,i,d,f)}function bc(r){return r=r.prototype,!(!r||!r.isReactComponent)}function cy(r){if(typeof r=="function")return bc(r)?1:0;if(r!=null){if(r=r.$$typeof,r===D)return 11;if(r===$)return 14}return 2}function qn(r,i){var d=r.alternate;return d===null?(d=Ft(r.tag,i,r.key,r.mode),d.elementType=r.elementType,d.type=r.type,d.stateNode=r.stateNode,d.alternate=r,r.alternate=d):(d.pendingProps=i,d.type=r.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=r.flags&14680064,d.childLanes=r.childLanes,d.lanes=r.lanes,d.child=r.child,d.memoizedProps=r.memoizedProps,d.memoizedState=r.memoizedState,d.updateQueue=r.updateQueue,i=r.dependencies,d.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},d.sibling=r.sibling,d.index=r.index,d.ref=r.ref,d}function Ai(r,i,d,f,g,y){var j=2;if(f=r,typeof r=="function")bc(r)&&(j=1);else if(typeof r=="string")j=5;else e:switch(r){case O:return mr(d.children,g,y,i);case z:j=8,g|=8;break;case G:return r=Ft(12,d,i,g|2),r.elementType=G,r.lanes=y,r;case I:return r=Ft(13,d,i,g),r.elementType=I,r.lanes=y,r;case H:return r=Ft(19,d,i,g),r.elementType=H,r.lanes=y,r;case K:return zi(d,g,y,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case W:j=10;break e;case R:j=9;break e;case D:j=11;break e;case $:j=14;break e;case X:j=16,f=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return i=Ft(j,d,i,g),i.elementType=r,i.type=f,i.lanes=y,i}function mr(r,i,d,f){return r=Ft(7,r,f,i),r.lanes=d,r}function zi(r,i,d,f){return r=Ft(22,r,f,i),r.elementType=K,r.lanes=d,r.stateNode={isHidden:!1},r}function vc(r,i,d){return r=Ft(6,r,null,i),r.lanes=d,r}function kc(r,i,d){return i=Ft(4,r.children!==null?r.children:[],r.key,i),i.lanes=d,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function dy(r,i,d,f,g){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ko(0),this.expirationTimes=Ko(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ko(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function wc(r,i,d,f,g,y,j,P,T){return r=new dy(r,i,d,P,T),i===1?(i=1,y===!0&&(i|=8)):i=0,y=Ft(3,null,null,i),r.current=y,y.stateNode=r,y.memoizedState={element:f,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Al(y),r}function uy(r,i,d){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Y,key:f==null?null:""+f,children:r,containerInfo:i,implementation:d}}function Mf(r){if(!r)return Bn;r=r._reactInternals;e:{if(rr(r)!==r||r.tag!==1)throw Error(t(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(xt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(r.tag===1){var d=r.type;if(xt(d))return th(r,d,i)}return i}function Pf(r,i,d,f,g,y,j,P,T){return r=wc(d,f,!0,r,g,y,j,P,T),r.context=Mf(null),d=r.current,f=mt(),g=Gn(d),y=yn(f,g),y.callback=i??null,Hn(d,y,g),r.current.lanes=g,js(r,g,f),vt(r,f),r}function Oi(r,i,d,f){var g=i.current,y=mt(),j=Gn(g);return d=Mf(d),i.context===null?i.context=d:i.pendingContext=d,i=yn(y,j),i.payload={element:r},f=f===void 0?null:f,f!==null&&(i.callback=f),r=Hn(g,i,j),r!==null&&(qt(r,g,j,y),pi(r,g,j)),j}function Fi(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Ef(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var d=r.retryLane;r.retryLane=d!==0&&d<i?d:i}}function jc(r,i){Ef(r,i),(r=r.alternate)&&Ef(r,i)}function hy(){return null}var Df=typeof reportError=="function"?reportError:function(r){console.error(r)};function _c(r){this._internalRoot=r}Ii.prototype.render=_c.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(t(409));Oi(r,i,null,null)},Ii.prototype.unmount=_c.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;hr(function(){Oi(null,r,null,null)}),i[fn]=null}};function Ii(r){this._internalRoot=r}Ii.prototype.unstable_scheduleHydration=function(r){if(r){var i=fu();r={blockedOn:null,target:r,priority:i};for(var d=0;d<An.length&&i!==0&&i<An[d].priority;d++);An.splice(d,0,r),d===0&&gu(r)}};function Sc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Bi(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Lf(){}function fy(r,i,d,f,g){if(g){if(typeof f=="function"){var y=f;f=function(){var U=Fi(j);y.call(U)}}var j=Pf(i,f,r,0,null,!1,!1,"",Lf);return r._reactRootContainer=j,r[fn]=j.current,Os(r.nodeType===8?r.parentNode:r),hr(),j}for(;g=r.lastChild;)r.removeChild(g);if(typeof f=="function"){var P=f;f=function(){var U=Fi(T);P.call(U)}}var T=wc(r,0,!1,null,null,!1,!1,"",Lf);return r._reactRootContainer=T,r[fn]=T.current,Os(r.nodeType===8?r.parentNode:r),hr(function(){Oi(i,T,d,f)}),T}function $i(r,i,d,f,g){var y=d._reactRootContainer;if(y){var j=y;if(typeof g=="function"){var P=g;g=function(){var T=Fi(j);P.call(T)}}Oi(i,j,r,g)}else j=fy(d,i,r,g,f);return Fi(j)}uu=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var d=ws(i.pendingLanes);d!==0&&(qo(i,d|1),vt(i,Ge()),(Ne&6)===0&&(ts=Ge()+500,$n()))}break;case 13:hr(function(){var f=xn(r,1);if(f!==null){var g=mt();qt(f,r,1,g)}}),jc(r,1)}},Xo=function(r){if(r.tag===13){var i=xn(r,134217728);if(i!==null){var d=mt();qt(i,r,134217728,d)}jc(r,134217728)}},hu=function(r){if(r.tag===13){var i=Gn(r),d=xn(r,i);if(d!==null){var f=mt();qt(d,r,i,f)}jc(r,i)}},fu=function(){return Ee},pu=function(r,i){var d=Ee;try{return Ee=r,i()}finally{Ee=d}},Vo=function(r,i,d){switch(i){case"input":if(hn(r,d),i=d.name,d.type==="radio"&&i!=null){for(d=r;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<d.length;i++){var f=d[i];if(f!==r&&f.form===r.form){var g=si(f);if(!g)throw Error(t(90));Re(f),hn(f,g)}}}break;case"textarea":Hd(r,d);break;case"select":i=d.value,i!=null&&Lr(r,!!d.multiple,i,!1)}},Jd=gc,Zd=hr;var py={usingClientEntryPoint:!1,Events:[Bs,Vr,si,Xd,Qd,gc]},ea={findFiberByHostInstance:sr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},my={bundleType:ea.bundleType,version:ea.version,rendererPackageName:ea.rendererPackageName,rendererConfig:ea.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ru(r),r===null?null:r.stateNode},findFiberByHostInstance:ea.findFiberByHostInstance||hy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vi.isDisabled&&Vi.supportsFiber)try{Ia=Vi.inject(my),en=Vi}catch{}}return kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=py,kt.createPortal=function(r,i){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sc(i))throw Error(t(200));return uy(r,i,null,d)},kt.createRoot=function(r,i){if(!Sc(r))throw Error(t(299));var d=!1,f="",g=Df;return i!=null&&(i.unstable_strictMode===!0&&(d=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),i=wc(r,1,!1,null,null,d,!1,f,g),r[fn]=i.current,Os(r.nodeType===8?r.parentNode:r),new _c(i)},kt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=ru(i),r=r===null?null:r.stateNode,r},kt.flushSync=function(r){return hr(r)},kt.hydrate=function(r,i,d){if(!Bi(i))throw Error(t(200));return $i(null,r,i,!0,d)},kt.hydrateRoot=function(r,i,d){if(!Sc(r))throw Error(t(405));var f=d!=null&&d.hydratedSources||null,g=!1,y="",j=Df;if(d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(y=d.identifierPrefix),d.onRecoverableError!==void 0&&(j=d.onRecoverableError)),i=Pf(i,null,r,1,d??null,g,!1,y,j),r[fn]=i.current,Os(r),f)for(r=0;r<f.length;r++)d=f[r],g=d._getVersion,g=g(d._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[d,g]:i.mutableSourceEagerHydrationData.push(d,g);return new Ii(i)},kt.render=function(r,i,d){if(!Bi(i))throw Error(t(200));return $i(null,r,i,!1,d)},kt.unmountComponentAtNode=function(r){if(!Bi(r))throw Error(t(40));return r._reactRootContainer?(hr(function(){$i(null,null,r,!1,function(){r._reactRootContainer=null,r[fn]=null})}),!0):!1},kt.unstable_batchedUpdates=gc,kt.unstable_renderSubtreeIntoContainer=function(r,i,d,f){if(!Bi(d))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return $i(r,i,d,!1,f)},kt.version="18.3.1-next-f1338f8080-20240426",kt}var Bf;function jy(){if(Bf)return Mc.exports;Bf=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Mc.exports=wy(),Mc.exports}var $f;function _y(){if($f)return Hi;$f=1;var n=jy();return Hi.createRoot=n.createRoot,Hi.hydrateRoot=n.hydrateRoot,Hi}var Sy=_y();const Ny=_p(Sy);/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Vf="popstate";function Cy(n={}){function e(s,a){let{pathname:o,search:c,hash:u}=s.location;return Jc("",{pathname:o,search:c,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(s,a){return typeof a=="string"?a:ba(a)}return Py(e,t,null,n)}function We(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Jt(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function My(){return Math.random().toString(36).substring(2,10)}function Hf(n,e){return{usr:n.state,key:n.key,idx:e}}function Jc(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?hs(e):e,state:t,key:e&&e.key||s||My()}}function ba({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function hs(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function Py(n,e,t,s={}){let{window:a=document.defaultView,v5Compat:o=!1}=s,c=a.history,u="POP",h=null,p=m();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function m(){return(c.state||{idx:null}).idx}function x(){u="POP";let w=m(),N=w==null?null:w-p;p=w,h&&h({action:u,location:v.location,delta:N})}function b(w,N){u="PUSH";let C=Jc(v.location,w,N);p=m()+1;let M=Hf(C,p),L=v.createHref(C);try{c.pushState(M,"",L)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;a.location.assign(L)}o&&h&&h({action:u,location:v.location,delta:1})}function k(w,N){u="REPLACE";let C=Jc(v.location,w,N);p=m();let M=Hf(C,p),L=v.createHref(C);c.replaceState(M,"",L),o&&h&&h({action:u,location:v.location,delta:0})}function _(w){return Ey(w)}let v={get action(){return u},get location(){return n(a,c)},listen(w){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(Vf,x),h=w,()=>{a.removeEventListener(Vf,x),h=null}},createHref(w){return e(a,w)},createURL:_,encodeLocation(w){let N=_(w);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:b,replace:k,go(w){return c.go(w)}};return v}function Ey(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),We(t,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:ba(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function Sp(n,e,t="/"){return Dy(n,e,t,!1)}function Dy(n,e,t,s){let a=typeof e=="string"?hs(e):e,o=Pn(a.pathname||"/",t);if(o==null)return null;let c=Np(n);Ly(c);let u=null;for(let h=0;u==null&&h<c.length;++h){let p=Hy(o);u=$y(c[h],p,s)}return u}function Np(n,e=[],t=[],s="",a=!1){let o=(c,u,h=a,p)=>{let m={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(s)&&h)return;We(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length)}let x=Mn([s,m.relativePath]),b=t.concat(m);c.children&&c.children.length>0&&(We(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),Np(c.children,e,b,x,h)),!(c.path==null&&!c.index)&&e.push({path:x,score:Iy(x,c.index),routesMeta:b})};return n.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))o(c,u);else for(let h of Cp(c.path))o(c,u,!0,h)}),e}function Cp(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(s.length===0)return a?[o,""]:[o];let c=Cp(s.join("/")),u=[];return u.push(...c.map(h=>h===""?o:[o,h].join("/"))),a&&u.push(...c),u.map(h=>n.startsWith("/")&&h===""?"/":h)}function Ly(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:By(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var Ty=/^:[\w-]+$/,Ry=3,Ay=2,zy=1,Oy=10,Fy=-2,Wf=n=>n==="*";function Iy(n,e){let t=n.split("/"),s=t.length;return t.some(Wf)&&(s+=Fy),e&&(s+=Ay),t.filter(a=>!Wf(a)).reduce((a,o)=>a+(Ty.test(o)?Ry:o===""?zy:Oy),s)}function By(n,e){return n.length===e.length&&n.slice(0,-1).every((s,a)=>s===e[a])?n[n.length-1]-e[e.length-1]:0}function $y(n,e,t=!1){let{routesMeta:s}=n,a={},o="/",c=[];for(let u=0;u<s.length;++u){let h=s[u],p=u===s.length-1,m=o==="/"?e:e.slice(o.length)||"/",x=po({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},m),b=h.route;if(!x&&p&&t&&!s[s.length-1].route.index&&(x=po({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!x)return null;Object.assign(a,x.params),c.push({params:a,pathname:Mn([o,x.pathname]),pathnameBase:Gy(Mn([o,x.pathnameBase])),route:b}),x.pathnameBase!=="/"&&(o=Mn([o,x.pathnameBase]))}return c}function po(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=Vy(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:s.reduce((p,{paramName:m,isOptional:x},b)=>{if(m==="*"){let _=u[b]||"";c=o.slice(0,o.length-_.length).replace(/(.)\/+$/,"$1")}const k=u[b];return x&&!k?p[m]=void 0:p[m]=(k||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:c,pattern:n}}function Vy(n,e=!1,t=!0){Jt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,h)=>(s.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(s.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function Hy(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jt(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Pn(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function Wy(n,e="/"){let{pathname:t,search:s="",hash:a=""}=typeof n=="string"?hs(n):n;return{pathname:t?t.startsWith("/")?t:Uy(t,e):e,search:Ky(s),hash:qy(a)}}function Uy(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Dc(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Yy(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Mp(n){let e=Yy(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Pp(n,e,t,s=!1){let a;typeof n=="string"?a=hs(n):(a={...n},We(!a.pathname||!a.pathname.includes("?"),Dc("?","pathname","search",a)),We(!a.pathname||!a.pathname.includes("#"),Dc("#","pathname","hash",a)),We(!a.search||!a.search.includes("#"),Dc("#","search","hash",a)));let o=n===""||a.pathname==="",c=o?"/":a.pathname,u;if(c==null)u=t;else{let x=e.length-1;if(!s&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),x-=1;a.pathname=b.join("/")}u=x>=0?e[x]:"/"}let h=Wy(a,u),p=c&&c!=="/"&&c.endsWith("/"),m=(o||c===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||m)&&(h.pathname+="/"),h}var Mn=n=>n.join("/").replace(/\/\/+/g,"/"),Gy=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Ky=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,qy=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Xy(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Ep=["POST","PUT","PATCH","DELETE"];new Set(Ep);var Qy=["GET",...Ep];new Set(Qy);var fs=S.createContext(null);fs.displayName="DataRouter";var No=S.createContext(null);No.displayName="DataRouterState";S.createContext(!1);var Dp=S.createContext({isTransitioning:!1});Dp.displayName="ViewTransition";var Jy=S.createContext(new Map);Jy.displayName="Fetchers";var Zy=S.createContext(null);Zy.displayName="Await";var dn=S.createContext(null);dn.displayName="Navigation";var Ma=S.createContext(null);Ma.displayName="Location";var un=S.createContext({outlet:null,matches:[],isDataRoute:!1});un.displayName="Route";var yd=S.createContext(null);yd.displayName="RouteError";function eb(n,{relative:e}={}){We(Pa(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=S.useContext(dn),{hash:a,pathname:o,search:c}=Ea(n,{relative:e}),u=o;return t!=="/"&&(u=o==="/"?t:Mn([t,o])),s.createHref({pathname:u,search:c,hash:a})}function Pa(){return S.useContext(Ma)!=null}function nr(){return We(Pa(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Ma).location}var Lp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Tp(n){S.useContext(dn).static||S.useLayoutEffect(n)}function Vt(){let{isDataRoute:n}=S.useContext(un);return n?pb():tb()}function tb(){We(Pa(),"useNavigate() may be used only in the context of a <Router> component.");let n=S.useContext(fs),{basename:e,navigator:t}=S.useContext(dn),{matches:s}=S.useContext(un),{pathname:a}=nr(),o=JSON.stringify(Mp(s)),c=S.useRef(!1);return Tp(()=>{c.current=!0}),S.useCallback((h,p={})=>{if(Jt(c.current,Lp),!c.current)return;if(typeof h=="number"){t.go(h);return}let m=Pp(h,JSON.parse(o),a,p.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Mn([e,m.pathname])),(p.replace?t.replace:t.push)(m,p.state,p)},[e,t,o,a,n])}S.createContext(null);function nb(){let{matches:n}=S.useContext(un),e=n[n.length-1];return e?e.params:{}}function Ea(n,{relative:e}={}){let{matches:t}=S.useContext(un),{pathname:s}=nr(),a=JSON.stringify(Mp(t));return S.useMemo(()=>Pp(n,JSON.parse(a),s,e==="path"),[n,a,s,e])}function rb(n,e){return Rp(n,e)}function Rp(n,e,t,s,a){We(Pa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=S.useContext(dn),{matches:c}=S.useContext(un),u=c[c.length-1],h=u?u.params:{},p=u?u.pathname:"/",m=u?u.pathnameBase:"/",x=u&&u.route;{let C=x&&x.path||"";Ap(p,!x||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let b=nr(),k;if(e){let C=typeof e=="string"?hs(e):e;We(m==="/"||C.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${C.pathname}" was given in the \`location\` prop.`),k=C}else k=b;let _=k.pathname||"/",v=_;if(m!=="/"){let C=m.replace(/^\//,"").split("/");v="/"+_.replace(/^\//,"").split("/").slice(C.length).join("/")}let w=Sp(n,{pathname:v});Jt(x||w!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Jt(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=lb(w&&w.map(C=>Object.assign({},C,{params:Object.assign({},h,C.params),pathname:Mn([m,o.encodeLocation?o.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?m:Mn([m,o.encodeLocation?o.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),c,t,s,a);return e&&N?S.createElement(Ma.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},N):N}function sb(){let n=fb(),e=Xy(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=S.createElement(S.Fragment,null,S.createElement("p",null,"💿 Hey developer 👋"),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:o},"ErrorBoundary")," or"," ",S.createElement("code",{style:o},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),t?S.createElement("pre",{style:a},t):null,c)}var ab=S.createElement(sb,null),ib=class extends S.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?S.createElement(un.Provider,{value:this.props.routeContext},S.createElement(yd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ob({routeContext:n,match:e,children:t}){let s=S.useContext(fs);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(un.Provider,{value:n},t)}function lb(n,e=[],t=null,s=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,c=t?.errors;if(c!=null){let p=o.findIndex(m=>m.route.id&&c?.[m.route.id]!==void 0);We(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,h=-1;if(t)for(let p=0;p<o.length;p++){let m=o[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.id){let{loaderData:x,errors:b}=t,k=m.route.loader&&!x.hasOwnProperty(m.route.id)&&(!b||b[m.route.id]===void 0);if(m.route.lazy||k){u=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((p,m,x)=>{let b,k=!1,_=null,v=null;t&&(b=c&&m.route.id?c[m.route.id]:void 0,_=m.route.errorElement||ab,u&&(h<0&&x===0?(Ap("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,v=null):h===x&&(k=!0,v=m.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,x+1)),N=()=>{let C;return b?C=_:k?C=v:m.route.Component?C=S.createElement(m.route.Component,null):m.route.element?C=m.route.element:C=p,S.createElement(ob,{match:m,routeContext:{outlet:p,matches:w,isDataRoute:t!=null},children:C})};return t&&(m.route.ErrorBoundary||m.route.errorElement||x===0)?S.createElement(ib,{location:t.location,revalidation:t.revalidation,component:_,error:b,children:N(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:s}):N()},null)}function bd(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cb(n){let e=S.useContext(fs);return We(e,bd(n)),e}function db(n){let e=S.useContext(No);return We(e,bd(n)),e}function ub(n){let e=S.useContext(un);return We(e,bd(n)),e}function vd(n){let e=ub(n),t=e.matches[e.matches.length-1];return We(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function hb(){return vd("useRouteId")}function fb(){let n=S.useContext(yd),e=db("useRouteError"),t=vd("useRouteError");return n!==void 0?n:e.errors?.[t]}function pb(){let{router:n}=cb("useNavigate"),e=vd("useNavigate"),t=S.useRef(!1);return Tp(()=>{t.current=!0}),S.useCallback(async(a,o={})=>{Jt(t.current,Lp),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var Uf={};function Ap(n,e,t){!e&&!Uf[n]&&(Uf[n]=!0,Jt(!1,t))}S.memo(mb);function mb({routes:n,future:e,state:t,unstable_onError:s}){return Rp(n,void 0,t,s,e)}function Pt(n){We(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gb({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:a,static:o=!1}){We(!Pa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:c,navigator:a,static:o,future:{}}),[c,a,o]);typeof t=="string"&&(t=hs(t));let{pathname:h="/",search:p="",hash:m="",state:x=null,key:b="default"}=t,k=S.useMemo(()=>{let _=Pn(h,c);return _==null?null:{location:{pathname:_,search:p,hash:m,state:x,key:b},navigationType:s}},[c,h,p,m,x,b,s]);return Jt(k!=null,`<Router basename="${c}"> is not able to match the URL "${h}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:S.createElement(dn.Provider,{value:u},S.createElement(Ma.Provider,{children:e,value:k}))}function xb({children:n,location:e}){return rb(Zc(n),e)}function Zc(n,e=[]){let t=[];return S.Children.forEach(n,(s,a)=>{if(!S.isValidElement(s))return;let o=[...e,a];if(s.type===S.Fragment){t.push.apply(t,Zc(s.props.children,o));return}We(s.type===Pt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),We(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Zc(s.props.children,o)),t.push(c)}),t}var lo="get",co="application/x-www-form-urlencoded";function Co(n){return n!=null&&typeof n.tagName=="string"}function yb(n){return Co(n)&&n.tagName.toLowerCase()==="button"}function bb(n){return Co(n)&&n.tagName.toLowerCase()==="form"}function vb(n){return Co(n)&&n.tagName.toLowerCase()==="input"}function kb(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function wb(n,e){return n.button===0&&(!e||e==="_self")&&!kb(n)}function ed(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let s=n[t];return e.concat(Array.isArray(s)?s.map(a=>[t,a]):[[t,s]])},[]))}function jb(n,e){let t=ed(n);return e&&e.forEach((s,a)=>{t.has(a)||e.getAll(a).forEach(o=>{t.append(a,o)})}),t}var Wi=null;function _b(){if(Wi===null)try{new FormData(document.createElement("form"),0),Wi=!1}catch{Wi=!0}return Wi}var Sb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lc(n){return n!=null&&!Sb.has(n)?(Jt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${co}"`),null):n}function Nb(n,e){let t,s,a,o,c;if(bb(n)){let u=n.getAttribute("action");s=u?Pn(u,e):null,t=n.getAttribute("method")||lo,a=Lc(n.getAttribute("enctype"))||co,o=new FormData(n)}else if(yb(n)||vb(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||u.getAttribute("action");if(s=h?Pn(h,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||lo,a=Lc(n.getAttribute("formenctype"))||Lc(u.getAttribute("enctype"))||co,o=new FormData(u,n),!_b()){let{name:p,type:m,value:x}=n;if(m==="image"){let b=p?`${p}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else p&&o.append(p,x)}}else{if(Co(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=lo,s=null,a=co,c=n}return o&&a==="text/plain"&&(c=o,o=void 0),{action:s,method:t.toLowerCase(),encType:a,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function kd(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Cb(n,e,t){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&Pn(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function Mb(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Pb(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Eb(n,e,t){let s=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let c=await Mb(o,t);return c.links?c.links():[]}return[]}));return Rb(s.flat(1).filter(Pb).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Yf(n,e,t,s,a,o){let c=(h,p)=>t[p]?h.route.id!==t[p].route.id:!0,u=(h,p)=>t[p].pathname!==h.pathname||t[p].route.path?.endsWith("*")&&t[p].params["*"]!==h.params["*"];return o==="assets"?e.filter((h,p)=>c(h,p)||u(h,p)):o==="data"?e.filter((h,p)=>{let m=s.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(c(h,p)||u(h,p))return!0;if(h.route.shouldRevalidate){let x=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function Db(n,e,{includeHydrateFallback:t}={}){return Lb(n.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function Lb(n){return[...new Set(n)]}function Tb(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function Rb(n,e){let t=new Set;return new Set(e),n.reduce((s,a)=>{let o=JSON.stringify(Tb(a));return t.has(o)||(t.add(o),s.push({key:o,link:a})),s},[])}function zp(){let n=S.useContext(fs);return kd(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Ab(){let n=S.useContext(No);return kd(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var wd=S.createContext(void 0);wd.displayName="FrameworkContext";function Op(){let n=S.useContext(wd);return kd(n,"You must render this element inside a <HydratedRouter> element"),n}function zb(n,e){let t=S.useContext(wd),[s,a]=S.useState(!1),[o,c]=S.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:p,onMouseLeave:m,onTouchStart:x}=e,b=S.useRef(null);S.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let v=N=>{N.forEach(C=>{c(C.isIntersecting)})},w=new IntersectionObserver(v,{threshold:.5});return b.current&&w.observe(b.current),()=>{w.disconnect()}}},[n]),S.useEffect(()=>{if(s){let v=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(v)}}},[s]);let k=()=>{a(!0)},_=()=>{a(!1),c(!1)};return t?n!=="intent"?[o,b,{}]:[o,b,{onFocus:na(u,k),onBlur:na(h,_),onMouseEnter:na(p,k),onMouseLeave:na(m,_),onTouchStart:na(x,k)}]:[!1,b,{}]}function na(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Ob({page:n,...e}){let{router:t}=zp(),s=S.useMemo(()=>Sp(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?S.createElement(Ib,{page:n,matches:s,...e}):null}function Fb(n){let{manifest:e,routeModules:t}=Op(),[s,a]=S.useState([]);return S.useEffect(()=>{let o=!1;return Eb(n,e,t).then(c=>{o||a(c)}),()=>{o=!0}},[n,e,t]),s}function Ib({page:n,matches:e,...t}){let s=nr(),{manifest:a,routeModules:o}=Op(),{basename:c}=zp(),{loaderData:u,matches:h}=Ab(),p=S.useMemo(()=>Yf(n,e,h,a,s,"data"),[n,e,h,a,s]),m=S.useMemo(()=>Yf(n,e,h,a,s,"assets"),[n,e,h,a,s]),x=S.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let _=new Set,v=!1;if(e.forEach(N=>{let C=a.routes[N.route.id];!C||!C.hasLoader||(!p.some(M=>M.route.id===N.route.id)&&N.route.id in u&&o[N.route.id]?.shouldRevalidate||C.hasClientLoader?v=!0:_.add(N.route.id))}),_.size===0)return[];let w=Cb(n,c,"data");return v&&_.size>0&&w.searchParams.set("_routes",e.filter(N=>_.has(N.route.id)).map(N=>N.route.id).join(",")),[w.pathname+w.search]},[c,u,s,a,p,e,n,o]),b=S.useMemo(()=>Db(m,a),[m,a]),k=Fb(m);return S.createElement(S.Fragment,null,x.map(_=>S.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...t})),b.map(_=>S.createElement("link",{key:_,rel:"modulepreload",href:_,...t})),k.map(({key:_,link:v})=>S.createElement("link",{key:_,nonce:t.nonce,...v})))}function Bb(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Fp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Fp&&(window.__reactRouterVersion="7.9.1")}catch{}function $b({basename:n,children:e,window:t}){let s=S.useRef();s.current==null&&(s.current=Cy({window:t,v5Compat:!0}));let a=s.current,[o,c]=S.useState({action:a.action,location:a.location}),u=S.useCallback(h=>{S.startTransition(()=>c(h))},[c]);return S.useLayoutEffect(()=>a.listen(u),[a,u]),S.createElement(gb,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:a})}var Ip=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_e=S.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:a,reloadDocument:o,replace:c,state:u,target:h,to:p,preventScrollReset:m,viewTransition:x,...b},k){let{basename:_}=S.useContext(dn),v=typeof p=="string"&&Ip.test(p),w,N=!1;if(typeof p=="string"&&v&&(w=p,Fp))try{let G=new URL(window.location.href),W=p.startsWith("//")?new URL(G.protocol+p):new URL(p),R=Pn(W.pathname,_);W.origin===G.origin&&R!=null?p=R+W.search+W.hash:N=!0}catch{Jt(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=eb(p,{relative:a}),[M,L,E]=zb(s,b),Y=Ub(p,{replace:c,state:u,target:h,preventScrollReset:m,relative:a,viewTransition:x});function O(G){e&&e(G),G.defaultPrevented||Y(G)}let z=S.createElement("a",{...b,...E,href:w||C,onClick:N||o?e:O,ref:Bb(k,L),target:h,"data-discover":!v&&t==="render"?"true":void 0});return M&&!v?S.createElement(S.Fragment,null,z,S.createElement(Ob,{page:C})):z});_e.displayName="Link";var Vb=S.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:a=!1,style:o,to:c,viewTransition:u,children:h,...p},m){let x=Ea(c,{relative:p.relative}),b=nr(),k=S.useContext(No),{navigator:_,basename:v}=S.useContext(dn),w=k!=null&&Xb(x)&&u===!0,N=_.encodeLocation?_.encodeLocation(x).pathname:x.pathname,C=b.pathname,M=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;t||(C=C.toLowerCase(),M=M?M.toLowerCase():null,N=N.toLowerCase()),M&&v&&(M=Pn(M,v)||M);const L=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let E=C===N||!a&&C.startsWith(N)&&C.charAt(L)==="/",Y=M!=null&&(M===N||!a&&M.startsWith(N)&&M.charAt(N.length)==="/"),O={isActive:E,isPending:Y,isTransitioning:w},z=E?e:void 0,G;typeof s=="function"?G=s(O):G=[s,E?"active":null,Y?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let W=typeof o=="function"?o(O):o;return S.createElement(_e,{...p,"aria-current":z,className:G,ref:m,style:W,to:c,viewTransition:u},typeof h=="function"?h(O):h)});Vb.displayName="NavLink";var Hb=S.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:a,state:o,method:c=lo,action:u,onSubmit:h,relative:p,preventScrollReset:m,viewTransition:x,...b},k)=>{let _=Kb(),v=qb(u,{relative:p}),w=c.toLowerCase()==="get"?"get":"post",N=typeof u=="string"&&Ip.test(u),C=M=>{if(h&&h(M),M.defaultPrevented)return;M.preventDefault();let L=M.nativeEvent.submitter,E=L?.getAttribute("formmethod")||c;_(L||M.currentTarget,{fetcherKey:e,method:E,navigate:t,replace:a,state:o,relative:p,preventScrollReset:m,viewTransition:x})};return S.createElement("form",{ref:k,method:w,action:v,onSubmit:s?h:C,...b,"data-discover":!N&&n==="render"?"true":void 0})});Hb.displayName="Form";function Wb(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Bp(n){let e=S.useContext(fs);return We(e,Wb(n)),e}function Ub(n,{target:e,replace:t,state:s,preventScrollReset:a,relative:o,viewTransition:c}={}){let u=Vt(),h=nr(),p=Ea(n,{relative:o});return S.useCallback(m=>{if(wb(m,e)){m.preventDefault();let x=t!==void 0?t:ba(h)===ba(p);u(n,{replace:x,state:s,preventScrollReset:a,relative:o,viewTransition:c})}},[h,u,p,t,s,e,n,a,o,c])}function $p(n){Jt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=S.useRef(ed(n)),t=S.useRef(!1),s=nr(),a=S.useMemo(()=>jb(s.search,t.current?null:e.current),[s.search]),o=Vt(),c=S.useCallback((u,h)=>{const p=ed(typeof u=="function"?u(new URLSearchParams(a)):u);t.current=!0,o("?"+p,h)},[o,a]);return[a,c]}var Yb=0,Gb=()=>`__${String(++Yb)}__`;function Kb(){let{router:n}=Bp("useSubmit"),{basename:e}=S.useContext(dn),t=hb();return S.useCallback(async(s,a={})=>{let{action:o,method:c,encType:u,formData:h,body:p}=Nb(s,e);if(a.navigate===!1){let m=a.fetcherKey||Gb();await n.fetch(m,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:h,body:p,formMethod:a.method||c,formEncType:a.encType||u,flushSync:a.flushSync})}else await n.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:h,body:p,formMethod:a.method||c,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function qb(n,{relative:e}={}){let{basename:t}=S.useContext(dn),s=S.useContext(un);We(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),o={...Ea(n||".",{relative:e})},c=nr();if(n==null){o.search=c.search;let u=new URLSearchParams(o.search),h=u.getAll("index");if(h.some(m=>m==="")){u.delete("index"),h.filter(x=>x).forEach(x=>u.append("index",x));let m=u.toString();o.search=m?`?${m}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Mn([t,o.pathname])),ba(o)}function Xb(n,{relative:e}={}){let t=S.useContext(Dp);We(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Bp("useViewTransitionState"),a=Ea(n,{relative:e});if(!t.isTransitioning)return!1;let o=Pn(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=Pn(t.nextLocation.pathname,s)||t.nextLocation.pathname;return po(a.pathname,c)!=null||po(a.pathname,o)!=null}const Qb=()=>{const n=new Date().getHours();return n>=5&&n<12?"morning":n>=12&&n<17?"afternoon":n>=17&&n<21?"evening":"night"},Jb=n=>n==="morning"?"Good morning":n==="afternoon"?"Good afternoon":n==="evening"?"Good evening":"Hello",Zb=()=>`Happy ${["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date().getDay()]}`,ev=()=>{const n=["Welcome back","Good to see you","What's new","Nice to have you","How's it going","Hope you're well","Ready to get started","Let's make it a good one"];return n[Math.floor(Math.random()*n.length)]},tv=()=>{const n=new Date().toISOString().slice(0,10),e=Qb(),t=localStorage.getItem("lastGreetingDay"),s=localStorage.getItem("lastGreetingPeriod");let a;return t!==n?(a=Zb(),localStorage.setItem("lastGreetingDay",n),localStorage.setItem("lastGreetingPeriod",e),a):s!==e?(a=Jb(e),localStorage.setItem("lastGreetingPeriod",e),a):(a=ev(),a)},Vp=S.createContext(),Da=()=>{const n=S.useContext(Vp);if(!n)throw new Error("useChartData must be used within ChartDataProvider");return n},nv=({children:n})=>{const[e,t]=S.useState({data:[],columns:[],types:{},summary:{},chartTitle:"",xAxis:"",yAxis:"",chartOptions:{type:"bar",color:"#2563eb",gradient:!1,showLabels:!1,sort:"none",orientation:"vertical"}}),[s,a]=S.useState(!1);S.useEffect(()=>{o()},[]),S.useEffect(()=>{s&&c()},[e,s]);const o=()=>{try{const v=localStorage.getItem("chartData");if(v){const w=JSON.parse(v);t(N=>({...N,...w}))}a(!0)}catch(v){console.error("Failed to load chart data from storage:",v),a(!0)}},c=()=>{try{localStorage.setItem("chartData",JSON.stringify(e)),localStorage.setItem("uploadedData",JSON.stringify(e.data)),localStorage.setItem("uploadedColumns",JSON.stringify(e.columns)),localStorage.setItem("chartTitle",e.chartTitle),localStorage.setItem("currentXAxis",e.xAxis),localStorage.setItem("currentYAxis",e.yAxis)}catch(v){console.error("Failed to save chart data to storage:",v)}},u=v=>{t(w=>({...w,...v}))},h=v=>{t(w=>({...w,data:v}))},p=v=>{t(w=>({...w,columns:v}))},m=v=>{t(w=>({...w,chartOptions:{...w.chartOptions,...v}}))},x=(v,w)=>{t(N=>({...N,xAxis:v,yAxis:w}))},b=()=>{t({data:[],columns:[],types:{},summary:{},chartTitle:"",xAxis:"",yAxis:"",chartOptions:{type:"bar",color:"#2563eb",gradient:!1,showLabels:!1,sort:"none",orientation:"vertical"}}),localStorage.removeItem("chartData"),localStorage.removeItem("uploadedData"),localStorage.removeItem("uploadedColumns"),localStorage.removeItem("chartTitle"),localStorage.removeItem("currentXAxis"),localStorage.removeItem("currentYAxis")},k=e.data.length>0,_={chartData:e,updateChartData:u,updateData:h,updateColumns:p,updateChartOptions:m,updateAxes:x,clearData:b,hasData:k,isDataLoaded:s};return l.jsx(Vp.Provider,{value:_,children:n})};function rv({title:n="Upload Data",hint:e="",accept:t="*/*",multiple:s=!1,files:a=[],setFiles:o=()=>{},onDrop:c=null,viewMode:u="grid",setViewMode:h=()=>{},onUploadClick:p=()=>{},primaryLabel:m="Upload & Process"}){const x=S.useRef(null),b=_=>{const v=Array.from(_.target.files||[]);v.length&&o(v)},k=_=>{_.preventDefault();const v=Array.from(_.dataTransfer.files||[]);c?c(_,v):v.length&&o(v)};return l.jsxs("section",{className:"rounded-2xl bg-white border border-gray-200 shadow-sm dark:bg-ink/80 dark:border-white/5 p-5 max-w-3xl mx-auto",children:[l.jsx("h3",{className:"font-display text-lg mb-1",children:n}),e&&l.jsx("p",{className:"text-sm text-gray-500 mb-4",children:e}),l.jsxs("div",{onDrop:k,onDragOver:_=>_.preventDefault(),className:"rounded-xl p-6 text-center transition bg-white border dark:bg-ink/80",style:{boxShadow:"0 6px 14px rgba(20,24,40,0.05)"},children:[l.jsx("p",{className:"mb-2 font-medium text-gray-700 dark:text-slate-300",children:"Drag & drop your file here"}),l.jsxs("p",{className:"text-xs mb-4 text-gray-500 dark:text-slate-400",children:["Accepted: ",t]}),l.jsxs("div",{className:"flex items-center justify-center gap-3",children:[l.jsx("button",{type:"button",onClick:()=>x.current?.click(),className:"px-4 py-2 rounded-xl border border-gray-300 text-gray-700 hover:text-black hover:border-neonBlue/60 transition",children:"Choose File"}),l.jsx("input",{ref:x,type:"file",accept:t,multiple:s,onChange:b,className:"hidden"}),l.jsx("div",{className:"text-xs text-gray-700 dark:text-slate-300 truncate max-w-[220px]",children:a.length?l.jsxs(l.Fragment,{children:["Selected:"," ",l.jsx("span",{className:"text-neonYellow",children:a.map(_=>_.name||_.filename).join(", ")})]}):l.jsx("span",{children:"No file chosen"})})]}),l.jsx("div",{className:"mt-4 flex items-center justify-center gap-2",children:["grid","details","list"].map(_=>l.jsx("button",{onClick:()=>h(_),className:`px-3 py-1 rounded ${u===_?"bg-gray-100":""}`,children:_.charAt(0).toUpperCase()+_.slice(1)},_))})]}),l.jsx("div",{className:"mt-4",children:l.jsx("button",{onClick:p,className:"w-full px-4 py-3 rounded-2xl bg-neonBlue text-white shadow transition font-medium",children:m})})]})}function sv({action:n=null,accept:e=".csv,.xlsx,.xls",multiple:t=!1,maxFiles:s=10,onResult:a=()=>{},initialFiles:o=null}){const{updateChartData:c}=Da(),[u,h]=S.useState(o?[].concat(o):[]),[p,m]=S.useState(0),[x,b]=S.useState(!1),[k,_]=S.useState("grid");S.useRef(null),S.useEffect(()=>()=>u.forEach(M=>M.__previewUrl&&URL.revokeObjectURL(M.__previewUrl)),[u]);const v=M=>{if(!t&&M.length>1)return alert("Only one file allowed"),!1;if(M.length>s)return alert(`Max ${s}`),!1;const L=e.split(",").map(E=>E.trim().toLowerCase());for(const E of M){const Y="."+E.name.split(".").pop().toLowerCase();if(L[0]!=="*/*"&&!L.includes(Y))return alert(`Not allowed: ${E.name}`),!1}return!0},w=M=>M.map(L=>{try{L.__previewUrl=URL.createObjectURL(L)}catch{}return L}),N=M=>{if(!M)return{data:[],columns:[]};console.info("Raw response for normalization:",M);let L=[],E=[];const Y=[M.data,M.rows,M.records,M.content,M];for(const O of Y)if(O&&Array.isArray(O)&&O.length>0){L=O;break}if(L.length===0&&M&&typeof M=="object"&&!Array.isArray(M)){const O=Object.keys(M),z=O[0];if(z&&Array.isArray(M[z])){const G=Math.max(...O.map(W=>Array.isArray(M[W])?M[W].length:0));L=[];for(let W=0;W<G;W++){const R={};O.forEach(D=>{R[D]=Array.isArray(M[D])?M[D][W]:M[D]}),L.push(R)}E=O}}if(E.length===0){const O=[M.columns,M.headers,M.fields,L.length>0?Object.keys(L[0]):[]];for(const z of O)if(Array.isArray(z)&&z.length>0){E=z;break}}return L.length>0&&Array.isArray(L[0])&&(L=L.map(O=>{const z={};return O.forEach((G,W)=>{const R=E[W]||`Column_${W+1}`;z[R]=G}),z})),E.length===0&&L.length>0&&(E=Object.keys(L[0])),L.length===0?(console.warn("No data could be extracted from response, returning empty structure"),{data:[],columns:[]}):(console.info("Universal normalization result:",{dataLength:L.length,columns:E,sampleRow:L[0]}),{data:L,columns:E})},C=()=>{if(!u.length)return alert("Select a file first");b(!0),m(0);const M=new FormData;t?u.forEach(E=>M.append("files",E)):M.append("file",u[0]);const L=new XMLHttpRequest;L.open("POST",n||"/api/upload",!0),L.upload.onprogress=E=>E.lengthComputable&&m(Math.round(E.loaded/E.total*100)),L.onload=()=>{if(b(!1),L.status>=200&&L.status<300)try{const E=JSON.parse(L.responseText);console.info("Backend response:",E);const{data:Y,columns:O}=N(E),z={data:Y,columns:O,types:E.types||{},summary:E.summary||{},chartTitle:E.chart_title||E.filename||"Processed Data",xAxis:E.x_axis||O[0]||"",yAxis:E.y_axis||O[1]||O[0]||"",chartOptions:{type:"bar",color:"#2563eb",gradient:!1,showLabels:!1,sort:"none",orientation:"vertical"}};c(z),a(E);const G=E.message||`Processed: ${E.filename||"file"}`;alert(G)}catch(E){console.error("Response parsing error:",E),alert("Upload successful but response parsing failed. Please try again.")}else console.warn("Upload failed:",L.status,L.responseText),alert("Upload failed. Please check your file and try again.")},L.onerror=()=>{b(!1),alert("Network error occurred during upload.")},L.send(M)};return l.jsxs("div",{className:"relative",children:[l.jsx(rv,{accept:e,multiple:t,files:u,setFiles:M=>h(w(M)),onDrop:(M,L)=>v(L)&&h(w(L)),viewMode:k,setViewMode:_,onUploadClick:C,primaryLabel:x?`Uploading ${p}%`:"Upload & Process"}),l.jsx("div",{className:"mt-4",children:u.length===0?l.jsx("div",{className:"text-sm text-gray-500",children:"No files selected"}):k==="list"?l.jsx("ul",{children:u.map((M,L)=>l.jsx("li",{children:M.name},L))}):k==="details"?l.jsx("table",{children:l.jsx("tbody",{children:u.map((M,L)=>l.jsxs("tr",{children:[l.jsx("td",{children:M.name}),l.jsx("td",{children:M.size?`${Math.round(M.size/1024)} KB`:""})]},L))})}):l.jsx("div",{className:"grid grid-cols-2 gap-4",children:u.map((M,L)=>l.jsxs("div",{className:"p-2 border rounded text-center",children:[l.jsx("div",{className:"h-24 flex items-center justify-center",children:M.__previewUrl?l.jsx("img",{src:M.__previewUrl,alt:"",className:"max-h-24"}):M.name.split(".").pop()}),l.jsx("div",{className:"truncate text-sm",children:M.name})]},L))})}),x&&l.jsx("div",{className:"mt-2",children:l.jsx("div",{className:"w-full h-2 bg-gray-200",children:l.jsx("div",{className:"h-2 bg-blue-500",style:{width:`${p}%`}})})})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function La(n){return n+.5|0}const Qn=(n,e,t)=>Math.max(Math.min(n,t),e);function ca(n){return Qn(La(n*2.55),0,255)}function er(n){return Qn(La(n*255),0,255)}function _n(n){return Qn(La(n/2.55)/100,0,1)}function Gf(n){return Qn(La(n*100),0,100)}const It={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},td=[..."0123456789ABCDEF"],av=n=>td[n&15],iv=n=>td[(n&240)>>4]+td[n&15],Ui=n=>(n&240)>>4===(n&15),ov=n=>Ui(n.r)&&Ui(n.g)&&Ui(n.b)&&Ui(n.a);function lv(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&It[n[1]]*17,g:255&It[n[2]]*17,b:255&It[n[3]]*17,a:e===5?It[n[4]]*17:255}:(e===7||e===9)&&(t={r:It[n[1]]<<4|It[n[2]],g:It[n[3]]<<4|It[n[4]],b:It[n[5]]<<4|It[n[6]],a:e===9?It[n[7]]<<4|It[n[8]]:255})),t}const cv=(n,e)=>n<255?e(n):"";function dv(n){var e=ov(n)?av:iv;return n?"#"+e(n.r)+e(n.g)+e(n.b)+cv(n.a,e):void 0}const uv=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Hp(n,e,t){const s=e*Math.min(t,1-t),a=(o,c=(o+n/30)%12)=>t-s*Math.max(Math.min(c-3,9-c,1),-1);return[a(0),a(8),a(4)]}function hv(n,e,t){const s=(a,o=(a+n/60)%6)=>t-t*e*Math.max(Math.min(o,4-o,1),0);return[s(5),s(3),s(1)]}function fv(n,e,t){const s=Hp(n,1,.5);let a;for(e+t>1&&(a=1/(e+t),e*=a,t*=a),a=0;a<3;a++)s[a]*=1-e-t,s[a]+=e;return s}function pv(n,e,t,s,a){return n===a?(e-t)/s+(e<t?6:0):e===a?(t-n)/s+2:(n-e)/s+4}function jd(n){const t=n.r/255,s=n.g/255,a=n.b/255,o=Math.max(t,s,a),c=Math.min(t,s,a),u=(o+c)/2;let h,p,m;return o!==c&&(m=o-c,p=u>.5?m/(2-o-c):m/(o+c),h=pv(t,s,a,m,o),h=h*60+.5),[h|0,p||0,u]}function _d(n,e,t,s){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,s)).map(er)}function Sd(n,e,t){return _d(Hp,n,e,t)}function mv(n,e,t){return _d(fv,n,e,t)}function gv(n,e,t){return _d(hv,n,e,t)}function Wp(n){return(n%360+360)%360}function xv(n){const e=uv.exec(n);let t=255,s;if(!e)return;e[5]!==s&&(t=e[6]?ca(+e[5]):er(+e[5]));const a=Wp(+e[2]),o=+e[3]/100,c=+e[4]/100;return e[1]==="hwb"?s=mv(a,o,c):e[1]==="hsv"?s=gv(a,o,c):s=Sd(a,o,c),{r:s[0],g:s[1],b:s[2],a:t}}function yv(n,e){var t=jd(n);t[0]=Wp(t[0]+e),t=Sd(t),n.r=t[0],n.g=t[1],n.b=t[2]}function bv(n){if(!n)return;const e=jd(n),t=e[0],s=Gf(e[1]),a=Gf(e[2]);return n.a<255?`hsla(${t}, ${s}%, ${a}%, ${_n(n.a)})`:`hsl(${t}, ${s}%, ${a}%)`}const Kf={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},qf={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function vv(){const n={},e=Object.keys(qf),t=Object.keys(Kf);let s,a,o,c,u;for(s=0;s<e.length;s++){for(c=u=e[s],a=0;a<t.length;a++)o=t[a],u=u.replace(o,Kf[o]);o=parseInt(qf[c],16),n[u]=[o>>16&255,o>>8&255,o&255]}return n}let Yi;function kv(n){Yi||(Yi=vv(),Yi.transparent=[0,0,0,0]);const e=Yi[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const wv=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function jv(n){const e=wv.exec(n);let t=255,s,a,o;if(e){if(e[7]!==s){const c=+e[7];t=e[8]?ca(c):Qn(c*255,0,255)}return s=+e[1],a=+e[3],o=+e[5],s=255&(e[2]?ca(s):Qn(s,0,255)),a=255&(e[4]?ca(a):Qn(a,0,255)),o=255&(e[6]?ca(o):Qn(o,0,255)),{r:s,g:a,b:o,a:t}}}function _v(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${_n(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Tc=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,rs=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function Sv(n,e,t){const s=rs(_n(n.r)),a=rs(_n(n.g)),o=rs(_n(n.b));return{r:er(Tc(s+t*(rs(_n(e.r))-s))),g:er(Tc(a+t*(rs(_n(e.g))-a))),b:er(Tc(o+t*(rs(_n(e.b))-o))),a:n.a+t*(e.a-n.a)}}function Gi(n,e,t){if(n){let s=jd(n);s[e]=Math.max(0,Math.min(s[e]+s[e]*t,e===0?360:1)),s=Sd(s),n.r=s[0],n.g=s[1],n.b=s[2]}}function Up(n,e){return n&&Object.assign(e||{},n)}function Xf(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=er(n[3]))):(e=Up(n,{r:0,g:0,b:0,a:1}),e.a=er(e.a)),e}function Nv(n){return n.charAt(0)==="r"?jv(n):xv(n)}class va{constructor(e){if(e instanceof va)return e;const t=typeof e;let s;t==="object"?s=Xf(e):t==="string"&&(s=lv(e)||kv(e)||Nv(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=Up(this._rgb);return e&&(e.a=_n(e.a)),e}set rgb(e){this._rgb=Xf(e)}rgbString(){return this._valid?_v(this._rgb):void 0}hexString(){return this._valid?dv(this._rgb):void 0}hslString(){return this._valid?bv(this._rgb):void 0}mix(e,t){if(e){const s=this.rgb,a=e.rgb;let o;const c=t===o?.5:t,u=2*c-1,h=s.a-a.a,p=((u*h===-1?u:(u+h)/(1+u*h))+1)/2;o=1-p,s.r=255&p*s.r+o*a.r+.5,s.g=255&p*s.g+o*a.g+.5,s.b=255&p*s.b+o*a.b+.5,s.a=c*s.a+(1-c)*a.a,this.rgb=s}return this}interpolate(e,t){return e&&(this._rgb=Sv(this._rgb,e._rgb,t)),this}clone(){return new va(this.rgb)}alpha(e){return this._rgb.a=er(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=La(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Gi(this._rgb,2,e),this}darken(e){return Gi(this._rgb,2,-e),this}saturate(e){return Gi(this._rgb,1,e),this}desaturate(e){return Gi(this._rgb,1,-e),this}rotate(e){return yv(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function kn(){}const Cv=(()=>{let n=0;return()=>n++})();function Se(n){return n==null}function qe(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function je(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Qe(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Et(n,e){return Qe(n)?n:e}function ke(n,e){return typeof n>"u"?e:n}const Mv=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,Yp=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Le(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Pe(n,e,t,s){let a,o,c;if(qe(n))for(o=n.length,a=0;a<o;a++)e.call(t,n[a],a);else if(je(n))for(c=Object.keys(n),o=c.length,a=0;a<o;a++)e.call(t,n[c[a]],c[a])}function mo(n,e){let t,s,a,o;if(!n||!e||n.length!==e.length)return!1;for(t=0,s=n.length;t<s;++t)if(a=n[t],o=e[t],a.datasetIndex!==o.datasetIndex||a.index!==o.index)return!1;return!0}function go(n){if(qe(n))return n.map(go);if(je(n)){const e=Object.create(null),t=Object.keys(n),s=t.length;let a=0;for(;a<s;++a)e[t[a]]=go(n[t[a]]);return e}return n}function Gp(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function Pv(n,e,t,s){if(!Gp(n))return;const a=e[n],o=t[n];je(a)&&je(o)?cn(a,o,s):e[n]=go(o)}function cn(n,e,t){const s=qe(e)?e:[e],a=s.length;if(!je(n))return n;t=t||{};const o=t.merger||Pv;let c;for(let u=0;u<a;++u){if(c=s[u],!je(c))continue;const h=Object.keys(c);for(let p=0,m=h.length;p<m;++p)o(h[p],n,c,t)}return n}function ha(n,e){return cn(n,e,{merger:Ev})}function Ev(n,e,t){if(!Gp(n))return;const s=e[n],a=t[n];je(s)&&je(a)?ha(s,a):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=go(a))}const Qf={"":n=>n,x:n=>n.x,y:n=>n.y};function Dv(n){const e=n.split("."),t=[];let s="";for(const a of e)s+=a,s.endsWith("\\")?s=s.slice(0,-1)+".":(t.push(s),s="");return t}function Lv(n){const e=Dv(n);return t=>{for(const s of e){if(s==="")break;t=t&&t[s]}return t}}function Nr(n,e){return(Qf[e]||(Qf[e]=Lv(e)))(n)}function Nd(n){return n.charAt(0).toUpperCase()+n.slice(1)}const ka=n=>typeof n<"u",tr=n=>typeof n=="function",Jf=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function Tv(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const De=Math.PI,He=2*De,Rv=He+De,xo=Number.POSITIVE_INFINITY,Av=De/180,et=De/2,gr=De/4,Zf=De*2/3,Jn=Math.log10,ln=Math.sign;function fa(n,e,t){return Math.abs(n-e)<t}function e0(n){const e=Math.round(n);n=fa(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(Jn(n))),s=n/t;return(s<=1?1:s<=2?2:s<=5?5:10)*t}function zv(n){const e=[],t=Math.sqrt(n);let s;for(s=1;s<t;s++)n%s===0&&(e.push(s),e.push(n/s));return t===(t|0)&&e.push(t),e.sort((a,o)=>a-o).pop(),e}function Ov(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function os(n){return!Ov(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function Fv(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function Kp(n,e,t){let s,a,o;for(s=0,a=n.length;s<a;s++)o=n[s][t],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function Sn(n){return n*(De/180)}function Iv(n){return n*(180/De)}function t0(n){if(!Qe(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function qp(n,e){const t=e.x-n.x,s=e.y-n.y,a=Math.sqrt(t*t+s*s);let o=Math.atan2(s,t);return o<-.5*De&&(o+=He),{angle:o,distance:a}}function nd(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function Bv(n,e){return(n-e+Rv)%He-De}function Dt(n){return(n%He+He)%He}function wa(n,e,t,s){const a=Dt(n),o=Dt(e),c=Dt(t),u=Dt(o-a),h=Dt(c-a),p=Dt(a-o),m=Dt(a-c);return a===o||a===c||s&&o===c||u>h&&p<m}function ft(n,e,t){return Math.max(e,Math.min(t,n))}function $v(n){return ft(n,-32768,32767)}function Nn(n,e,t,s=1e-6){return n>=Math.min(e,t)-s&&n<=Math.max(e,t)+s}function Cd(n,e,t){t=t||(c=>n[c]<e);let s=n.length-1,a=0,o;for(;s-a>1;)o=a+s>>1,t(o)?a=o:s=o;return{lo:a,hi:s}}const wr=(n,e,t,s)=>Cd(n,t,s?a=>{const o=n[a][e];return o<t||o===t&&n[a+1][e]===t}:a=>n[a][e]<t),Vv=(n,e,t)=>Cd(n,t,s=>n[s][e]>=t);function Hv(n,e,t){let s=0,a=n.length;for(;s<a&&n[s]<e;)s++;for(;a>s&&n[a-1]>t;)a--;return s>0||a<n.length?n.slice(s,a):n}const Xp=["push","pop","shift","splice","unshift"];function Wv(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Xp.forEach(t=>{const s="_onData"+Nd(t),a=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...o){const c=a.apply(this,o);return n._chartjs.listeners.forEach(u=>{typeof u[s]=="function"&&u[s](...o)}),c}})})}function n0(n,e){const t=n._chartjs;if(!t)return;const s=t.listeners,a=s.indexOf(e);a!==-1&&s.splice(a,1),!(s.length>0)&&(Xp.forEach(o=>{delete n[o]}),delete n._chartjs)}function Qp(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const Jp=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function Zp(n,e){let t=[],s=!1;return function(...a){t=a,s||(s=!0,Jp.call(window,()=>{s=!1,n.apply(e,t)}))}}function Uv(n,e){let t;return function(...s){return e?(clearTimeout(t),t=setTimeout(n,e,s)):n.apply(this,s),e}}const Md=n=>n==="start"?"left":n==="end"?"right":"center",ht=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,Yv=(n,e,t,s)=>n===(s?"left":"right")?t:n==="center"?(e+t)/2:e;function em(n,e,t){const s=e.length;let a=0,o=s;if(n._sorted){const{iScale:c,vScale:u,_parsed:h}=n,p=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,m=c.axis,{min:x,max:b,minDefined:k,maxDefined:_}=c.getUserBounds();if(k){if(a=Math.min(wr(h,m,x).lo,t?s:wr(e,m,c.getPixelForValue(x)).lo),p){const v=h.slice(0,a+1).reverse().findIndex(w=>!Se(w[u.axis]));a-=Math.max(0,v)}a=ft(a,0,s-1)}if(_){let v=Math.max(wr(h,c.axis,b,!0).hi+1,t?0:wr(e,m,c.getPixelForValue(b),!0).hi+1);if(p){const w=h.slice(v-1).findIndex(N=>!Se(N[u.axis]));v+=Math.max(0,w)}o=ft(v,a,s)-a}else o=s-a}return{start:a,count:o}}function tm(n){const{xScale:e,yScale:t,_scaleRanges:s}=n,a={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!s)return n._scaleRanges=a,!0;const o=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==t.min||s.ymax!==t.max;return Object.assign(s,a),o}const Ki=n=>n===0||n===1,r0=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*He/t)),s0=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*He/t)+1,pa={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*et)+1,easeOutSine:n=>Math.sin(n*et),easeInOutSine:n=>-.5*(Math.cos(De*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Ki(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Ki(n)?n:r0(n,.075,.3),easeOutElastic:n=>Ki(n)?n:s0(n,.075,.3),easeInOutElastic(n){return Ki(n)?n:n<.5?.5*r0(n*2,.1125,.45):.5+.5*s0(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-pa.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?pa.easeInBounce(n*2)*.5:pa.easeOutBounce(n*2-1)*.5+.5};function Pd(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function a0(n){return Pd(n)?n:new va(n)}function Rc(n){return Pd(n)?n:new va(n).saturate(.5).darken(.1).hexString()}const Gv=["x","y","borderWidth","radius","tension"],Kv=["color","borderColor","backgroundColor"];function qv(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:Kv},numbers:{type:"number",properties:Gv}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Xv(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const i0=new Map;function Qv(n,e){e=e||{};const t=n+JSON.stringify(e);let s=i0.get(t);return s||(s=new Intl.NumberFormat(n,e),i0.set(t,s)),s}function Mo(n,e,t){return Qv(e,t).format(n)}const nm={values(n){return qe(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const s=this.chart.options.locale;let a,o=n;if(t.length>1){const p=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(p<1e-4||p>1e15)&&(a="scientific"),o=Jv(n,t)}const c=Jn(Math.abs(o)),u=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),h={notation:a,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(h,this.options.ticks.format),Mo(n,s,h)},logarithmic(n,e,t){if(n===0)return"0";const s=t[e].significand||n/Math.pow(10,Math.floor(Jn(n)));return[1,2,3,5,10,15].includes(s)||e>.8*t.length?nm.numeric.call(this,n,e,t):""}};function Jv(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var Ed={formatters:nm};function Zv(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ed.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Cr=Object.create(null),rd=Object.create(null);function ma(n,e){if(!e)return n;const t=e.split(".");for(let s=0,a=t.length;s<a;++s){const o=t[s];n=n[o]||(n[o]=Object.create(null))}return n}function Ac(n,e,t){return typeof e=="string"?cn(ma(n,e),t):cn(ma(n,""),e)}class e1{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,a)=>Rc(a.backgroundColor),this.hoverBorderColor=(s,a)=>Rc(a.borderColor),this.hoverColor=(s,a)=>Rc(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Ac(this,e,t)}get(e){return ma(this,e)}describe(e,t){return Ac(rd,e,t)}override(e,t){return Ac(Cr,e,t)}route(e,t,s,a){const o=ma(this,e),c=ma(this,s),u="_"+t;Object.defineProperties(o,{[u]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){const h=this[u],p=c[a];return je(h)?Object.assign({},p,h):ke(h,p)},set(h){this[u]=h}}})}apply(e){e.forEach(t=>t(this))}}var Ye=new e1({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[qv,Xv,Zv]);function t1(n){return!n||Se(n.size)||Se(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function o0(n,e,t,s,a){let o=e[a];return o||(o=e[a]=n.measureText(a).width,t.push(a)),o>s&&(s=o),s}function xr(n,e,t){const s=n.currentDevicePixelRatio,a=t!==0?Math.max(t/2,.5):0;return Math.round((e-a)*s)/s+a}function l0(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function sd(n,e,t,s){rm(n,e,t,s,null)}function rm(n,e,t,s,a){let o,c,u,h,p,m,x,b;const k=e.pointStyle,_=e.rotation,v=e.radius;let w=(_||0)*Av;if(k&&typeof k=="object"&&(o=k.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(t,s),n.rotate(w),n.drawImage(k,-k.width/2,-k.height/2,k.width,k.height),n.restore();return}if(!(isNaN(v)||v<=0)){switch(n.beginPath(),k){default:a?n.ellipse(t,s,a/2,v,0,0,He):n.arc(t,s,v,0,He),n.closePath();break;case"triangle":m=a?a/2:v,n.moveTo(t+Math.sin(w)*m,s-Math.cos(w)*v),w+=Zf,n.lineTo(t+Math.sin(w)*m,s-Math.cos(w)*v),w+=Zf,n.lineTo(t+Math.sin(w)*m,s-Math.cos(w)*v),n.closePath();break;case"rectRounded":p=v*.516,h=v-p,c=Math.cos(w+gr)*h,x=Math.cos(w+gr)*(a?a/2-p:h),u=Math.sin(w+gr)*h,b=Math.sin(w+gr)*(a?a/2-p:h),n.arc(t-x,s-u,p,w-De,w-et),n.arc(t+b,s-c,p,w-et,w),n.arc(t+x,s+u,p,w,w+et),n.arc(t-b,s+c,p,w+et,w+De),n.closePath();break;case"rect":if(!_){h=Math.SQRT1_2*v,m=a?a/2:h,n.rect(t-m,s-h,2*m,2*h);break}w+=gr;case"rectRot":x=Math.cos(w)*(a?a/2:v),c=Math.cos(w)*v,u=Math.sin(w)*v,b=Math.sin(w)*(a?a/2:v),n.moveTo(t-x,s-u),n.lineTo(t+b,s-c),n.lineTo(t+x,s+u),n.lineTo(t-b,s+c),n.closePath();break;case"crossRot":w+=gr;case"cross":x=Math.cos(w)*(a?a/2:v),c=Math.cos(w)*v,u=Math.sin(w)*v,b=Math.sin(w)*(a?a/2:v),n.moveTo(t-x,s-u),n.lineTo(t+x,s+u),n.moveTo(t+b,s-c),n.lineTo(t-b,s+c);break;case"star":x=Math.cos(w)*(a?a/2:v),c=Math.cos(w)*v,u=Math.sin(w)*v,b=Math.sin(w)*(a?a/2:v),n.moveTo(t-x,s-u),n.lineTo(t+x,s+u),n.moveTo(t+b,s-c),n.lineTo(t-b,s+c),w+=gr,x=Math.cos(w)*(a?a/2:v),c=Math.cos(w)*v,u=Math.sin(w)*v,b=Math.sin(w)*(a?a/2:v),n.moveTo(t-x,s-u),n.lineTo(t+x,s+u),n.moveTo(t+b,s-c),n.lineTo(t-b,s+c);break;case"line":c=a?a/2:Math.cos(w)*v,u=Math.sin(w)*v,n.moveTo(t-c,s-u),n.lineTo(t+c,s+u);break;case"dash":n.moveTo(t,s),n.lineTo(t+Math.cos(w)*(a?a/2:v),s+Math.sin(w)*v);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function ja(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function Po(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Eo(n){n.restore()}function n1(n,e,t,s,a){if(!e)return n.lineTo(t.x,t.y);if(a==="middle"){const o=(e.x+t.x)/2;n.lineTo(o,e.y),n.lineTo(o,t.y)}else a==="after"!=!!s?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function r1(n,e,t,s){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?t.cp2x:t.cp1x,s?t.cp2y:t.cp1y,t.x,t.y)}function s1(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Se(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function a1(n,e,t,s,a){if(a.strikethrough||a.underline){const o=n.measureText(s),c=e-o.actualBoundingBoxLeft,u=e+o.actualBoundingBoxRight,h=t-o.actualBoundingBoxAscent,p=t+o.actualBoundingBoxDescent,m=a.strikethrough?(h+p)/2:p;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=a.decorationWidth||2,n.moveTo(c,m),n.lineTo(u,m),n.stroke()}}function i1(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function _a(n,e,t,s,a,o={}){const c=qe(e)?e:[e],u=o.strokeWidth>0&&o.strokeColor!=="";let h,p;for(n.save(),n.font=a.string,s1(n,o),h=0;h<c.length;++h)p=c[h],o.backdrop&&i1(n,o.backdrop),u&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Se(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(p,t,s,o.maxWidth)),n.fillText(p,t,s,o.maxWidth),a1(n,t,s,p,o),s+=Number(a.lineHeight);n.restore()}function yo(n,e){const{x:t,y:s,w:a,h:o,radius:c}=e;n.arc(t+c.topLeft,s+c.topLeft,c.topLeft,1.5*De,De,!0),n.lineTo(t,s+o-c.bottomLeft),n.arc(t+c.bottomLeft,s+o-c.bottomLeft,c.bottomLeft,De,et,!0),n.lineTo(t+a-c.bottomRight,s+o),n.arc(t+a-c.bottomRight,s+o-c.bottomRight,c.bottomRight,et,0,!0),n.lineTo(t+a,s+c.topRight),n.arc(t+a-c.topRight,s+c.topRight,c.topRight,0,-et,!0),n.lineTo(t+c.topLeft,s)}const o1=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,l1=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function c1(n,e){const t=(""+n).match(o1);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const d1=n=>+n||0;function Dd(n,e){const t={},s=je(e),a=s?Object.keys(e):e,o=je(n)?s?c=>ke(n[c],n[e[c]]):c=>n[c]:()=>n;for(const c of a)t[c]=d1(o(c));return t}function sm(n){return Dd(n,{top:"y",right:"x",bottom:"y",left:"x"})}function as(n){return Dd(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Lt(n){const e=sm(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ot(n,e){n=n||{},e=e||Ye.font;let t=ke(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let s=ke(n.style,e.style);s&&!(""+s).match(l1)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const a={family:ke(n.family,e.family),lineHeight:c1(ke(n.lineHeight,e.lineHeight),t),size:t,style:s,weight:ke(n.weight,e.weight),string:""};return a.string=t1(a),a}function Ie(n,e,t,s){let a,o,c;for(a=0,o=n.length;a<o;++a)if(c=n[a],c!==void 0&&(e!==void 0&&typeof c=="function"&&(c=c(e)),t!==void 0&&qe(c)&&(c=c[t%c.length]),c!==void 0))return c}function u1(n,e,t){const{min:s,max:a}=n,o=Yp(e,(a-s)/2),c=(u,h)=>t&&u===0?0:u+h;return{min:c(s,-Math.abs(o)),max:c(a,o)}}function Pr(n,e){return Object.assign(Object.create(n),e)}function Ld(n,e=[""],t,s,a=()=>n[0]){const o=t||n;typeof s>"u"&&(s=lm("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:s,_getTarget:a,override:u=>Ld([u,...n],e,o,s)};return new Proxy(c,{deleteProperty(u,h){return delete u[h],delete u._keys,delete n[0][h],!0},get(u,h){return im(u,h,()=>b1(h,e,n,u))},getOwnPropertyDescriptor(u,h){return Reflect.getOwnPropertyDescriptor(u._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,h){return d0(u).includes(h)},ownKeys(u){return d0(u)},set(u,h,p){const m=u._storage||(u._storage=a());return u[h]=m[h]=p,delete u._keys,!0}})}function ls(n,e,t,s){const a={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:am(n,s),setContext:o=>ls(n,o,t,s),override:o=>ls(n.override(o),e,t,s)};return new Proxy(a,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,u){return im(o,c,()=>f1(o,c,u))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,u){return n[c]=u,delete o[c],!0}})}function am(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:s=e.indexable,_allKeys:a=e.allKeys}=n;return{allKeys:a,scriptable:t,indexable:s,isScriptable:tr(t)?t:()=>t,isIndexable:tr(s)?s:()=>s}}const h1=(n,e)=>n?n+Nd(e):e,Td=(n,e)=>je(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function im(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const s=t();return n[e]=s,s}function f1(n,e,t){const{_proxy:s,_context:a,_subProxy:o,_descriptors:c}=n;let u=s[e];return tr(u)&&c.isScriptable(e)&&(u=p1(e,u,n,t)),qe(u)&&u.length&&(u=m1(e,u,n,c.isIndexable)),Td(e,u)&&(u=ls(u,a,o&&o[e],c)),u}function p1(n,e,t,s){const{_proxy:a,_context:o,_subProxy:c,_stack:u}=t;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let h=e(o,c||s);return u.delete(n),Td(n,h)&&(h=Rd(a._scopes,a,n,h)),h}function m1(n,e,t,s){const{_proxy:a,_context:o,_subProxy:c,_descriptors:u}=t;if(typeof o.index<"u"&&s(n))return e[o.index%e.length];if(je(e[0])){const h=e,p=a._scopes.filter(m=>m!==h);e=[];for(const m of h){const x=Rd(p,a,n,m);e.push(ls(x,o,c&&c[n],u))}}return e}function om(n,e,t){return tr(n)?n(e,t):n}const g1=(n,e)=>n===!0?e:typeof n=="string"?Nr(e,n):void 0;function x1(n,e,t,s,a){for(const o of e){const c=g1(t,o);if(c){n.add(c);const u=om(c._fallback,t,a);if(typeof u<"u"&&u!==t&&u!==s)return u}else if(c===!1&&typeof s<"u"&&t!==s)return null}return!1}function Rd(n,e,t,s){const a=e._rootScopes,o=om(e._fallback,t,s),c=[...n,...a],u=new Set;u.add(s);let h=c0(u,c,t,o||t,s);return h===null||typeof o<"u"&&o!==t&&(h=c0(u,c,o,h,s),h===null)?!1:Ld(Array.from(u),[""],a,o,()=>y1(e,t,s))}function c0(n,e,t,s,a){for(;t;)t=x1(n,e,t,s,a);return t}function y1(n,e,t){const s=n._getTarget();e in s||(s[e]={});const a=s[e];return qe(a)&&je(t)?t:a||{}}function b1(n,e,t,s){let a;for(const o of e)if(a=lm(h1(o,n),t),typeof a<"u")return Td(n,a)?Rd(t,s,n,a):a}function lm(n,e){for(const t of e){if(!t)continue;const s=t[n];if(typeof s<"u")return s}}function d0(n){let e=n._keys;return e||(e=n._keys=v1(n._scopes)),e}function v1(n){const e=new Set;for(const t of n)for(const s of Object.keys(t).filter(a=>!a.startsWith("_")))e.add(s);return Array.from(e)}const k1=Number.EPSILON||1e-14,cs=(n,e)=>e<n.length&&!n[e].skip&&n[e],cm=n=>n==="x"?"y":"x";function w1(n,e,t,s){const a=n.skip?e:n,o=e,c=t.skip?e:t,u=nd(o,a),h=nd(c,o);let p=u/(u+h),m=h/(u+h);p=isNaN(p)?0:p,m=isNaN(m)?0:m;const x=s*p,b=s*m;return{previous:{x:o.x-x*(c.x-a.x),y:o.y-x*(c.y-a.y)},next:{x:o.x+b*(c.x-a.x),y:o.y+b*(c.y-a.y)}}}function j1(n,e,t){const s=n.length;let a,o,c,u,h,p=cs(n,0);for(let m=0;m<s-1;++m)if(h=p,p=cs(n,m+1),!(!h||!p)){if(fa(e[m],0,k1)){t[m]=t[m+1]=0;continue}a=t[m]/e[m],o=t[m+1]/e[m],u=Math.pow(a,2)+Math.pow(o,2),!(u<=9)&&(c=3/Math.sqrt(u),t[m]=a*c*e[m],t[m+1]=o*c*e[m])}}function _1(n,e,t="x"){const s=cm(t),a=n.length;let o,c,u,h=cs(n,0);for(let p=0;p<a;++p){if(c=u,u=h,h=cs(n,p+1),!u)continue;const m=u[t],x=u[s];c&&(o=(m-c[t])/3,u[`cp1${t}`]=m-o,u[`cp1${s}`]=x-o*e[p]),h&&(o=(h[t]-m)/3,u[`cp2${t}`]=m+o,u[`cp2${s}`]=x+o*e[p])}}function S1(n,e="x"){const t=cm(e),s=n.length,a=Array(s).fill(0),o=Array(s);let c,u,h,p=cs(n,0);for(c=0;c<s;++c)if(u=h,h=p,p=cs(n,c+1),!!h){if(p){const m=p[e]-h[e];a[c]=m!==0?(p[t]-h[t])/m:0}o[c]=u?p?ln(a[c-1])!==ln(a[c])?0:(a[c-1]+a[c])/2:a[c-1]:a[c]}j1(n,a,o),_1(n,o,e)}function qi(n,e,t){return Math.max(Math.min(n,t),e)}function N1(n,e){let t,s,a,o,c,u=ja(n[0],e);for(t=0,s=n.length;t<s;++t)c=o,o=u,u=t<s-1&&ja(n[t+1],e),o&&(a=n[t],c&&(a.cp1x=qi(a.cp1x,e.left,e.right),a.cp1y=qi(a.cp1y,e.top,e.bottom)),u&&(a.cp2x=qi(a.cp2x,e.left,e.right),a.cp2y=qi(a.cp2y,e.top,e.bottom)))}function C1(n,e,t,s,a){let o,c,u,h;if(e.spanGaps&&(n=n.filter(p=>!p.skip)),e.cubicInterpolationMode==="monotone")S1(n,a);else{let p=s?n[n.length-1]:n[0];for(o=0,c=n.length;o<c;++o)u=n[o],h=w1(p,u,n[Math.min(o+1,c-(s?0:1))%c],e.tension),u.cp1x=h.previous.x,u.cp1y=h.previous.y,u.cp2x=h.next.x,u.cp2y=h.next.y,p=u}e.capBezierPoints&&N1(n,t)}function Ad(){return typeof window<"u"&&typeof document<"u"}function zd(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function bo(n,e,t){let s;return typeof n=="string"?(s=parseInt(n,10),n.indexOf("%")!==-1&&(s=s/100*e.parentNode[t])):s=n,s}const Do=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function M1(n,e){return Do(n).getPropertyValue(e)}const P1=["top","right","bottom","left"];function jr(n,e,t){const s={};t=t?"-"+t:"";for(let a=0;a<4;a++){const o=P1[a];s[o]=parseFloat(n[e+"-"+o+t])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const E1=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function D1(n,e){const t=n.touches,s=t&&t.length?t[0]:n,{offsetX:a,offsetY:o}=s;let c=!1,u,h;if(E1(a,o,n.target))u=a,h=o;else{const p=e.getBoundingClientRect();u=s.clientX-p.left,h=s.clientY-p.top,c=!0}return{x:u,y:h,box:c}}function vr(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:s}=e,a=Do(t),o=a.boxSizing==="border-box",c=jr(a,"padding"),u=jr(a,"border","width"),{x:h,y:p,box:m}=D1(n,t),x=c.left+(m&&u.left),b=c.top+(m&&u.top);let{width:k,height:_}=e;return o&&(k-=c.width+u.width,_-=c.height+u.height),{x:Math.round((h-x)/k*t.width/s),y:Math.round((p-b)/_*t.height/s)}}function L1(n,e,t){let s,a;if(e===void 0||t===void 0){const o=n&&zd(n);if(!o)e=n.clientWidth,t=n.clientHeight;else{const c=o.getBoundingClientRect(),u=Do(o),h=jr(u,"border","width"),p=jr(u,"padding");e=c.width-p.width-h.width,t=c.height-p.height-h.height,s=bo(u.maxWidth,o,"clientWidth"),a=bo(u.maxHeight,o,"clientHeight")}}return{width:e,height:t,maxWidth:s||xo,maxHeight:a||xo}}const Xi=n=>Math.round(n*10)/10;function T1(n,e,t,s){const a=Do(n),o=jr(a,"margin"),c=bo(a.maxWidth,n,"clientWidth")||xo,u=bo(a.maxHeight,n,"clientHeight")||xo,h=L1(n,e,t);let{width:p,height:m}=h;if(a.boxSizing==="content-box"){const b=jr(a,"border","width"),k=jr(a,"padding");p-=k.width+b.width,m-=k.height+b.height}return p=Math.max(0,p-o.width),m=Math.max(0,s?p/s:m-o.height),p=Xi(Math.min(p,c,h.maxWidth)),m=Xi(Math.min(m,u,h.maxHeight)),p&&!m&&(m=Xi(p/2)),(e!==void 0||t!==void 0)&&s&&h.height&&m>h.height&&(m=h.height,p=Xi(Math.floor(m*s))),{width:p,height:m}}function u0(n,e,t){const s=e||1,a=Math.floor(n.height*s),o=Math.floor(n.width*s);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const c=n.canvas;return c.style&&(t||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==s||c.height!==a||c.width!==o?(n.currentDevicePixelRatio=s,c.height=a,c.width=o,n.ctx.setTransform(s,0,0,s,0,0),!0):!1}const R1=(function(){let n=!1;try{const e={get passive(){return n=!0,!1}};Ad()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n})();function h0(n,e){const t=M1(n,e),s=t&&t.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function kr(n,e,t,s){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function A1(n,e,t,s){return{x:n.x+t*(e.x-n.x),y:s==="middle"?t<.5?n.y:e.y:s==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function z1(n,e,t,s){const a={x:n.cp2x,y:n.cp2y},o={x:e.cp1x,y:e.cp1y},c=kr(n,a,t),u=kr(a,o,t),h=kr(o,e,t),p=kr(c,u,t),m=kr(u,h,t);return kr(p,m,t)}const O1=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,s){return t-s},leftForLtr(t,s){return t-s}}},F1=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function is(n,e,t){return n?O1(e,t):F1()}function dm(n,e){let t,s;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,s=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=s)}function um(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function hm(n){return n==="angle"?{between:wa,compare:Bv,normalize:Dt}:{between:Nn,compare:(e,t)=>e-t,normalize:e=>e}}function f0({start:n,end:e,count:t,loop:s,style:a}){return{start:n%t,end:e%t,loop:s&&(e-n+1)%t===0,style:a}}function I1(n,e,t){const{property:s,start:a,end:o}=t,{between:c,normalize:u}=hm(s),h=e.length;let{start:p,end:m,loop:x}=n,b,k;if(x){for(p+=h,m+=h,b=0,k=h;b<k&&c(u(e[p%h][s]),a,o);++b)p--,m--;p%=h,m%=h}return m<p&&(m+=h),{start:p,end:m,loop:x,style:n.style}}function fm(n,e,t){if(!t)return[n];const{property:s,start:a,end:o}=t,c=e.length,{compare:u,between:h,normalize:p}=hm(s),{start:m,end:x,loop:b,style:k}=I1(n,e,t),_=[];let v=!1,w=null,N,C,M;const L=()=>h(a,M,N)&&u(a,M)!==0,E=()=>u(o,N)===0||h(o,M,N),Y=()=>v||L(),O=()=>!v||E();for(let z=m,G=m;z<=x;++z)C=e[z%c],!C.skip&&(N=p(C[s]),N!==M&&(v=h(N,a,o),w===null&&Y()&&(w=u(N,a)===0?z:G),w!==null&&O()&&(_.push(f0({start:w,end:z,loop:b,count:c,style:k})),w=null),G=z,M=N));return w!==null&&_.push(f0({start:w,end:x,loop:b,count:c,style:k})),_}function pm(n,e){const t=[],s=n.segments;for(let a=0;a<s.length;a++){const o=fm(s[a],n.points,e);o.length&&t.push(...o)}return t}function B1(n,e,t,s){let a=0,o=e-1;if(t&&!s)for(;a<e&&!n[a].skip;)a++;for(;a<e&&n[a].skip;)a++;for(a%=e,t&&(o+=a);o>a&&n[o%e].skip;)o--;return o%=e,{start:a,end:o}}function $1(n,e,t,s){const a=n.length,o=[];let c=e,u=n[e],h;for(h=e+1;h<=t;++h){const p=n[h%a];p.skip||p.stop?u.skip||(s=!1,o.push({start:e%a,end:(h-1)%a,loop:s}),e=c=p.stop?h:null):(c=h,u.skip&&(e=h)),u=p}return c!==null&&o.push({start:e%a,end:c%a,loop:s}),o}function V1(n,e){const t=n.points,s=n.options.spanGaps,a=t.length;if(!a)return[];const o=!!n._loop,{start:c,end:u}=B1(t,a,o,s);if(s===!0)return p0(n,[{start:c,end:u,loop:o}],t,e);const h=u<c?u+a:u,p=!!n._fullLoop&&c===0&&u===a-1;return p0(n,$1(t,c,h,p),t,e)}function p0(n,e,t,s){return!s||!s.setContext||!t?e:H1(n,e,t,s)}function H1(n,e,t,s){const a=n._chart.getContext(),o=m0(n.options),{_datasetIndex:c,options:{spanGaps:u}}=n,h=t.length,p=[];let m=o,x=e[0].start,b=x;function k(_,v,w,N){const C=u?-1:1;if(_!==v){for(_+=h;t[_%h].skip;)_-=C;for(;t[v%h].skip;)v+=C;_%h!==v%h&&(p.push({start:_%h,end:v%h,loop:w,style:N}),m=N,x=v%h)}}for(const _ of e){x=u?x:_.start;let v=t[x%h],w;for(b=x+1;b<=_.end;b++){const N=t[b%h];w=m0(s.setContext(Pr(a,{type:"segment",p0:v,p1:N,p0DataIndex:(b-1)%h,p1DataIndex:b%h,datasetIndex:c}))),W1(w,m)&&k(x,b-1,_.loop,m),v=N,m=w}x<b-1&&k(x,b-1,_.loop,m)}return p}function m0(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function W1(n,e){if(!e)return!1;const t=[],s=function(a,o){return Pd(o)?(t.includes(o)||t.push(o),t.indexOf(o)):o};return JSON.stringify(n,s)!==JSON.stringify(e,s)}function Qi(n,e,t){return n.options.clip?n[t]:e[t]}function U1(n,e){const{xScale:t,yScale:s}=n;return t&&s?{left:Qi(t,e,"left"),right:Qi(t,e,"right"),top:Qi(s,e,"top"),bottom:Qi(s,e,"bottom")}:e}function mm(n,e){const t=e._clip;if(t.disabled)return!1;const s=U1(e,n.chartArea);return{left:t.left===!1?0:s.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:s.right+(t.right===!0?0:t.right),top:t.top===!1?0:s.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:s.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Y1{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,s,a){const o=t.listeners[a],c=t.duration;o.forEach(u=>u({chart:e,initial:t.initial,numSteps:c,currentStep:Math.min(s-t.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=Jp.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((s,a)=>{if(!s.running||!s.items.length)return;const o=s.items;let c=o.length-1,u=!1,h;for(;c>=0;--c)h=o[c],h._active?(h._total>s.duration&&(s.duration=h._total),h.tick(e),u=!0):(o[c]=o[o.length-1],o.pop());u&&(a.draw(),this._notify(a,s,e,"progress")),o.length||(s.running=!1,this._notify(a,s,e,"complete"),s.initial=!1),t+=o.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let s=t.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,s)),s}listen(e,t,s){this._getAnims(e).listeners[t].push(s)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((s,a)=>Math.max(s,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const s=t.items;let a=s.length-1;for(;a>=0;--a)s[a].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var wn=new Y1;const g0="transparent",G1={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const s=a0(n||g0),a=s.valid&&a0(e||g0);return a&&a.valid?a.mix(s,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class K1{constructor(e,t,s,a){const o=t[s];a=Ie([e.to,a,o,e.from]);const c=Ie([e.from,o,a]);this._active=!0,this._fn=e.fn||G1[e.type||typeof c],this._easing=pa[e.easing]||pa.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=s,this._from=c,this._to=a,this._promises=void 0}active(){return this._active}update(e,t,s){if(this._active){this._notify(!1);const a=this._target[this._prop],o=s-this._start,c=this._duration-o;this._start=s,this._duration=Math.floor(Math.max(c,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=Ie([e.to,t,a,e.from]),this._from=Ie([e.from,a,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,s=this._duration,a=this._prop,o=this._from,c=this._loop,u=this._to;let h;if(this._active=o!==u&&(c||t<s),!this._active){this._target[a]=u,this._notify(!0);return}if(t<0){this._target[a]=o;return}h=t/s%2,h=c&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[a]=this._fn(o,u,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,s)=>{e.push({res:t,rej:s})})}_notify(e){const t=e?"res":"rej",s=this._promises||[];for(let a=0;a<s.length;a++)s[a][t]()}}class gm{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!je(e))return;const t=Object.keys(Ye.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const o=e[a];if(!je(o))return;const c={};for(const u of t)c[u]=o[u];(qe(o.properties)&&o.properties||[a]).forEach(u=>{(u===a||!s.has(u))&&s.set(u,c)})})}_animateOptions(e,t){const s=t.options,a=X1(e,s);if(!a)return[];const o=this._createAnimations(a,s);return s.$shared&&q1(e.options.$animations,s).then(()=>{e.options=s},()=>{}),o}_createAnimations(e,t){const s=this._properties,a=[],o=e.$animations||(e.$animations={}),c=Object.keys(t),u=Date.now();let h;for(h=c.length-1;h>=0;--h){const p=c[h];if(p.charAt(0)==="$")continue;if(p==="options"){a.push(...this._animateOptions(e,t));continue}const m=t[p];let x=o[p];const b=s.get(p);if(x)if(b&&x.active()){x.update(b,m,u);continue}else x.cancel();if(!b||!b.duration){e[p]=m;continue}o[p]=x=new K1(b,e,p,m),a.push(x)}return a}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const s=this._createAnimations(e,t);if(s.length)return wn.add(this._chart,s),!0}}function q1(n,e){const t=[],s=Object.keys(e);for(let a=0;a<s.length;a++){const o=n[s[a]];o&&o.active()&&t.push(o.wait())}return Promise.all(t)}function X1(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function x0(n,e){const t=n&&n.options||{},s=t.reverse,a=t.min===void 0?e:0,o=t.max===void 0?e:0;return{start:s?o:a,end:s?a:o}}function Q1(n,e,t){if(t===!1)return!1;const s=x0(n,t),a=x0(e,t);return{top:a.end,right:s.end,bottom:a.start,left:s.start}}function J1(n){let e,t,s,a;return je(n)?(e=n.top,t=n.right,s=n.bottom,a=n.left):e=t=s=a=n,{top:e,right:t,bottom:s,left:a,disabled:n===!1}}function xm(n,e){const t=[],s=n._getSortedDatasetMetas(e);let a,o;for(a=0,o=s.length;a<o;++a)t.push(s[a].index);return t}function y0(n,e,t,s={}){const a=n.keys,o=s.mode==="single";let c,u,h,p;if(e===null)return;let m=!1;for(c=0,u=a.length;c<u;++c){if(h=+a[c],h===t){if(m=!0,s.all)continue;break}p=n.values[h],Qe(p)&&(o||e===0||ln(e)===ln(p))&&(e+=p)}return!m&&!s.all?0:e}function Z1(n,e){const{iScale:t,vScale:s}=e,a=t.axis==="x"?"x":"y",o=s.axis==="x"?"x":"y",c=Object.keys(n),u=new Array(c.length);let h,p,m;for(h=0,p=c.length;h<p;++h)m=c[h],u[h]={[a]:m,[o]:n[m]};return u}function zc(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function ek(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function tk(n){const{min:e,max:t,minDefined:s,maxDefined:a}=n.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:a?t:Number.POSITIVE_INFINITY}}function nk(n,e,t){const s=n[e]||(n[e]={});return s[t]||(s[t]={})}function b0(n,e,t,s){for(const a of e.getMatchingVisibleMetas(s).reverse()){const o=n[a.index];if(t&&o>0||!t&&o<0)return a.index}return null}function v0(n,e){const{chart:t,_cachedMeta:s}=n,a=t._stacks||(t._stacks={}),{iScale:o,vScale:c,index:u}=s,h=o.axis,p=c.axis,m=ek(o,c,s),x=e.length;let b;for(let k=0;k<x;++k){const _=e[k],{[h]:v,[p]:w}=_,N=_._stacks||(_._stacks={});b=N[p]=nk(a,m,v),b[u]=w,b._top=b0(b,c,!0,s.type),b._bottom=b0(b,c,!1,s.type);const C=b._visualValues||(b._visualValues={});C[u]=w}}function Oc(n,e){const t=n.scales;return Object.keys(t).filter(s=>t[s].axis===e).shift()}function rk(n,e){return Pr(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function sk(n,e,t){return Pr(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function ra(n,e){const t=n.controller.index,s=n.vScale&&n.vScale.axis;if(s){e=e||n._parsed;for(const a of e){const o=a._stacks;if(!o||o[s]===void 0||o[s][t]===void 0)return;delete o[s][t],o[s]._visualValues!==void 0&&o[s]._visualValues[t]!==void 0&&delete o[s]._visualValues[t]}}}const Fc=n=>n==="reset"||n==="none",k0=(n,e)=>e?n:Object.assign({},n),ak=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:xm(t,!0),values:null};class Ta{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=zc(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ra(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,s=this.getDataset(),a=(x,b,k,_)=>x==="x"?b:x==="r"?_:k,o=t.xAxisID=ke(s.xAxisID,Oc(e,"x")),c=t.yAxisID=ke(s.yAxisID,Oc(e,"y")),u=t.rAxisID=ke(s.rAxisID,Oc(e,"r")),h=t.indexAxis,p=t.iAxisID=a(h,o,c,u),m=t.vAxisID=a(h,c,o,u);t.xScale=this.getScaleForId(o),t.yScale=this.getScaleForId(c),t.rScale=this.getScaleForId(u),t.iScale=this.getScaleForId(p),t.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&n0(this._data,this),e._stacked&&ra(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),s=this._data;if(je(t)){const a=this._cachedMeta;this._data=Z1(t,a)}else if(s!==t){if(s){n0(s,this);const a=this._cachedMeta;ra(a),a._parsed=[]}t&&Object.isExtensible(t)&&Wv(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,s=this.getDataset();let a=!1;this._dataCheck();const o=t._stacked;t._stacked=zc(t.vScale,t),t.stack!==s.stack&&(a=!0,ra(t),t.stack=s.stack),this._resyncElements(e),(a||o!==t._stacked)&&(v0(this,t._parsed),t._stacked=zc(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:s,_data:a}=this,{iScale:o,_stacked:c}=s,u=o.axis;let h=e===0&&t===a.length?!0:s._sorted,p=e>0&&s._parsed[e-1],m,x,b;if(this._parsing===!1)s._parsed=a,s._sorted=!0,b=a;else{qe(a[e])?b=this.parseArrayData(s,a,e,t):je(a[e])?b=this.parseObjectData(s,a,e,t):b=this.parsePrimitiveData(s,a,e,t);const k=()=>x[u]===null||p&&x[u]<p[u];for(m=0;m<t;++m)s._parsed[m+e]=x=b[m],h&&(k()&&(h=!1),p=x);s._sorted=h}c&&v0(this,b)}parsePrimitiveData(e,t,s,a){const{iScale:o,vScale:c}=e,u=o.axis,h=c.axis,p=o.getLabels(),m=o===c,x=new Array(a);let b,k,_;for(b=0,k=a;b<k;++b)_=b+s,x[b]={[u]:m||o.parse(p[_],_),[h]:c.parse(t[_],_)};return x}parseArrayData(e,t,s,a){const{xScale:o,yScale:c}=e,u=new Array(a);let h,p,m,x;for(h=0,p=a;h<p;++h)m=h+s,x=t[m],u[h]={x:o.parse(x[0],m),y:c.parse(x[1],m)};return u}parseObjectData(e,t,s,a){const{xScale:o,yScale:c}=e,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,p=new Array(a);let m,x,b,k;for(m=0,x=a;m<x;++m)b=m+s,k=t[b],p[m]={x:o.parse(Nr(k,u),b),y:c.parse(Nr(k,h),b)};return p}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,s){const a=this.chart,o=this._cachedMeta,c=t[e.axis],u={keys:xm(a,!0),values:t._stacks[e.axis]._visualValues};return y0(u,c,o.index,{mode:s})}updateRangeFromParsed(e,t,s,a){const o=s[t.axis];let c=o===null?NaN:o;const u=a&&s._stacks[t.axis];a&&u&&(a.values=u,c=y0(a,o,this._cachedMeta.index)),e.min=Math.min(e.min,c),e.max=Math.max(e.max,c)}getMinMax(e,t){const s=this._cachedMeta,a=s._parsed,o=s._sorted&&e===s.iScale,c=a.length,u=this._getOtherScale(e),h=ak(t,s,this.chart),p={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:x}=tk(u);let b,k;function _(){k=a[b];const v=k[u.axis];return!Qe(k[e.axis])||m>v||x<v}for(b=0;b<c&&!(!_()&&(this.updateRangeFromParsed(p,e,k,h),o));++b);if(o){for(b=c-1;b>=0;--b)if(!_()){this.updateRangeFromParsed(p,e,k,h);break}}return p}getAllParsedValues(e){const t=this._cachedMeta._parsed,s=[];let a,o,c;for(a=0,o=t.length;a<o;++a)c=t[a][e.axis],Qe(c)&&s.push(c);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,s=t.iScale,a=t.vScale,o=this.getParsed(e);return{label:s?""+s.getLabelForValue(o[s.axis]):"",value:a?""+a.getLabelForValue(o[a.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=J1(ke(this.options.clip,Q1(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,s=this._cachedMeta,a=s.data||[],o=t.chartArea,c=[],u=this._drawStart||0,h=this._drawCount||a.length-u,p=this.options.drawActiveElementsOnTop;let m;for(s.dataset&&s.dataset.draw(e,o,u,h),m=u;m<u+h;++m){const x=a[m];x.hidden||(x.active&&p?c.push(x):x.draw(e,o))}for(m=0;m<c.length;++m)c[m].draw(e,o)}getStyle(e,t){const s=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,t,s){const a=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const c=this._cachedMeta.data[e];o=c.$context||(c.$context=sk(this.getContext(),e,c)),o.parsed=this.getParsed(e),o.raw=a.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=rk(this.chart.getContext(),this.index)),o.dataset=a,o.index=o.datasetIndex=this.index;return o.active=!!t,o.mode=s,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",s){const a=t==="active",o=this._cachedDataOpts,c=e+"-"+t,u=o[c],h=this.enableOptionSharing&&ka(s);if(u)return k0(u,h);const p=this.chart.config,m=p.datasetElementScopeKeys(this._type,e),x=a?[`${e}Hover`,"hover",e,""]:[e,""],b=p.getOptionScopes(this.getDataset(),m),k=Object.keys(Ye.elements[e]),_=()=>this.getContext(s,a,t),v=p.resolveNamedOptions(b,k,_,x);return v.$shared&&(v.$shared=h,o[c]=Object.freeze(k0(v,h))),v}_resolveAnimations(e,t,s){const a=this.chart,o=this._cachedDataOpts,c=`animation-${t}`,u=o[c];if(u)return u;let h;if(a.options.animation!==!1){const m=this.chart.config,x=m.datasetAnimationScopeKeys(this._type,t),b=m.getOptionScopes(this.getDataset(),x);h=m.createResolver(b,this.getContext(e,s,t))}const p=new gm(a,h&&h.animations);return h&&h._cacheable&&(o[c]=Object.freeze(p)),p}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Fc(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const s=this.resolveDataElementOptions(e,t),a=this._sharedOptions,o=this.getSharedOptions(s),c=this.includeOptions(t,o)||o!==a;return this.updateSharedOptions(o,t,s),{sharedOptions:o,includeOptions:c}}updateElement(e,t,s,a){Fc(a)?Object.assign(e,s):this._resolveAnimations(t,a).update(e,s)}updateSharedOptions(e,t,s){e&&!Fc(t)&&this._resolveAnimations(void 0,t).update(e,s)}_setStyle(e,t,s,a){e.active=a;const o=this.getStyle(t,a);this._resolveAnimations(t,s,a).update(e,{options:!a&&this.getSharedOptions(o)||o})}removeHoverStyle(e,t,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,t,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,s=this._cachedMeta.data;for(const[u,h,p]of this._syncList)this[u](h,p);this._syncList=[];const a=s.length,o=t.length,c=Math.min(o,a);c&&this.parse(0,c),o>a?this._insertElements(a,o-a,e):o<a&&this._removeElements(o,a-o)}_insertElements(e,t,s=!0){const a=this._cachedMeta,o=a.data,c=e+t;let u;const h=p=>{for(p.length+=t,u=p.length-1;u>=c;u--)p[u]=p[u-t]};for(h(o),u=e;u<c;++u)o[u]=new this.dataElementType;this._parsing&&h(a._parsed),this.parse(e,t),s&&this.updateElements(o,e,t,"reset")}updateElements(e,t,s,a){}_removeElements(e,t){const s=this._cachedMeta;if(this._parsing){const a=s._parsed.splice(e,t);s._stacked&&ra(s,a)}s.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,s,a]=e;this[t](s,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function ik(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let s=[];for(let a=0,o=t.length;a<o;a++)s=s.concat(t[a].controller.getAllParsedValues(n));n._cache.$bar=Qp(s.sort((a,o)=>a-o))}return n._cache.$bar}function ok(n){const e=n.iScale,t=ik(e,n.type);let s=e._length,a,o,c,u;const h=()=>{c===32767||c===-32768||(ka(u)&&(s=Math.min(s,Math.abs(c-u)||s)),u=c)};for(a=0,o=t.length;a<o;++a)c=e.getPixelForValue(t[a]),h();for(u=void 0,a=0,o=e.ticks.length;a<o;++a)c=e.getPixelForTick(a),h();return s}function lk(n,e,t,s){const a=t.barThickness;let o,c;return Se(a)?(o=e.min*t.categoryPercentage,c=t.barPercentage):(o=a*s,c=1),{chunk:o/s,ratio:c,start:e.pixels[n]-o/2}}function ck(n,e,t,s){const a=e.pixels,o=a[n];let c=n>0?a[n-1]:null,u=n<a.length-1?a[n+1]:null;const h=t.categoryPercentage;c===null&&(c=o-(u===null?e.end-e.start:u-o)),u===null&&(u=o+o-c);const p=o-(o-Math.min(c,u))/2*h;return{chunk:Math.abs(u-c)/2*h/s,ratio:t.barPercentage,start:p}}function dk(n,e,t,s){const a=t.parse(n[0],s),o=t.parse(n[1],s),c=Math.min(a,o),u=Math.max(a,o);let h=c,p=u;Math.abs(c)>Math.abs(u)&&(h=u,p=c),e[t.axis]=p,e._custom={barStart:h,barEnd:p,start:a,end:o,min:c,max:u}}function ym(n,e,t,s){return qe(n)?dk(n,e,t,s):e[t.axis]=t.parse(n,s),e}function w0(n,e,t,s){const a=n.iScale,o=n.vScale,c=a.getLabels(),u=a===o,h=[];let p,m,x,b;for(p=t,m=t+s;p<m;++p)b=e[p],x={},x[a.axis]=u||a.parse(c[p],p),h.push(ym(b,x,o,p));return h}function Ic(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function uk(n,e,t){return n!==0?ln(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function hk(n){let e,t,s,a,o;return n.horizontal?(e=n.base>n.x,t="left",s="right"):(e=n.base<n.y,t="bottom",s="top"),e?(a="end",o="start"):(a="start",o="end"),{start:t,end:s,reverse:e,top:a,bottom:o}}function fk(n,e,t,s){let a=e.borderSkipped;const o={};if(!a){n.borderSkipped=o;return}if(a===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:u,reverse:h,top:p,bottom:m}=hk(n);a==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===s?a=p:(t._bottom||0)===s?a=m:(o[j0(m,c,u,h)]=!0,a=p)),o[j0(a,c,u,h)]=!0,n.borderSkipped=o}function j0(n,e,t,s){return s?(n=pk(n,e,t),n=_0(n,t,e)):n=_0(n,e,t),n}function pk(n,e,t){return n===e?t:n===t?e:n}function _0(n,e,t){return n==="start"?e:n==="end"?t:n}function mk(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class gk extends Ta{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,s,a){return w0(e,t,s,a)}parseArrayData(e,t,s,a){return w0(e,t,s,a)}parseObjectData(e,t,s,a){const{iScale:o,vScale:c}=e,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,p=o.axis==="x"?u:h,m=c.axis==="x"?u:h,x=[];let b,k,_,v;for(b=s,k=s+a;b<k;++b)v=t[b],_={},_[o.axis]=o.parse(Nr(v,p),b),x.push(ym(Nr(v,m),_,c,b));return x}updateRangeFromParsed(e,t,s,a){super.updateRangeFromParsed(e,t,s,a);const o=s._custom;o&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:s,vScale:a}=t,o=this.getParsed(e),c=o._custom,u=Ic(c)?"["+c.start+", "+c.end+"]":""+a.getLabelForValue(o[a.axis]);return{label:""+s.getLabelForValue(o[s.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,s,a){const o=a==="reset",{index:c,_cachedMeta:{vScale:u}}=this,h=u.getBasePixel(),p=u.isHorizontal(),m=this._getRuler(),{sharedOptions:x,includeOptions:b}=this._getSharedOptions(t,a);for(let k=t;k<t+s;k++){const _=this.getParsed(k),v=o||Se(_[u.axis])?{base:h,head:h}:this._calculateBarValuePixels(k),w=this._calculateBarIndexPixels(k,m),N=(_._stacks||{})[u.axis],C={horizontal:p,base:v.base,enableBorderRadius:!N||Ic(_._custom)||c===N._top||c===N._bottom,x:p?v.head:w.center,y:p?w.center:v.head,height:p?w.size:Math.abs(v.size),width:p?Math.abs(v.size):w.size};b&&(C.options=x||this.resolveDataElementOptions(k,e[k].active?"active":a));const M=C.options||e[k].options;fk(C,M,N,c),mk(C,M,m.ratio),this.updateElement(e[k],k,C,a)}}_getStacks(e,t){const{iScale:s}=this._cachedMeta,a=s.getMatchingVisibleMetas(this._type).filter(m=>m.controller.options.grouped),o=s.options.stacked,c=[],u=this._cachedMeta.controller.getParsed(t),h=u&&u[s.axis],p=m=>{const x=m._parsed.find(k=>k[s.axis]===h),b=x&&x[m.vScale.axis];if(Se(b)||isNaN(b))return!0};for(const m of a)if(!(t!==void 0&&p(m))&&((o===!1||c.indexOf(m.stack)===-1||o===void 0&&m.stack===void 0)&&c.push(m.stack),m.index===e))break;return c.length||c.push(void 0),c}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[ke(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,s){const a=this._getStacks(e,s),o=t!==void 0?a.indexOf(t):-1;return o===-1?a.length-1:o}_getRuler(){const e=this.options,t=this._cachedMeta,s=t.iScale,a=[];let o,c;for(o=0,c=t.data.length;o<c;++o)a.push(s.getPixelForValue(this.getParsed(o)[s.axis],o));const u=e.barThickness;return{min:u||ok(t),pixels:a,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:u?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:s,index:a},options:{base:o,minBarLength:c}}=this,u=o||0,h=this.getParsed(e),p=h._custom,m=Ic(p);let x=h[t.axis],b=0,k=s?this.applyStack(t,h,s):x,_,v;k!==x&&(b=k-x,k=x),m&&(x=p.barStart,k=p.barEnd-p.barStart,x!==0&&ln(x)!==ln(p.barEnd)&&(b=0),b+=x);const w=!Se(o)&&!m?o:b;let N=t.getPixelForValue(w);if(this.chart.getDataVisibility(e)?_=t.getPixelForValue(b+k):_=N,v=_-N,Math.abs(v)<c){v=uk(v,t,u)*c,x===u&&(N-=v/2);const C=t.getPixelForDecimal(0),M=t.getPixelForDecimal(1),L=Math.min(C,M),E=Math.max(C,M);N=Math.max(Math.min(N,E),L),_=N+v,s&&!m&&(h._stacks[t.axis]._visualValues[a]=t.getValueForPixel(_)-t.getValueForPixel(N))}if(N===t.getPixelForValue(u)){const C=ln(v)*t.getLineWidthForValue(u)/2;N+=C,v-=C}return{size:v,base:N,head:_,center:_+v/2}}_calculateBarIndexPixels(e,t){const s=t.scale,a=this.options,o=a.skipNull,c=ke(a.maxBarThickness,1/0);let u,h;const p=this._getAxisCount();if(t.grouped){const m=o?this._getStackCount(e):t.stackCount,x=a.barThickness==="flex"?ck(e,t,a,m*p):lk(e,t,a,m*p),b=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,k=this._getAxis().indexOf(ke(b,this.getFirstScaleIdForIndexAxis())),_=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0)+k;u=x.start+x.chunk*_+x.chunk/2,h=Math.min(c,x.chunk*x.ratio)}else u=s.getPixelForValue(this.getParsed(e)[s.axis],e),h=Math.min(c,t.min*t.ratio);return{base:u-h/2,head:u+h/2,center:u,size:h}}draw(){const e=this._cachedMeta,t=e.vScale,s=e.data,a=s.length;let o=0;for(;o<a;++o)this.getParsed(o)[t.axis]!==null&&!s[o].hidden&&s[o].draw(this._ctx)}}function xk(n,e,t){let s=1,a=1,o=0,c=0;if(e<He){const u=n,h=u+e,p=Math.cos(u),m=Math.sin(u),x=Math.cos(h),b=Math.sin(h),k=(M,L,E)=>wa(M,u,h,!0)?1:Math.max(L,L*t,E,E*t),_=(M,L,E)=>wa(M,u,h,!0)?-1:Math.min(L,L*t,E,E*t),v=k(0,p,x),w=k(et,m,b),N=_(De,p,x),C=_(De+et,m,b);s=(v-N)/2,a=(w-C)/2,o=-(v+N)/2,c=-(w+C)/2}return{ratioX:s,ratioY:a,offsetX:o,offsetY:c}}class yk extends Ta{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:s,color:a}}=e.legend.options;return t.labels.map((o,c)=>{const h=e.getDatasetMeta(0).controller.getStyle(c);return{text:o,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:a,lineWidth:h.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(c),index:c}})}return[]}},onClick(e,t,s){s.chart.toggleDataVisibility(t.index),s.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const s=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=s;else{let o=h=>+s[h];if(je(s[e])){const{key:h="value"}=this._parsing;o=p=>+Nr(s[p],h)}let c,u;for(c=e,u=e+t;c<u;++c)a._parsed[c]=o(c)}}_getRotation(){return Sn(this.options.rotation-90)}_getCircumference(){return Sn(this.options.circumference)}_getRotationExtents(){let e=He,t=-He;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const a=this.chart.getDatasetMeta(s).controller,o=a._getRotation(),c=a._getCircumference();e=Math.min(e,o),t=Math.max(t,o+c)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:s}=t,a=this._cachedMeta,o=a.data,c=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,u=Math.max((Math.min(s.width,s.height)-c)/2,0),h=Math.min(Mv(this.options.cutout,u),1),p=this._getRingWeight(this.index),{circumference:m,rotation:x}=this._getRotationExtents(),{ratioX:b,ratioY:k,offsetX:_,offsetY:v}=xk(x,m,h),w=(s.width-c)/b,N=(s.height-c)/k,C=Math.max(Math.min(w,N)/2,0),M=Yp(this.options.radius,C),L=Math.max(M*h,0),E=(M-L)/this._getVisibleDatasetWeightTotal();this.offsetX=_*M,this.offsetY=v*M,a.total=this.calculateTotal(),this.outerRadius=M-E*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-E*p,0),this.updateElements(o,0,o.length,e)}_circumference(e,t){const s=this.options,a=this._cachedMeta,o=this._getCircumference();return t&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*o/He)}updateElements(e,t,s,a){const o=a==="reset",c=this.chart,u=c.chartArea,p=c.options.animation,m=(u.left+u.right)/2,x=(u.top+u.bottom)/2,b=o&&p.animateScale,k=b?0:this.innerRadius,_=b?0:this.outerRadius,{sharedOptions:v,includeOptions:w}=this._getSharedOptions(t,a);let N=this._getRotation(),C;for(C=0;C<t;++C)N+=this._circumference(C,o);for(C=t;C<t+s;++C){const M=this._circumference(C,o),L=e[C],E={x:m+this.offsetX,y:x+this.offsetY,startAngle:N,endAngle:N+M,circumference:M,outerRadius:_,innerRadius:k};w&&(E.options=v||this.resolveDataElementOptions(C,L.active?"active":a)),N+=M,this.updateElement(L,C,E,a)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let s=0,a;for(a=0;a<t.length;a++){const o=e._parsed[a];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(a)&&!t[a].hidden&&(s+=Math.abs(o))}return s}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?He*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,s=this.chart,a=s.data.labels||[],o=Mo(t._parsed[e],s.options.locale);return{label:a[e]||"",value:o}}getMaxBorderWidth(e){let t=0;const s=this.chart;let a,o,c,u,h;if(!e){for(a=0,o=s.data.datasets.length;a<o;++a)if(s.isDatasetVisible(a)){c=s.getDatasetMeta(a),e=c.data,u=c.controller;break}}if(!e)return 0;for(a=0,o=e.length;a<o;++a)h=u.resolveDataElementOptions(a),h.borderAlign!=="inner"&&(t=Math.max(t,h.borderWidth||0,h.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let s=0,a=e.length;s<a;++s){const o=this.resolveDataElementOptions(s);t=Math.max(t,o.offset||0,o.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(t+=this._getRingWeight(s));return t}_getRingWeight(e){return Math.max(ke(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class bk extends Ta{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:s,data:a=[],_dataset:o}=t,c=this.chart._animationsDisabled;let{start:u,count:h}=em(t,a,c);this._drawStart=u,this._drawCount=h,tm(t)&&(u=0,h=a.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!o._decimated,s.points=a;const p=this.resolveDatasetElementOptions(e);this.options.showLine||(p.borderWidth=0),p.segment=this.options.segment,this.updateElement(s,void 0,{animated:!c,options:p},e),this.updateElements(a,u,h,e)}updateElements(e,t,s,a){const o=a==="reset",{iScale:c,vScale:u,_stacked:h,_dataset:p}=this._cachedMeta,{sharedOptions:m,includeOptions:x}=this._getSharedOptions(t,a),b=c.axis,k=u.axis,{spanGaps:_,segment:v}=this.options,w=os(_)?_:Number.POSITIVE_INFINITY,N=this.chart._animationsDisabled||o||a==="none",C=t+s,M=e.length;let L=t>0&&this.getParsed(t-1);for(let E=0;E<M;++E){const Y=e[E],O=N?Y:{};if(E<t||E>=C){O.skip=!0;continue}const z=this.getParsed(E),G=Se(z[k]),W=O[b]=c.getPixelForValue(z[b],E),R=O[k]=o||G?u.getBasePixel():u.getPixelForValue(h?this.applyStack(u,z,h):z[k],E);O.skip=isNaN(W)||isNaN(R)||G,O.stop=E>0&&Math.abs(z[b]-L[b])>w,v&&(O.parsed=z,O.raw=p.data[E]),x&&(O.options=m||this.resolveDataElementOptions(E,Y.active?"active":a)),N||this.updateElement(Y,E,O,a),L=z}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,s=t.options&&t.options.borderWidth||0,a=e.data||[];if(!a.length)return s;const o=a[0].size(this.resolveDataElementOptions(0)),c=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(s,o,c)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class vk extends yk{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class kk extends Ta{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const t=this._cachedMeta,s=this.chart.data.labels||[],{xScale:a,yScale:o}=t,c=this.getParsed(e),u=a.getLabelForValue(c.x),h=o.getLabelForValue(c.y);return{label:s[e]||"",value:"("+u+", "+h+")"}}update(e){const t=this._cachedMeta,{data:s=[]}=t,a=this.chart._animationsDisabled;let{start:o,count:c}=em(t,s,a);if(this._drawStart=o,this._drawCount=c,tm(t)&&(o=0,c=s.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:u,_dataset:h}=t;u._chart=this.chart,u._datasetIndex=this.index,u._decimated=!!h._decimated,u.points=s;const p=this.resolveDatasetElementOptions(e);p.segment=this.options.segment,this.updateElement(u,void 0,{animated:!a,options:p},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(s,o,c,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,s,a){const o=a==="reset",{iScale:c,vScale:u,_stacked:h,_dataset:p}=this._cachedMeta,m=this.resolveDataElementOptions(t,a),x=this.getSharedOptions(m),b=this.includeOptions(a,x),k=c.axis,_=u.axis,{spanGaps:v,segment:w}=this.options,N=os(v)?v:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||o||a==="none";let M=t>0&&this.getParsed(t-1);for(let L=t;L<t+s;++L){const E=e[L],Y=this.getParsed(L),O=C?E:{},z=Se(Y[_]),G=O[k]=c.getPixelForValue(Y[k],L),W=O[_]=o||z?u.getBasePixel():u.getPixelForValue(h?this.applyStack(u,Y,h):Y[_],L);O.skip=isNaN(G)||isNaN(W)||z,O.stop=L>0&&Math.abs(Y[k]-M[k])>N,w&&(O.parsed=Y,O.raw=p.data[L]),b&&(O.options=x||this.resolveDataElementOptions(L,E.active?"active":a)),C||this.updateElement(E,L,O,a),M=Y}this.updateSharedOptions(x,a,m)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let u=0;for(let h=t.length-1;h>=0;--h)u=Math.max(u,t[h].size(this.resolveDataElementOptions(h))/2);return u>0&&u}const s=e.dataset,a=s.options&&s.options.borderWidth||0;if(!t.length)return a;const o=t[0].size(this.resolveDataElementOptions(0)),c=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(a,o,c)/2}}function yr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Od{static override(e){Object.assign(Od.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return yr()}parse(){return yr()}format(){return yr()}add(){return yr()}diff(){return yr()}startOf(){return yr()}endOf(){return yr()}}var wk={_date:Od};function jk(n,e,t,s){const{controller:a,data:o,_sorted:c}=n,u=a._cachedMeta.iScale,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&c&&o.length){const p=u._reversePixels?Vv:wr;if(s){if(a._sharedOptions){const m=o[0],x=typeof m.getRange=="function"&&m.getRange(e);if(x){const b=p(o,e,t-x),k=p(o,e,t+x);return{lo:b.lo,hi:k.hi}}}}else{const m=p(o,e,t);if(h){const{vScale:x}=a._cachedMeta,{_parsed:b}=n,k=b.slice(0,m.lo+1).reverse().findIndex(v=>!Se(v[x.axis]));m.lo-=Math.max(0,k);const _=b.slice(m.hi).findIndex(v=>!Se(v[x.axis]));m.hi+=Math.max(0,_)}return m}}return{lo:0,hi:o.length-1}}function Lo(n,e,t,s,a){const o=n.getSortedVisibleDatasetMetas(),c=t[e];for(let u=0,h=o.length;u<h;++u){const{index:p,data:m}=o[u],{lo:x,hi:b}=jk(o[u],e,c,a);for(let k=x;k<=b;++k){const _=m[k];_.skip||s(_,p,k)}}}function _k(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(s,a){const o=e?Math.abs(s.x-a.x):0,c=t?Math.abs(s.y-a.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function Bc(n,e,t,s,a){const o=[];return!a&&!n.isPointInArea(e)||Lo(n,t,e,function(u,h,p){!a&&!ja(u,n.chartArea,0)||u.inRange(e.x,e.y,s)&&o.push({element:u,datasetIndex:h,index:p})},!0),o}function Sk(n,e,t,s){let a=[];function o(c,u,h){const{startAngle:p,endAngle:m}=c.getProps(["startAngle","endAngle"],s),{angle:x}=qp(c,{x:e.x,y:e.y});wa(x,p,m)&&a.push({element:c,datasetIndex:u,index:h})}return Lo(n,t,e,o),a}function Nk(n,e,t,s,a,o){let c=[];const u=_k(t);let h=Number.POSITIVE_INFINITY;function p(m,x,b){const k=m.inRange(e.x,e.y,a);if(s&&!k)return;const _=m.getCenterPoint(a);if(!(!!o||n.isPointInArea(_))&&!k)return;const w=u(e,_);w<h?(c=[{element:m,datasetIndex:x,index:b}],h=w):w===h&&c.push({element:m,datasetIndex:x,index:b})}return Lo(n,t,e,p),c}function $c(n,e,t,s,a,o){return!o&&!n.isPointInArea(e)?[]:t==="r"&&!s?Sk(n,e,t,a):Nk(n,e,t,s,a,o)}function S0(n,e,t,s,a){const o=[],c=t==="x"?"inXRange":"inYRange";let u=!1;return Lo(n,t,e,(h,p,m)=>{h[c]&&h[c](e[t],a)&&(o.push({element:h,datasetIndex:p,index:m}),u=u||h.inRange(e.x,e.y,a))}),s&&!u?[]:o}var Ck={modes:{index(n,e,t,s){const a=vr(e,n),o=t.axis||"x",c=t.includeInvisible||!1,u=t.intersect?Bc(n,a,o,s,c):$c(n,a,o,!1,s,c),h=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(p=>{const m=u[0].index,x=p.data[m];x&&!x.skip&&h.push({element:x,datasetIndex:p.index,index:m})}),h):[]},dataset(n,e,t,s){const a=vr(e,n),o=t.axis||"xy",c=t.includeInvisible||!1;let u=t.intersect?Bc(n,a,o,s,c):$c(n,a,o,!1,s,c);if(u.length>0){const h=u[0].datasetIndex,p=n.getDatasetMeta(h).data;u=[];for(let m=0;m<p.length;++m)u.push({element:p[m],datasetIndex:h,index:m})}return u},point(n,e,t,s){const a=vr(e,n),o=t.axis||"xy",c=t.includeInvisible||!1;return Bc(n,a,o,s,c)},nearest(n,e,t,s){const a=vr(e,n),o=t.axis||"xy",c=t.includeInvisible||!1;return $c(n,a,o,t.intersect,s,c)},x(n,e,t,s){const a=vr(e,n);return S0(n,a,"x",t.intersect,s)},y(n,e,t,s){const a=vr(e,n);return S0(n,a,"y",t.intersect,s)}}};const bm=["left","top","right","bottom"];function sa(n,e){return n.filter(t=>t.pos===e)}function N0(n,e){return n.filter(t=>bm.indexOf(t.pos)===-1&&t.box.axis===e)}function aa(n,e){return n.sort((t,s)=>{const a=e?s:t,o=e?t:s;return a.weight===o.weight?a.index-o.index:a.weight-o.weight})}function Mk(n){const e=[];let t,s,a,o,c,u;for(t=0,s=(n||[]).length;t<s;++t)a=n[t],{position:o,options:{stack:c,stackWeight:u=1}}=a,e.push({index:t,box:a,pos:o,horizontal:a.isHorizontal(),weight:a.weight,stack:c&&o+c,stackWeight:u});return e}function Pk(n){const e={};for(const t of n){const{stack:s,pos:a,stackWeight:o}=t;if(!s||!bm.includes(a))continue;const c=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return e}function Ek(n,e){const t=Pk(n),{vBoxMaxWidth:s,hBoxMaxHeight:a}=e;let o,c,u;for(o=0,c=n.length;o<c;++o){u=n[o];const{fullSize:h}=u.box,p=t[u.stack],m=p&&u.stackWeight/p.weight;u.horizontal?(u.width=m?m*s:h&&e.availableWidth,u.height=a):(u.width=s,u.height=m?m*a:h&&e.availableHeight)}return t}function Dk(n){const e=Mk(n),t=aa(e.filter(p=>p.box.fullSize),!0),s=aa(sa(e,"left"),!0),a=aa(sa(e,"right")),o=aa(sa(e,"top"),!0),c=aa(sa(e,"bottom")),u=N0(e,"x"),h=N0(e,"y");return{fullSize:t,leftAndTop:s.concat(o),rightAndBottom:a.concat(h).concat(c).concat(u),chartArea:sa(e,"chartArea"),vertical:s.concat(a).concat(h),horizontal:o.concat(c).concat(u)}}function C0(n,e,t,s){return Math.max(n[t],e[t])+Math.max(n[s],e[s])}function vm(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function Lk(n,e,t,s){const{pos:a,box:o}=t,c=n.maxPadding;if(!je(a)){t.size&&(n[a]-=t.size);const x=s[t.stack]||{size:0,count:1};x.size=Math.max(x.size,t.horizontal?o.height:o.width),t.size=x.size/x.count,n[a]+=t.size}o.getPadding&&vm(c,o.getPadding());const u=Math.max(0,e.outerWidth-C0(c,n,"left","right")),h=Math.max(0,e.outerHeight-C0(c,n,"top","bottom")),p=u!==n.w,m=h!==n.h;return n.w=u,n.h=h,t.horizontal?{same:p,other:m}:{same:m,other:p}}function Tk(n){const e=n.maxPadding;function t(s){const a=Math.max(e[s]-n[s],0);return n[s]+=a,a}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function Rk(n,e){const t=e.maxPadding;function s(a){const o={left:0,top:0,right:0,bottom:0};return a.forEach(c=>{o[c]=Math.max(e[c],t[c])}),o}return s(n?["left","right"]:["top","bottom"])}function da(n,e,t,s){const a=[];let o,c,u,h,p,m;for(o=0,c=n.length,p=0;o<c;++o){u=n[o],h=u.box,h.update(u.width||e.w,u.height||e.h,Rk(u.horizontal,e));const{same:x,other:b}=Lk(e,t,u,s);p|=x&&a.length,m=m||b,h.fullSize||a.push(u)}return p&&da(a,e,t,s)||m}function Ji(n,e,t,s,a){n.top=t,n.left=e,n.right=e+s,n.bottom=t+a,n.width=s,n.height=a}function M0(n,e,t,s){const a=t.padding;let{x:o,y:c}=e;for(const u of n){const h=u.box,p=s[u.stack]||{placed:0,weight:1},m=u.stackWeight/p.weight||1;if(u.horizontal){const x=e.w*m,b=p.size||h.height;ka(p.start)&&(c=p.start),h.fullSize?Ji(h,a.left,c,t.outerWidth-a.right-a.left,b):Ji(h,e.left+p.placed,c,x,b),p.start=c,p.placed+=x,c=h.bottom}else{const x=e.h*m,b=p.size||h.width;ka(p.start)&&(o=p.start),h.fullSize?Ji(h,o,a.top,b,t.outerHeight-a.bottom-a.top):Ji(h,o,e.top+p.placed,b,x),p.start=o,p.placed+=x,o=h.right}}e.x=o,e.y=c}var $t={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,s){if(!n)return;const a=Lt(n.options.layout.padding),o=Math.max(e-a.width,0),c=Math.max(t-a.height,0),u=Dk(n.boxes),h=u.vertical,p=u.horizontal;Pe(n.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const m=h.reduce((v,w)=>w.box.options&&w.box.options.display===!1?v:v+1,0)||1,x=Object.freeze({outerWidth:e,outerHeight:t,padding:a,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/m,hBoxMaxHeight:c/2}),b=Object.assign({},a);vm(b,Lt(s));const k=Object.assign({maxPadding:b,w:o,h:c,x:a.left,y:a.top},a),_=Ek(h.concat(p),x);da(u.fullSize,k,x,_),da(h,k,x,_),da(p,k,x,_)&&da(h,k,x,_),Tk(k),M0(u.leftAndTop,k,x,_),k.x+=k.w,k.y+=k.h,M0(u.rightAndBottom,k,x,_),n.chartArea={left:k.left,top:k.top,right:k.left+k.w,bottom:k.top+k.h,height:k.h,width:k.w},Pe(u.chartArea,v=>{const w=v.box;Object.assign(w,n.chartArea),w.update(k.w,k.h,{left:0,top:0,right:0,bottom:0})})}};class km{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,s){}removeEventListener(e,t,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,s,a){return t=Math.max(0,t||e.width),s=s||e.height,{width:t,height:Math.max(0,a?Math.floor(t/a):s)}}isAttached(e){return!0}updateConfig(e){}}class Ak extends km{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const uo="$chartjs",zk={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},P0=n=>n===null||n==="";function Ok(n,e){const t=n.style,s=n.getAttribute("height"),a=n.getAttribute("width");if(n[uo]={initial:{height:s,width:a,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",P0(a)){const o=h0(n,"width");o!==void 0&&(n.width=o)}if(P0(s))if(n.style.height==="")n.height=n.width/(e||2);else{const o=h0(n,"height");o!==void 0&&(n.height=o)}return n}const wm=R1?{passive:!0}:!1;function Fk(n,e,t){n&&n.addEventListener(e,t,wm)}function Ik(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,wm)}function Bk(n,e){const t=zk[n.type]||n.type,{x:s,y:a}=vr(n,e);return{type:t,chart:e,native:n,x:s!==void 0?s:null,y:a!==void 0?a:null}}function vo(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function $k(n,e,t){const s=n.canvas,a=new MutationObserver(o=>{let c=!1;for(const u of o)c=c||vo(u.addedNodes,s),c=c&&!vo(u.removedNodes,s);c&&t()});return a.observe(document,{childList:!0,subtree:!0}),a}function Vk(n,e,t){const s=n.canvas,a=new MutationObserver(o=>{let c=!1;for(const u of o)c=c||vo(u.removedNodes,s),c=c&&!vo(u.addedNodes,s);c&&t()});return a.observe(document,{childList:!0,subtree:!0}),a}const Sa=new Map;let E0=0;function jm(){const n=window.devicePixelRatio;n!==E0&&(E0=n,Sa.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function Hk(n,e){Sa.size||window.addEventListener("resize",jm),Sa.set(n,e)}function Wk(n){Sa.delete(n),Sa.size||window.removeEventListener("resize",jm)}function Uk(n,e,t){const s=n.canvas,a=s&&zd(s);if(!a)return;const o=Zp((u,h)=>{const p=a.clientWidth;t(u,h),p<a.clientWidth&&t()},window),c=new ResizeObserver(u=>{const h=u[0],p=h.contentRect.width,m=h.contentRect.height;p===0&&m===0||o(p,m)});return c.observe(a),Hk(n,o),c}function Vc(n,e,t){t&&t.disconnect(),e==="resize"&&Wk(n)}function Yk(n,e,t){const s=n.canvas,a=Zp(o=>{n.ctx!==null&&t(Bk(o,n))},n);return Fk(s,e,a),a}class Gk extends km{acquireContext(e,t){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(Ok(e,t),s):null}releaseContext(e){const t=e.canvas;if(!t[uo])return!1;const s=t[uo].initial;["height","width"].forEach(o=>{const c=s[o];Se(c)?t.removeAttribute(o):t.setAttribute(o,c)});const a=s.style||{};return Object.keys(a).forEach(o=>{t.style[o]=a[o]}),t.width=t.width,delete t[uo],!0}addEventListener(e,t,s){this.removeEventListener(e,t);const a=e.$proxies||(e.$proxies={}),c={attach:$k,detach:Vk,resize:Uk}[t]||Yk;a[t]=c(e,t,s)}removeEventListener(e,t){const s=e.$proxies||(e.$proxies={}),a=s[t];if(!a)return;({attach:Vc,detach:Vc,resize:Vc}[t]||Ik)(e,t,a),s[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,s,a){return T1(e,t,s,a)}isAttached(e){const t=e&&zd(e);return!!(t&&t.isConnected)}}function Kk(n){return!Ad()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?Ak:Gk}class En{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}hasValue(){return os(this.x)&&os(this.y)}getProps(e,t){const s=this.$animations;if(!t||!s)return this;const a={};return e.forEach(o=>{a[o]=s[o]&&s[o].active()?s[o]._to:this[o]}),a}}function qk(n,e){const t=n.options.ticks,s=Xk(n),a=Math.min(t.maxTicksLimit||s,s),o=t.major.enabled?Jk(e):[],c=o.length,u=o[0],h=o[c-1],p=[];if(c>a)return Zk(e,p,o,c/a),p;const m=Qk(o,e,a);if(c>0){let x,b;const k=c>1?Math.round((h-u)/(c-1)):null;for(Zi(e,p,m,Se(k)?0:u-k,u),x=0,b=c-1;x<b;x++)Zi(e,p,m,o[x],o[x+1]);return Zi(e,p,m,h,Se(k)?e.length:h+k),p}return Zi(e,p,m),p}function Xk(n){const e=n.options.offset,t=n._tickSize(),s=n._length/t+(e?0:1),a=n._maxLength/t;return Math.floor(Math.min(s,a))}function Qk(n,e,t){const s=e2(n),a=e.length/t;if(!s)return Math.max(a,1);const o=zv(s);for(let c=0,u=o.length-1;c<u;c++){const h=o[c];if(h>a)return h}return Math.max(a,1)}function Jk(n){const e=[];let t,s;for(t=0,s=n.length;t<s;t++)n[t].major&&e.push(t);return e}function Zk(n,e,t,s){let a=0,o=t[0],c;for(s=Math.ceil(s),c=0;c<n.length;c++)c===o&&(e.push(n[c]),a++,o=t[a*s])}function Zi(n,e,t,s,a){const o=ke(s,0),c=Math.min(ke(a,n.length),n.length);let u=0,h,p,m;for(t=Math.ceil(t),a&&(h=a-s,t=h/Math.floor(h/t)),m=o;m<0;)u++,m=Math.round(o+u*t);for(p=Math.max(o,0);p<c;p++)p===m&&(e.push(n[p]),u++,m=Math.round(o+u*t))}function e2(n){const e=n.length;let t,s;if(e<2)return!1;for(s=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==s)return!1;return s}const t2=n=>n==="left"?"right":n==="right"?"left":n,D0=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,L0=(n,e)=>Math.min(e||n,n);function T0(n,e){const t=[],s=n.length/e,a=n.length;let o=0;for(;o<a;o+=s)t.push(n[Math.floor(o)]);return t}function n2(n,e,t){const s=n.ticks.length,a=Math.min(e,s-1),o=n._startPixel,c=n._endPixel,u=1e-6;let h=n.getPixelForTick(a),p;if(!(t&&(s===1?p=Math.max(h-o,c-h):e===0?p=(n.getPixelForTick(1)-h)/2:p=(h-n.getPixelForTick(a-1))/2,h+=a<e?p:-p,h<o-u||h>c+u)))return h}function r2(n,e){Pe(n,t=>{const s=t.gc,a=s.length/2;let o;if(a>e){for(o=0;o<a;++o)delete t.data[s[o]];s.splice(0,a)}})}function ia(n){return n.drawTicks?n.tickLength:0}function R0(n,e){if(!n.display)return 0;const t=ot(n.font,e),s=Lt(n.padding);return(qe(n.text)?n.text.length:1)*t.lineHeight+s.height}function s2(n,e){return Pr(n,{scale:e,type:"scale"})}function a2(n,e,t){return Pr(n,{tick:t,index:e,type:"tick"})}function i2(n,e,t){let s=Md(n);return(t&&e!=="right"||!t&&e==="right")&&(s=t2(s)),s}function o2(n,e,t,s){const{top:a,left:o,bottom:c,right:u,chart:h}=n,{chartArea:p,scales:m}=h;let x=0,b,k,_;const v=c-a,w=u-o;if(n.isHorizontal()){if(k=ht(s,o,u),je(t)){const N=Object.keys(t)[0],C=t[N];_=m[N].getPixelForValue(C)+v-e}else t==="center"?_=(p.bottom+p.top)/2+v-e:_=D0(n,t,e);b=u-o}else{if(je(t)){const N=Object.keys(t)[0],C=t[N];k=m[N].getPixelForValue(C)-w+e}else t==="center"?k=(p.left+p.right)/2-w+e:k=D0(n,t,e);_=ht(s,c,a),x=t==="left"?-et:et}return{titleX:k,titleY:_,maxWidth:b,rotation:x}}class Er extends En{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:s,_suggestedMax:a}=this;return e=Et(e,Number.POSITIVE_INFINITY),t=Et(t,Number.NEGATIVE_INFINITY),s=Et(s,Number.POSITIVE_INFINITY),a=Et(a,Number.NEGATIVE_INFINITY),{min:Et(e,s),max:Et(t,a),minDefined:Qe(e),maxDefined:Qe(t)}}getMinMax(e){let{min:t,max:s,minDefined:a,maxDefined:o}=this.getUserBounds(),c;if(a&&o)return{min:t,max:s};const u=this.getMatchingVisibleMetas();for(let h=0,p=u.length;h<p;++h)c=u[h].controller.getMinMax(this,e),a||(t=Math.min(t,c.min)),o||(s=Math.max(s,c.max));return t=o&&t>s?s:t,s=a&&t>s?t:s,{min:Et(t,Et(s,t)),max:Et(s,Et(t,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Le(this.options.beforeUpdate,[this])}update(e,t,s){const{beginAtZero:a,grace:o,ticks:c}=this.options,u=c.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=u1(this,o,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=u<this.ticks.length;this._convertTicksToLabels(h?T0(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=qk(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,s;this.isHorizontal()?(t=this.left,s=this.right):(t=this.top,s=this.bottom,e=!e),this._startPixel=t,this._endPixel=s,this._reversePixels=e,this._length=s-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Le(this.options.afterUpdate,[this])}beforeSetDimensions(){Le(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Le(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Le(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Le(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let s,a,o;for(s=0,a=e.length;s<a;s++)o=e[s],o.label=Le(t.callback,[o.value,s,e],this)}afterTickToLabelConversion(){Le(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Le(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,s=L0(this.ticks.length,e.ticks.maxTicksLimit),a=t.minRotation||0,o=t.maxRotation;let c=a,u,h,p;if(!this._isVisible()||!t.display||a>=o||s<=1||!this.isHorizontal()){this.labelRotation=a;return}const m=this._getLabelSizes(),x=m.widest.width,b=m.highest.height,k=ft(this.chart.width-x,0,this.maxWidth);u=e.offset?this.maxWidth/s:k/(s-1),x+6>u&&(u=k/(s-(e.offset?.5:1)),h=this.maxHeight-ia(e.grid)-t.padding-R0(e.title,this.chart.options.font),p=Math.sqrt(x*x+b*b),c=Iv(Math.min(Math.asin(ft((m.highest.height+6)/u,-1,1)),Math.asin(ft(h/p,-1,1))-Math.asin(ft(b/p,-1,1)))),c=Math.max(a,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){Le(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Le(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:s,title:a,grid:o}}=this,c=this._isVisible(),u=this.isHorizontal();if(c){const h=R0(a,t.options.font);if(u?(e.width=this.maxWidth,e.height=ia(o)+h):(e.height=this.maxHeight,e.width=ia(o)+h),s.display&&this.ticks.length){const{first:p,last:m,widest:x,highest:b}=this._getLabelSizes(),k=s.padding*2,_=Sn(this.labelRotation),v=Math.cos(_),w=Math.sin(_);if(u){const N=s.mirror?0:w*x.width+v*b.height;e.height=Math.min(this.maxHeight,e.height+N+k)}else{const N=s.mirror?0:v*x.width+w*b.height;e.width=Math.min(this.maxWidth,e.width+N+k)}this._calculatePadding(p,m,w,v)}}this._handleMargins(),u?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,s,a){const{ticks:{align:o,padding:c},position:u}=this.options,h=this.labelRotation!==0,p=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,x=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,k=0;h?p?(b=a*e.width,k=s*t.height):(b=s*e.height,k=a*t.width):o==="start"?k=t.width:o==="end"?b=e.width:o!=="inner"&&(b=e.width/2,k=t.width/2),this.paddingLeft=Math.max((b-m+c)*this.width/(this.width-m),0),this.paddingRight=Math.max((k-x+c)*this.width/(this.width-x),0)}else{let m=t.height/2,x=e.height/2;o==="start"?(m=0,x=e.height):o==="end"&&(m=t.height,x=0),this.paddingTop=m+c,this.paddingBottom=x+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Le(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,s;for(t=0,s=e.length;t<s;t++)Se(e[t].label)&&(e.splice(t,1),s--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let s=this.ticks;t<s.length&&(s=T0(s,t)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,s){const{ctx:a,_longestTextCache:o}=this,c=[],u=[],h=Math.floor(t/L0(t,s));let p=0,m=0,x,b,k,_,v,w,N,C,M,L,E;for(x=0;x<t;x+=h){if(_=e[x].label,v=this._resolveTickFontOptions(x),a.font=w=v.string,N=o[w]=o[w]||{data:{},gc:[]},C=v.lineHeight,M=L=0,!Se(_)&&!qe(_))M=o0(a,N.data,N.gc,M,_),L=C;else if(qe(_))for(b=0,k=_.length;b<k;++b)E=_[b],!Se(E)&&!qe(E)&&(M=o0(a,N.data,N.gc,M,E),L+=C);c.push(M),u.push(L),p=Math.max(M,p),m=Math.max(L,m)}r2(o,t);const Y=c.indexOf(p),O=u.indexOf(m),z=G=>({width:c[G]||0,height:u[G]||0});return{first:z(0),last:z(t-1),widest:z(Y),highest:z(O),widths:c,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return $v(this._alignToPixels?xr(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const s=t[e];return s.$context||(s.$context=a2(this.getContext(),e,s))}return this.$context||(this.$context=s2(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Sn(this.labelRotation),s=Math.abs(Math.cos(t)),a=Math.abs(Math.sin(t)),o=this._getLabelSizes(),c=e.autoSkipPadding||0,u=o?o.widest.width+c:0,h=o?o.highest.height+c:0;return this.isHorizontal()?h*s>u*a?u/s:h/a:h*a<u*s?h/s:u/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,s=this.chart,a=this.options,{grid:o,position:c,border:u}=a,h=o.offset,p=this.isHorizontal(),x=this.ticks.length+(h?1:0),b=ia(o),k=[],_=u.setContext(this.getContext()),v=_.display?_.width:0,w=v/2,N=function(X){return xr(s,X,v)};let C,M,L,E,Y,O,z,G,W,R,D,I;if(c==="top")C=N(this.bottom),O=this.bottom-b,G=C-w,R=N(e.top)+w,I=e.bottom;else if(c==="bottom")C=N(this.top),R=e.top,I=N(e.bottom)-w,O=C+w,G=this.top+b;else if(c==="left")C=N(this.right),Y=this.right-b,z=C-w,W=N(e.left)+w,D=e.right;else if(c==="right")C=N(this.left),W=e.left,D=N(e.right)-w,Y=C+w,z=this.left+b;else if(t==="x"){if(c==="center")C=N((e.top+e.bottom)/2+.5);else if(je(c)){const X=Object.keys(c)[0],K=c[X];C=N(this.chart.scales[X].getPixelForValue(K))}R=e.top,I=e.bottom,O=C+w,G=O+b}else if(t==="y"){if(c==="center")C=N((e.left+e.right)/2);else if(je(c)){const X=Object.keys(c)[0],K=c[X];C=N(this.chart.scales[X].getPixelForValue(K))}Y=C-w,z=Y-b,W=e.left,D=e.right}const H=ke(a.ticks.maxTicksLimit,x),$=Math.max(1,Math.ceil(x/H));for(M=0;M<x;M+=$){const X=this.getContext(M),K=o.setContext(X),Q=u.setContext(X),ae=K.lineWidth,J=K.color,F=Q.dash||[],q=Q.dashOffset,ge=K.tickWidth,xe=K.tickColor,ie=K.tickBorderDash||[],oe=K.tickBorderDashOffset;L=n2(this,M,h),L!==void 0&&(E=xr(s,L,ae),p?Y=z=W=D=E:O=G=R=I=E,k.push({tx1:Y,ty1:O,tx2:z,ty2:G,x1:W,y1:R,x2:D,y2:I,width:ae,color:J,borderDash:F,borderDashOffset:q,tickWidth:ge,tickColor:xe,tickBorderDash:ie,tickBorderDashOffset:oe}))}return this._ticksLength=x,this._borderValue=C,k}_computeLabelItems(e){const t=this.axis,s=this.options,{position:a,ticks:o}=s,c=this.isHorizontal(),u=this.ticks,{align:h,crossAlign:p,padding:m,mirror:x}=o,b=ia(s.grid),k=b+m,_=x?-m:k,v=-Sn(this.labelRotation),w=[];let N,C,M,L,E,Y,O,z,G,W,R,D,I="middle";if(a==="top")Y=this.bottom-_,O=this._getXAxisLabelAlignment();else if(a==="bottom")Y=this.top+_,O=this._getXAxisLabelAlignment();else if(a==="left"){const $=this._getYAxisLabelAlignment(b);O=$.textAlign,E=$.x}else if(a==="right"){const $=this._getYAxisLabelAlignment(b);O=$.textAlign,E=$.x}else if(t==="x"){if(a==="center")Y=(e.top+e.bottom)/2+k;else if(je(a)){const $=Object.keys(a)[0],X=a[$];Y=this.chart.scales[$].getPixelForValue(X)+k}O=this._getXAxisLabelAlignment()}else if(t==="y"){if(a==="center")E=(e.left+e.right)/2-k;else if(je(a)){const $=Object.keys(a)[0],X=a[$];E=this.chart.scales[$].getPixelForValue(X)}O=this._getYAxisLabelAlignment(b).textAlign}t==="y"&&(h==="start"?I="top":h==="end"&&(I="bottom"));const H=this._getLabelSizes();for(N=0,C=u.length;N<C;++N){M=u[N],L=M.label;const $=o.setContext(this.getContext(N));z=this.getPixelForTick(N)+o.labelOffset,G=this._resolveTickFontOptions(N),W=G.lineHeight,R=qe(L)?L.length:1;const X=R/2,K=$.color,Q=$.textStrokeColor,ae=$.textStrokeWidth;let J=O;c?(E=z,O==="inner"&&(N===C-1?J=this.options.reverse?"left":"right":N===0?J=this.options.reverse?"right":"left":J="center"),a==="top"?p==="near"||v!==0?D=-R*W+W/2:p==="center"?D=-H.highest.height/2-X*W+W:D=-H.highest.height+W/2:p==="near"||v!==0?D=W/2:p==="center"?D=H.highest.height/2-X*W:D=H.highest.height-R*W,x&&(D*=-1),v!==0&&!$.showLabelBackdrop&&(E+=W/2*Math.sin(v))):(Y=z,D=(1-R)*W/2);let F;if($.showLabelBackdrop){const q=Lt($.backdropPadding),ge=H.heights[N],xe=H.widths[N];let ie=D-q.top,oe=0-q.left;switch(I){case"middle":ie-=ge/2;break;case"bottom":ie-=ge;break}switch(O){case"center":oe-=xe/2;break;case"right":oe-=xe;break;case"inner":N===C-1?oe-=xe:N>0&&(oe-=xe/2);break}F={left:oe,top:ie,width:xe+q.width,height:ge+q.height,color:$.backdropColor}}w.push({label:L,font:G,textOffset:D,options:{rotation:v,color:K,strokeColor:Q,strokeWidth:ae,textAlign:J,textBaseline:I,translation:[E,Y],backdrop:F}})}return w}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Sn(this.labelRotation))return e==="top"?"left":"right";let a="center";return t.align==="start"?a="left":t.align==="end"?a="right":t.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:s,mirror:a,padding:o}}=this.options,c=this._getLabelSizes(),u=e+o,h=c.widest.width;let p,m;return t==="left"?a?(m=this.right+o,s==="near"?p="left":s==="center"?(p="center",m+=h/2):(p="right",m+=h)):(m=this.right-u,s==="near"?p="right":s==="center"?(p="center",m-=h/2):(p="left",m=this.left)):t==="right"?a?(m=this.left+o,s==="near"?p="right":s==="center"?(p="center",m-=h/2):(p="left",m-=h)):(m=this.left+u,s==="near"?p="left":s==="center"?(p="center",m+=h/2):(p="right",m=this.right)):p="right",{textAlign:p,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:s,top:a,width:o,height:c}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(s,a,o,c),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const a=this.ticks.findIndex(o=>o.value===e);return a>=0?t.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const t=this.options.grid,s=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,c;const u=(h,p,m)=>{!m.width||!m.color||(s.save(),s.lineWidth=m.width,s.strokeStyle=m.color,s.setLineDash(m.borderDash||[]),s.lineDashOffset=m.borderDashOffset,s.beginPath(),s.moveTo(h.x,h.y),s.lineTo(p.x,p.y),s.stroke(),s.restore())};if(t.display)for(o=0,c=a.length;o<c;++o){const h=a[o];t.drawOnChartArea&&u({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),t.drawTicks&&u({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:s,grid:a}}=this,o=s.setContext(this.getContext()),c=s.display?o.width:0;if(!c)return;const u=a.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let p,m,x,b;this.isHorizontal()?(p=xr(e,this.left,c)-c/2,m=xr(e,this.right,u)+u/2,x=b=h):(x=xr(e,this.top,c)-c/2,b=xr(e,this.bottom,u)+u/2,p=m=h),t.save(),t.lineWidth=o.width,t.strokeStyle=o.color,t.beginPath(),t.moveTo(p,x),t.lineTo(m,b),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,a=this._computeLabelArea();a&&Po(s,a);const o=this.getLabelItems(e);for(const c of o){const u=c.options,h=c.font,p=c.label,m=c.textOffset;_a(s,p,0,m,h,u)}a&&Eo(s)}drawTitle(){const{ctx:e,options:{position:t,title:s,reverse:a}}=this;if(!s.display)return;const o=ot(s.font),c=Lt(s.padding),u=s.align;let h=o.lineHeight/2;t==="bottom"||t==="center"||je(t)?(h+=c.bottom,qe(s.text)&&(h+=o.lineHeight*(s.text.length-1))):h+=c.top;const{titleX:p,titleY:m,maxWidth:x,rotation:b}=o2(this,h,t,u);_a(e,s.text,0,0,o,{color:s.color,maxWidth:x,rotation:b,textAlign:i2(u,t,a),textBaseline:"middle",translation:[p,m]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,s=ke(e.grid&&e.grid.z,-1),a=ke(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Er.prototype.draw?[{z:t,draw:o=>{this.draw(o)}}]:[{z:s,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:t,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",a=[];let o,c;for(o=0,c=t.length;o<c;++o){const u=t[o];u[s]===this.id&&(!e||u.type===e)&&a.push(u)}return a}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return ot(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class eo{constructor(e,t,s){this.type=e,this.scope=t,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let s;d2(t)&&(s=this.register(t));const a=this.items,o=e.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in a||(a[o]=e,l2(e,c,s),this.override&&Ye.override(e.id,e.overrides)),c}get(e){return this.items[e]}unregister(e){const t=this.items,s=e.id,a=this.scope;s in t&&delete t[s],a&&s in Ye[a]&&(delete Ye[a][s],this.override&&delete Cr[s])}}function l2(n,e,t){const s=cn(Object.create(null),[t?Ye.get(t):{},Ye.get(e),n.defaults]);Ye.set(e,s),n.defaultRoutes&&c2(e,n.defaultRoutes),n.descriptors&&Ye.describe(e,n.descriptors)}function c2(n,e){Object.keys(e).forEach(t=>{const s=t.split("."),a=s.pop(),o=[n].concat(s).join("."),c=e[t].split("."),u=c.pop(),h=c.join(".");Ye.route(o,a,h,u)})}function d2(n){return"id"in n&&"defaults"in n}class u2{constructor(){this.controllers=new eo(Ta,"datasets",!0),this.elements=new eo(En,"elements"),this.plugins=new eo(Object,"plugins"),this.scales=new eo(Er,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,s){[...t].forEach(a=>{const o=s||this._getRegistryForType(a);s||o.isForType(a)||o===this.plugins&&a.id?this._exec(e,o,a):Pe(a,c=>{const u=s||this._getRegistryForType(c);this._exec(e,u,c)})})}_exec(e,t,s){const a=Nd(e);Le(s["before"+a],[],s),t[e](s),Le(s["after"+a],[],s)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const s=this._typedRegistries[t];if(s.isForType(e))return s}return this.plugins}_get(e,t,s){const a=t.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return a}}var on=new u2;class h2{constructor(){this._init=[]}notify(e,t,s,a){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=a?this._descriptors(e).filter(a):this._descriptors(e),c=this._notify(o,e,t,s);return t==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),c}_notify(e,t,s,a){a=a||{};for(const o of e){const c=o.plugin,u=c[s],h=[t,a,o.options];if(Le(u,h,c)===!1&&a.cancelable)return!1}return!0}invalidate(){Se(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const s=e&&e.config,a=ke(s.options&&s.options.plugins,{}),o=f2(s);return a===!1&&!t?[]:m2(e,o,a,t)}_notifyStateChanges(e){const t=this._oldCache||[],s=this._cache,a=(o,c)=>o.filter(u=>!c.some(h=>u.plugin.id===h.plugin.id));this._notify(a(t,s),e,"stop"),this._notify(a(s,t),e,"start")}}function f2(n){const e={},t=[],s=Object.keys(on.plugins.items);for(let o=0;o<s.length;o++)t.push(on.getPlugin(s[o]));const a=n.plugins||[];for(let o=0;o<a.length;o++){const c=a[o];t.indexOf(c)===-1&&(t.push(c),e[c.id]=!0)}return{plugins:t,localIds:e}}function p2(n,e){return!e&&n===!1?null:n===!0?{}:n}function m2(n,{plugins:e,localIds:t},s,a){const o=[],c=n.getContext();for(const u of e){const h=u.id,p=p2(s[h],a);p!==null&&o.push({plugin:u,options:g2(n.config,{plugin:u,local:t[h]},p,c)})}return o}function g2(n,{plugin:e,local:t},s,a){const o=n.pluginScopeKeys(e),c=n.getOptionScopes(s,o);return t&&e.defaults&&c.push(e.defaults),n.createResolver(c,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ad(n,e){const t=Ye.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function x2(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function y2(n,e){return n===e?"_index_":"_value_"}function A0(n){if(n==="x"||n==="y"||n==="r")return n}function b2(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function id(n,...e){if(A0(n))return n;for(const t of e){const s=t.axis||b2(t.position)||n.length>1&&A0(n[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function z0(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function v2(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(s=>s.xAxisID===n||s.yAxisID===n);if(t.length)return z0(n,"x",t[0])||z0(n,"y",t[0])}return{}}function k2(n,e){const t=Cr[n.type]||{scales:{}},s=e.scales||{},a=ad(n.type,e),o=Object.create(null);return Object.keys(s).forEach(c=>{const u=s[c];if(!je(u))return console.error(`Invalid scale configuration for scale: ${c}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const h=id(c,u,v2(c,n),Ye.scales[u.type]),p=y2(h,a),m=t.scales||{};o[c]=ha(Object.create(null),[{axis:h},u,m[h],m[p]])}),n.data.datasets.forEach(c=>{const u=c.type||n.type,h=c.indexAxis||ad(u,e),m=(Cr[u]||{}).scales||{};Object.keys(m).forEach(x=>{const b=x2(x,h),k=c[b+"AxisID"]||b;o[k]=o[k]||Object.create(null),ha(o[k],[{axis:b},s[k],m[x]])})}),Object.keys(o).forEach(c=>{const u=o[c];ha(u,[Ye.scales[u.type],Ye.scale])}),o}function _m(n){const e=n.options||(n.options={});e.plugins=ke(e.plugins,{}),e.scales=k2(n,e)}function Sm(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function w2(n){return n=n||{},n.data=Sm(n.data),_m(n),n}const O0=new Map,Nm=new Set;function to(n,e){let t=O0.get(n);return t||(t=e(),O0.set(n,t),Nm.add(t)),t}const oa=(n,e,t)=>{const s=Nr(e,t);s!==void 0&&n.add(s)};class j2{constructor(e){this._config=w2(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Sm(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),_m(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return to(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return to(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return to(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,s=this.type;return to(`${s}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const s=this._scopeCache;let a=s.get(e);return(!a||t)&&(a=new Map,s.set(e,a)),a}getOptionScopes(e,t,s){const{options:a,type:o}=this,c=this._cachedScopes(e,s),u=c.get(t);if(u)return u;const h=new Set;t.forEach(m=>{e&&(h.add(e),m.forEach(x=>oa(h,e,x))),m.forEach(x=>oa(h,a,x)),m.forEach(x=>oa(h,Cr[o]||{},x)),m.forEach(x=>oa(h,Ye,x)),m.forEach(x=>oa(h,rd,x))});const p=Array.from(h);return p.length===0&&p.push(Object.create(null)),Nm.has(t)&&c.set(t,p),p}chartOptionScopes(){const{options:e,type:t}=this;return[e,Cr[t]||{},Ye.datasets[t]||{},{type:t},Ye,rd]}resolveNamedOptions(e,t,s,a=[""]){const o={$shared:!0},{resolver:c,subPrefixes:u}=F0(this._resolverCache,e,a);let h=c;if(S2(c,t)){o.$shared=!1,s=tr(s)?s():s;const p=this.createResolver(e,s,u);h=ls(c,s,p)}for(const p of t)o[p]=h[p];return o}createResolver(e,t,s=[""],a){const{resolver:o}=F0(this._resolverCache,e,s);return je(t)?ls(o,t,void 0,a):o}}function F0(n,e,t){let s=n.get(e);s||(s=new Map,n.set(e,s));const a=t.join();let o=s.get(a);return o||(o={resolver:Ld(e,t),subPrefixes:t.filter(u=>!u.toLowerCase().includes("hover"))},s.set(a,o)),o}const _2=n=>je(n)&&Object.getOwnPropertyNames(n).some(e=>tr(n[e]));function S2(n,e){const{isScriptable:t,isIndexable:s}=am(n);for(const a of e){const o=t(a),c=s(a),u=(c||o)&&n[a];if(o&&(tr(u)||_2(u))||c&&qe(u))return!0}return!1}var N2="4.5.0";const C2=["top","bottom","left","right","chartArea"];function I0(n,e){return n==="top"||n==="bottom"||C2.indexOf(n)===-1&&e==="x"}function B0(n,e){return function(t,s){return t[n]===s[n]?t[e]-s[e]:t[n]-s[n]}}function $0(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Le(t&&t.onComplete,[n],e)}function M2(n){const e=n.chart,t=e.options.animation;Le(t&&t.onProgress,[n],e)}function Cm(n){return Ad()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const ho={},V0=n=>{const e=Cm(n);return Object.values(ho).filter(t=>t.canvas===e).pop()};function P2(n,e,t){const s=Object.keys(n);for(const a of s){const o=+a;if(o>=e){const c=n[a];delete n[a],(t>0||o>e)&&(n[o+t]=c)}}}function E2(n,e,t,s){return!t||n.type==="mouseout"?null:s?e:n}let ps=class{static defaults=Ye;static instances=ho;static overrides=Cr;static registry=on;static version=N2;static getChart=V0;static register(...e){on.add(...e),H0()}static unregister(...e){on.remove(...e),H0()}constructor(e,t){const s=this.config=new j2(t),a=Cm(e),o=V0(a);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||Kk(a)),this.platform.updateConfig(s);const u=this.platform.acquireContext(a,c.aspectRatio),h=u&&u.canvas,p=h&&h.height,m=h&&h.width;if(this.id=Cv(),this.ctx=u,this.canvas=h,this.width=m,this.height=p,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new h2,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Uv(x=>this.update(x),c.resizeDelay||0),this._dataChanges=[],ho[this.id]=this,!u||!h){console.error("Failed to create chart: can't acquire context from the given item");return}wn.listen(this,"complete",$0),wn.listen(this,"progress",M2),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:s,height:a,_aspectRatio:o}=this;return Se(e)?t&&o?o:a?s/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return on}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():u0(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return l0(this.canvas,this.ctx),this}stop(){return wn.stop(this),this}resize(e,t){wn.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const s=this.options,a=this.canvas,o=s.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(a,e,t,o),u=s.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,u0(this,u,!0)&&(this.notifyPlugins("resize",{size:c}),Le(s.onResize,[this,c],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Pe(t,(s,a)=>{s.id=a})}buildOrUpdateScales(){const e=this.options,t=e.scales,s=this.scales,a=Object.keys(s).reduce((c,u)=>(c[u]=!1,c),{});let o=[];t&&(o=o.concat(Object.keys(t).map(c=>{const u=t[c],h=id(c,u),p=h==="r",m=h==="x";return{options:u,dposition:p?"chartArea":m?"bottom":"left",dtype:p?"radialLinear":m?"category":"linear"}}))),Pe(o,c=>{const u=c.options,h=u.id,p=id(h,u),m=ke(u.type,c.dtype);(u.position===void 0||I0(u.position,p)!==I0(c.dposition))&&(u.position=c.dposition),a[h]=!0;let x=null;if(h in s&&s[h].type===m)x=s[h];else{const b=on.getScale(m);x=new b({id:h,type:m,ctx:this.ctx,chart:this}),s[x.id]=x}x.init(u,e)}),Pe(a,(c,u)=>{c||delete s[u]}),Pe(s,c=>{$t.configure(this,c,c.options),$t.addBox(this,c)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,s=e.length;if(e.sort((a,o)=>a.index-o.index),s>t){for(let a=t;a<s;++a)this._destroyDatasetMeta(a);e.splice(t,s-t)}this._sortedMetasets=e.slice(0).sort(B0("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((s,a)=>{t.filter(o=>o===s._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let s,a;for(this._removeUnreferencedMetasets(),s=0,a=t.length;s<a;s++){const o=t[s];let c=this.getDatasetMeta(s);const u=o.type||this.config.type;if(c.type&&c.type!==u&&(this._destroyDatasetMeta(s),c=this.getDatasetMeta(s)),c.type=u,c.indexAxis=o.indexAxis||ad(u,this.options),c.order=o.order||0,c.index=s,c.label=""+o.label,c.visible=this.isDatasetVisible(s),c.controller)c.controller.updateIndex(s),c.controller.linkScales();else{const h=on.getController(u),{datasetElementType:p,dataElementType:m}=Ye.datasets[u];Object.assign(h,{dataElementType:on.getElement(m),datasetElementType:p&&on.getElement(p)}),c.controller=new h(this,s),e.push(c.controller)}}return this._updateMetasets(),e}_resetElements(){Pe(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const s=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let p=0,m=this.data.datasets.length;p<m;p++){const{controller:x}=this.getDatasetMeta(p),b=!a&&o.indexOf(x)===-1;x.buildOrUpdateElements(b),c=Math.max(+x.getMaxOverflow(),c)}c=this._minPadding=s.layout.autoPadding?c:0,this._updateLayout(c),a||Pe(o,p=>{p.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(B0("z","_idx"));const{_active:u,_lastEvent:h}=this;h?this._eventHandler(h,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Pe(this.scales,e=>{$t.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!Jf(t,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:s,start:a,count:o}of t){const c=s==="_removeElements"?-o:o;P2(e,a,c)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,s=o=>new Set(e.filter(c=>c[0]===o).map((c,u)=>u+","+c.splice(1).join(","))),a=s(0);for(let o=1;o<t;o++)if(!Jf(a,s(o)))return;return Array.from(a).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;$t.update(this,this.width,this.height,e);const t=this.chartArea,s=t.width<=0||t.height<=0;this._layers=[],Pe(this.boxes,a=>{s&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,o)=>{a._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,s=this.data.datasets.length;t<s;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,s=this.data.datasets.length;t<s;++t)this._updateDataset(t,tr(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const s=this.getDatasetMeta(e),a={meta:s,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(s.controller._update(t),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(wn.has(this)?this.attached&&!wn.running(this)&&wn.start(this):(this.draw(),$0({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,s=[];let a,o;for(a=0,o=t.length;a<o;++a){const c=t[a];(!e||c.visible)&&s.push(c)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,s={meta:e,index:e.index,cancelable:!0},a=mm(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(a&&Po(t,a),e.controller.draw(),a&&Eo(t),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return ja(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,s,a){const o=Ck.modes[t];return typeof o=="function"?o(this,e,s,a):[]}getDatasetMeta(e){const t=this.data.datasets[e],s=this._metasets;let a=s.filter(o=>o&&o._dataset===t).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},s.push(a)),a}getContext(){return this.$context||(this.$context=Pr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!t.hidden}setDatasetVisibility(e,t){const s=this.getDatasetMeta(e);s.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,s){const a=s?"show":"hide",o=this.getDatasetMeta(e),c=o.controller._resolveAnimations(void 0,a);ka(t)?(o.data[t].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),c.update(o,{visible:s}),this.update(u=>u.datasetIndex===e?a:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),wn.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),l0(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete ho[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,s=(o,c)=>{t.addEventListener(this,o,c),e[o]=c},a=(o,c,u)=>{o.offsetX=c,o.offsetY=u,this._eventHandler(o)};Pe(this.options.events,o=>s(o,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,s=(h,p)=>{t.addEventListener(this,h,p),e[h]=p},a=(h,p)=>{e[h]&&(t.removeEventListener(this,h,p),delete e[h])},o=(h,p)=>{this.canvas&&this.resize(h,p)};let c;const u=()=>{a("attach",u),this.attached=!0,this.resize(),s("resize",o),s("detach",c)};c=()=>{this.attached=!1,a("resize",o),this._stop(),this._resize(0,0),s("attach",u)},t.isAttached(this.canvas)?u():c()}unbindEvents(){Pe(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Pe(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,s){const a=s?"set":"remove";let o,c,u,h;for(t==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+a+"DatasetHoverStyle"]()),u=0,h=e.length;u<h;++u){c=e[u];const p=c&&this.getDatasetMeta(c.datasetIndex).controller;p&&p[a+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],s=e.map(({datasetIndex:o,index:c})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[c],index:c}});!mo(s,t)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,t))}notifyPlugins(e,t,s){return this._plugins.notify(this,e,t,s)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,s){const a=this.options.hover,o=(h,p)=>h.filter(m=>!p.some(x=>m.datasetIndex===x.datasetIndex&&m.index===x.index)),c=o(t,e),u=s?e:o(e,t);c.length&&this.updateHoverStyle(c,a.mode,!1),u.length&&a.mode&&this.updateHoverStyle(u,a.mode,!0)}_eventHandler(e,t){const s={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},a=c=>(c.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,a)===!1)return;const o=this._handleEvent(e,t,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,a),(o||s.changed)&&this.render(),this}_handleEvent(e,t,s){const{_active:a=[],options:o}=this,c=t,u=this._getActiveElements(e,a,s,c),h=Tv(e),p=E2(e,this._lastEvent,s,h);s&&(this._lastEvent=null,Le(o.onHover,[e,u,this],this),h&&Le(o.onClick,[e,u,this],this));const m=!mo(u,a);return(m||t)&&(this._active=u,this._updateHoverStyles(u,a,t)),this._lastEvent=p,m}_getActiveElements(e,t,s,a){if(e.type==="mouseout")return[];if(!s)return t;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,a)}};function H0(){return Pe(ps.instances,n=>n._plugins.invalidate())}function D2(n,e,t){const{startAngle:s,x:a,y:o,outerRadius:c,innerRadius:u,options:h}=e,{borderWidth:p,borderJoinStyle:m}=h,x=Math.min(p/c,Dt(s-t));if(n.beginPath(),n.arc(a,o,c-p/2,s+x/2,t-x/2),u>0){const b=Math.min(p/u,Dt(s-t));n.arc(a,o,u+p/2,t-b/2,s+b/2,!0)}else{const b=Math.min(p/2,c*Dt(s-t));if(m==="round")n.arc(a,o,b,t-De/2,s+De/2,!0);else if(m==="bevel"){const k=2*b*b,_=-k*Math.cos(t+De/2)+a,v=-k*Math.sin(t+De/2)+o,w=k*Math.cos(s+De/2)+a,N=k*Math.sin(s+De/2)+o;n.lineTo(_,v),n.lineTo(w,N)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function L2(n,e,t){const{startAngle:s,pixelMargin:a,x:o,y:c,outerRadius:u,innerRadius:h}=e;let p=a/u;n.beginPath(),n.arc(o,c,u,s-p,t+p),h>a?(p=a/h,n.arc(o,c,h,t+p,s-p,!0)):n.arc(o,c,a,t+et,s-et),n.closePath(),n.clip()}function T2(n){return Dd(n,["outerStart","outerEnd","innerStart","innerEnd"])}function R2(n,e,t,s){const a=T2(n.options.borderRadius),o=(t-e)/2,c=Math.min(o,s*e/2),u=h=>{const p=(t-Math.min(o,h))*s/2;return ft(h,0,Math.min(o,p))};return{outerStart:u(a.outerStart),outerEnd:u(a.outerEnd),innerStart:ft(a.innerStart,0,c),innerEnd:ft(a.innerEnd,0,c)}}function ss(n,e,t,s){return{x:t+n*Math.cos(e),y:s+n*Math.sin(e)}}function ko(n,e,t,s,a,o){const{x:c,y:u,startAngle:h,pixelMargin:p,innerRadius:m}=e,x=Math.max(e.outerRadius+s+t-p,0),b=m>0?m+s+t+p:0;let k=0;const _=a-h;if(s){const $=m>0?m-s:0,X=x>0?x-s:0,K=($+X)/2,Q=K!==0?_*K/(K+s):_;k=(_-Q)/2}const v=Math.max(.001,_*x-t/De)/x,w=(_-v)/2,N=h+w+k,C=a-w-k,{outerStart:M,outerEnd:L,innerStart:E,innerEnd:Y}=R2(e,b,x,C-N),O=x-M,z=x-L,G=N+M/O,W=C-L/z,R=b+E,D=b+Y,I=N+E/R,H=C-Y/D;if(n.beginPath(),o){const $=(G+W)/2;if(n.arc(c,u,x,G,$),n.arc(c,u,x,$,W),L>0){const ae=ss(z,W,c,u);n.arc(ae.x,ae.y,L,W,C+et)}const X=ss(D,C,c,u);if(n.lineTo(X.x,X.y),Y>0){const ae=ss(D,H,c,u);n.arc(ae.x,ae.y,Y,C+et,H+Math.PI)}const K=(C-Y/b+(N+E/b))/2;if(n.arc(c,u,b,C-Y/b,K,!0),n.arc(c,u,b,K,N+E/b,!0),E>0){const ae=ss(R,I,c,u);n.arc(ae.x,ae.y,E,I+Math.PI,N-et)}const Q=ss(O,N,c,u);if(n.lineTo(Q.x,Q.y),M>0){const ae=ss(O,G,c,u);n.arc(ae.x,ae.y,M,N-et,G)}}else{n.moveTo(c,u);const $=Math.cos(G)*x+c,X=Math.sin(G)*x+u;n.lineTo($,X);const K=Math.cos(W)*x+c,Q=Math.sin(W)*x+u;n.lineTo(K,Q)}n.closePath()}function A2(n,e,t,s,a){const{fullCircles:o,startAngle:c,circumference:u}=e;let h=e.endAngle;if(o){ko(n,e,t,s,h,a);for(let p=0;p<o;++p)n.fill();isNaN(u)||(h=c+(u%He||He))}return ko(n,e,t,s,h,a),n.fill(),h}function z2(n,e,t,s,a){const{fullCircles:o,startAngle:c,circumference:u,options:h}=e,{borderWidth:p,borderJoinStyle:m,borderDash:x,borderDashOffset:b,borderRadius:k}=h,_=h.borderAlign==="inner";if(!p)return;n.setLineDash(x||[]),n.lineDashOffset=b,_?(n.lineWidth=p*2,n.lineJoin=m||"round"):(n.lineWidth=p,n.lineJoin=m||"bevel");let v=e.endAngle;if(o){ko(n,e,t,s,v,a);for(let w=0;w<o;++w)n.stroke();isNaN(u)||(v=c+(u%He||He))}_&&L2(n,e,v),h.selfJoin&&v-c>=De&&k===0&&m!=="miter"&&D2(n,e,v),o||(ko(n,e,t,s,v,a),n.stroke())}class Mm extends En{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,s){const a=this.getProps(["x","y"],s),{angle:o,distance:c}=qp(a,{x:e,y:t}),{startAngle:u,endAngle:h,innerRadius:p,outerRadius:m,circumference:x}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),b=(this.options.spacing+this.options.borderWidth)/2,k=ke(x,h-u),_=wa(o,u,h)&&u!==h,v=k>=He||_,w=Nn(c,p+b,m+b);return v&&w}getCenterPoint(e){const{x:t,y:s,startAngle:a,endAngle:o,innerRadius:c,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:h,spacing:p}=this.options,m=(a+o)/2,x=(c+u+p+h)/2;return{x:t+Math.cos(m)*x,y:s+Math.sin(m)*x}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:s}=this,a=(t.offset||0)/4,o=(t.spacing||0)/2,c=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=s>He?Math.floor(s/He):0,s===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const u=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(u)*a,Math.sin(u)*a);const h=1-Math.sin(Math.min(De,s||0)),p=a*h;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,A2(e,this,p,o,c),z2(e,this,p,o,c),e.restore()}}function Pm(n,e,t=e){n.lineCap=ke(t.borderCapStyle,e.borderCapStyle),n.setLineDash(ke(t.borderDash,e.borderDash)),n.lineDashOffset=ke(t.borderDashOffset,e.borderDashOffset),n.lineJoin=ke(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=ke(t.borderWidth,e.borderWidth),n.strokeStyle=ke(t.borderColor,e.borderColor)}function O2(n,e,t){n.lineTo(t.x,t.y)}function F2(n){return n.stepped?n1:n.tension||n.cubicInterpolationMode==="monotone"?r1:O2}function Em(n,e,t={}){const s=n.length,{start:a=0,end:o=s-1}=t,{start:c,end:u}=e,h=Math.max(a,c),p=Math.min(o,u),m=a<c&&o<c||a>u&&o>u;return{count:s,start:h,loop:e.loop,ilen:p<h&&!m?s+p-h:p-h}}function I2(n,e,t,s){const{points:a,options:o}=e,{count:c,start:u,loop:h,ilen:p}=Em(a,t,s),m=F2(o);let{move:x=!0,reverse:b}=s||{},k,_,v;for(k=0;k<=p;++k)_=a[(u+(b?p-k:k))%c],!_.skip&&(x?(n.moveTo(_.x,_.y),x=!1):m(n,v,_,b,o.stepped),v=_);return h&&(_=a[(u+(b?p:0))%c],m(n,v,_,b,o.stepped)),!!h}function B2(n,e,t,s){const a=e.points,{count:o,start:c,ilen:u}=Em(a,t,s),{move:h=!0,reverse:p}=s||{};let m=0,x=0,b,k,_,v,w,N;const C=L=>(c+(p?u-L:L))%o,M=()=>{v!==w&&(n.lineTo(m,w),n.lineTo(m,v),n.lineTo(m,N))};for(h&&(k=a[C(0)],n.moveTo(k.x,k.y)),b=0;b<=u;++b){if(k=a[C(b)],k.skip)continue;const L=k.x,E=k.y,Y=L|0;Y===_?(E<v?v=E:E>w&&(w=E),m=(x*m+L)/++x):(M(),n.lineTo(L,E),_=Y,x=0,v=w=E),N=E}M()}function od(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?B2:I2}function $2(n){return n.stepped?A1:n.tension||n.cubicInterpolationMode==="monotone"?z1:kr}function V2(n,e,t,s){let a=e._path;a||(a=e._path=new Path2D,e.path(a,t,s)&&a.closePath()),Pm(n,e.options),n.stroke(a)}function H2(n,e,t,s){const{segments:a,options:o}=e,c=od(e);for(const u of a)Pm(n,o,u.style),n.beginPath(),c(n,e,u,{start:t,end:t+s-1})&&n.closePath(),n.stroke()}const W2=typeof Path2D=="function";function U2(n,e,t,s){W2&&!e.options.segment?V2(n,e,t,s):H2(n,e,t,s)}class Ra extends En{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const a=s.spanGaps?this._loop:this._fullLoop;C1(this._points,s,e,a,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=V1(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,s=e.length;return s&&t[e[s-1].end]}interpolate(e,t){const s=this.options,a=e[t],o=this.points,c=pm(this,{property:t,start:a,end:a});if(!c.length)return;const u=[],h=$2(s);let p,m;for(p=0,m=c.length;p<m;++p){const{start:x,end:b}=c[p],k=o[x],_=o[b];if(k===_){u.push(k);continue}const v=Math.abs((a-k[t])/(_[t]-k[t])),w=h(k,_,v,s.stepped);w[t]=e[t],u.push(w)}return u.length===1?u[0]:u}pathSegment(e,t,s){return od(this)(e,this,t,s)}path(e,t,s){const a=this.segments,o=od(this);let c=this._loop;t=t||0,s=s||this.points.length-t;for(const u of a)c&=o(e,this,u,{start:t,end:t+s-1});return!!c}draw(e,t,s,a){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),U2(e,this,s,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function W0(n,e,t,s){const a=n.options,{[t]:o}=n.getProps([t],s);return Math.abs(e-o)<a.radius+a.hitRadius}class Fd extends En{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,s){const a=this.options,{x:o,y:c}=this.getProps(["x","y"],s);return Math.pow(e-o,2)+Math.pow(t-c,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(e,t){return W0(this,e,"x",t)}inYRange(e,t){return W0(this,e,"y",t)}getCenterPoint(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);const s=t&&e.borderWidth||0;return(t+s)*2}draw(e,t){const s=this.options;this.skip||s.radius<.1||!ja(this,t,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,sd(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function Dm(n,e){const{x:t,y:s,base:a,width:o,height:c}=n.getProps(["x","y","base","width","height"],e);let u,h,p,m,x;return n.horizontal?(x=c/2,u=Math.min(t,a),h=Math.max(t,a),p=s-x,m=s+x):(x=o/2,u=t-x,h=t+x,p=Math.min(s,a),m=Math.max(s,a)),{left:u,top:p,right:h,bottom:m}}function Zn(n,e,t,s){return n?0:ft(e,t,s)}function Y2(n,e,t){const s=n.options.borderWidth,a=n.borderSkipped,o=sm(s);return{t:Zn(a.top,o.top,0,t),r:Zn(a.right,o.right,0,e),b:Zn(a.bottom,o.bottom,0,t),l:Zn(a.left,o.left,0,e)}}function G2(n,e,t){const{enableBorderRadius:s}=n.getProps(["enableBorderRadius"]),a=n.options.borderRadius,o=as(a),c=Math.min(e,t),u=n.borderSkipped,h=s||je(a);return{topLeft:Zn(!h||u.top||u.left,o.topLeft,0,c),topRight:Zn(!h||u.top||u.right,o.topRight,0,c),bottomLeft:Zn(!h||u.bottom||u.left,o.bottomLeft,0,c),bottomRight:Zn(!h||u.bottom||u.right,o.bottomRight,0,c)}}function K2(n){const e=Dm(n),t=e.right-e.left,s=e.bottom-e.top,a=Y2(n,t/2,s/2),o=G2(n,t/2,s/2);return{outer:{x:e.left,y:e.top,w:t,h:s,radius:o},inner:{x:e.left+a.l,y:e.top+a.t,w:t-a.l-a.r,h:s-a.t-a.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,o.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(a.b,a.r))}}}}function Hc(n,e,t,s){const a=e===null,o=t===null,u=n&&!(a&&o)&&Dm(n,s);return u&&(a||Nn(e,u.left,u.right))&&(o||Nn(t,u.top,u.bottom))}function q2(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function X2(n,e){n.rect(e.x,e.y,e.w,e.h)}function Wc(n,e,t={}){const s=n.x!==t.x?-e:0,a=n.y!==t.y?-e:0,o=(n.x+n.w!==t.x+t.w?e:0)-s,c=(n.y+n.h!==t.y+t.h?e:0)-a;return{x:n.x+s,y:n.y+a,w:n.w+o,h:n.h+c,radius:n.radius}}class Lm extends En{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:s,backgroundColor:a}}=this,{inner:o,outer:c}=K2(this),u=q2(c.radius)?yo:X2;e.save(),(c.w!==o.w||c.h!==o.h)&&(e.beginPath(),u(e,Wc(c,t,o)),e.clip(),u(e,Wc(o,-t,c)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),u(e,Wc(o,t)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,t,s){return Hc(this,e,t,s)}inXRange(e,t){return Hc(this,e,null,t)}inYRange(e,t){return Hc(this,null,e,t)}getCenterPoint(e){const{x:t,y:s,base:a,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(t+a)/2:t,y:o?s:(s+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}function Q2(n,e,t){const s=n.segments,a=n.points,o=e.points,c=[];for(const u of s){let{start:h,end:p}=u;p=To(h,p,a);const m=ld(t,a[h],a[p],u.loop);if(!e.segments){c.push({source:u,target:m,start:a[h],end:a[p]});continue}const x=pm(e,m);for(const b of x){const k=ld(t,o[b.start],o[b.end],b.loop),_=fm(u,a,k);for(const v of _)c.push({source:v,target:b,start:{[t]:U0(m,k,"start",Math.max)},end:{[t]:U0(m,k,"end",Math.min)}})}}return c}function ld(n,e,t,s){if(s)return;let a=e[n],o=t[n];return n==="angle"&&(a=Dt(a),o=Dt(o)),{property:n,start:a,end:o}}function J2(n,e){const{x:t=null,y:s=null}=n||{},a=e.points,o=[];return e.segments.forEach(({start:c,end:u})=>{u=To(c,u,a);const h=a[c],p=a[u];s!==null?(o.push({x:h.x,y:s}),o.push({x:p.x,y:s})):t!==null&&(o.push({x:t,y:h.y}),o.push({x:t,y:p.y}))}),o}function To(n,e,t){for(;e>n;e--){const s=t[e];if(!isNaN(s.x)&&!isNaN(s.y))break}return e}function U0(n,e,t,s){return n&&e?s(n[t],e[t]):n?n[t]:e?e[t]:0}function Tm(n,e){let t=[],s=!1;return qe(n)?(s=!0,t=n):t=J2(n,e),t.length?new Ra({points:t,options:{tension:0},_loop:s,_fullLoop:s}):null}function Y0(n){return n&&n.fill!==!1}function Z2(n,e,t){let a=n[e].fill;const o=[e];let c;if(!t)return a;for(;a!==!1&&o.indexOf(a)===-1;){if(!Qe(a))return a;if(c=n[a],!c)return!1;if(c.visible)return a;o.push(a),a=c.fill}return!1}function ew(n,e,t){const s=sw(n);if(je(s))return isNaN(s.value)?!1:s;let a=parseFloat(s);return Qe(a)&&Math.floor(a)===a?tw(s[0],e,a,t):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function tw(n,e,t,s){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=s?!1:t}function nw(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:je(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function rw(n,e,t){let s;return n==="start"?s=t:n==="end"?s=e.options.reverse?e.min:e.max:je(n)?s=n.value:s=e.getBaseValue(),s}function sw(n){const e=n.options,t=e.fill;let s=ke(t&&t.target,t);return s===void 0&&(s=!!e.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function aw(n){const{scale:e,index:t,line:s}=n,a=[],o=s.segments,c=s.points,u=iw(e,t);u.push(Tm({x:null,y:e.bottom},s));for(let h=0;h<o.length;h++){const p=o[h];for(let m=p.start;m<=p.end;m++)ow(a,c[m],u)}return new Ra({points:a,options:{}})}function iw(n,e){const t=[],s=n.getMatchingVisibleMetas("line");for(let a=0;a<s.length;a++){const o=s[a];if(o.index===e)break;o.hidden||t.unshift(o.dataset)}return t}function ow(n,e,t){const s=[];for(let a=0;a<t.length;a++){const o=t[a],{first:c,last:u,point:h}=lw(o,e,"x");if(!(!h||c&&u)){if(c)s.unshift(h);else if(n.push(h),!u)break}}n.push(...s)}function lw(n,e,t){const s=n.interpolate(e,t);if(!s)return{};const a=s[t],o=n.segments,c=n.points;let u=!1,h=!1;for(let p=0;p<o.length;p++){const m=o[p],x=c[m.start][t],b=c[m.end][t];if(Nn(a,x,b)){u=a===x,h=a===b;break}}return{first:u,last:h,point:s}}class Rm{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,s){const{x:a,y:o,radius:c}=this;return t=t||{start:0,end:He},e.arc(a,o,c,t.end,t.start,!0),!s.bounds}interpolate(e){const{x:t,y:s,radius:a}=this,o=e.angle;return{x:t+Math.cos(o)*a,y:s+Math.sin(o)*a,angle:o}}}function cw(n){const{chart:e,fill:t,line:s}=n;if(Qe(t))return dw(e,t);if(t==="stack")return aw(n);if(t==="shape")return!0;const a=uw(n);return a instanceof Rm?a:Tm(a,s)}function dw(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function uw(n){return(n.scale||{}).getPointPositionForValue?fw(n):hw(n)}function hw(n){const{scale:e={},fill:t}=n,s=nw(t,e);if(Qe(s)){const a=e.isHorizontal();return{x:a?s:null,y:a?null:s}}return null}function fw(n){const{scale:e,fill:t}=n,s=e.options,a=e.getLabels().length,o=s.reverse?e.max:e.min,c=rw(t,e,o),u=[];if(s.grid.circular){const h=e.getPointPositionForValue(0,o);return new Rm({x:h.x,y:h.y,radius:e.getDistanceFromCenterForValue(c)})}for(let h=0;h<a;++h)u.push(e.getPointPositionForValue(h,c));return u}function Uc(n,e,t){const s=cw(e),{chart:a,index:o,line:c,scale:u,axis:h}=e,p=c.options,m=p.fill,x=p.backgroundColor,{above:b=x,below:k=x}=m||{},_=a.getDatasetMeta(o),v=mm(a,_);s&&c.points.length&&(Po(n,t),pw(n,{line:c,target:s,above:b,below:k,area:t,scale:u,axis:h,clip:v}),Eo(n))}function pw(n,e){const{line:t,target:s,above:a,below:o,area:c,scale:u,clip:h}=e,p=t._loop?"angle":e.axis;n.save();let m=o;o!==a&&(p==="x"?(G0(n,s,c.top),Yc(n,{line:t,target:s,color:a,scale:u,property:p,clip:h}),n.restore(),n.save(),G0(n,s,c.bottom)):p==="y"&&(K0(n,s,c.left),Yc(n,{line:t,target:s,color:o,scale:u,property:p,clip:h}),n.restore(),n.save(),K0(n,s,c.right),m=a)),Yc(n,{line:t,target:s,color:m,scale:u,property:p,clip:h}),n.restore()}function G0(n,e,t){const{segments:s,points:a}=e;let o=!0,c=!1;n.beginPath();for(const u of s){const{start:h,end:p}=u,m=a[h],x=a[To(h,p,a)];o?(n.moveTo(m.x,m.y),o=!1):(n.lineTo(m.x,t),n.lineTo(m.x,m.y)),c=!!e.pathSegment(n,u,{move:c}),c?n.closePath():n.lineTo(x.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function K0(n,e,t){const{segments:s,points:a}=e;let o=!0,c=!1;n.beginPath();for(const u of s){const{start:h,end:p}=u,m=a[h],x=a[To(h,p,a)];o?(n.moveTo(m.x,m.y),o=!1):(n.lineTo(t,m.y),n.lineTo(m.x,m.y)),c=!!e.pathSegment(n,u,{move:c}),c?n.closePath():n.lineTo(t,x.y)}n.lineTo(t,e.first().y),n.closePath(),n.clip()}function Yc(n,e){const{line:t,target:s,property:a,color:o,scale:c,clip:u}=e,h=Q2(t,s,a);for(const{source:p,target:m,start:x,end:b}of h){const{style:{backgroundColor:k=o}={}}=p,_=s!==!0;n.save(),n.fillStyle=k,mw(n,c,u,_&&ld(a,x,b)),n.beginPath();const v=!!t.pathSegment(n,p);let w;if(_){v?n.closePath():q0(n,s,b,a);const N=!!s.pathSegment(n,m,{move:v,reverse:!0});w=v&&N,w||q0(n,s,x,a)}n.closePath(),n.fill(w?"evenodd":"nonzero"),n.restore()}}function mw(n,e,t,s){const a=e.chart.chartArea,{property:o,start:c,end:u}=s||{};if(o==="x"||o==="y"){let h,p,m,x;o==="x"?(h=c,p=a.top,m=u,x=a.bottom):(h=a.left,p=c,m=a.right,x=u),n.beginPath(),t&&(h=Math.max(h,t.left),m=Math.min(m,t.right),p=Math.max(p,t.top),x=Math.min(x,t.bottom)),n.rect(h,p,m-h,x-p),n.clip()}}function q0(n,e,t,s){const a=e.interpolate(t,s);a&&n.lineTo(a.x,a.y)}var Am={id:"filler",afterDatasetsUpdate(n,e,t){const s=(n.data.datasets||[]).length,a=[];let o,c,u,h;for(c=0;c<s;++c)o=n.getDatasetMeta(c),u=o.dataset,h=null,u&&u.options&&u instanceof Ra&&(h={visible:n.isDatasetVisible(c),index:c,fill:ew(u,c,s),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:u}),o.$filler=h,a.push(h);for(c=0;c<s;++c)h=a[c],!(!h||h.fill===!1)&&(h.fill=Z2(a,c,t.propagate))},beforeDraw(n,e,t){const s=t.drawTime==="beforeDraw",a=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let c=a.length-1;c>=0;--c){const u=a[c].$filler;u&&(u.line.updateControlPoints(o,u.axis),s&&u.fill&&Uc(n.ctx,u,o))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const s=n.getSortedVisibleDatasetMetas();for(let a=s.length-1;a>=0;--a){const o=s[a].$filler;Y0(o)&&Uc(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,e,t){const s=e.meta.$filler;!Y0(s)||t.drawTime!=="beforeDatasetDraw"||Uc(n.ctx,s,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const X0=(n,e)=>{let{boxHeight:t=e,boxWidth:s=e}=n;return n.usePointStyle&&(t=Math.min(t,e),s=n.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:t,itemHeight:Math.max(e,t)}},gw=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class Q0 extends En{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,s){this.maxWidth=e,this.maxHeight=t,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Le(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(s=>e.filter(s,this.chart.data))),e.sort&&(t=t.sort((s,a)=>e.sort(s,a,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,a=ot(s.font),o=a.size,c=this._computeTitleHeight(),{boxWidth:u,itemHeight:h}=X0(s,o);let p,m;t.font=a.string,this.isHorizontal()?(p=this.maxWidth,m=this._fitRows(c,o,u,h)+10):(m=this.maxHeight,p=this._fitCols(c,a,u,h)+10),this.width=Math.min(p,e.maxWidth||this.maxWidth),this.height=Math.min(m,e.maxHeight||this.maxHeight)}_fitRows(e,t,s,a){const{ctx:o,maxWidth:c,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],p=this.lineWidths=[0],m=a+u;let x=e;o.textAlign="left",o.textBaseline="middle";let b=-1,k=-m;return this.legendItems.forEach((_,v)=>{const w=s+t/2+o.measureText(_.text).width;(v===0||p[p.length-1]+w+2*u>c)&&(x+=m,p[p.length-(v>0?0:1)]=0,k+=m,b++),h[v]={left:0,top:k,row:b,width:w,height:a},p[p.length-1]+=w+u}),x}_fitCols(e,t,s,a){const{ctx:o,maxHeight:c,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],p=this.columnSizes=[],m=c-e;let x=u,b=0,k=0,_=0,v=0;return this.legendItems.forEach((w,N)=>{const{itemWidth:C,itemHeight:M}=xw(s,t,o,w,a);N>0&&k+M+2*u>m&&(x+=b+u,p.push({width:b,height:k}),_+=b+u,v++,b=k=0),h[N]={left:_,top:k,col:v,width:C,height:M},b=Math.max(b,C),k+=M+u}),x+=b,p.push({width:b,height:k}),x}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:s,labels:{padding:a},rtl:o}}=this,c=is(o,this.left,this.width);if(this.isHorizontal()){let u=0,h=ht(s,this.left+a,this.right-this.lineWidths[u]);for(const p of t)u!==p.row&&(u=p.row,h=ht(s,this.left+a,this.right-this.lineWidths[u])),p.top+=this.top+e+a,p.left=c.leftForLtr(c.x(h),p.width),h+=p.width+a}else{let u=0,h=ht(s,this.top+e+a,this.bottom-this.columnSizes[u].height);for(const p of t)p.col!==u&&(u=p.col,h=ht(s,this.top+e+a,this.bottom-this.columnSizes[u].height)),p.top=h,p.left+=this.left+a,p.left=c.leftForLtr(c.x(p.left),p.width),h+=p.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Po(e,this),this._draw(),Eo(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:s,ctx:a}=this,{align:o,labels:c}=e,u=Ye.color,h=is(e.rtl,this.left,this.width),p=ot(c.font),{padding:m}=c,x=p.size,b=x/2;let k;this.drawTitle(),a.textAlign=h.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=p.string;const{boxWidth:_,boxHeight:v,itemHeight:w}=X0(c,x),N=function(Y,O,z){if(isNaN(_)||_<=0||isNaN(v)||v<0)return;a.save();const G=ke(z.lineWidth,1);if(a.fillStyle=ke(z.fillStyle,u),a.lineCap=ke(z.lineCap,"butt"),a.lineDashOffset=ke(z.lineDashOffset,0),a.lineJoin=ke(z.lineJoin,"miter"),a.lineWidth=G,a.strokeStyle=ke(z.strokeStyle,u),a.setLineDash(ke(z.lineDash,[])),c.usePointStyle){const W={radius:v*Math.SQRT2/2,pointStyle:z.pointStyle,rotation:z.rotation,borderWidth:G},R=h.xPlus(Y,_/2),D=O+b;rm(a,W,R,D,c.pointStyleWidth&&_)}else{const W=O+Math.max((x-v)/2,0),R=h.leftForLtr(Y,_),D=as(z.borderRadius);a.beginPath(),Object.values(D).some(I=>I!==0)?yo(a,{x:R,y:W,w:_,h:v,radius:D}):a.rect(R,W,_,v),a.fill(),G!==0&&a.stroke()}a.restore()},C=function(Y,O,z){_a(a,z.text,Y,O+w/2,p,{strikethrough:z.hidden,textAlign:h.textAlign(z.textAlign)})},M=this.isHorizontal(),L=this._computeTitleHeight();M?k={x:ht(o,this.left+m,this.right-s[0]),y:this.top+m+L,line:0}:k={x:this.left+m,y:ht(o,this.top+L+m,this.bottom-t[0].height),line:0},dm(this.ctx,e.textDirection);const E=w+m;this.legendItems.forEach((Y,O)=>{a.strokeStyle=Y.fontColor,a.fillStyle=Y.fontColor;const z=a.measureText(Y.text).width,G=h.textAlign(Y.textAlign||(Y.textAlign=c.textAlign)),W=_+b+z;let R=k.x,D=k.y;h.setWidth(this.width),M?O>0&&R+W+m>this.right&&(D=k.y+=E,k.line++,R=k.x=ht(o,this.left+m,this.right-s[k.line])):O>0&&D+E>this.bottom&&(R=k.x=R+t[k.line].width+m,k.line++,D=k.y=ht(o,this.top+L+m,this.bottom-t[k.line].height));const I=h.x(R);if(N(I,D,Y),R=Yv(G,R+_+b,M?R+W:this.right,e.rtl),C(h.x(R),D,Y),M)k.x+=W+m;else if(typeof Y.text!="string"){const H=p.lineHeight;k.y+=zm(Y,H)+m}else k.y+=E}),um(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,s=ot(t.font),a=Lt(t.padding);if(!t.display)return;const o=is(e.rtl,this.left,this.width),c=this.ctx,u=t.position,h=s.size/2,p=a.top+h;let m,x=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),m=this.top+p,x=ht(e.align,x,this.right-b);else{const _=this.columnSizes.reduce((v,w)=>Math.max(v,w.height),0);m=p+ht(e.align,this.top,this.bottom-_-e.labels.padding-this._computeTitleHeight())}const k=ht(u,x,x+b);c.textAlign=o.textAlign(Md(u)),c.textBaseline="middle",c.strokeStyle=t.color,c.fillStyle=t.color,c.font=s.string,_a(c,t.text,k,m,s)}_computeTitleHeight(){const e=this.options.title,t=ot(e.font),s=Lt(e.padding);return e.display?t.lineHeight+s.height:0}_getLegendItemAt(e,t){let s,a,o;if(Nn(e,this.left,this.right)&&Nn(t,this.top,this.bottom)){for(o=this.legendHitBoxes,s=0;s<o.length;++s)if(a=o[s],Nn(e,a.left,a.left+a.width)&&Nn(t,a.top,a.top+a.height))return this.legendItems[s]}return null}handleEvent(e){const t=this.options;if(!vw(e.type,t))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,o=gw(a,s);a&&!o&&Le(t.onLeave,[e,a,this],this),this._hoveredItem=s,s&&!o&&Le(t.onHover,[e,s,this],this)}else s&&Le(t.onClick,[e,s,this],this)}}function xw(n,e,t,s,a){const o=yw(s,n,e,t),c=bw(a,s,e.lineHeight);return{itemWidth:o,itemHeight:c}}function yw(n,e,t,s){let a=n.text;return a&&typeof a!="string"&&(a=a.reduce((o,c)=>o.length>c.length?o:c)),e+t.size/2+s.measureText(a).width}function bw(n,e,t){let s=n;return typeof e.text!="string"&&(s=zm(e,t)),s}function zm(n,e){const t=n.text?n.text.length:0;return e*t}function vw(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var Om={id:"legend",_element:Q0,start(n,e,t){const s=n.legend=new Q0({ctx:n.ctx,options:t,chart:n});$t.configure(n,s,t),$t.addBox(n,s)},stop(n){$t.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const s=n.legend;$t.configure(n,s,t),s.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const s=e.datasetIndex,a=t.chart;a.isDatasetVisible(s)?(a.hide(s),e.hidden=!0):(a.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:s,textAlign:a,color:o,useBorderRadius:c,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const p=h.controller.getStyle(t?0:void 0),m=Lt(p.borderWidth);return{text:e[h.index].label,fillStyle:p.backgroundColor,fontColor:o,hidden:!h.visible,lineCap:p.borderCapStyle,lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:p.borderColor,pointStyle:s||p.pointStyle,rotation:p.rotation,textAlign:a||p.textAlign,borderRadius:c&&(u||p.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Fm extends En{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const a=qe(s.text)?s.text.length:1;this._padding=Lt(s.padding);const o=a*ot(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:s,bottom:a,right:o,options:c}=this,u=c.align;let h=0,p,m,x;return this.isHorizontal()?(m=ht(u,s,o),x=t+e,p=o-s):(c.position==="left"?(m=s+e,x=ht(u,a,t),h=De*-.5):(m=o-e,x=ht(u,t,a),h=De*.5),p=a-t),{titleX:m,titleY:x,maxWidth:p,rotation:h}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const s=ot(t.font),o=s.lineHeight/2+this._padding.top,{titleX:c,titleY:u,maxWidth:h,rotation:p}=this._drawArgs(o);_a(e,t.text,0,0,s,{color:t.color,maxWidth:h,rotation:p,textAlign:Md(t.align),textBaseline:"middle",translation:[c,u]})}}function kw(n,e){const t=new Fm({ctx:n.ctx,options:e,chart:n});$t.configure(n,t,e),$t.addBox(n,t),n.titleBlock=t}var Im={id:"title",_element:Fm,start(n,e,t){kw(n,t)},stop(n){const e=n.titleBlock;$t.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const s=n.titleBlock;$t.configure(n,s,t),s.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ua={average(n){if(!n.length)return!1;let e,t,s=new Set,a=0,o=0;for(e=0,t=n.length;e<t;++e){const u=n[e].element;if(u&&u.hasValue()){const h=u.tooltipPosition();s.add(h.x),a+=h.y,++o}}return o===0||s.size===0?!1:{x:[...s].reduce((u,h)=>u+h)/s.size,y:a/o}},nearest(n,e){if(!n.length)return!1;let t=e.x,s=e.y,a=Number.POSITIVE_INFINITY,o,c,u;for(o=0,c=n.length;o<c;++o){const h=n[o].element;if(h&&h.hasValue()){const p=h.getCenterPoint(),m=nd(e,p);m<a&&(a=m,u=h)}}if(u){const h=u.tooltipPosition();t=h.x,s=h.y}return{x:t,y:s}}};function an(n,e){return e&&(qe(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function jn(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function ww(n,e){const{element:t,datasetIndex:s,index:a}=e,o=n.getDatasetMeta(s).controller,{label:c,value:u}=o.getLabelAndValue(a);return{chart:n,label:c,parsed:o.getParsed(a),raw:n.data.datasets[s].data[a],formattedValue:u,dataset:o.getDataset(),dataIndex:a,datasetIndex:s,element:t}}function J0(n,e){const t=n.chart.ctx,{body:s,footer:a,title:o}=n,{boxWidth:c,boxHeight:u}=e,h=ot(e.bodyFont),p=ot(e.titleFont),m=ot(e.footerFont),x=o.length,b=a.length,k=s.length,_=Lt(e.padding);let v=_.height,w=0,N=s.reduce((L,E)=>L+E.before.length+E.lines.length+E.after.length,0);if(N+=n.beforeBody.length+n.afterBody.length,x&&(v+=x*p.lineHeight+(x-1)*e.titleSpacing+e.titleMarginBottom),N){const L=e.displayColors?Math.max(u,h.lineHeight):h.lineHeight;v+=k*L+(N-k)*h.lineHeight+(N-1)*e.bodySpacing}b&&(v+=e.footerMarginTop+b*m.lineHeight+(b-1)*e.footerSpacing);let C=0;const M=function(L){w=Math.max(w,t.measureText(L).width+C)};return t.save(),t.font=p.string,Pe(n.title,M),t.font=h.string,Pe(n.beforeBody.concat(n.afterBody),M),C=e.displayColors?c+2+e.boxPadding:0,Pe(s,L=>{Pe(L.before,M),Pe(L.lines,M),Pe(L.after,M)}),C=0,t.font=m.string,Pe(n.footer,M),t.restore(),w+=_.width,{width:w,height:v}}function jw(n,e){const{y:t,height:s}=e;return t<s/2?"top":t>n.height-s/2?"bottom":"center"}function _w(n,e,t,s){const{x:a,width:o}=s,c=t.caretSize+t.caretPadding;if(n==="left"&&a+o+c>e.width||n==="right"&&a-o-c<0)return!0}function Sw(n,e,t,s){const{x:a,width:o}=t,{width:c,chartArea:{left:u,right:h}}=n;let p="center";return s==="center"?p=a<=(u+h)/2?"left":"right":a<=o/2?p="left":a>=c-o/2&&(p="right"),_w(p,n,e,t)&&(p="center"),p}function Z0(n,e,t){const s=t.yAlign||e.yAlign||jw(n,t);return{xAlign:t.xAlign||e.xAlign||Sw(n,e,t,s),yAlign:s}}function Nw(n,e){let{x:t,width:s}=n;return e==="right"?t-=s:e==="center"&&(t-=s/2),t}function Cw(n,e,t){let{y:s,height:a}=n;return e==="top"?s+=t:e==="bottom"?s-=a+t:s-=a/2,s}function ep(n,e,t,s){const{caretSize:a,caretPadding:o,cornerRadius:c}=n,{xAlign:u,yAlign:h}=t,p=a+o,{topLeft:m,topRight:x,bottomLeft:b,bottomRight:k}=as(c);let _=Nw(e,u);const v=Cw(e,h,p);return h==="center"?u==="left"?_+=p:u==="right"&&(_-=p):u==="left"?_-=Math.max(m,b)+a:u==="right"&&(_+=Math.max(x,k)+a),{x:ft(_,0,s.width-e.width),y:ft(v,0,s.height-e.height)}}function no(n,e,t){const s=Lt(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-s.right:n.x+s.left}function tp(n){return an([],jn(n))}function Mw(n,e,t){return Pr(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function np(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const Bm={beforeTitle:kn,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,s=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return t[e.dataIndex]}return""},afterTitle:kn,beforeBody:kn,beforeLabel:kn,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Se(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:kn,afterBody:kn,beforeFooter:kn,footer:kn,afterFooter:kn};function wt(n,e,t,s){const a=n[e].call(t,s);return typeof a>"u"?Bm[e].call(t,s):a}class rp extends En{static positioners=ua;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,s=this.options.setContext(this.getContext()),a=s.enabled&&t.options.animation&&s.animations,o=new gm(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=Mw(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:s}=t,a=wt(s,"beforeTitle",this,e),o=wt(s,"title",this,e),c=wt(s,"afterTitle",this,e);let u=[];return u=an(u,jn(a)),u=an(u,jn(o)),u=an(u,jn(c)),u}getBeforeBody(e,t){return tp(wt(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:s}=t,a=[];return Pe(e,o=>{const c={before:[],lines:[],after:[]},u=np(s,o);an(c.before,jn(wt(u,"beforeLabel",this,o))),an(c.lines,wt(u,"label",this,o)),an(c.after,jn(wt(u,"afterLabel",this,o))),a.push(c)}),a}getAfterBody(e,t){return tp(wt(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:s}=t,a=wt(s,"beforeFooter",this,e),o=wt(s,"footer",this,e),c=wt(s,"afterFooter",this,e);let u=[];return u=an(u,jn(a)),u=an(u,jn(o)),u=an(u,jn(c)),u}_createItems(e){const t=this._active,s=this.chart.data,a=[],o=[],c=[];let u=[],h,p;for(h=0,p=t.length;h<p;++h)u.push(ww(this.chart,t[h]));return e.filter&&(u=u.filter((m,x,b)=>e.filter(m,x,b,s))),e.itemSort&&(u=u.sort((m,x)=>e.itemSort(m,x,s))),Pe(u,m=>{const x=np(e.callbacks,m);a.push(wt(x,"labelColor",this,m)),o.push(wt(x,"labelPointStyle",this,m)),c.push(wt(x,"labelTextColor",this,m))}),this.labelColors=a,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=u,u}update(e,t){const s=this.options.setContext(this.getContext()),a=this._active;let o,c=[];if(!a.length)this.opacity!==0&&(o={opacity:0});else{const u=ua[s.position].call(this,a,this._eventPosition);c=this._createItems(s),this.title=this.getTitle(c,s),this.beforeBody=this.getBeforeBody(c,s),this.body=this.getBody(c,s),this.afterBody=this.getAfterBody(c,s),this.footer=this.getFooter(c,s);const h=this._size=J0(this,s),p=Object.assign({},u,h),m=Z0(this.chart,s,p),x=ep(s,p,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,o={opacity:1,x:x.x,y:x.y,width:h.width,height:h.height,caretX:u.x,caretY:u.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,s,a){const o=this.getCaretPosition(e,s,a);t.lineTo(o.x1,o.y1),t.lineTo(o.x2,o.y2),t.lineTo(o.x3,o.y3)}getCaretPosition(e,t,s){const{xAlign:a,yAlign:o}=this,{caretSize:c,cornerRadius:u}=s,{topLeft:h,topRight:p,bottomLeft:m,bottomRight:x}=as(u),{x:b,y:k}=e,{width:_,height:v}=t;let w,N,C,M,L,E;return o==="center"?(L=k+v/2,a==="left"?(w=b,N=w-c,M=L+c,E=L-c):(w=b+_,N=w+c,M=L-c,E=L+c),C=w):(a==="left"?N=b+Math.max(h,m)+c:a==="right"?N=b+_-Math.max(p,x)-c:N=this.caretX,o==="top"?(M=k,L=M-c,w=N-c,C=N+c):(M=k+v,L=M+c,w=N+c,C=N-c),E=M),{x1:w,x2:N,x3:C,y1:M,y2:L,y3:E}}drawTitle(e,t,s){const a=this.title,o=a.length;let c,u,h;if(o){const p=is(s.rtl,this.x,this.width);for(e.x=no(this,s.titleAlign,s),t.textAlign=p.textAlign(s.titleAlign),t.textBaseline="middle",c=ot(s.titleFont),u=s.titleSpacing,t.fillStyle=s.titleColor,t.font=c.string,h=0;h<o;++h)t.fillText(a[h],p.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+u,h+1===o&&(e.y+=s.titleMarginBottom-u)}}_drawColorBox(e,t,s,a,o){const c=this.labelColors[s],u=this.labelPointStyles[s],{boxHeight:h,boxWidth:p}=o,m=ot(o.bodyFont),x=no(this,"left",o),b=a.x(x),k=h<m.lineHeight?(m.lineHeight-h)/2:0,_=t.y+k;if(o.usePointStyle){const v={radius:Math.min(p,h)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},w=a.leftForLtr(b,p)+p/2,N=_+h/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,sd(e,v,w,N),e.strokeStyle=c.borderColor,e.fillStyle=c.backgroundColor,sd(e,v,w,N)}else{e.lineWidth=je(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,e.strokeStyle=c.borderColor,e.setLineDash(c.borderDash||[]),e.lineDashOffset=c.borderDashOffset||0;const v=a.leftForLtr(b,p),w=a.leftForLtr(a.xPlus(b,1),p-2),N=as(c.borderRadius);Object.values(N).some(C=>C!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,yo(e,{x:v,y:_,w:p,h,radius:N}),e.fill(),e.stroke(),e.fillStyle=c.backgroundColor,e.beginPath(),yo(e,{x:w,y:_+1,w:p-2,h:h-2,radius:N}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(v,_,p,h),e.strokeRect(v,_,p,h),e.fillStyle=c.backgroundColor,e.fillRect(w,_+1,p-2,h-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,t,s){const{body:a}=this,{bodySpacing:o,bodyAlign:c,displayColors:u,boxHeight:h,boxWidth:p,boxPadding:m}=s,x=ot(s.bodyFont);let b=x.lineHeight,k=0;const _=is(s.rtl,this.x,this.width),v=function(z){t.fillText(z,_.x(e.x+k),e.y+b/2),e.y+=b+o},w=_.textAlign(c);let N,C,M,L,E,Y,O;for(t.textAlign=c,t.textBaseline="middle",t.font=x.string,e.x=no(this,w,s),t.fillStyle=s.bodyColor,Pe(this.beforeBody,v),k=u&&w!=="right"?c==="center"?p/2+m:p+2+m:0,L=0,Y=a.length;L<Y;++L){for(N=a[L],C=this.labelTextColors[L],t.fillStyle=C,Pe(N.before,v),M=N.lines,u&&M.length&&(this._drawColorBox(t,e,L,_,s),b=Math.max(x.lineHeight,h)),E=0,O=M.length;E<O;++E)v(M[E]),b=x.lineHeight;Pe(N.after,v)}k=0,b=x.lineHeight,Pe(this.afterBody,v),e.y-=o}drawFooter(e,t,s){const a=this.footer,o=a.length;let c,u;if(o){const h=is(s.rtl,this.x,this.width);for(e.x=no(this,s.footerAlign,s),e.y+=s.footerMarginTop,t.textAlign=h.textAlign(s.footerAlign),t.textBaseline="middle",c=ot(s.footerFont),t.fillStyle=s.footerColor,t.font=c.string,u=0;u<o;++u)t.fillText(a[u],h.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+s.footerSpacing}}drawBackground(e,t,s,a){const{xAlign:o,yAlign:c}=this,{x:u,y:h}=e,{width:p,height:m}=s,{topLeft:x,topRight:b,bottomLeft:k,bottomRight:_}=as(a.cornerRadius);t.fillStyle=a.backgroundColor,t.strokeStyle=a.borderColor,t.lineWidth=a.borderWidth,t.beginPath(),t.moveTo(u+x,h),c==="top"&&this.drawCaret(e,t,s,a),t.lineTo(u+p-b,h),t.quadraticCurveTo(u+p,h,u+p,h+b),c==="center"&&o==="right"&&this.drawCaret(e,t,s,a),t.lineTo(u+p,h+m-_),t.quadraticCurveTo(u+p,h+m,u+p-_,h+m),c==="bottom"&&this.drawCaret(e,t,s,a),t.lineTo(u+k,h+m),t.quadraticCurveTo(u,h+m,u,h+m-k),c==="center"&&o==="left"&&this.drawCaret(e,t,s,a),t.lineTo(u,h+x),t.quadraticCurveTo(u,h,u+x,h),t.closePath(),t.fill(),a.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,s=this.$animations,a=s&&s.x,o=s&&s.y;if(a||o){const c=ua[e.position].call(this,this._active,this._eventPosition);if(!c)return;const u=this._size=J0(this,e),h=Object.assign({},c,this._size),p=Z0(t,e,h),m=ep(e,h,p,t);(a._to!==m.x||o._to!==m.y)&&(this.xAlign=p.xAlign,this.yAlign=p.yAlign,this.width=u.width,this.height=u.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(t);const a={width:this.width,height:this.height},o={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const c=Lt(t.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&u&&(e.save(),e.globalAlpha=s,this.drawBackground(o,e,a,t),dm(e,t.textDirection),o.y+=c.top,this.drawTitle(o,e,t),this.drawBody(o,e,t),this.drawFooter(o,e,t),um(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const s=this._active,a=e.map(({datasetIndex:u,index:h})=>{const p=this.chart.getDatasetMeta(u);if(!p)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:p.data[h],index:h}}),o=!mo(s,a),c=this._positionChanged(a,t);(o||c)&&(this._active=a,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,s=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,o=this._active||[],c=this._getActiveElements(e,o,t,s),u=this._positionChanged(c,e),h=t||!mo(c,o)||u;return h&&(this._active=c,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),h}_getActiveElements(e,t,s,a){const o=this.options;if(e.type==="mouseout")return[];if(!a)return t.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const c=this.chart.getElementsAtEventForMode(e,o.mode,o,s);return o.reverse&&c.reverse(),c}_positionChanged(e,t){const{caretX:s,caretY:a,options:o}=this,c=ua[o.position].call(this,e,t);return c!==!1&&(s!==c.x||a!==c.y)}}var $m={id:"tooltip",_element:rp,positioners:ua,afterInit(n,e,t){t&&(n.tooltip=new rp({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Bm},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Pw=(n,e,t,s)=>(typeof e=="string"?(t=n.push(e)-1,s.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function Ew(n,e,t,s){const a=n.indexOf(e);if(a===-1)return Pw(n,e,t,s);const o=n.lastIndexOf(e);return a!==o?t:a}const Dw=(n,e)=>n===null?null:ft(Math.round(n),0,e);function sp(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class Vm extends Er{static id="category";static defaults={ticks:{callback:sp}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const s=this.getLabels();for(const{index:a,label:o}of t)s[a]===o&&s.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Se(e))return null;const s=this.getLabels();return t=isFinite(t)&&s[t]===e?t:Ew(s,e,ke(t,e),this._addedLabels),Dw(t,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:s,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),t||(a=this.getLabels().length-1)),this.min=s,this.max=a}buildTicks(){const e=this.min,t=this.max,s=this.options.offset,a=[];let o=this.getLabels();o=e===0&&t===o.length-1?o:o.slice(e,t+1),this._valueRange=Math.max(o.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let c=e;c<=t;c++)a.push({value:c});return a}getLabelForValue(e){return sp.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function Lw(n,e){const t=[],{bounds:a,step:o,min:c,max:u,precision:h,count:p,maxTicks:m,maxDigits:x,includeBounds:b}=n,k=o||1,_=m-1,{min:v,max:w}=e,N=!Se(c),C=!Se(u),M=!Se(p),L=(w-v)/(x+1);let E=e0((w-v)/_/k)*k,Y,O,z,G;if(E<1e-14&&!N&&!C)return[{value:v},{value:w}];G=Math.ceil(w/E)-Math.floor(v/E),G>_&&(E=e0(G*E/_/k)*k),Se(h)||(Y=Math.pow(10,h),E=Math.ceil(E*Y)/Y),a==="ticks"?(O=Math.floor(v/E)*E,z=Math.ceil(w/E)*E):(O=v,z=w),N&&C&&o&&Fv((u-c)/o,E/1e3)?(G=Math.round(Math.min((u-c)/E,m)),E=(u-c)/G,O=c,z=u):M?(O=N?c:O,z=C?u:z,G=p-1,E=(z-O)/G):(G=(z-O)/E,fa(G,Math.round(G),E/1e3)?G=Math.round(G):G=Math.ceil(G));const W=Math.max(t0(E),t0(O));Y=Math.pow(10,Se(h)?W:h),O=Math.round(O*Y)/Y,z=Math.round(z*Y)/Y;let R=0;for(N&&(b&&O!==c?(t.push({value:c}),O<c&&R++,fa(Math.round((O+R*E)*Y)/Y,c,ap(c,L,n))&&R++):O<c&&R++);R<G;++R){const D=Math.round((O+R*E)*Y)/Y;if(C&&D>u)break;t.push({value:D})}return C&&b&&z!==u?t.length&&fa(t[t.length-1].value,u,ap(u,L,n))?t[t.length-1].value=u:t.push({value:u}):(!C||z===u)&&t.push({value:z}),t}function ap(n,e,{horizontal:t,minRotation:s}){const a=Sn(s),o=(t?Math.sin(a):Math.cos(a))||.001,c=.75*e*(""+n).length;return Math.min(e/o,c)}class Hm extends Er{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Se(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:a,max:o}=this;const c=h=>a=t?a:h,u=h=>o=s?o:h;if(e){const h=ln(a),p=ln(o);h<0&&p<0?u(0):h>0&&p>0&&c(0)}if(a===o){let h=o===0?1:Math.abs(o*.05);u(o+h),e||c(a-h)}this.min=a,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:s}=e,a;return s?(a=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),t=t||11),t&&(a=Math.min(t,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const a={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},o=this._range||this,c=Lw(a,o);return e.bounds==="ticks"&&Kp(c,this,"value"),e.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const e=this.ticks;let t=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const a=(s-t)/Math.max(e.length-1,1)/2;t-=a,s+=a}this._startValue=t,this._endValue=s,this._valueRange=s-t}getLabelForValue(e){return Mo(e,this.chart.options.locale,this.options.ticks.format)}}class Wm extends Hm{static id="linear";static defaults={ticks:{callback:Ed.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Qe(e)?e:0,this.max=Qe(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,s=Sn(this.options.ticks.minRotation),a=(e?Math.sin(s):Math.cos(s))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,o.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Na=n=>Math.floor(Jn(n)),br=(n,e)=>Math.pow(10,Na(n)+e);function ip(n){return n/Math.pow(10,Na(n))===1}function op(n,e,t){const s=Math.pow(10,t),a=Math.floor(n/s);return Math.ceil(e/s)-a}function Tw(n,e){const t=e-n;let s=Na(t);for(;op(n,e,s)>10;)s++;for(;op(n,e,s)<10;)s--;return Math.min(s,Na(n))}function Rw(n,{min:e,max:t}){e=Et(n.min,e);const s=[],a=Na(e);let o=Tw(e,t),c=o<0?Math.pow(10,Math.abs(o)):1;const u=Math.pow(10,o),h=a>o?Math.pow(10,a):0,p=Math.round((e-h)*c)/c,m=Math.floor((e-h)/u/10)*u*10;let x=Math.floor((p-m)/Math.pow(10,o)),b=Et(n.min,Math.round((h+m+x*Math.pow(10,o))*c)/c);for(;b<t;)s.push({value:b,major:ip(b),significand:x}),x>=10?x=x<15?15:20:x++,x>=20&&(o++,x=2,c=o>=0?1:c),b=Math.round((h+m+x*Math.pow(10,o))*c)/c;const k=Et(n.max,b);return s.push({value:k,major:ip(k),significand:x}),s}class Aw extends Er{static id="logarithmic";static defaults={ticks:{callback:Ed.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const s=Hm.prototype.parse.apply(this,[e,t]);if(s===0){this._zero=!0;return}return Qe(s)&&s>0?s:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Qe(e)?Math.max(0,e):null,this.max=Qe(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Qe(this._userMin)&&(this.min=e===br(this.min,0)?br(this.min,-1):br(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let s=this.min,a=this.max;const o=u=>s=e?s:u,c=u=>a=t?a:u;s===a&&(s<=0?(o(1),c(10)):(o(br(s,-1)),c(br(a,1)))),s<=0&&o(br(a,-1)),a<=0&&c(br(s,1)),this.min=s,this.max=a}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},s=Rw(t,this);return e.bounds==="ticks"&&Kp(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(e){return e===void 0?"0":Mo(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Jn(e),this._valueRange=Jn(this.max)-Jn(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Jn(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}const Ro={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},_t=Object.keys(Ro);function lp(n,e){return n-e}function cp(n,e){if(Se(e))return null;const t=n._adapter,{parser:s,round:a,isoWeekday:o}=n._parseOpts;let c=e;return typeof s=="function"&&(c=s(c)),Qe(c)||(c=typeof s=="string"?t.parse(c,s):t.parse(c)),c===null?null:(a&&(c=a==="week"&&(os(o)||o===!0)?t.startOf(c,"isoWeek",o):t.startOf(c,a)),+c)}function dp(n,e,t,s){const a=_t.length;for(let o=_t.indexOf(n);o<a-1;++o){const c=Ro[_t[o]],u=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((t-e)/(u*c.size))<=s)return _t[o]}return _t[a-1]}function zw(n,e,t,s,a){for(let o=_t.length-1;o>=_t.indexOf(t);o--){const c=_t[o];if(Ro[c].common&&n._adapter.diff(a,s,c)>=e-1)return c}return _t[t?_t.indexOf(t):0]}function Ow(n){for(let e=_t.indexOf(n)+1,t=_t.length;e<t;++e)if(Ro[_t[e]].common)return _t[e]}function up(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:s,hi:a}=Cd(t,e),o=t[s]>=e?t[s]:t[a];n[o]=!0}}function Fw(n,e,t,s){const a=n._adapter,o=+a.startOf(e[0].value,s),c=e[e.length-1].value;let u,h;for(u=o;u<=c;u=+a.add(u,1,s))h=t[u],h>=0&&(e[h].major=!0);return e}function hp(n,e,t){const s=[],a={},o=e.length;let c,u;for(c=0;c<o;++c)u=e[c],a[u]=c,s.push({value:u,major:!1});return o===0||!t?s:Fw(n,s,a,t)}class fp extends Er{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const s=e.time||(e.time={}),a=this._adapter=new wk._date(e.adapters.date);a.init(t),ha(s.displayFormats,a.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:cp(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,s=e.time.unit||"day";let{min:a,max:o,minDefined:c,maxDefined:u}=this.getUserBounds();function h(p){!c&&!isNaN(p.min)&&(a=Math.min(a,p.min)),!u&&!isNaN(p.max)&&(o=Math.max(o,p.max))}(!c||!u)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),a=Qe(a)&&!isNaN(a)?a:+t.startOf(Date.now(),s),o=Qe(o)&&!isNaN(o)?o:+t.endOf(Date.now(),s)+1,this.min=Math.min(a,o-1),this.max=Math.max(a+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],s=e[e.length-1]),{min:t,max:s}}buildTicks(){const e=this.options,t=e.time,s=e.ticks,a=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const o=this.min,c=this.max,u=Hv(a,o,c);return this._unit=t.unit||(s.autoSkip?dp(t.minUnit,this.min,this.max,this._getLabelCapacity(o)):zw(this,u.length,t.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:Ow(this._unit),this.initOffsets(a),e.reverse&&u.reverse(),hp(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,s=0,a,o;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?t=1-a:t=(this.getDecimalForValue(e[1])-a)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?s=o:s=(o-this.getDecimalForValue(e[e.length-2]))/2);const c=e.length<3?.5:.25;t=ft(t,0,c),s=ft(s,0,c),this._offsets={start:t,end:s,factor:1/(t+1+s)}}_generate(){const e=this._adapter,t=this.min,s=this.max,a=this.options,o=a.time,c=o.unit||dp(o.minUnit,t,s,this._getLabelCapacity(t)),u=ke(a.ticks.stepSize,1),h=c==="week"?o.isoWeekday:!1,p=os(h)||h===!0,m={};let x=t,b,k;if(p&&(x=+e.startOf(x,"isoWeek",h)),x=+e.startOf(x,p?"day":c),e.diff(s,t,c)>1e5*u)throw new Error(t+" and "+s+" are too far apart with stepSize of "+u+" "+c);const _=a.ticks.source==="data"&&this.getDataTimestamps();for(b=x,k=0;b<s;b=+e.add(b,u,c),k++)up(m,b,_);return(b===s||a.bounds==="ticks"||k===1)&&up(m,b,_),Object.keys(m).sort(lp).map(v=>+v)}getLabelForValue(e){const t=this._adapter,s=this.options.time;return s.tooltipFormat?t.format(e,s.tooltipFormat):t.format(e,s.displayFormats.datetime)}format(e,t){const a=this.options.time.displayFormats,o=this._unit,c=t||a[o];return this._adapter.format(e,c)}_tickFormatFunction(e,t,s,a){const o=this.options,c=o.ticks.callback;if(c)return Le(c,[e,t,s],this);const u=o.time.displayFormats,h=this._unit,p=this._majorUnit,m=h&&u[h],x=p&&u[p],b=s[t],k=p&&x&&b&&b.major;return this._adapter.format(e,a||(k?x:m))}generateTickLabels(e){let t,s,a;for(t=0,s=e.length;t<s;++t)a=e[t],a.label=this._tickFormatFunction(a.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+s)*t.factor)}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,s=this.ctx.measureText(e).width,a=Sn(this.isHorizontal()?t.maxRotation:t.minRotation),o=Math.cos(a),c=Math.sin(a),u=this._resolveTickFontOptions(0).size;return{w:s*o+u*c,h:s*c+u*o}}_getLabelCapacity(e){const t=this.options.time,s=t.displayFormats,a=s[t.unit]||s.millisecond,o=this._tickFormatFunction(e,0,hp(this,[e],this._majorUnit),a),c=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],t,s;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(t=0,s=a.length;t<s;++t)e=e.concat(a[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,s;if(e.length)return e;const a=this.getLabels();for(t=0,s=a.length;t<s;++t)e.push(cp(this,a[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Qp(e.sort(lp))}}function ro(n,e,t){let s=0,a=n.length-1,o,c,u,h;t?(e>=n[s].pos&&e<=n[a].pos&&({lo:s,hi:a}=wr(n,"pos",e)),{pos:o,time:u}=n[s],{pos:c,time:h}=n[a]):(e>=n[s].time&&e<=n[a].time&&({lo:s,hi:a}=wr(n,"time",e)),{time:o,pos:u}=n[s],{time:c,pos:h}=n[a]);const p=c-o;return p?u+(h-u)*(e-o)/p:u}class tN extends fp{static id="timeseries";static defaults=fp.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=ro(t,this.min),this._tableRange=ro(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:s}=this,a=[],o=[];let c,u,h,p,m;for(c=0,u=e.length;c<u;++c)p=e[c],p>=t&&p<=s&&a.push(p);if(a.length<2)return[{time:t,pos:0},{time:s,pos:1}];for(c=0,u=a.length;c<u;++c)m=a[c+1],h=a[c-1],p=a[c],Math.round((m+h)/2)!==p&&o.push({time:p,pos:c/(u-1)});return o}_generate(){const e=this.min,t=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(t)||s.length===1)&&s.push(t),s.sort((a,o)=>a-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),s=this.getLabelTimestamps();return t.length&&s.length?e=this.normalize(t.concat(s)):e=t.length?t:s,e=this._cache.all=e,e}getDecimalForValue(e){return(ro(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return ro(this._table,s*this._tableRange+this._minPos,!0)}}const Um="label";function pp(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function Iw(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function Ym(n,e){n.labels=e}function Gm(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Um;const s=[];n.datasets=e.map(a=>{const o=n.datasets.find(c=>c[t]===a[t]);return!o||!a.data||s.includes(o)?{...a}:(s.push(o),Object.assign(o,a),o)})}function Bw(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Um;const t={labels:[],datasets:[]};return Ym(t,n.labels),Gm(t,n.datasets,e),t}function $w(n,e){const{height:t=150,width:s=300,redraw:a=!1,datasetIdKey:o,type:c,data:u,options:h,plugins:p=[],fallbackContent:m,updateMode:x,...b}=n,k=S.useRef(null),_=S.useRef(null),v=()=>{k.current&&(_.current=new ps(k.current,{type:c,data:Bw(u,o),options:h&&{...h},plugins:p}),pp(e,_.current))},w=()=>{pp(e,null),_.current&&(_.current.destroy(),_.current=null)};return S.useEffect(()=>{!a&&_.current&&h&&Iw(_.current,h)},[a,h]),S.useEffect(()=>{!a&&_.current&&Ym(_.current.config.data,u.labels)},[a,u.labels]),S.useEffect(()=>{!a&&_.current&&u.datasets&&Gm(_.current.config.data,u.datasets,o)},[a,u.datasets]),S.useEffect(()=>{_.current&&(a?(w(),setTimeout(v)):_.current.update(x))},[a,h,u.labels,u.datasets,x]),S.useEffect(()=>{_.current&&(w(),setTimeout(v))},[c]),S.useEffect(()=>(v(),()=>w()),[]),So.createElement("canvas",{ref:k,role:"img",height:t,width:s,...b},m)}const Vw=S.forwardRef($w);function Ao(n,e){return ps.register(e),S.forwardRef((t,s)=>So.createElement(Vw,{...t,ref:s,type:n}))}const Km=Ao("line",bk),Hw=Ao("bar",gk),Ww=Ao("pie",vk),Uw=Ao("scatter",kk);/*!
 * chartjs-plugin-datalabels v2.2.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2022 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */var mp=(function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var n=window.screen;if(n)return(n.deviceXDPI||1)/(n.logicalXDPI||1)}return 1})(),ga={toTextLines:function(n){var e=[],t;for(n=[].concat(n);n.length;)t=n.pop(),typeof t=="string"?e.unshift.apply(e,t.split(`
`)):Array.isArray(t)?n.push.apply(n,t):Se(n)||e.unshift(""+t);return e},textSize:function(n,e,t){var s=[].concat(e),a=s.length,o=n.font,c=0,u;for(n.font=t.string,u=0;u<a;++u)c=Math.max(n.measureText(s[u]).width,c);return n.font=o,{height:a*t.lineHeight,width:c}},bound:function(n,e,t){return Math.max(n,Math.min(e,t))},arrayDiff:function(n,e){var t=n.slice(),s=[],a,o,c,u;for(a=0,c=e.length;a<c;++a)u=e[a],o=t.indexOf(u),o===-1?s.push([u,1]):t.splice(o,1);for(a=0,c=t.length;a<c;++a)s.push([t[a],-1]);return s},rasterize:function(n){return Math.round(n*mp)/mp}};function Gc(n,e){var t=e.x,s=e.y;if(t===null)return{x:0,y:-1};if(s===null)return{x:1,y:0};var a=n.x-t,o=n.y-s,c=Math.sqrt(a*a+o*o);return{x:c?a/c:0,y:c?o/c:-1}}function Yw(n,e,t,s,a){switch(a){case"center":t=s=0;break;case"bottom":t=0,s=1;break;case"right":t=1,s=0;break;case"left":t=-1,s=0;break;case"top":t=0,s=-1;break;case"start":t=-t,s=-s;break;case"end":break;default:a*=Math.PI/180,t=Math.cos(a),s=Math.sin(a);break}return{x:n,y:e,vx:t,vy:s}}var Gw=0,qm=1,Xm=2,Qm=4,Jm=8;function so(n,e,t){var s=Gw;return n<t.left?s|=qm:n>t.right&&(s|=Xm),e<t.top?s|=Jm:e>t.bottom&&(s|=Qm),s}function Kw(n,e){for(var t=n.x0,s=n.y0,a=n.x1,o=n.y1,c=so(t,s,e),u=so(a,o,e),h,p,m;!(!(c|u)||c&u);)h=c||u,h&Jm?(p=t+(a-t)*(e.top-s)/(o-s),m=e.top):h&Qm?(p=t+(a-t)*(e.bottom-s)/(o-s),m=e.bottom):h&Xm?(m=s+(o-s)*(e.right-t)/(a-t),p=e.right):h&qm&&(m=s+(o-s)*(e.left-t)/(a-t),p=e.left),h===c?(t=p,s=m,c=so(t,s,e)):(a=p,o=m,u=so(a,o,e));return{x0:t,x1:a,y0:s,y1:o}}function ao(n,e){var t=e.anchor,s=n,a,o;return e.clamp&&(s=Kw(s,e.area)),t==="start"?(a=s.x0,o=s.y0):t==="end"?(a=s.x1,o=s.y1):(a=(s.x0+s.x1)/2,o=(s.y0+s.y1)/2),Yw(a,o,n.vx,n.vy,e.align)}var io={arc:function(n,e){var t=(n.startAngle+n.endAngle)/2,s=Math.cos(t),a=Math.sin(t),o=n.innerRadius,c=n.outerRadius;return ao({x0:n.x+s*o,y0:n.y+a*o,x1:n.x+s*c,y1:n.y+a*c,vx:s,vy:a},e)},point:function(n,e){var t=Gc(n,e.origin),s=t.x*n.options.radius,a=t.y*n.options.radius;return ao({x0:n.x-s,y0:n.y-a,x1:n.x+s,y1:n.y+a,vx:t.x,vy:t.y},e)},bar:function(n,e){var t=Gc(n,e.origin),s=n.x,a=n.y,o=0,c=0;return n.horizontal?(s=Math.min(n.x,n.base),o=Math.abs(n.base-n.x)):(a=Math.min(n.y,n.base),c=Math.abs(n.base-n.y)),ao({x0:s,y0:a+c,x1:s+o,y1:a,vx:t.x,vy:t.y},e)},fallback:function(n,e){var t=Gc(n,e.origin);return ao({x0:n.x,y0:n.y,x1:n.x+(n.width||0),y1:n.y+(n.height||0),vx:t.x,vy:t.y},e)}},Cn=ga.rasterize;function qw(n){var e=n.borderWidth||0,t=n.padding,s=n.size.height,a=n.size.width,o=-a/2,c=-s/2;return{frame:{x:o-t.left-e,y:c-t.top-e,w:a+t.width+e*2,h:s+t.height+e*2},text:{x:o,y:c,w:a,h:s}}}function Xw(n,e){var t=e.chart.getDatasetMeta(e.datasetIndex).vScale;if(!t)return null;if(t.xCenter!==void 0&&t.yCenter!==void 0)return{x:t.xCenter,y:t.yCenter};var s=t.getBasePixel();return n.horizontal?{x:s,y:null}:{x:null,y:s}}function Qw(n){return n instanceof Mm?io.arc:n instanceof Fd?io.point:n instanceof Lm?io.bar:io.fallback}function Jw(n,e,t,s,a,o){var c=Math.PI/2;if(o){var u=Math.min(o,a/2,s/2),h=e+u,p=t+u,m=e+s-u,x=t+a-u;n.moveTo(e,p),h<m&&p<x?(n.arc(h,p,u,-Math.PI,-c),n.arc(m,p,u,-c,0),n.arc(m,x,u,0,c),n.arc(h,x,u,c,Math.PI)):h<m?(n.moveTo(h,t),n.arc(m,p,u,-c,c),n.arc(h,p,u,c,Math.PI+c)):p<x?(n.arc(h,p,u,-Math.PI,0),n.arc(h,x,u,0,Math.PI)):n.arc(h,p,u,-Math.PI,Math.PI),n.closePath(),n.moveTo(e,t)}else n.rect(e,t,s,a)}function Zw(n,e,t){var s=t.backgroundColor,a=t.borderColor,o=t.borderWidth;!s&&(!a||!o)||(n.beginPath(),Jw(n,Cn(e.x)+o/2,Cn(e.y)+o/2,Cn(e.w)-o,Cn(e.h)-o,t.borderRadius),n.closePath(),s&&(n.fillStyle=s,n.fill()),a&&o&&(n.strokeStyle=a,n.lineWidth=o,n.lineJoin="miter",n.stroke()))}function ej(n,e,t){var s=t.lineHeight,a=n.w,o=n.x,c=n.y+s/2;return e==="center"?o+=a/2:(e==="end"||e==="right")&&(o+=a),{h:s,w:a,x:o,y:c}}function tj(n,e,t){var s=n.shadowBlur,a=t.stroked,o=Cn(t.x),c=Cn(t.y),u=Cn(t.w);a&&n.strokeText(e,o,c,u),t.filled&&(s&&a&&(n.shadowBlur=0),n.fillText(e,o,c,u),s&&a&&(n.shadowBlur=s))}function nj(n,e,t,s){var a=s.textAlign,o=s.color,c=!!o,u=s.font,h=e.length,p=s.textStrokeColor,m=s.textStrokeWidth,x=p&&m,b;if(!(!h||!c&&!x))for(t=ej(t,a,u),n.font=u.string,n.textAlign=a,n.textBaseline="middle",n.shadowBlur=s.textShadowBlur,n.shadowColor=s.textShadowColor,c&&(n.fillStyle=o),x&&(n.lineJoin="round",n.lineWidth=m,n.strokeStyle=p),b=0,h=e.length;b<h;++b)tj(n,e[b],{stroked:x,filled:c,w:t.w,x:t.x,y:t.y+t.h*b})}var Zm=function(n,e,t,s){var a=this;a._config=n,a._index=s,a._model=null,a._rects=null,a._ctx=e,a._el=t};cn(Zm.prototype,{_modelize:function(n,e,t,s){var a=this,o=a._index,c=ot(Ie([t.font,{}],s,o)),u=Ie([t.color,Ye.color],s,o);return{align:Ie([t.align,"center"],s,o),anchor:Ie([t.anchor,"center"],s,o),area:s.chart.chartArea,backgroundColor:Ie([t.backgroundColor,null],s,o),borderColor:Ie([t.borderColor,null],s,o),borderRadius:Ie([t.borderRadius,0],s,o),borderWidth:Ie([t.borderWidth,0],s,o),clamp:Ie([t.clamp,!1],s,o),clip:Ie([t.clip,!1],s,o),color:u,display:n,font:c,lines:e,offset:Ie([t.offset,4],s,o),opacity:Ie([t.opacity,1],s,o),origin:Xw(a._el,s),padding:Lt(Ie([t.padding,4],s,o)),positioner:Qw(a._el),rotation:Ie([t.rotation,0],s,o)*(Math.PI/180),size:ga.textSize(a._ctx,e,c),textAlign:Ie([t.textAlign,"start"],s,o),textShadowBlur:Ie([t.textShadowBlur,0],s,o),textShadowColor:Ie([t.textShadowColor,u],s,o),textStrokeColor:Ie([t.textStrokeColor,u],s,o),textStrokeWidth:Ie([t.textStrokeWidth,0],s,o)}},update:function(n){var e=this,t=null,s=null,a=e._index,o=e._config,c,u,h,p=Ie([o.display,!0],n,a);p&&(c=n.dataset.data[a],u=ke(Le(o.formatter,[c,n]),c),h=Se(u)?[]:ga.toTextLines(u),h.length&&(t=e._modelize(p,h,o,n),s=qw(t))),e._model=t,e._rects=s},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(n,e){var t=this,s=n.ctx,a=t._model,o=t._rects,c;this.visible()&&(s.save(),a.clip&&(c=a.area,s.beginPath(),s.rect(c.left,c.top,c.right-c.left,c.bottom-c.top),s.clip()),s.globalAlpha=ga.bound(0,a.opacity,1),s.translate(Cn(e.x),Cn(e.y)),s.rotate(a.rotation),Zw(s,o.frame,a),nj(s,a.lines,o.text,a),s.restore())}});var rj=Number.MIN_SAFE_INTEGER||-9007199254740991,sj=Number.MAX_SAFE_INTEGER||9007199254740991;function la(n,e,t){var s=Math.cos(t),a=Math.sin(t),o=e.x,c=e.y;return{x:o+s*(n.x-o)-a*(n.y-c),y:c+a*(n.x-o)+s*(n.y-c)}}function gp(n,e){var t=sj,s=rj,a=e.origin,o,c,u,h,p;for(o=0;o<n.length;++o)c=n[o],u=c.x-a.x,h=c.y-a.y,p=e.vx*u+e.vy*h,t=Math.min(t,p),s=Math.max(s,p);return{min:t,max:s}}function oo(n,e){var t=e.x-n.x,s=e.y-n.y,a=Math.sqrt(t*t+s*s);return{vx:(e.x-n.x)/a,vy:(e.y-n.y)/a,origin:n,ln:a}}var eg=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};cn(eg.prototype,{center:function(){var n=this._rect;return{x:n.x+n.w/2,y:n.y+n.h/2}},update:function(n,e,t){this._rotation=t,this._rect={x:e.x+n.x,y:e.y+n.y,w:e.w,h:e.h}},contains:function(n){var e=this,t=1,s=e._rect;return n=la(n,e.center(),-e._rotation),!(n.x<s.x-t||n.y<s.y-t||n.x>s.x+s.w+t*2||n.y>s.y+s.h+t*2)},intersects:function(n){var e=this._points(),t=n._points(),s=[oo(e[0],e[1]),oo(e[0],e[3])],a,o,c;for(this._rotation!==n._rotation&&s.push(oo(t[0],t[1]),oo(t[0],t[3])),a=0;a<s.length;++a)if(o=gp(e,s[a]),c=gp(t,s[a]),o.max<c.min||c.max<o.min)return!1;return!0},_points:function(){var n=this,e=n._rect,t=n._rotation,s=n.center();return[la({x:e.x,y:e.y},s,t),la({x:e.x+e.w,y:e.y},s,t),la({x:e.x+e.w,y:e.y+e.h},s,t),la({x:e.x,y:e.y+e.h},s,t)]}});function tg(n,e,t){var s=e.positioner(n,e),a=s.vx,o=s.vy;if(!a&&!o)return{x:s.x,y:s.y};var c=t.w,u=t.h,h=e.rotation,p=Math.abs(c/2*Math.cos(h))+Math.abs(u/2*Math.sin(h)),m=Math.abs(c/2*Math.sin(h))+Math.abs(u/2*Math.cos(h)),x=1/Math.max(Math.abs(a),Math.abs(o));return p*=a*x,m*=o*x,p+=e.offset*a,m+=e.offset*o,{x:s.x+p,y:s.y+m}}function aj(n,e){var t,s,a,o;for(t=n.length-1;t>=0;--t)for(a=n[t].$layout,s=t-1;s>=0&&a._visible;--s)o=n[s].$layout,o._visible&&a._box.intersects(o._box)&&e(a,o);return n}function ij(n){var e,t,s,a,o,c,u;for(e=0,t=n.length;e<t;++e)s=n[e],a=s.$layout,a._visible&&(u=new Proxy(s._el,{get:(h,p)=>h.getProps([p],!0)[p]}),o=s.geometry(),c=tg(u,s.model(),o),a._box.update(c,o,s.rotation()));return aj(n,function(h,p){var m=h._hidable,x=p._hidable;m&&x||x?p._visible=!1:m&&(h._visible=!1)})}var xa={prepare:function(n){var e=[],t,s,a,o,c;for(t=0,a=n.length;t<a;++t)for(s=0,o=n[t].length;s<o;++s)c=n[t][s],e.push(c),c.$layout={_box:new eg,_hidable:!1,_visible:!0,_set:t,_idx:c._index};return e.sort(function(u,h){var p=u.$layout,m=h.$layout;return p._idx===m._idx?m._set-p._set:m._idx-p._idx}),this.update(e),e},update:function(n){var e=!1,t,s,a,o,c;for(t=0,s=n.length;t<s;++t)a=n[t],o=a.model(),c=a.$layout,c._hidable=o&&o.display==="auto",c._visible=a.visible(),e|=c._hidable;e&&ij(n)},lookup:function(n,e){var t,s;for(t=n.length-1;t>=0;--t)if(s=n[t].$layout,s&&s._visible&&s._box.contains(e))return n[t];return null},draw:function(n,e){var t,s,a,o,c,u;for(t=0,s=e.length;t<s;++t)a=e[t],o=a.$layout,o._visible&&(c=a.geometry(),u=tg(a._el,a.model(),c),o._box.update(u,c,a.rotation()),a.draw(n,u))}},oj=function(n){if(Se(n))return null;var e=n,t,s,a;if(je(n))if(!Se(n.label))e=n.label;else if(!Se(n.r))e=n.r;else for(e="",t=Object.keys(n),a=0,s=t.length;a<s;++a)e+=(a!==0?", ":"")+t[a]+": "+n[t[a]];return""+e},lj={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:oj,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},jt="$datalabels",ng="$default";function cj(n,e){var t=n.datalabels,s={},a=[],o,c;return t===!1?null:(t===!0&&(t={}),e=cn({},[e,t]),o=e.labels||{},c=Object.keys(o),delete e.labels,c.length?c.forEach(function(u){o[u]&&a.push(cn({},[e,o[u],{_key:u}]))}):a.push(e),s=a.reduce(function(u,h){return Pe(h.listeners||{},function(p,m){u[m]=u[m]||{},u[m][h._key||ng]=p}),delete h.listeners,u},{}),{labels:a,listeners:s})}function cd(n,e,t,s){if(e){var a=t.$context,o=t.$groups,c;e[o._set]&&(c=e[o._set][o._key],c&&Le(c,[a,s])===!0&&(n[jt]._dirty=!0,t.update(a)))}}function dj(n,e,t,s,a){var o,c;!t&&!s||(t?s?t!==s&&(c=o=!0):c=!0:o=!0,c&&cd(n,e.leave,t,a),o&&cd(n,e.enter,s,a))}function uj(n,e){var t=n[jt],s=t._listeners,a,o;if(!(!s.enter&&!s.leave)){if(e.type==="mousemove")o=xa.lookup(t._labels,e);else if(e.type!=="mouseout")return;a=t._hovered,t._hovered=o,dj(n,s,a,o,e)}}function hj(n,e){var t=n[jt],s=t._listeners.click,a=s&&xa.lookup(t._labels,e);a&&cd(n,s,a,e)}var fj={id:"datalabels",defaults:lj,beforeInit:function(n){n[jt]={_actives:[]}},beforeUpdate:function(n){var e=n[jt];e._listened=!1,e._listeners={},e._datasets=[],e._labels=[]},afterDatasetUpdate:function(n,e,t){var s=e.index,a=n[jt],o=a._datasets[s]=[],c=n.isDatasetVisible(s),u=n.data.datasets[s],h=cj(u,t),p=e.meta.data||[],m=n.ctx,x,b,k,_,v,w,N,C;for(m.save(),x=0,k=p.length;x<k;++x)if(N=p[x],N[jt]=[],c&&N&&n.getDataVisibility(x)&&!N.skip)for(b=0,_=h.labels.length;b<_;++b)v=h.labels[b],w=v._key,C=new Zm(v,m,N,x),C.$groups={_set:s,_key:w||ng},C.$context={active:!1,chart:n,dataIndex:x,dataset:u,datasetIndex:s},C.update(C.$context),N[jt].push(C),o.push(C);m.restore(),cn(a._listeners,h.listeners,{merger:function(M,L,E){L[M]=L[M]||{},L[M][e.index]=E[M],a._listened=!0}})},afterUpdate:function(n){n[jt]._labels=xa.prepare(n[jt]._datasets)},afterDatasetsDraw:function(n){xa.draw(n,n[jt]._labels)},beforeEvent:function(n,e){if(n[jt]._listened){var t=e.event;switch(t.type){case"mousemove":case"mouseout":uj(n,t);break;case"click":hj(n,t);break}}},afterEvent:function(n){var e=n[jt],t=e._actives,s=e._actives=n.getActiveElements(),a=ga.arrayDiff(t,s),o,c,u,h,p,m,x;for(o=0,c=a.length;o<c;++o)if(p=a[o],p[1])for(x=p[0].element[jt]||[],u=0,h=x.length;u<h;++u)m=x[u],m.$context.active=p[1]===1,m.update(m.$context);(e._dirty||a.length)&&(xa.update(e._labels),n.render()),delete e._dirty}};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mj=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),xp=n=>{const e=mj(n);return e.charAt(0).toUpperCase()+e.slice(1)},rg=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),gj=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=S.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:a="",children:o,iconNode:c,...u},h)=>S.createElement("svg",{ref:h,...xj,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:rg("lucide",a),...!o&&!gj(u)&&{"aria-hidden":"true"},...u},[...c.map(([p,m])=>S.createElement(p,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=(n,e)=>{const t=S.forwardRef(({className:s,...a},o)=>S.createElement(yj,{ref:o,iconNode:e,className:rg(`lucide-${pj(xp(n))}`,`lucide-${n}`,s),...a}));return t.displayName=xp(n),t};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Kc=ce("archive",bj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]],kj=ce("arrow-down-wide-narrow",vj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],jj=ce("arrow-left",wj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]],yp=ce("arrow-up-narrow-wide",_j);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],ya=ce("bell",Sj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],fo=ce("brain",Nj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],bp=ce("briefcase",Cj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Pj=ce("building",Mj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Dj=ce("camera",Ej);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Tj=ce("calendar",Lj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 11.207a.5.5 0 0 1 .146-.353l2-2a.5.5 0 0 1 .708 0l3.292 3.292a.5.5 0 0 0 .708 0l4.292-4.292a.5.5 0 0 1 .854.353V16a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1z",key:"q0gr47"}]],sg=ce("chart-area",Rj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],dd=ce("chart-column",Aj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],ag=ce("chart-line",zj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],ud=ce("chart-no-axes-column-increasing",Oj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],ig=ce("chart-no-axes-column",Fj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],og=ce("chart-pie",Ij);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],vp=ce("check",Bj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],lg=ce("chevron-down",$j);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Hj=ce("chevron-up",Vj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Uj=ce("circle-alert",Wj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Gj=ce("circle-check-big",Yj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],cg=ce("circle-question-mark",Kj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Xj=ce("circle-x",qj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],dg=ce("circle",Qj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ug=ce("clock",Jj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],e_=ce("cpu",Zj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ds=ce("download",t_);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],r_=ce("ellipsis-vertical",n_);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Ca=ce("eye-off",s_);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_r=ce("eye",a_);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=[["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01",key:"gkbcor"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}]],hg=ce("file-archive",i_);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],l_=ce("file-down",o_);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]],qc=ce("file-image",c_);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 15h10",key:"jfw4w8"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]],u_=ce("file-input",d_);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],hd=ce("file-plus",h_);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],us=ce("file-spreadsheet",f_);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Bt=ce("file-text",p_);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 13v-1h6v1",key:"1bb014"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"M11 18h2",key:"12mj7e"}]],g_=ce("file-type",m_);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],y_=ce("file-up",x_);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],v_=ce("folder-open",b_);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],fg=ce("funnel",k_);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],j_=ce("globe",w_);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],S_=ce("grid-3x3",__);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],C_=ce("info",N_);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],P_=ce("languages",M_);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],D_=ce("layers",E_);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],T_=ce("layout-dashboard",L_);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],A_=ce("log-out",R_);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],O_=ce("map-pin",z_);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],pg=ce("maximize-2",F_);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],B_=ce("menu",I_);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],V_=ce("minimize-2",$_);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],fd=ce("moon",H_);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Id=ce("palette",W_);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],mg=ce("pen-line",U_);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],G_=ce("phone",Y_);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]],q_=ce("redo-2",K_);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],wo=ce("refresh-cw",X_);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],jo=ce("save",Q_);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Bd=ce("search",J_);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Mr=ce("settings",Z_);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],tS=ce("shield",eS);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],rS=ce("square",nS);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],aS=ce("star",sS);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],pd=ce("sun",iS);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],_o=ce("trash-2",oS);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],cS=ce("trending-down",lS);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],gg=ce("trending-up",dS);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],xg=ce("triangle-alert",uS);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],fS=ce("undo-2",hS);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],md=ce("upload",pS);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Sr=ce("user",mS);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],yg=ce("x",gS);function bg({onClose:n,onExportImage:e,onExportCSV:t,onExportJSON:s,chartData:a=null,chartTitle:o="Chart",chartId:c=null}){const[u,h]=S.useState({format:"png",background:"#ffffff",dpi:300,filename:"",includeMetadata:!1,includeWatermark:!1,watermarkText:"Generated by Syla Analytics"}),[p,m]=S.useState(!1),[x,b]=S.useState(null),[k,_]=S.useState({x:0,y:0}),[v,w]=S.useState(!1),[N,C]=S.useState({x:0,y:0}),[M,L]=S.useState(!1),E=S.useRef(null);S.useEffect(()=>{if(!M&&E.current){const D=window.innerWidth,I=window.innerHeight,H=E.current.offsetWidth,$=E.current.offsetHeight,K=D-H-20,Q=(I-$)/2;_({x:K,y:Q}),L(!0)}},[M]),S.useEffect(()=>{if(!u.filename){const D=new Date().toISOString().slice(0,16).replace(/[:-]/g,""),I=(o||"chart").replace(/[^a-zA-Z0-9]/g,"_");h(H=>({...H,filename:`${I}_${D}`}))}},[o,u.filename]);const Y=D=>{if(D.target.closest(".drag-handle")){w(!0);const I=E.current.getBoundingClientRect();C({x:D.clientX-I.left,y:D.clientY-I.top}),D.preventDefault()}},O=D=>{if(v&&E.current){const I=window.innerWidth,H=window.innerHeight,$=E.current.offsetWidth,X=E.current.offsetHeight,K=Math.max(0,Math.min(I-$,D.clientX-N.x)),Q=Math.max(0,Math.min(H-X,D.clientY-N.y));_({x:K,y:Q})}},z=()=>{w(!1)};S.useEffect(()=>(v?(document.addEventListener("mousemove",O),document.addEventListener("mouseup",z),document.body.style.userSelect="none"):(document.removeEventListener("mousemove",O),document.removeEventListener("mouseup",z),document.body.style.userSelect=""),()=>{document.removeEventListener("mousemove",O),document.removeEventListener("mouseup",z),document.body.style.userSelect=""}),[v,N]);const G=(D,I)=>{h(H=>({...H,[D]:I}))},W=async()=>{try{m(!0),b({type:"loading",message:"Preparing export..."});const{format:D,background:I,dpi:H,filename:$,includeMetadata:X}=u,K=$.includes(".")?$:`${$}.${D}`;if(D==="csv")t&&(await t(),b({type:"success",message:"CSV data exported successfully!",action:"download"}));else if(D==="json")s&&(await s(),b({type:"success",message:"JSON data exported successfully!",action:"download"}));else if(e){const Q={format:D,background:I||"#ffffff",dpi:H,filename:K,includeMetadata:X,includeWatermark:u.includeWatermark,watermarkText:u.watermarkText};await e(D,Q),b({type:"success",message:`${D.toUpperCase()} exported successfully!`,action:"download"})}setTimeout(()=>{b(null)},3e3)}catch(D){console.error("Export failed:",D),b({type:"error",message:D.message||"Export failed. Please try again."}),setTimeout(()=>{b(null)},5e3)}finally{m(!1)}},R=[{value:"#ffffff",label:"White (Recommended)",preview:"#ffffff"},{value:"transparent",label:"Transparent",preview:"linear-gradient(45deg, #ccc 25%, transparent 25%), linear-gradient(-45deg, #ccc 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #ccc 75%), linear-gradient(-45deg, transparent 75%, #ccc 75%)"},{value:"#f8fafc",label:"Light Gray",preview:"#f8fafc"},{value:"#000000",label:"Black",preview:"#000000"}];return l.jsxs("div",{ref:E,className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl border border-gray-200 dark:border-slate-600 w-80 max-h-[85vh] overflow-hidden z-50",style:{position:"fixed",left:`${k.x}px`,top:`${k.y}px`,transform:v?"scale(1.02)":"scale(1)",transition:v?"none":"transform 0.2s ease-out",opacity:M?1:0},onMouseDown:Y,children:[l.jsx("div",{className:"drag-handle p-3 border-b border-gray-200 dark:border-slate-600 cursor-move bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"p-1.5 bg-blue-100 dark:bg-blue-900/40 rounded-lg",children:l.jsx(ds,{size:16,className:"text-blue-600 dark:text-blue-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-sm text-gray-800 dark:text-slate-200",children:"Export Chart"}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:"High-quality export"})]})]}),l.jsx("button",{onClick:n,className:"p-1.5 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:l.jsx(yg,{size:16,className:"text-gray-500"})})]})}),l.jsxs("div",{className:"p-3 max-h-80 overflow-y-auto",children:[l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Export Format"}),l.jsx("div",{className:"grid grid-cols-2 gap-1.5",children:[{value:"png",label:"PNG",desc:"High quality",icon:qc},{value:"jpeg",label:"JPEG",desc:"Compressed",icon:qc},{value:"svg",label:"SVG",desc:"Vector",icon:qc},{value:"pdf",label:"PDF",desc:"Print ready",icon:Bt},{value:"csv",label:"CSV",desc:"Raw data",icon:Bt},{value:"json",label:"JSON",desc:"Structured",icon:Bt}].map(D=>l.jsxs("button",{onClick:()=>G("format",D.value),className:`p-2 rounded-lg border-2 text-left transition-all ${u.format===D.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"border-gray-200 dark:border-slate-600 hover:border-gray-300 dark:hover:border-slate-500"}`,children:[l.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[l.jsx(D.icon,{size:14}),l.jsx("span",{className:"font-medium text-xs",children:D.label})]}),l.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400",children:D.desc})]},D.value))})]}),["png","jpeg","svg","pdf"].includes(u.format)&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Background"}),l.jsx("div",{className:"grid grid-cols-1 gap-1.5",children:R.map(D=>l.jsxs("button",{onClick:()=>G("background",D.value),className:`p-2 rounded-lg border-2 text-left transition-all flex items-center gap-2 ${u.background===D.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-slate-600 hover:border-gray-300 dark:hover:border-slate-500"}`,children:[l.jsx("div",{className:"w-6 h-6 rounded border border-gray-300 flex-shrink-0",style:{background:D.value==="transparent"?D.preview:D.value,backgroundSize:D.value==="transparent"?"6px 6px":void 0}}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium text-xs",children:D.label}),D.value==="#ffffff"&&l.jsx("div",{className:"text-xs text-green-600 dark:text-green-400",children:"Recommended"})]}),u.background===D.value&&l.jsx(vp,{size:14,className:"text-blue-600 dark:text-blue-400"})]},D.value))})]}),["png","jpeg","pdf"].includes(u.format)&&l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Resolution (DPI)"}),l.jsx("div",{className:"flex gap-1.5",children:[72,150,300,600].map(D=>l.jsx("button",{onClick:()=>G("dpi",D),className:`px-2 py-1.5 rounded-lg text-xs font-medium transition-all flex-1 ${u.dpi===D?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":"bg-gray-100 hover:bg-gray-200 dark:bg-slate-700 dark:hover:bg-slate-600"}`,children:D},D))}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"300 DPI recommended for print"})]})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Filename"}),l.jsx("input",{type:"text",value:u.filename,onChange:D=>G("filename",D.target.value),placeholder:"chart_export",className:"w-full rounded-lg border border-gray-300 dark:border-slate-600 px-2 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-slate-700"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:u.includeMetadata,onChange:D=>G("includeMetadata",D.target.checked),className:"rounded w-3 h-3"}),l.jsx("span",{className:"text-xs",children:"Include metadata file"})]}),["png","jpeg","pdf"].includes(u.format)&&l.jsxs(l.Fragment,{children:[l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:u.includeWatermark,onChange:D=>G("includeWatermark",D.target.checked),className:"rounded w-3 h-3"}),l.jsx("span",{className:"text-xs",children:"Add watermark"})]}),u.includeWatermark&&l.jsx("input",{type:"text",value:u.watermarkText,onChange:D=>G("watermarkText",D.target.value),placeholder:"Watermark text",className:"w-full ml-5 rounded border border-gray-300 dark:border-slate-600 px-2 py-1 text-xs dark:bg-slate-700"})]})]})]}),x&&l.jsxs("div",{className:`mx-3 mb-3 p-2.5 rounded-lg border ${x.type==="success"?"bg-green-50 border-green-200 text-green-800 dark:bg-green-900/20 dark:border-green-700 dark:text-green-300":x.type==="error"?"bg-red-50 border-red-200 text-red-800 dark:bg-red-900/20 dark:border-red-700 dark:text-red-300":"bg-blue-50 border-blue-200 text-blue-800 dark:bg-blue-900/20 dark:border-blue-700 dark:text-blue-300"}`,children:[l.jsxs("div",{className:"flex items-center gap-2",children:[x.type==="success"&&l.jsx(vp,{size:14}),x.type==="loading"&&l.jsx("div",{className:"w-3 h-3 border-2 border-current border-t-transparent rounded-full animate-spin"}),l.jsx("span",{className:"text-xs font-medium",children:x.message})]}),x.action==="download"&&l.jsx("p",{className:"text-xs mt-1 opacity-75",children:"Check your downloads folder."})]}),l.jsxs("div",{className:"p-3 border-t border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-800/50",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:W,disabled:p||!u.filename.trim(),className:`flex-1 px-3 py-2 rounded-lg font-medium text-white text-sm transition-all ${p||!u.filename.trim()?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 shadow-md hover:shadow-lg"}`,children:p?l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Exporting..."]}):l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx(ds,{size:14}),"Export"]})}),l.jsx("button",{onClick:n,className:"px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors text-sm",children:"Cancel"})]}),l.jsx("div",{className:"mt-2 text-xs text-gray-500 dark:text-slate-400 text-center",children:l.jsxs("div",{className:"flex items-center justify-center gap-3",children:[l.jsx("span",{children:u.format.toUpperCase()}),["png","jpeg","pdf"].includes(u.format)&&l.jsxs("span",{children:[u.dpi," DPI"]}),l.jsx("span",{children:u.background==="#ffffff"?"White BG":"Custom BG"})]})})]})]})}ps.register(Vm,Wm,Aw,Lm,Fd,Ra,Mm,Im,$m,Om,Am,fj);const kp=n=>n==null||n===""?0:+String(n).replace(/,/g,"")||0,Xc=(n,e,t)=>n+(e-n)*t,gd=n=>{if(!n)return null;const e=n.replace("#",""),t=parseInt(e.length===3?e.split("").map(s=>s+s).join(""):e,16);return{r:t>>16&255,g:t>>8&255,b:t&255}},vg=({r:n,g:e,b:t})=>"#"+[n,e,t].map(s=>s.toString(16).padStart(2,"0")).join(""),xS=(n,e,t)=>{const s=gd(n),a=gd(e);return!s||!a?n:vg({r:Math.round(Xc(s.r,a.r,t)),g:Math.round(Xc(s.g,a.g,t)),b:Math.round(Xc(s.b,a.b,t))})},yS=(n,e)=>{if(!n||n.length<2)return Array(e).fill(n?.[0]||"#2563eb");const t=[];for(let s=0;s<e;s++){const a=e===1?0:s/(e-1),o=1/(n.length-1),c=Math.min(Math.floor(a/o),n.length-2),u=(a-c*o)/o;t.push(xS(n[c],n[c+1],u))}return t},bS=n=>{const e=n.length;if(e<2)return n.map(()=>null);const t=n.map((m,x)=>x),s=n,a=t.reduce((m,x)=>m+x,0)/e,o=s.reduce((m,x)=>m+x,0)/e;let c=0,u=0;for(let m=0;m<e;m++)c+=(t[m]-a)*(s[m]-o),u+=(t[m]-a)**2;const h=u?c/u:0,p=o-h*a;return t.map(m=>h*m+p)},vS=()=>document?.body?.classList.contains("dark")?"#E6EEF8":"#0f172a";function $d({data:n=[],columns:e=[],types:t={},options:s={},chartTitle:a="",xAxis:o="",yAxis:c="",setXAxis:u=()=>{},setYAxis:h=()=>{},onBarClick:p=()=>{},onLegendToggle:m=()=>{},selectedBars:x=[],selectionMode:b=!1,dataPayload:k=null}){const _=Vt(),v=S.useRef(null),[w,N]=S.useState([]),[C,M]=S.useState(null),[L,E]=S.useState(!1),[Y,O]=S.useState(!1);S.useEffect(()=>{n&&n.length>0&&(localStorage.setItem("uploadedData",JSON.stringify(n)),localStorage.setItem("uploadedColumns",JSON.stringify(e)),N(new Array(n.length).fill(null)))},[n,e]),S.useEffect(()=>{!o&&e[0]&&u(e[0]),!c&&e[1]&&h(e[1])},[e,o,c,u,h]);const z=S.useMemo(()=>n.map((ne,Z)=>ne?.[o]??`Row ${Z+1}`),[n,o]),G=S.useMemo(()=>n.map(ne=>kp(ne?.[c])),[n,c]),W=S.useMemo(()=>s.compareField?n.map(ne=>kp(ne?.[s.compareField])):null,[n,s.compareField]),R=z.map((ne,Z)=>({l:ne,v:G[Z],c:W?W[Z]:null,raw:n[Z],i:Z}));s.sort==="asc"&&R.sort((ne,Z)=>ne.v-Z.v),s.sort==="desc"&&R.sort((ne,Z)=>Z.v-ne.v);const D=R.map(ne=>ne.l),I=R.map(ne=>ne.v),H=W?R.map(ne=>ne.c):null,$=R.map(ne=>ne.i),X=Math.max(1e-6,Math.min(...[...I,...H||[]].filter(ne=>ne>0))||1),K=s.logScale?I.map(ne=>ne>0?ne:X*.01):I,Q=H?s.logScale?H.map(ne=>ne>0?ne:X*.01):H:null,ae=S.useMemo(()=>{const ne=s.color||"#2563eb",Z=D.length||1;let le;s.gradient&&s.gradientStops?.length>1?le=yS(s.gradientStops,Z):le=Array(Z).fill(ne);const ue=le.map((Oe,st)=>{const Dn=$[st];let hn=w[Dn]||Oe;if(x.includes(D[st])){const Zt=gd(hn);Zt&&(hn=vg({r:Math.min(255,Zt.r+40),g:Math.min(255,Zt.g+40),b:Math.min(255,Zt.b+40)}))}return hn}),Ce=ue.map(Oe=>x.length>0&&x.includes(D[ue.indexOf(Oe)])?"#ff6b6b":Oe);if(s.type==="pie")return{labels:D,datasets:[{label:c||"Value",data:I,backgroundColor:ue,borderColor:"#fff",borderWidth:2}]};if(s.type==="scatter")return{labels:D,datasets:[{label:c||"Value",data:K.map((Oe,st)=>({x:st,y:Oe})),backgroundColor:ue,borderColor:Ce,showLine:!1,pointRadius:6,pointHoverRadius:8,borderWidth:x.length>0?3:1}]};const Re={label:c||"Value",type:s.type==="line"?"line":"bar",data:K,originalData:I,backgroundColor:ue,borderColor:Ce,borderWidth:x.length>0||s.type==="line"?3:1,tension:s.type==="line"?.4:void 0,fill:s.type==="area"},Be=[Re];return Q&&Be.push({label:s.compareField,type:Re.type,data:Q,originalData:H,backgroundColor:H.map((Oe,st)=>ue[st]),borderColor:"#dc2626",yAxisID:"y1"}),s.trendline&&s.type!=="pie"&&Be.push({label:`${c} Trend`,type:"line",data:bS(K),borderColor:"#059669",backgroundColor:"transparent",fill:!1,pointRadius:0,pointHoverRadius:0,borderWidth:2,borderDash:[5,5]}),{labels:D,datasets:Be}},[s,D,I,K,w,c,$,Q,H,x]),J=S.useMemo(()=>{const ne=vS(),Z=s.logScale?"logarithmic":"linear",le={maintainAspectRatio:!1,responsive:!0,interaction:{intersect:!1,mode:b?"point":"index"},onClick:(ue,Ce)=>{if(Ce.length>0){const Re=Ce[0],Be=Re.index,Oe=Re.datasetIndex;p(Oe,D[Be])}},onHover:(ue,Ce)=>{b&&(ue.native.target.style.cursor=Ce.length>0?"pointer":"crosshair")},plugins:{legend:{labels:{color:ne,usePointStyle:!0,generateLabels:ue=>ps.defaults.plugins.legend.labels.generateLabels(ue).map(Re=>({...Re,fillStyle:Re.fillStyle,strokeStyle:x.length>0?"#ff6b6b":Re.strokeStyle}))},onClick:(ue,Ce,Re)=>{const Be=Ce.datasetIndex,Oe=Re.chart,st=Oe.getDatasetMeta(Be);st.hidden=st.hidden===null?!Oe.data.datasets[Be].hidden:null,Oe.update(),m(Be)}},datalabels:{color:ne,display:ue=>ue.dataset?.datalabels?.display??!!s.showLabels,formatter:(ue,Ce)=>{if(s.type==="pie"){const Re=Ce.dataset.data.reduce((Oe,st)=>Oe+st,0);return`${(ue/Re*100).toFixed(1)}%`}return Ce.dataset.originalData?Ce.dataset.originalData[Ce.dataIndex]:ue}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff",borderColor:"#2563eb",borderWidth:1,callbacks:{label:ue=>{const Ce=ue.dataset.originalData?ue.dataset.originalData[ue.dataIndex]:ue.formattedValue,Re=x.includes(D[ue.dataIndex])?" (Selected)":"";return`${ue.dataset.label}: ${Ce?.toLocaleString()||Ce}${Re}`}}}},scales:s.type==="pie"?{}:{x:{ticks:{color:ne,maxRotation:45,minRotation:0},grid:{color:"rgba(0,0,0,0.1)"}},y:{type:Z,ticks:{color:ne,callback:function(ue){return ue.toLocaleString()}},grid:{color:"rgba(0,0,0,0.1)"},min:s.logScale?X*.1:void 0}}};return s.compareField&&s.type!=="pie"&&s.type!=="scatter"&&(le.scales.y1={type:Z,position:"right",grid:{drawOnChartArea:!1},ticks:{color:ne,callback:function(ue){return ue.toLocaleString()}},min:s.logScale?X*.1:void 0}),s.type==="scatter"&&(le.scales.x={type:"linear",ticks:{color:ne,callback:ue=>Number.isInteger(ue)&&D[ue]?D[ue]:"",stepSize:1},min:-.5,max:D.length-.5}),le},[s,D,c,p,m,x,b,X]),F=s.type==="line"||s.type==="area"?Km:s.type==="pie"?Ww:s.type==="scatter"?Uw:Hw,q=ne=>{const Z=v.current;if(!Z?.toBase64Image){alert("Chart not ready for export");return}const le=Z.toBase64Image(ne==="jpeg"?"image/jpeg":"image/png"),ue=document.createElement("a");ue.href=le,ue.download=`${a||"chart"}.${ne}`,ue.click()},ge=ne=>{if(n.length){if(ne==="csv"){const Z=Object.keys(n[0]),le=[Z.join(","),...n.map(Be=>Z.map(Oe=>`"${Be[Oe]??""}"`).join(","))].join(`
`),ue=new Blob([le],{type:"text/csv"}),Ce=URL.createObjectURL(ue),Re=document.createElement("a");Re.href=Ce,Re.download=`${a||"data"}.csv`,Re.click(),URL.revokeObjectURL(Ce)}else if(ne==="json"){const Z=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),le=URL.createObjectURL(Z),ue=document.createElement("a");ue.href=le,ue.download=`${a||"data"}.json`,ue.click(),URL.revokeObjectURL(le)}}},xe=()=>{localStorage.setItem("chartTitle",a),localStorage.setItem("currentXAxis",o),localStorage.setItem("currentYAxis",c),_("/forecast")},ie=(ne,Z)=>{const le=D.indexOf(Z);if(le!==-1){const ue=$[le];b||M({index:ue,label:Z})}p(ne,Z)},oe=ne=>{if(C){const Z=[...w];Z[C.index]=ne,N(Z),M(null)}};return!n||n.length===0?l.jsx("div",{className:"rounded-2xl bg-white border shadow-sm dark:bg-ink/80 dark:border-white/5 p-8 text-center",children:l.jsx("div",{className:"text-gray-500 dark:text-slate-400",children:"No data available for visualization"})}):l.jsxs("div",{className:"rounded-2xl bg-white border shadow-sm dark:bg-ink/80 dark:border-white/5 p-5",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-display text-lg font-medium mb-2 text-gray-800 dark:text-slate-200",children:a||"Data Visualization"}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-slate-400",children:[l.jsxs("span",{children:[n.length.toLocaleString()," data points"]}),s.logScale&&l.jsx("span",{children:"Log Scale"}),x.length>0&&l.jsxs("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-full",children:[x.length," selected"]}),b&&l.jsx("span",{className:"px-2 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 rounded-full",children:"Selection Mode"})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:()=>_("/editing"),className:"flex items-center gap-2 px-2.5 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all duration-200 shadow-md hover:shadow-lg text-sm font-medium",title:"Edit Chart",children:[l.jsx(mg,{size:16}),"Edit Chart"]}),l.jsxs("button",{onClick:xe,className:"flex items-center gap-2 px-2.5 py-1.5 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-lg hover:from-blue-600 hover:to-indigo-700 transition-all duration-200 shadow-md hover:shadow-lg text-sm font-medium",title:"Generate AI Forecast",children:[l.jsx(gg,{size:16}),"Forecast"]}),l.jsxs("button",{onClick:()=>E(!L),className:"flex items-center gap-2 px-2.5 py-1.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 dark:border-white/20 dark:text-slate-300 dark:hover:bg-slate-800 transition-colors text-sm font-medium",title:"Export Chart",children:[l.jsx(ds,{size:16}),"Export"]})]})]}),l.jsx("div",{className:"mt-4 rounded-xl p-4 bg-gradient-to-b from-gray-50 to-white border dark:from-black/20 dark:to-black/10 dark:border-white/10",children:l.jsx("div",{style:{height:400,position:"relative"},children:l.jsx(F,{ref:v,data:ae,options:{...J,onClick:(ne,Z)=>{if(Z.length>0){const le=Z[0],ue=le.index,Ce=le.datasetIndex;ie(Ce,D[ue])}}}})})}),C&&!b&&l.jsx("div",{className:"mt-4 p-4 border rounded-xl bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("span",{className:"text-sm font-medium",children:["Edit color for: ",l.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:C.label})]}),l.jsx("input",{type:"color",onChange:ne=>oe(ne.target.value),className:"w-10 h-8 rounded border"}),l.jsx("button",{onClick:()=>M(null),className:"px-3 py-1 text-sm border rounded-lg hover:bg-white dark:hover:bg-slate-800 transition-colors",children:"Done"})]})}),L&&l.jsx(bg,{onClose:()=>E(!1),onExportImage:q,onExportCSV:()=>ge("csv"),onExportJSON:()=>ge("json"),chartData:n,chartTitle:a}),b&&l.jsx("div",{className:"mt-4 text-sm text-gray-600 dark:text-slate-400 text-center",children:"Click on chart elements to select them for bulk operations"})]})}function Xt({onReportChange:n,theme:e,setTheme:t}){const[s,a]=S.useState(!0),[o,c]=S.useState("Bar"),[u,h]=S.useState(!1),p=[{title:"PDF → Word",path:"/tools/pdf-to-word",icon:Bt},{title:"PDF → Excel",path:"/tools/pdf-to-excel",icon:us},{title:"Merge PDF",path:"/tools/merge",icon:hd},{title:"Compress PDF",path:"/tools/compress",icon:hg},{title:"CSV → Excel",path:"/tools/csv-to-excel",icon:us},{title:"Excel → CSV",path:"/tools/excel-to-csv",icon:Bt},{title:"CSV → PDF",path:"/tools/csv-to-pdf",icon:Bt},{title:"Excel → PDF",path:"/tools/excel-to-pdf",icon:Bt},{title:"PDF → CSV",path:"/tools/pdf-to-csv",icon:Bt}],m=()=>{const x=e==="dark"?"light":"dark";t(x),localStorage.setItem("theme",x)};return l.jsxs("aside",{className:`${s?"w-16":"w-64"} flex flex-col transition-all duration-300 relative
      bg-white text-gray-900 border-r border-gray-200
      dark:bg-ink/80 dark:text-slate-200 dark:border-white/5 rounded-r-2xl shadow-soft neon-border`,children:[l.jsx("button",{onClick:()=>a(!s),className:`absolute top-4 -right-3 z-10 p-1.5 rounded-full\r
        bg-gray-200 dark:bg-black/50 border border-gray-300 dark:border-white/10\r
        hover:bg-gray-300 dark:hover:bg-white/10 transition`,children:s?l.jsx("svg",{className:"w-4 h-4 text-gray-700 dark:text-slate-300",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M8 5v14l11-7z"})}):l.jsx("svg",{className:"w-4 h-4 text-gray-700 dark:text-slate-300",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M16 19V5L5 12z"})})}),l.jsxs("div",{className:"flex-1 px-3 py-5 space-y-2 overflow-y-auto",children:[l.jsxs(_e,{to:"/",className:"flex items-center px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-white/5 group",children:[l.jsx(T_,{className:"w-4 h-4 mr-2 text-gray-600 dark:text-slate-300"}),!s&&l.jsx("span",{children:"Overview"})]}),l.jsxs("div",{className:"flex items-center px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-white/5 group",children:[l.jsx(v_,{className:"w-4 h-4 mr-2 text-gray-600 dark:text-slate-300"}),!s&&l.jsx("span",{children:"Data Source"})]}),l.jsxs(_e,{to:"/forecast",className:"flex items-center px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-white/5 group",children:[l.jsx(e_,{className:"w-4 h-4 mr-2 text-gray-600 dark:text-slate-300"}),!s&&l.jsx("span",{children:"AI Forecast"})]}),l.jsxs("div",{className:"px-3",children:[l.jsxs("div",{className:"flex items-center rounded-lg cursor-pointer mb-2 hover:bg-gray-100 dark:hover:bg-white/5 group",children:[l.jsx(ud,{className:"w-4 h-4 mr-2 text-gray-600 dark:text-slate-300"}),!s&&l.jsx("span",{children:"Reports"})]}),!s&&l.jsxs("select",{value:o,onChange:x=>{c(x.target.value),n?.(x.target.value)},className:"w-full mt-1 rounded-lg px-2 py-1 text-sm bg-gray-100 border border-gray-300 text-gray-800 dark:bg-black/40 dark:border-white/10 dark:text-slate-200",children:[l.jsx("option",{children:"Bar"}),l.jsx("option",{children:"Line"}),l.jsx("option",{children:"Pie"}),l.jsx("option",{children:"Map"})]})]}),l.jsxs("div",{className:"mt-3 px-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(hd,{className:"w-4 h-4 mr-2 text-gray-600 dark:text-slate-300"}),!s&&l.jsx("span",{className:"font-medium",children:"File Tools"})]}),!s&&l.jsx("button",{onClick:()=>h(!u),className:"text-xs px-2 py-1 rounded border",children:u?"Hide":"Show"})]}),!s&&u&&l.jsx("div",{className:"mt-2 space-y-1",children:p.map((x,b)=>l.jsxs(_e,{to:x.path,className:"flex items-center gap-2 px-2 py-1 rounded hover:bg-gray-100 dark:hover:bg-white/5",children:[l.jsx(x.icon,{className:"w-4 h-4 text-gray-600"}),l.jsx("span",{className:"text-sm",children:x.title})]},b))})]}),l.jsxs("div",{className:"mt-4 px-3",children:[l.jsxs(_e,{to:"/settings",className:"flex items-center px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-white/5 group",children:[l.jsx(Mr,{className:"w-4 h-4 mr-2 text-gray-600 dark:text-slate-300"}),!s&&l.jsx("span",{children:"Settings"})]}),l.jsxs("div",{className:"flex items-center px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-white/5 group cursor-pointer",children:[l.jsx(cg,{className:"w-4 h-4 mr-2 text-gray-600 dark:text-slate-300"}),!s&&l.jsx("span",{children:"Help"})]})]})]}),l.jsxs("div",{className:"px-3 py-4 border-t border-gray-200 dark:border-white/10 space-y-2",children:[l.jsx("button",{onClick:m,className:"w-full flex items-center justify-center px-3 py-2 rounded-lg bg-gray-100 hover:bg-gray-200 text-sm text-gray-800 dark:bg-black/40 dark:hover:bg-white/5 dark:text-slate-200 transition",children:e==="dark"?l.jsxs(l.Fragment,{children:[l.jsx(fd,{className:"w-4 h-4 mr-2"}),!s&&"Dark Mode"]}):l.jsxs(l.Fragment,{children:[l.jsx(pd,{className:"w-4 h-4 mr-2 text-yellow-500"}),!s&&"Light Mode"]})}),l.jsxs(_e,{to:"/login",className:"w-full flex items-center justify-center px-3 py-2 rounded-lg bg-gray-100 hover:bg-gray-200 text-sm text-gray-800 dark:bg-black/40 dark:hover:bg-white/5 dark:text-slate-200 transition",children:[l.jsx("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),!s&&"Log in"]}),l.jsxs(_e,{to:"/signup",className:"w-full flex items-center justify-center px-3 py-2 rounded-lg bg-neonBlue text-white shadow-neon hover:animate-glow text-sm transition",children:[l.jsx("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),!s&&"Sign up"]})]})]})}const kS=[{title:"PDF → Word",description:"Convert PDF to editable Word document.",icon:Bt,link:"/tools/pdf-to-word"},{title:"PDF → Excel",description:"Convert PDF to Excel.",icon:us,link:"/tools/pdf-to-excel"},{title:"Merge PDF",description:"Combine multiple PDFs.",icon:hd,link:"/tools/merge"},{title:"Compress File",description:"Reduce PDF/Excel/CSV size.",icon:hg,link:"/tools/compress"},{title:"CSV → Excel",description:"Convert CSV to Excel.",icon:y_,link:"/tools/csv-to-excel"},{title:"Excel → CSV",description:"Export Excel to CSV.",icon:l_,link:"/tools/excel-to-csv"},{title:"CSV → PDF",description:"Convert CSV into PDF.",icon:Bt,link:"/tools/csv-to-pdf"},{title:"Excel → PDF",description:"Turn Excel into PDF.",icon:g_,link:"/tools/excel-to-pdf"},{title:"PDF → CSV",description:"Extract tables from PDF into CSV.",icon:u_,link:"/tools/pdf-to-csv"},{title:"PDF → Excel (alt)",description:"Alternative conversion route (if needed).",icon:us,link:"/tools/pdf-to-excel"}];function wS(){return l.jsx("section",{className:"py-6 bg-transparent",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:[l.jsx("h2",{className:"text-3xl font-display text-center mb-8 text-primary",children:"Our File Tools"}),l.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:kS.map((n,e)=>{const t=n.icon;return l.jsxs(_e,{to:n.link,className:`group p-6 flex flex-col items-center text-center \r
                           rounded-full bg-gradient-to-br from-blue-400/40 to-blue-600/40 \r
                           border border-blue-200/30 shadow-lg shadow-blue-300/40\r
                           hover:scale-105 active:scale-95 transition-all duration-200`,title:n.title,children:[l.jsxs("div",{className:"relative w-20 h-20 flex items-center justify-center",children:[l.jsx(t,{size:32,className:"text-white drop-shadow-lg"}),l.jsx("span",{className:"absolute top-2 left-2 w-3 h-3 rounded-full bg-white/30 blur-sm"})]}),l.jsx("h3",{className:"mt-4 font-display font-semibold text-white",children:n.title}),l.jsx("p",{className:"mt-2 text-sm text-white/80",children:n.description})]},e)})})]})})}function jS(){const n=[{title:"PDF → Word",path:"/tools/pdf-to-word"},{title:"PDF → Excel",path:"/tools/pdf-to-excel"},{title:"Merge PDF",path:"/tools/merge"},{title:"Compress PDF",path:"/tools/compress"},{title:"CSV → Excel",path:"/tools/csv-to-excel"},{title:"Excel → CSV",path:"/tools/excel-to-csv"},{title:"CSV → PDF",path:"/tools/csv-to-pdf"},{title:"Excel → PDF",path:"/tools/excel-to-pdf"},{title:"PDF → CSV",path:"/tools/pdf-to-csv"}];return l.jsxs("footer",{className:"mt-16 border-t border-gray-300 bg-gray-700 dark:bg-slate-900 py-10",children:[l.jsxs("div",{className:"mx-auto max-w-7xl px-4 flex flex-col md:flex-row items-start justify-between gap-10",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("img",{src:"/favicon.png",alt:"Syla logo",className:"w-8 h-8"}),l.jsxs("span",{className:"font-display text-lg tracking-wide text-white",children:["Syla ",l.jsx("span",{className:"text-neonBlue",children:"Analytics"})]})]}),l.jsxs("div",{className:"flex-1 grid grid-cols-2 md:grid-cols-4 gap-8 text-sm",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-200 mb-3",children:"General"}),l.jsxs("ul",{className:"space-y-2",children:[l.jsx("li",{children:l.jsx("a",{href:"#",className:"text-gray-300 hover:text-neonYellow transition-colors duration-200",children:"Help"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"text-gray-300 hover:text-neonYellow transition-colors duration-200",children:"Pricing"})})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-200 mb-3",children:"Account"}),l.jsxs("ul",{className:"space-y-2",children:[l.jsx("li",{children:l.jsx(_e,{to:"/settings",className:"text-gray-300 hover:text-neonYellow transition-colors duration-200",children:"Settings"})}),l.jsx("li",{children:l.jsx(_e,{to:"/login",className:"text-gray-300 hover:text-neonYellow transition-colors duration-200",children:"Log in"})}),l.jsx("li",{children:l.jsx(_e,{to:"/signup",className:"text-gray-300 hover:text-neonYellow transition-colors duration-200",children:"Sign up"})})]})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("h3",{className:"font-semibold text-gray-200 mb-3",children:"File Tools"}),l.jsx("ul",{className:"grid grid-cols-2 gap-y-2 gap-x-6",children:n.map((e,t)=>l.jsx("li",{children:l.jsx(_e,{to:e.path,className:"text-gray-300 hover:text-neonYellow transition-colors duration-200",children:e.title})},t))})]})]})]}),l.jsxs("div",{className:"mt-10 text-center text-xs text-gray-400",children:["© ",new Date().getFullYear()," Syla Analytics. All rights reserved."]})]})}const ms=S.createContext();function _S({children:n}){const[e,t]=S.useState(()=>{const v=localStorage.getItem("user");return v?JSON.parse(v):null}),[s,a]=S.useState("light"),[o,c]=S.useState(!0);S.useEffect(()=>{const v=w=>{w.key==="user"&&t(w.newValue?JSON.parse(w.newValue):null)};return window.addEventListener("storage",v),()=>window.removeEventListener("storage",v)},[]),S.useEffect(()=>{const v=localStorage.getItem("theme")||"light";a(v),document.body.classList.remove("dark","light"),document.body.classList.add(v),u()},[]),S.useEffect(()=>{localStorage.setItem("theme",s),document.body.classList.remove("dark","light"),document.body.classList.add(s)},[s]);const u=async()=>{try{c(!0);const v=localStorage.getItem("user");if(v)try{t(JSON.parse(v))}catch{localStorage.removeItem("user")}const w=await fetch("/api/auth/me",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(w.ok){const N=await w.json();t(N),localStorage.setItem("user",JSON.stringify(N))}else t(null),localStorage.removeItem("user"),localStorage.removeItem("token")}catch(v){console.error("Auth check failed:",v),t(null),localStorage.removeItem("user"),localStorage.removeItem("token")}finally{c(!1)}},_={user:e,setUser:v=>{t(v),localStorage.setItem("user",JSON.stringify(v))},theme:s,setTheme:a,loading:o,login:async(v,w)=>{try{const N=new FormData;N.append("contact",v),N.append("password",w);const C=await fetch("/api/auth/login",{method:"POST",credentials:"include",body:N});if(!C.ok){const L=await C.json().catch(()=>({}));throw new Error(L.detail||"Login failed")}const M=await C.json();return t(M.user),localStorage.setItem("user",JSON.stringify(M.user)),M.access_token&&localStorage.setItem("token",M.access_token),M}catch(N){throw console.error("Login error:",N),N}},signup:async(v,w,N,C)=>{try{const M=new FormData;M.append("name",v),w&&M.append("email",w),N&&M.append("phone",N),M.append("password",C);const L=await fetch("/api/auth/signup",{method:"POST",credentials:"include",body:M});if(!L.ok){const Y=await L.json().catch(()=>({}));throw new Error(Y.detail||"Signup failed")}const E=await L.json();return t(E.user),localStorage.setItem("user",JSON.stringify(E.user)),E.access_token&&localStorage.setItem("token",E.access_token),E}catch(M){throw console.error("Signup error:",M),M}},googleSignIn:async v=>{try{const w=new FormData;w.append("token",v);const N=await fetch("/api/auth/google",{method:"POST",credentials:"include",body:w});if(!N.ok){const M=await N.json().catch(()=>({}));throw new Error(M.detail||"Google sign-in failed")}const C=await N.json();return t(C.user),localStorage.setItem("user",JSON.stringify(C.user)),C.access_token&&localStorage.setItem("token",C.access_token),C}catch(w){throw console.error("Google sign-in error:",w),w}},logout:async()=>{try{await fetch("/api/auth/logout",{method:"POST",credentials:"include"}).catch(()=>{})}catch(v){console.error("Logout error:",v)}finally{t(null),localStorage.removeItem("user"),localStorage.removeItem("token")}},checkAuthStatus:u,refreshAuth:async()=>{try{const v=await fetch("/api/auth/refresh",{method:"POST",credentials:"include"});if(v.ok){const w=await v.json();return w.access_token&&localStorage.setItem("token",w.access_token),!0}return!1}catch(v){return console.error("Token refresh failed:",v),!1}}};return l.jsx(ms.Provider,{value:_,children:n})}function Qt(){const n=Vt(),{user:e,logout:t,theme:s,setTheme:a}=S.useContext(ms),[o,c]=S.useState(!1),[u,h]=S.useState(!1),[p,m]=S.useState(""),[x,b]=S.useState([]),k=S.useRef(null),_=S.useRef(null);S.useEffect(()=>{if(!p)return;(async()=>{try{const L=await(await fetch(`/api/search?q=${p}`)).json();b(L)}catch(M){console.error("Search failed:",M)}})()},[p]),S.useEffect(()=>{const C=M=>{k.current&&!k.current.contains(M.target)&&c(!1),_.current&&!_.current.contains(M.target)&&h(!1)};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]);const v=async()=>{try{await t(),n("/")}catch(C){console.error("Logout failed:",C)}c(!1)},w=()=>{a(s==="light"?"dark":"light")},N=[{id:1,title:"Chart Analysis Complete",message:"Your sales forecast is ready",time:"2m ago"},{id:2,title:"Data Export Ready",message:"CSV file has been generated",time:"1h ago"},{id:3,title:"Weekly Report",message:"Your analytics summary is available",time:"1d ago"}];return e?l.jsx("nav",{className:"bg-white dark:bg-slate-900 shadow-sm",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsxs(_e,{to:"/",className:"flex items-center gap-3",children:[l.jsx("img",{src:"/favicon.png",alt:"Syla Analytics Logo",className:"w-10 h-10 rounded-xl"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold text-gray-800 dark:text-slate-200",children:"Syla Analytics"}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Futuristic Data Intelligence"})]})]}),l.jsx("div",{className:"hidden md:flex flex-1 max-w-md mx-8",children:l.jsxs("div",{className:"relative w-full",children:[l.jsx(Bd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{type:"text",placeholder:"Search charts, data, or ask questions...",value:p,onChange:C=>m(C.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:border-slate-600 dark:bg-slate-700 dark:text-slate-200"})]})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:w,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:`Switch to ${s==="light"?"dark":"light"} mode`,children:s==="light"?l.jsx(fd,{size:20}):l.jsx(pd,{size:20})}),l.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Help & Support",children:l.jsx(cg,{size:20})}),l.jsxs("div",{className:"relative",ref:_,children:[l.jsxs("button",{onClick:()=>h(!u),className:"relative p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Notifications",children:[l.jsx(ya,{size:20}),l.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full text-xs text-white flex items-center justify-center",children:"3"})]}),u&&l.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-600 rounded-lg shadow-lg",style:{zIndex:"var(--z-dropdowns)"},children:[l.jsx("div",{className:"p-3 border-b border-gray-200 dark:border-slate-600",children:l.jsx("h3",{className:"font-medium text-gray-800 dark:text-slate-200",children:"Notifications"})}),l.jsx("div",{className:"max-h-64 overflow-y-auto",children:N.map(C=>l.jsxs("div",{className:"p-3 border-b border-gray-100 dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700 cursor-pointer",children:[l.jsx("div",{className:"font-medium text-sm text-gray-800 dark:text-slate-200",children:C.title}),l.jsx("div",{className:"text-sm text-gray-600 dark:text-slate-400",children:C.message}),l.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-500 mt-1",children:C.time})]},C.id))}),l.jsx("div",{className:"p-3 text-center",children:l.jsx(_e,{to:"/notifications",className:"text-sm text-blue-600 hover:text-blue-700",children:"View all notifications"})})]})]}),l.jsxs("div",{className:"relative",ref:k,children:[l.jsxs("button",{onClick:()=>c(!o),className:"flex items-center gap-2 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",children:[l.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-700 rounded-full flex items-center justify-center text-white text-sm font-medium",children:e.name?.charAt(0).toUpperCase()||"U"}),l.jsx("span",{className:"hidden md:block text-sm font-medium text-gray-700 dark:text-slate-300",children:e.name}),l.jsx(lg,{size:16,className:"text-gray-500"})]}),o&&l.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-600 rounded-lg shadow-lg",style:{zIndex:"var(--z-dropdowns)"},children:[l.jsxs("div",{className:"p-3 border-b border-gray-200 dark:border-slate-600",children:[l.jsx("div",{className:"font-medium text-gray-800 dark:text-slate-200",children:e.name}),l.jsx("div",{className:"text-sm text-gray-600 dark:text-slate-400",children:e.email})]}),l.jsxs("div",{className:"py-1",children:[l.jsxs(_e,{to:"/profile",onClick:()=>c(!1),className:"flex items-center gap-3 px-3 py-2 text-sm text-gray-700 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",children:[l.jsx(Sr,{size:16}),"Profile"]}),l.jsxs(_e,{to:"/settings",onClick:()=>c(!1),className:"flex items-center gap-3 px-3 py-2 text-sm text-gray-700 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",children:[l.jsx(Mr,{size:16}),"Settings"]})]}),l.jsx("div",{className:"border-t border-gray-200 dark:border-slate-600 py-1",children:l.jsxs("button",{onClick:v,className:"flex items-center gap-3 px-3 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors w-full text-left",children:[l.jsx(A_,{size:16}),"Sign Out"]})})]})]})]})]})})}):l.jsx("nav",{className:"bg-white dark:bg-slate-900 shadow-sm",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsxs(_e,{to:"/",className:"flex items-center gap-3",children:[l.jsx("img",{src:"/favicon.png",alt:"Syla Analytics Logo",className:"w-10 h-10 rounded-xl"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold text-gray-800 dark:text-slate-200",children:"Syla Analytics"}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Futuristic Data Intelligence"})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:w,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:`Switch to ${s==="light"?"dark":"light"} mode`,children:s==="light"?l.jsx(fd,{size:20}):l.jsx(pd,{size:20})}),l.jsx(_e,{to:"/login",className:"px-4 py-2 text-gray-700 hover:text-gray-900 dark:text-slate-300 dark:hover:text-slate-100 transition-colors",children:"Sign In"}),l.jsx(_e,{to:"/signup",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Get Started"})]})]})})})}function SS({options:n={},setOptions:e=()=>{},columns:t=[],data:s=[],onSaveChart:a=()=>{},onLoadPreset:o=()=>{}}){const[c,u]=S.useState({...n}),[h,p]=S.useState("display"),[m,x]=S.useState({filters:!0,display:!0,colors:!1,advanced:!1});S.useEffect(()=>u({...n}),[n]);const b=R=>{const D={...c,...R};u(D),e(I=>({...I,...R}))},k=t.filter(R=>s.length?s.slice(0,100).some(I=>typeof I[R]=="number"||!isNaN(Number(I[R]))):!0),_=t.filter(R=>!k.includes(R)),v=R=>s.length?[...new Set(s.map(I=>I[col]).filter(I=>I!=null))].slice(0,50):[],w=()=>{if(!c.gradientStops||c.gradientStops.length>=5)return;const R=[...c.gradientStops||[c.color||"#2563eb"],"#ffffff"];b({gradientStops:R,gradient:!0})},N=()=>{if(!c.gradientStops||c.gradientStops.length<=2)return;const R=c.gradientStops.slice(0,-1);b({gradientStops:R})},C=(R,D)=>{const I=[...c.gradientStops||[]];I[R]=D,b({gradientStops:I,gradient:!0})},M=[{name:"Blue",colors:["#2563eb","#3b82f6","#60a5fa"]},{name:"Green",colors:["#059669","#10b981","#34d399"]},{name:"Purple",colors:["#7c3aed","#8b5cf6","#a78bfa"]},{name:"Orange",colors:["#ea580c","#f97316","#fb923c"]},{name:"Pink",colors:["#db2777","#ec4899","#f472b6"]},{name:"Teal",colors:["#0d9488","#14b8a6","#5eead4"]}],L=R=>{b({color:R.colors[0],gradientStops:R.colors,gradient:R.colors.length>1})},E=c.type||"bar",Y=!["pie","scatter"].includes(E),O=["bar","line"].includes(E),z=["bar","line","scatter"].includes(E),G=()=>{b({type:"bar",color:"#2563eb",gradient:!1,gradientStops:["#2563eb","#ff6b6b"],showLabels:!1,trendline:!1,sort:"none",logScale:!1,compareField:"",topN:0,groupOthers:!1})},W=[{id:"filters",label:"Filters",icon:fg},{id:"display",label:"Display",icon:ud},{id:"colors",label:"Colors",icon:Id},{id:"advanced",label:"Advanced",icon:Mr}];return l.jsxs("div",{className:"mt-4 rounded-2xl bg-white border border-gray-200 shadow-sm dark:bg-ink/80 dark:border-white/5",children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200 dark:border-white/10",children:[l.jsxs("h3",{className:"font-display text-sm flex items-center gap-2 font-medium",children:[l.jsx(Mr,{size:16,className:"text-neonBlue"}),"Chart Options"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:G,className:"p-1.5 text-gray-500 hover:text-gray-700 dark:hover:text-slate-300 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Reset to defaults",children:l.jsx(wo,{size:14})}),l.jsx("button",{onClick:()=>a(c),className:"p-1.5 text-blue-500 hover:text-blue-700 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",title:"Save configuration",children:l.jsx(jo,{size:14})})]})]}),l.jsx("div",{className:"flex border-b border-gray-200 dark:border-white/10",children:W.map(R=>l.jsxs("button",{onClick:()=>p(R.id),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium transition-colors ${h===R.id?"text-blue-600 border-b-2 border-blue-600 bg-blue-50/50 dark:bg-blue-900/20 dark:text-blue-400":"text-gray-600 hover:text-gray-900 dark:text-slate-400 dark:hover:text-slate-200 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:[l.jsx(R.icon,{size:16}),R.label]},R.id))}),l.jsxs("div",{className:"p-4",children:[h==="filters"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Dataset Source"}),l.jsxs("select",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm dark:border-slate-600 dark:bg-slate-800",children:[l.jsx("option",{children:"Current uploaded data"}),l.jsx("option",{children:"Load from saved dataset..."})]})]}),_.includes("Country")&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Country Filter"}),l.jsx("select",{multiple:!0,className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm dark:border-slate-600 dark:bg-slate-800",style:{minHeight:"80px"},children:v().map(R=>l.jsx("option",{value:R,children:R},R))}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Hold Ctrl/Cmd to select multiple"})]}),_.includes("Company")&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Company Filter"}),l.jsx("select",{multiple:!0,className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm dark:border-slate-600 dark:bg-slate-800",style:{minHeight:"80px"},children:v().map(R=>l.jsx("option",{value:R,children:R},R))})]}),_.includes("Campaign")&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Campaign Filter"}),l.jsx("input",{type:"text",placeholder:"Search campaigns...",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm mb-2 dark:border-slate-600 dark:bg-slate-800"}),l.jsx("div",{className:"max-h-32 overflow-y-auto border rounded-lg p-2 bg-gray-50 dark:bg-slate-700",children:v().map(R=>l.jsxs("label",{className:"flex items-center gap-2 py-1 text-sm",children:[l.jsx("input",{type:"checkbox",className:"rounded"}),l.jsx("span",{children:R}),l.jsxs("span",{className:"text-xs text-gray-500 ml-auto",children:["(",s.filter(D=>D.Campaign===R).length,")"]})]},R))})]}),t.includes("Date")&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Date Range"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Start Date"}),l.jsx("input",{type:"date",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm dark:border-slate-600 dark:bg-slate-800"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"End Date"}),l.jsx("input",{type:"date",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm dark:border-slate-600 dark:bg-slate-800"})]})]})]}),k.length>0&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Numeric Filters"}),k.slice(0,2).map(R=>l.jsxs("div",{className:"mb-3",children:[l.jsxs("label",{className:"block text-xs text-gray-500 mb-1",children:[R," Range"]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx("input",{type:"number",placeholder:"Min",className:"rounded-lg border border-gray-300 px-3 py-2 text-sm dark:border-slate-600 dark:bg-slate-800"}),l.jsx("input",{type:"number",placeholder:"Max",className:"rounded-lg border border-gray-300 px-3 py-2 text-sm dark:border-slate-600 dark:bg-slate-800"})]})]},R))]})]}),h==="display"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Group By"}),l.jsxs("select",{value:c.aggregateBy||"",onChange:R=>b({aggregateBy:R.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm dark:border-slate-600 dark:bg-slate-800",children:[l.jsx("option",{value:"",children:"No grouping"}),_.map(R=>l.jsx("option",{value:R,children:R},R))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Metric"}),l.jsx("select",{value:c.metric||"",onChange:R=>b({metric:R.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm dark:border-slate-600 dark:bg-slate-800",children:k.map(R=>l.jsx("option",{value:R,children:R},R))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Function"}),l.jsxs("select",{value:c.aggregateFunction||"sum",onChange:R=>b({aggregateFunction:R.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm dark:border-slate-600 dark:bg-slate-800",children:[l.jsx("option",{value:"sum",children:"Sum"}),l.jsx("option",{value:"mean",children:"Average"}),l.jsx("option",{value:"median",children:"Median"}),l.jsx("option",{value:"count",children:"Count"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Chart Type"}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[{value:"bar",label:"Bar",icon:ig},{value:"line",label:"Line",icon:ag},{value:"area",label:"Area",icon:sg},{value:"pie",label:"Pie",icon:og},{value:"scatter",label:"Scatter",icon:dg},{value:"stacked_bar",label:"Stacked",icon:ud}].map(R=>{const D=R.icon;return l.jsxs("button",{onClick:()=>b({type:R.value}),className:`flex flex-col items-center p-4 rounded-2xl text-sm font-medium transition-all ${c.type===R.value?"border-blue-500 bg-gradient-to-br from-blue-500 to-blue-700 text-white shadow-lg":"border-gray-200 hover:border-gray-300 dark:border-slate-600 dark:hover:border-slate-500 bg-gradient-to-br from-blue-400/40 to-blue-600/40 text-white shadow-md"}`,children:[l.jsx(D,{size:24,className:"mb-1 drop-shadow-lg"}),R.label]},R.value)})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Orientation"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>b({orientation:"horizontal"}),className:`flex-1 py-2 px-3 rounded-lg text-sm ${c.orientation==="horizontal"?"bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-400":"bg-gray-100 hover:bg-gray-200 dark:bg-slate-700"}`,children:"Horizontal"}),l.jsx("button",{onClick:()=>b({orientation:"vertical"}),className:`flex-1 py-2 px-3 rounded-lg text-sm ${c.orientation!=="horizontal"?"bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-400":"bg-gray-100 hover:bg-gray-200 dark:bg-slate-700"}`,children:"Vertical"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Sort By"}),l.jsxs("select",{value:c.sort||"none",onChange:R=>b({sort:R.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm dark:border-slate-600 dark:bg-slate-800",children:[l.jsx("option",{value:"none",children:"None"}),l.jsx("option",{value:"asc",children:"Ascending"}),l.jsx("option",{value:"desc",children:"Descending"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Show Top N Groups"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("input",{type:"number",min:"0",max:"50",value:c.topN||0,onChange:R=>b({topN:parseInt(R.target.value)||0}),className:"w-24 rounded-lg border border-gray-300 px-3 py-2 text-sm dark:border-slate-600 dark:bg-slate-800",placeholder:"All"}),l.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[l.jsx("input",{type:"checkbox",checked:c.groupOthers||!1,onChange:R=>b({groupOthers:R.target.checked}),className:"rounded"}),'Group remainder as "Others"']})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"0 = show all groups"})]})]}),h==="colors"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Color Presets"}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:M.map(R=>l.jsxs("button",{onClick:()=>L(R),className:"p-3 rounded-lg border border-gray-200 hover:border-gray-300 dark:border-slate-600 dark:hover:border-slate-500 transition-colors",children:[l.jsx("div",{className:"flex gap-1 justify-center mb-2",children:R.colors.map((D,I)=>l.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:D}},I))}),l.jsx("div",{className:"text-xs font-medium",children:R.name})]},R.name))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Primary Color"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("input",{type:"color",value:c.color||"#2563eb",onChange:R=>b({color:R.target.value}),className:"w-12 h-10 rounded-lg border border-gray-300"}),l.jsx("input",{type:"text",value:c.color||"#2563eb",onChange:R=>b({color:R.target.value}),className:"flex-1 rounded-lg border border-gray-300 px-3 py-2 text-sm font-mono dark:border-slate-600 dark:bg-slate-800",placeholder:"#2563eb"})]})]}),l.jsx("div",{children:l.jsxs("label",{className:"flex items-center gap-3",children:[l.jsx("input",{type:"checkbox",checked:c.gradient||!1,onChange:R=>b({gradient:R.target.checked}),className:"rounded"}),l.jsx("span",{className:"text-sm font-medium",children:"Enable Gradient"})]})}),c.gradient&&l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Gradient Stops"}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx("button",{onClick:w,disabled:!c.gradientStops||c.gradientStops.length>=5,className:"px-2 py-1 text-xs bg-blue-500 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed",children:"+ Add"}),l.jsx("button",{onClick:N,disabled:!c.gradientStops||c.gradientStops.length<=2,className:"px-2 py-1 text-xs bg-red-500 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed",children:"Remove"})]})]}),l.jsx("div",{className:"flex gap-2 flex-wrap",children:(c.gradientStops||[c.color||"#2563eb"]).map((R,D)=>l.jsxs("div",{className:"flex flex-col items-center gap-1",children:[l.jsx("input",{type:"color",value:R,onChange:I=>C(D,I.target.value),className:"w-8 h-8 rounded border"}),l.jsx("span",{className:"text-xs text-gray-500",children:D+1})]},D))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Series Colors"}),l.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Click on chart elements to customize individual colors"}),l.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[l.jsx("div",{className:"text-sm",children:"Interactive color editing:"}),l.jsxs("ul",{className:"text-xs text-gray-600 dark:text-slate-400 mt-1 space-y-1",children:[l.jsx("li",{children:"• Click any bar/point to open color picker"}),l.jsx("li",{children:'• Use "Apply to all" to extend color to similar items'}),l.jsx("li",{children:"• Save color profiles for reuse"})]})]})]})]}),h==="advanced"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-700 dark:text-slate-300 mb-3",children:"Interactivity"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("label",{className:"flex items-center gap-3",children:[l.jsx("input",{type:"checkbox",checked:c.showLabels||!1,onChange:R=>b({showLabels:R.target.checked}),className:"rounded"}),l.jsx("span",{className:"text-sm",children:"Show Data Labels"})]}),O&&l.jsxs("label",{className:"flex items-center gap-3",children:[l.jsx("input",{type:"checkbox",checked:c.trendline||!1,onChange:R=>b({trendline:R.target.checked}),className:"rounded"}),l.jsx("span",{className:"text-sm",children:"Show Trendline"})]}),z&&l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center gap-3 mb-2",children:[l.jsx("input",{type:"checkbox",checked:c.logScale||!1,onChange:R=>b({logScale:R.target.checked}),className:"rounded"}),l.jsx("span",{className:"text-sm",children:"Logarithmic Scale"})]}),c.logScale&&l.jsx("input",{type:"number",min:"0.001",step:"0.001",value:c.logMin||"",onChange:R=>b({logMin:parseFloat(R.target.value)||void 0}),placeholder:"Min value (auto)",className:"ml-6 w-32 rounded border px-2 py-1 text-xs dark:border-slate-600 dark:bg-slate-800"})]})]})]}),Y&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-700 dark:text-slate-300 mb-3",children:"Comparison"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Compare with Second Metric"}),l.jsxs("select",{value:c.compareField||"",onChange:R=>b({compareField:R.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm dark:border-slate-600 dark:bg-slate-800",children:[l.jsx("option",{value:"",children:"None"}),k.map(R=>l.jsx("option",{value:R,children:R},R))]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Second metric will be displayed on a secondary axis"})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-700 dark:text-slate-300 mb-3",children:"Export Settings"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Default Format"}),l.jsxs("select",{value:c.exportFormat||"png",onChange:R=>b({exportFormat:R.target.value}),className:"w-full rounded border px-2 py-1 text-sm dark:border-slate-600 dark:bg-slate-800",children:[l.jsx("option",{value:"png",children:"PNG"}),l.jsx("option",{value:"svg",children:"SVG"}),l.jsx("option",{value:"pdf",children:"PDF"}),l.jsx("option",{value:"csv",children:"CSV (data)"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"DPI"}),l.jsx("input",{type:"number",min:"72",max:"600",value:c.exportDPI||300,onChange:R=>b({exportDPI:parseInt(R.target.value)||300}),className:"w-full rounded border px-2 py-1 text-sm dark:border-slate-600 dark:bg-slate-800"})]})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-700 dark:text-slate-300 mb-3",children:"Performance"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"flex items-center gap-3",children:[l.jsx("input",{type:"checkbox",checked:c.enableAnimations!==!1,onChange:R=>b({enableAnimations:R.target.checked}),className:"rounded"}),l.jsx("span",{className:"text-sm",children:"Enable Animations"})]}),l.jsxs("label",{className:"flex items-center gap-3",children:[l.jsx("input",{type:"checkbox",checked:c.enableTooltips!==!1,onChange:R=>b({enableTooltips:R.target.checked}),className:"rounded"}),l.jsx("span",{className:"text-sm",children:"Enable Tooltips"})]})]})]})]}),l.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-white/10 flex items-center justify-between",children:[l.jsx("div",{className:"text-xs text-gray-500",children:s.length>0&&`${s.length.toLocaleString()} data points`}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>window.dispatchEvent(new CustomEvent("exportChart",{detail:{format:"png"}})),className:"px-3 py-1.5 text-xs bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Export PNG"}),l.jsx("button",{onClick:()=>window.dispatchEvent(new CustomEvent("exportData",{detail:{format:"csv"}})),className:"px-3 py-1.5 text-xs border border-gray-300 rounded-lg hover:bg-gray-50 dark:border-slate-600 dark:hover:bg-slate-700 transition-colors",children:"Export CSV"})]})]})]})]})}const NS=({onClose:n,onSignup:e,onLogin:t})=>l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white dark:bg-ink rounded-2xl p-6 max-w-md w-full border-2 border-neonBlue/20 shadow-xl",children:[l.jsx("h2",{className:"text-xl font-display font-bold text-gray-800 dark:text-slate-200 mb-3",children:"Sign In Required"}),l.jsx("p",{className:"text-gray-600 dark:text-slate-400 mb-6",children:"You need to create an account or sign in to use the visualization features."}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:e,className:"flex-1 px-4 py-2 bg-neonBlue text-white rounded-lg hover:bg-blue-600 font-medium",children:"Sign Up"}),l.jsx("button",{onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 dark:border-white/20 dark:text-slate-300 dark:hover:bg-slate-800",children:"Log In"})]}),l.jsx("button",{onClick:n,className:"mt-3 w-full text-sm text-gray-500 hover:text-gray-700 dark:text-slate-400 dark:hover:text-slate-200",children:"Cancel"})]})});function CS(){const n=Vt(),[e,t]=S.useState(null),[s,a]=S.useState(!1),[o,c]=S.useState(""),{chartData:u,updateChartOptions:h,updateChartData:p,hasData:m}=Da(),[x,b]=S.useState("light"),[k,_]=S.useState(!1);S.useEffect(()=>{const N=()=>{if(!e){c("");return}c(tv())};N();const C=setInterval(N,6e4);return()=>clearInterval(C)},[e]),S.useEffect(()=>{const N=localStorage.getItem("user");if(N)try{t(JSON.parse(N))}catch{localStorage.removeItem("user"),localStorage.removeItem("token")}const C=localStorage.getItem("theme")||"light";b(C)},[]),S.useEffect(()=>{document.body.classList.remove("dark","light"),document.body.classList.add(x==="light"?"light":"dark")},[x]);const v=()=>{n("/signup"),a(!1)},w=()=>{n("/login"),a(!1)};return l.jsxs("div",{className:"flex min-h-screen overflow-x-hidden relative",children:[l.jsx(Xt,{theme:x,setTheme:b,onReportChange:()=>{}}),l.jsxs("div",{className:"flex-1 transition-all duration-300",children:[l.jsx(Qt,{user:e}),l.jsxs("main",{className:"mx-auto max-w-7xl px-4 pb-16 pt-8",children:[l.jsxs("div",{className:"hero-section w-screen -mx-4 relative",children:[l.jsx("div",{className:"hero-gradient-bg"}),l.jsx("div",{className:"hero-content",children:e?l.jsxs(l.Fragment,{children:[l.jsxs("h1",{className:"font-body text-4xl md:text-5xl tracking-wide mb-6 text-gray-800 dark:text-slate-200",children:[o,/[!?.]$/.test(o)?" ":", ",l.jsx("span",{className:"text-neonYellow font-bold",children:e.name})]}),l.jsx("p",{className:"text-lg text-gray-700 dark:text-slate-300 max-w-3xl mx-auto",children:"Ready to dive into your data? Upload files for cleaning and visualization, or use our powerful file conversion tools."}),l.jsxs("div",{className:"flex flex-wrap gap-4 justify-center mt-8",children:[l.jsxs(_e,{to:"/forecast",className:`relative flex items-center justify-center p-5 rounded-full\r
                                         bg-gradient-to-br from-red-400/40 to-red-600/40\r
                                         border border-red-200/30 shadow-lg shadow-blue-300/40\r
                                         hover:scale-105 active:scale-95 transition-all duration-200`,children:[l.jsx("span",{className:"absolute top-2 left-2 w-2 h-2 bg-blue-300 rounded-full animate-dot1"}),l.jsx("span",{className:"absolute bottom-3 right-3 w-2 h-2 bg-blue-400 rounded-full animate-dot2"}),l.jsx("span",{className:"absolute bottom-2 left-2 w-2 h-2 bg-yellow-300 rounded-full animate-dot5"}),l.jsx("span",{className:"absolute top-1 right-4 w-1.5 h-1.5 bg-blue-500 rounded-full animate-dot3"}),l.jsx(fo,{size:28,className:"text-white drop-shadow-lg z-10"}),l.jsx("span",{className:"ml-2 text-white font-semibold z-10",children:"AI Forecasting"})]}),l.jsx("button",{className:"px-6 py-3 rounded-full border-2 border-neonBlue text-neonBlue font-semibold hover:bg-neonBlue hover:text-white transition-all duration-300",children:"Price Listing"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("h1",{className:"font-body text-4xl md:text-5xl tracking-wide mb-6 text-gray-800 dark:text-slate-200",children:["From raw data to ",l.jsx("span",{className:"text-red-500 font-semibold",children:"smart decisions"}),l.jsx("br",{}),"all powered by ",l.jsx("span",{className:"text-neonYellow font-semibold",children:"Syla"}),"."]}),l.jsx("p",{className:"text-xl text-gray-700 dark:text-slate-300 mb-8 max-w-4xl mx-auto",children:"Clean, visualize, and convert your data with intelligent automation."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx("button",{onClick:v,className:"px-8 py-3 bg-neonBlue text-white rounded-xl font-semibold hover:bg-blue-600 shadow-lg hover:shadow-neon transition-all duration-300",children:"Get Started - Sign Up"}),l.jsx("button",{onClick:w,className:"px-8 py-3 border-2 border-neonBlue text-neonBlue rounded-xl font-semibold hover:bg-neonBlue hover:text-white transition-all duration-300",children:"Already have an account? Log In"})]})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mt-6",children:[l.jsx("section",{className:"lg:col-span-1 rounded-2xl bg-white border border-gray-200 shadow-sm dark:bg-ink/80 dark:border-white/5 dark:shadow-soft neon-border",children:l.jsxs("div",{className:"p-5",children:[l.jsx("h2",{className:"font-display text-lg mb-1",children:"Upload Data"}),l.jsx("p",{className:"text-gray-500 text-sm mb-4 dark:text-slate-400",children:"CSV / Excel only. Preview & progress included."}),l.jsx(sv,{onData:N=>{if(!e){a(!0);return}}})]})}),l.jsx("section",{className:"lg:col-span-2 rounded-2xl bg-white border border-gray-200 shadow-sm dark:bg-ink/80 dark:border-white/5 dark:shadow-soft neon-border",children:l.jsxs("div",{className:"p-5",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h2",{className:"font-display text-lg",children:"Visualization"}),l.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-black/30 transition",onClick:()=>_(N=>!N),children:l.jsx(Mr,{size:18,className:"text-gray-600 dark:text-slate-400"})})]}),k&&l.jsx("div",{className:"mb-4",children:l.jsx(SS,{options:u.chartOptions,setOptions:h,columns:u.columns,data:u.data})}),e&&m?l.jsx($d,{data:u.data,columns:u.columns,types:u.types,options:u.chartOptions,chartTitle:u.chartTitle,xAxis:u.xAxis,yAxis:u.yAxis,setXAxis:N=>p({xAxis:N}),setYAxis:N=>p({yAxis:N})}):e?l.jsxs("div",{className:"rounded-2xl p-8 bg-gray-50 dark:bg-black/20 text-center text-gray-500",children:[l.jsx("div",{className:"text-lg font-medium",children:"Upload to visualize"}),l.jsx("div",{className:"text-sm mt-2",children:"Upload a CSV / Excel file on the left to enable the visualization tools."})]}):l.jsxs("div",{className:"rounded-2xl p-8 bg-gray-50 dark:bg-black/20 text-center text-gray-500",children:[l.jsx("div",{className:"text-lg font-medium mb-2",children:"Sign in to visualize"}),l.jsx("div",{className:"text-sm",children:"Create an account or sign in to unlock visualization features."}),l.jsx("div",{className:"mt-4",children:l.jsx("button",{onClick:()=>a(!0),className:"px-6 py-2 bg-neonBlue text-white rounded-lg hover:bg-blue-600 transition-colors duration-200",children:"Sign In"})})]})]})})]}),Object.keys(u.summary||{}).length>0&&e&&l.jsx("section",{className:"mt-6 rounded-2xl bg-white border border-gray-200 shadow-sm dark:bg-ink/80 dark:border-white/5 dark:shadow-soft neon-border",children:l.jsxs("div",{className:"p-5",children:[l.jsx("h2",{className:"font-display text-lg mb-4",children:"Summary"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full border-collapse",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-100 dark:bg-black/30",children:[l.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold text-gray-700 dark:text-slate-200",children:"Column"}),l.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold text-gray-700 dark:text-slate-200",children:"Details"})]})}),l.jsx("tbody",{children:Object.entries(u.summary||{}).map(([N,C],M)=>l.jsxs("tr",{className:"odd:bg-gray-50 dark:odd:bg-black/20 border-b border-gray-200 dark:border-white/5 align-top",children:[l.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-800 dark:text-slate-200",children:N}),l.jsx("td",{className:"px-4 py-2 text-sm text-gray-600 dark:text-slate-300",children:C&&typeof C=="object"?l.jsx("table",{className:"min-w-[200px] border border-gray-200 dark:border-white/10 rounded-lg overflow-hidden",children:l.jsx("tbody",{children:Object.entries(C).map(([L,E],Y)=>l.jsxs("tr",{className:"odd:bg-gray-100 dark:odd:bg-black/30",children:[l.jsx("td",{className:"px-3 py-1.5 text-xs font-medium text-gray-700 dark:text-slate-200 border-r border-gray-200 dark:border-white/10",children:L}),l.jsx("td",{className:"px-3 py-1.5 text-xs text-gray-600 dark:text-slate-300",children:String(E)})]},Y))})}):String(C)})]},M))})]})})]})}),l.jsx("div",{className:"mt-12",children:l.jsx(wS,{})})]}),l.jsx(jS,{})]}),s&&l.jsx(NS,{onClose:()=>a(!1),onSignup:v,onLogin:w})]})}function MS({title:n="Upload File",hint:e="",accept:t="",multiple:s=!1,files:a=[],setFiles:o=()=>{},onUpload:c=null,viewMode:u="grid",setViewMode:h=()=>{},uploadLabel:p="Upload & Process",loading:m=!1,toolType:x="convert"}){const b=S.useRef(null),[k,_]=S.useState(!1),[v,w]=S.useState("");S.useEffect(()=>{w("")},[a]);const N=z=>{const G=Array.from(z.target.files||[]);G.length&&(o(s?G:[G[0]]),z.target.value="")},C=z=>{z.preventDefault();const G=Array.from(z.dataTransfer.files||[]);G.length&&o(s?G:[G[0]])},M=z=>{const G=[...a];G.splice(z,1),o(G)},L=()=>{switch(x){case"compress":return"Upload File to Compress";case"merge":return"Upload PDF Files to Merge";case"csv-to-excel":return"Upload CSV to convert to Excel";case"excel-to-csv":return"Upload Excel to convert to CSV";case"pdf-to-csv":return"Upload PDF to extract to CSV";case"csv-to-pdf":return"Upload CSV to convert to PDF";case"pdf-to-excel":return"Upload PDF to convert to Excel";case"excel-to-pdf":return"Upload Excel to convert to PDF";case"pdf-to-word":return"Upload PDF to convert to Word";default:return n}},E=()=>{if(t)return t;switch(x){case"compress":return"*/*";case"merge":return".pdf,application/pdf";case"csv-to-excel":case"csv-to-pdf":return".csv,text/csv";case"excel-to-csv":case"excel-to-pdf":return".xls,.xlsx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel";case"pdf-to-csv":case"pdf-to-excel":case"pdf-to-word":return".pdf,application/pdf";default:return"*/*"}},Y=async()=>{w(""),_(!0);try{if(!a||a.length===0)throw new Error("No file selected");const z={compress:{url:"/api/filetools/pdf/compress",multi:!1,formFileKey:"file"},"compress-any":{url:"/api/filetools/file/compress",multi:!1,formFileKey:"file"},merge:{url:"/api/filetools/pdf/merge",multi:!0,formFileKey:"files"},"csv-to-excel":{url:"/api/filetools/convert/csv-to-excel",multi:!1,formFileKey:"file"},"excel-to-csv":{url:"/api/filetools/convert/excel-to-csv",multi:!1,formFileKey:"file"},"pdf-to-csv":{url:"/api/filetools/convert/pdf-to-csv",multi:!1,formFileKey:"file"},"csv-to-pdf":{url:"/api/filetools/convert/csv-to-pdf",multi:!1,formFileKey:"file"},"pdf-to-excel":{url:"/api/filetools/convert/pdf-to-excel",multi:!1,formFileKey:"file"},"excel-to-pdf":{url:"/api/filetools/convert/excel-to-pdf",multi:!1,formFileKey:"file"},"pdf-to-word":{url:"/api/filetools/convert/pdf-to-word",multi:!1,formFileKey:"file"}};let G=z[x]||z.compress;const W=new FormData;G.multi?a.forEach(I=>{W.append(G.formFileKey,I)}):W.append(G.formFileKey,a[0]);const R=await fetch(G.url,{method:"POST",body:W}),D=await R.json();if(!R.ok)throw new Error(D.detail||D.error||JSON.stringify(D));if(typeof c=="function")try{await c(a,{result:D,toolType:x})}catch{}return _(!1),D}catch(z){return _(!1),w(z.message||String(z)),Promise.reject(z)}},O=async()=>{if(typeof c=="function")try{const z=c(a);z&&typeof z.then=="function"&&await z}catch(z){w(z.message||String(z))}else await Y()};return l.jsxs("section",{className:"rounded-2xl bg-white dark:bg-slate-900 border-2 shadow-lg p-6 max-w-6xl fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-50",style:{borderColor:"rgba(14,165,233,0.35)"},children:[l.jsx("h3",{className:"font-display text-lg mb-2 text-gray-800 dark:text-slate-200",children:L()}),e&&l.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mb-6",children:e}),l.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 items-center",children:[l.jsxs("div",{onDrop:C,onDragOver:z=>z.preventDefault(),className:"flex-1 rounded-xl p-6 text-center transition-all duration-300 bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-dashed hover:border-sky-400",style:{minHeight:"140px",display:"flex",flexDirection:"column",justifyContent:"center",boxShadow:"0 8px 32px rgba(59, 130, 246, 0.08)"},children:[l.jsx("div",{className:"mb-3",children:l.jsx("svg",{className:"mx-auto h-10 w-10 text-sky-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:l.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),l.jsx("p",{className:"mb-2 font-medium text-gray-700 dark:text-slate-300",children:"Drag & drop your file here"}),l.jsxs("p",{className:"text-xs mb-4 text-gray-500 dark:text-slate-400",children:["Accepted: ",l.jsx("span",{className:"font-mono text-sky-500",children:E()})]}),l.jsx("button",{type:"button",onClick:()=>b.current?.click(),className:"px-4 py-2 rounded-lg border-2 bg-white text-sky-500 hover:bg-sky-500 hover:text-white transition-all duration-300 font-medium shadow-md",children:"Choose File"}),l.jsx("input",{ref:b,type:"file",accept:E(),multiple:s,onChange:N,className:"hidden"})]}),l.jsxs("div",{className:"lg:w-80 w-full space-y-4",children:[l.jsxs("div",{className:"p-4 rounded-lg bg-gray-50 dark:bg-slate-800/50 border border-gray-200",children:[l.jsx("div",{className:"text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Selected Files:"}),a.length?l.jsx("div",{className:"space-y-1",children:a.map((z,G)=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-white dark:bg-slate-700 rounded border",children:[l.jsx("span",{className:"truncate flex-1 mr-2",children:z.name||z.filename}),z.size&&l.jsxs("span",{className:"text-xs text-gray-500 dark:text-slate-400",children:[Math.round(z.size/1024)," KB"]}),l.jsx("button",{onClick:()=>M(G),className:"ml-2 px-2 py-1 text-xs rounded bg-red-100 text-red-700",children:"X"})]},G))}):l.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"No file selected"})]}),a.length>0&&l.jsx("button",{onClick:O,disabled:m||k,className:`w-full px-6 py-3 rounded-lg font-medium transition-all duration-300 ${m||k?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-sky-500 text-white hover:bg-sky-600 shadow-lg"}`,children:m||k?"Processing...":p}),a.length>0&&l.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2",children:[l.jsx("span",{className:"text-xs text-gray-600 dark:text-slate-400 mr-2",children:"View:"}),["grid","details","list"].map(z=>l.jsx("button",{onClick:()=>h(z),className:`px-3 py-1.5 rounded text-xs font-medium transition-all duration-200 ${u===z?"bg-sky-500 text-white shadow-sm":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:z.charAt(0).toUpperCase()+z.slice(1)},z))]}),v&&l.jsx("div",{className:"mt-2 p-2 text-xs text-red-600 bg-red-50 rounded border border-red-200",children:v})]})]})]})}function PS({files:n=[],onUpload:e=null,uploadLabel:t="Process",downloadUrl:s="",onDownload:a=null,error:o="",loading:c=!1,showPanel:u=!1,conversionComplete:h=!1,fileName:p="",toolType:m="convert",onCompressionLevelChange:x=()=>{}}){const[b,k]=S.useState("medium"),[_,v]=S.useState(340),[w,N]=S.useState(null),[C,M]=S.useState(!1),[L,E]=S.useState({x:0,y:0}),Y=S.useRef(null),[O,z]=S.useState(!1),[G,W]=S.useState("");S.useEffect(()=>{m!=="compress"&&k("medium")},[m]),S.useEffect(()=>{v(m==="compress"&&!h?420:m==="merge"?380:340)},[m,h]);const R=J=>{if(!Y.current)return;M(!0);const F=Y.current.getBoundingClientRect();E({x:J.clientX-F.left,y:J.clientY-F.top})},D=J=>{C&&N({x:J.clientX-L.x,y:J.clientY-L.y})},I=()=>M(!1);if(S.useEffect(()=>(C?(window.addEventListener("mousemove",D),window.addEventListener("mouseup",I)):(window.removeEventListener("mousemove",D),window.removeEventListener("mouseup",I)),()=>{window.removeEventListener("mousemove",D),window.removeEventListener("mouseup",I)}),[C,L]),!u)return null;const H=()=>{switch(m){case"compress":return"File Compression";case"merge":return"File Merging";case"csv-to-excel":case"excel-to-csv":case"pdf-to-csv":case"csv-to-pdf":case"pdf-to-excel":case"excel-to-pdf":case"pdf-to-word":return"File Conversion";case"pdf":return"PDF Export";case"csv":return"CSV Export";default:return"File Processing"}},$=J=>{k(J),x(J)},X=async(J=n,F={})=>{W(""),z(!0);try{if(!J||J.length===0)throw new Error("No file provided for processing.");const q={compress:{url:"/api/filetools/pdf/compress",method:"POST",form:(Z,le)=>{Z.append("file",le),Z.append("level",b)}},"compress-any":{url:"/api/filetools/file/compress",method:"POST",form:(Z,le)=>{Z.append("file",le),Z.append("level",b)}},merge:{url:"/api/filetools/pdf/merge",method:"POST-multi",form:(Z,le)=>Z.append("files",le)},"csv-to-excel":{url:"/api/filetools/convert/csv-to-excel",method:"POST",form:(Z,le)=>Z.append("file",le)},"excel-to-csv":{url:"/api/filetools/convert/excel-to-csv",method:"POST",form:(Z,le)=>Z.append("file",le)},"pdf-to-csv":{url:"/api/filetools/convert/pdf-to-csv",method:"POST",form:(Z,le)=>Z.append("file",le)},"csv-to-pdf":{url:"/api/filetools/convert/csv-to-pdf",method:"POST",form:(Z,le)=>Z.append("file",le)},"pdf-to-excel":{url:"/api/filetools/convert/pdf-to-excel",method:"POST",form:(Z,le)=>Z.append("file",le)},"excel-to-pdf":{url:"/api/filetools/convert/excel-to-pdf",method:"POST",form:(Z,le)=>Z.append("file",le)},"pdf-to-word":{url:"/api/filetools/convert/pdf-to-word",method:"POST",form:(Z,le)=>Z.append("file",le)}};let ge=q[m];if(!ge&&m==="compress"&&(ge=q.compress),!ge)throw new Error("Unsupported tool type for built-in processing: "+m);const xe=new FormData;ge.method==="POST-multi"||m==="merge"?J.forEach(Z=>{ge.form(xe,Z)}):ge.form(xe,J[0]);const ie=await fetch(ge.url,{method:"POST",body:xe}),oe=await ie.json();if(!ie.ok)throw new Error(oe.detail||oe.error||JSON.stringify(oe));try{typeof e=="function"&&e(J,{result:oe,toolType:m,level:b})}catch{}const ne=oe.download_url||oe.url||"";if(ne)if(typeof a=="function")a(ne);else{const Z=ne.startsWith("/")?window.location.origin+ne:ne;window.open(Z,"_blank")}return z(!1),oe}catch(q){return z(!1),W(q.message||String(q)),Promise.reject(q)}},K=async()=>{if(typeof e=="function")try{const J=e(n,{level:b});if(J&&typeof J.then=="function"){const q=(await J)?.download_url;q&&(typeof a=="function"?a(q):window.open(q.startsWith("/")?window.location.origin+q:q,"_blank"))}}catch(J){W(J.message||String(J))}else await X(n,{})},Q=()=>{if(typeof a=="function")a(s);else if(s){const J=s.startsWith("/")?window.location.origin+s:s;window.open(J,"_blank")}},ae=()=>{if(c||O)return`${H().split(" ")[0]} Processing...`;switch(m){case"compress":return`Compress File (${b})`;case"merge":return"Merge Files";case"csv-to-excel":return"Convert CSV → Excel";case"excel-to-csv":return"Convert Excel → CSV";case"pdf-to-csv":return"Convert PDF → CSV";case"csv-to-pdf":return"Convert CSV → PDF";case"pdf-to-excel":return"Convert PDF → Excel";case"excel-to-pdf":return"Convert Excel → PDF";case"pdf-to-word":return"Convert PDF → Word";default:return t||"Process"}};return l.jsxs("div",{ref:Y,style:{position:"fixed",right:w?"auto":24,top:w?"auto":"50%",left:w?w.x:"auto",transform:w?"none":"translateY(-50%)",...w&&{top:w.y},width:_,maxHeight:"calc(100vh - 72px)",zIndex:1e3,display:"flex",flexDirection:"column",backgroundColor:"white",borderRadius:"1rem",boxShadow:"0 10px 30px rgba(0,0,0,0.08)",overflow:"hidden",border:"2px solid rgba(14,165,233,0.35)"},children:[l.jsx("div",{onMouseDown:R,className:"p-3 border-b border-gray-200 bg-sky-50 cursor-grab",children:l.jsx("div",{className:"text-sm font-semibold text-gray-800 flex items-center",children:H()})}),l.jsxs("div",{className:"flex-1 overflow-y-auto px-5 py-4",children:[m==="compress"&&!h&&l.jsx("div",{className:"mb-4 flex gap-2",children:[{value:"light",label:"Light",reduction:"~25%"},{value:"medium",label:"Medium",reduction:"~50%"},{value:"strong",label:"Strong",reduction:"~75%"}].map(J=>l.jsxs("button",{onClick:()=>$(J.value),className:`flex-1 px-3 py-2 text-xs rounded border transition-all duration-150 ${b===J.value?"border-sky-500 bg-sky-100 text-sky-700":"border-gray-300 text-gray-700 hover:border-gray-400"}`,children:[J.label," ",J.reduction]},J.value))}),l.jsxs("div",{className:`mb-4 p-3 rounded-lg ${h?"bg-green-50 border border-green-200 text-green-700":"bg-sky-50 border border-sky-200 text-sky-700"}`,children:[l.jsx("span",{className:"text-sm font-medium",children:h?`${H()} Complete!`:"Ready to process"}),p&&h&&l.jsx("p",{className:"text-xs mt-1 break-all",children:p})]}),l.jsx("div",{children:l.jsx("button",{onClick:K,disabled:c||O,className:`w-full px-4 py-2 rounded-lg text-sm font-semibold mb-3 transition-all duration-300 ${c||O?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-sky-500 text-white hover:bg-sky-600 shadow-md"}`,children:ae()})}),h&&l.jsx("button",{onClick:Q,disabled:!s,className:`w-full px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 ${s?"bg-green-500 text-white hover:bg-green-600":"bg-gray-100 text-gray-500 cursor-not-allowed"}`,children:s?"Download Result":"Preparing file..."}),(G||o)&&l.jsx("div",{className:"mt-3 p-3 text-xs text-red-600 bg-red-50 rounded-lg border border-red-200",children:G||o})]})]})}function ES({theme:n,setTheme:e}){const{action:t}=nb(),[s]=$p(),[a,o]=S.useState([]),[c,u]=S.useState(""),[h,p]=S.useState(""),[m,x]=S.useState(!1),[b,k]=S.useState(!1),[_,v]=S.useState(""),[w,N]=S.useState(null),[C,M]=S.useState("medium"),[L,E]=S.useState("grid");S.useEffect(()=>{const R=s.get("token");R&&fetch(`/api/filetools/retrieve/${R}`).then(D=>D.blob()).then(D=>{const I=new File([D],"stashed_file",{type:D.type||"application/octet-stream"});N(I),o([I])}).catch(console.warn)},[s]),S.useEffect(()=>{u(""),p(""),x(!1),k(!1),v(""),M("medium"),o([])},[t]);const O={compress:{type:"compress",label:"File → Compressed File",accept:".pdf,.docx,.xlsx,.csv,.txt",endpoint:"/api/filetools/pdf/compress"},merge:{type:"merge",label:"Merge PDFs",accept:".pdf",endpoint:"/api/filetools/pdf/merge"},"pdf-to-word":{type:"convert",label:"PDF → Word",accept:".pdf",endpoint:"/api/filetools/pdf-to-word"},"pdf-to-excel":{type:"convert",label:"PDF → Excel",accept:".pdf",endpoint:"/api/filetools/pdf-to-excel"},"excel-to-pdf":{type:"convert",label:"Excel → PDF",accept:".xls,.xlsx",endpoint:"/api/filetools/excel-to-pdf"},"csv-to-excel":{type:"convert",label:"CSV → Excel",accept:".csv",endpoint:"/api/filetools/csv-to-excel"},"excel-to-csv":{type:"convert",label:"Excel → CSV",accept:".xls,.xlsx",endpoint:"/api/filetools/excel-to-csv"},"pdf-to-csv":{type:"convert",label:"PDF → CSV",accept:".pdf",endpoint:"/api/filetools/pdf-to-csv"},"csv-to-pdf":{type:"convert",label:"CSV → PDF",accept:".csv",endpoint:"/api/filetools/csv-to-pdf"}}[t]||null,z=async(R=null)=>{if(!a.length){p("Please select a file first.");return}x(!0),p(""),k(!1);try{const D=new FormData;O.type==="merge"?a.forEach(X=>D.append("files",X)):D.append("file",a[0]),O.type==="compress"&&D.append("level",R||C);const I=O.endpoint,H=await fetch(I,{method:"POST",body:D}),$=await H.json();if(!H.ok)throw new Error($.detail||$.error||"Conversion failed");u($.download_url),v($.filename||"converted_file"),k(!0)}catch(D){p(D.message||"Conversion failed"),k(!1)}finally{x(!1)}},G=()=>{c&&window.open(c,"_blank")},W=R=>{M(R),b&&(k(!1),u(""),v(""),p(""))};return l.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-slate-950",children:[l.jsx(Xt,{theme:n,setTheme:e,onReportChange:()=>{}}),l.jsxs("div",{className:"flex-1 transition-all duration-300",children:[l.jsx(Qt,{}),l.jsx("div",{className:"flex-1 flex flex-col p-6 space-y-6",children:O?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:`${O.type==="merge"?"max-w-6xl mx-auto":"max-w-4xl mx-auto"}`,children:l.jsx(MS,{title:O.type==="compress"?"Select file to Compress":O.type==="merge"?"Select PDFs to Merge":`Select file for ${O.label}`,hint:O.type==="compress"?"Choose a file and select your preferred compression level":O.type==="merge"?"You can select up to 15 PDF files to merge into one document":`Upload ${O.accept.replace(/\./g,"").toUpperCase()} file for conversion`,accept:O.accept,multiple:O.type==="merge",files:a,setFiles:o,viewMode:L,setViewMode:E,onUpload:z,uploadLabel:O.type==="compress"?`Compress (${C})`:O.type==="merge"?"Merge PDFs":"Convert",loading:m,borderColor:"sky-400"})}),l.jsx(PS,{showPanel:a.length>0,downloadUrl:c,onDownload:G,onUpload:z,uploadLabel:O.type==="compress"?`Compress (${C})`:O.type==="merge"?"Merge PDFs":"Convert",error:h,loading:m,conversionComplete:b,fileName:_,toolType:t,compressionLevel:C,onCompressionLevelChange:W,borderColor:"sky-400"})]}):l.jsx("div",{className:"text-center text-gray-600 dark:text-gray-300",children:l.jsxs("div",{className:"max-w-md mx-auto p-8 bg-white dark:bg-ink/80 rounded-2xl border border-gray-200 dark:border-white/5 shadow-soft",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-slate-200 mb-2",children:"Tool Not Found"}),l.jsxs("p",{className:"text-gray-600 dark:text-slate-400",children:['The requested tool "',t,'" is not available.']})]})})})]})]})}var DS={};const wp=DS.REACT_APP_GOOGLE_CLIENT_ID||"618939207673-gbevo0aok0bqufjch9mmr4sc9ma86qtm.apps.googleusercontent.com",LS=[{code:"+1",name:"USA"},{code:"+44",name:"UK"},{code:"+91",name:"India"},{code:"+61",name:"Australia"},{code:"+81",name:"Japan"},{code:"+49",name:"Germany"},{code:"+33",name:"France"},{code:"+55",name:"Brazil"},{code:"+7",name:"Russia"},{code:"+86",name:"China"},{code:"+27",name:"South Africa"},{code:"+39",name:"Italy"},{code:"+34",name:"Spain"},{code:"+82",name:"South Korea"},{code:"+64",name:"New Zealand"},{code:"+65",name:"Singapore"},{code:"+90",name:"Turkey"},{code:"+31",name:"Netherlands"},{code:"+46",name:"Sweden"},{code:"+41",name:"Switzerland"},{code:"+351",name:"Portugal"},{code:"+352",name:"Luxembourg"},{code:"+353",name:"Ireland"},{code:"+358",name:"Finland"},{code:"+420",name:"Czech Republic"},{code:"+421",name:"Slovakia"},{code:"+48",name:"Poland"},{code:"+36",name:"Hungary"},{code:"+971",name:"UAE"},{code:"+972",name:"Israel"},{code:"+966",name:"Saudi Arabia"},{code:"+20",name:"Egypt"},{code:"+212",name:"Morocco"},{code:"+92",name:"Pakistan"},{code:"+880",name:"Bangladesh"},{code:"+974",name:"Qatar"},{code:"+965",name:"Kuwait"}];function TS(){const n=Vt(),[e,t]=S.useState(""),[s,a]=S.useState(""),[o,c]=S.useState("email"),[u,h]=S.useState(!1),[p,m]=S.useState(!1),[x,b]=S.useState(""),[k,_]=S.useState("+1"),[v,w]=S.useState(!1),[N,C]=S.useState(""),M=S.useRef(null),L=LS.filter(W=>W.name.toLowerCase().includes(N.toLowerCase())||W.code.includes(N));window.handleCredentialResponse=async W=>{m(!0),b("");try{const R=await fetch("/api/auth/google",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({credential:W.credential})}),D=await R.json();if(!R.ok)throw new Error(D.detail||"Google sign-in failed");localStorage.setItem("token",D.access_token),localStorage.setItem("user",JSON.stringify(D.user)),n("/")}catch(R){b(R.message)}finally{m(!1)}};const E=()=>{m(!0),b("");try{if(typeof google>"u")throw new Error("Google Sign-In not loaded. Please refresh the page.");const W=document.getElementById("google-signin-button");W&&(W.innerHTML="",google.accounts.id.renderButton(W,{theme:"outline",size:"large",width:"100%",text:"signin_with"})),m(!1)}catch(W){b(W.message),m(!1)}},Y=async W=>{W.preventDefault(),m(!0),b("");try{const R=o==="phone"?k+e:e,D=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({contact:R,password:s})}),I=await D.json();if(!D.ok)throw new Error(I.detail||"Invalid credentials");localStorage.setItem("token",I.access_token),localStorage.setItem("user",JSON.stringify(I.user)),n("/")}catch(R){b(R.message)}finally{m(!1)}},O=()=>{c("phone"),h(!0)},z=W=>{_(W.code),w(!1),C("")},G=W=>{W.key==="Enter"&&L.length>0?z(L[0]):W.key==="Escape"&&(w(!1),C(""))};return S.useEffect(()=>{const W=R=>{M.current&&!M.current.contains(R.target)&&(w(!1),C(""))};return document.addEventListener("mousedown",W),()=>document.removeEventListener("mousedown",W)},[]),S.useEffect(()=>{const W=document.createElement("script");return W.src="https://accounts.google.com/gsi/client",W.async=!0,W.defer=!0,W.onload=()=>{typeof google<"u"&&google.accounts.id.initialize({client_id:wp,callback:window.handleCredentialResponse,auto_select:!1,cancel_on_tap_outside:!1})},document.body.appendChild(W),()=>{document.body.contains(W)&&document.body.removeChild(W)}},[]),l.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-slate-950 dark:to-slate-900 p-4 relative",children:[l.jsxs("div",{className:"absolute top-6 left-6 flex items-center space-x-2 z-10",children:[l.jsx("img",{src:"/favicon.png",alt:"Syla logo",className:"w-8 h-8 animate-float"}),l.jsx("span",{className:"font-inter font-bold text-xl text-gray-800 dark:text-slate-200",children:"Syla Analytics"})]}),l.jsxs("div",{className:"w-full max-w-md h-[85vh] bg-white dark:bg-ink/90 rounded-2xl shadow-2xl border-2 border-blue-500 dark:border-yellow-400 transform transition-all duration-300 hover:scale-[1.02] hover:shadow-3xl hover:border-blue-600 dark:hover:border-yellow-300 flex flex-col",children:[l.jsxs("div",{className:"text-center p-6 pb-0 flex-shrink-0",children:[l.jsx("h1",{className:"text-3xl font-display font-bold text-gray-800 dark:text-slate-200 mb-1",children:"Welcome Back"}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Sign in to your Syla Analytics account"}),l.jsx("div",{className:"mt-3 w-16 h-1 bg-blue-500 dark:bg-yellow-400 rounded-full mx-auto"})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:[x&&l.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 dark:bg-red-900/20 dark:border-red-800 dark:text-red-400 text-sm",children:x}),u?l.jsxs("div",{className:"space-y-4",children:[l.jsx("button",{onClick:()=>h(!1),className:"mb-4 flex items-center text-sm text-gray-600 dark:text-slate-400 hover:text-gray-800 dark:hover:text-slate-200 transition-colors duration-200",children:"← Back to options"}),l.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[o==="phone"&&l.jsxs("div",{className:"flex space-x-2 relative",ref:M,children:[l.jsxs("div",{className:"relative",children:[l.jsxs("button",{type:"button",onClick:()=>w(!v),className:"border border-gray-300 dark:border-slate-600 rounded-lg px-3 py-3 bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 hover:border-blue-400 min-w-[100px] flex items-center justify-between",children:[l.jsx("span",{className:"text-sm",children:k}),l.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),v&&l.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg shadow-lg z-20 max-h-60 overflow-hidden",children:[l.jsx("div",{className:"p-2 border-b border-gray-200 dark:border-slate-600",children:l.jsx("input",{type:"text",value:N,onChange:W=>C(W.target.value),onKeyDown:G,placeholder:"Search country...",className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 focus:outline-none focus:ring-1 focus:ring-blue-500",autoFocus:!0})}),l.jsxs("div",{className:"max-h-40 overflow-y-auto",children:[L.map(W=>l.jsxs("button",{type:"button",onClick:()=>z(W),className:"w-full px-3 py-2 text-left text-sm hover:bg-blue-50 dark:hover:bg-slate-700 transition-colors duration-150 flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-900 dark:text-slate-100",children:W.name}),l.jsx("span",{className:"text-gray-500 dark:text-slate-400",children:W.code})]},W.code)),L.length===0&&l.jsx("div",{className:"px-3 py-2 text-sm text-gray-500 dark:text-slate-400",children:"No countries found"})]})]})]}),l.jsx("input",{type:"tel",value:e,onChange:W=>t(W.target.value),placeholder:"Phone Number",required:!0,className:"flex-1 border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-3 bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),o==="email"&&l.jsx("input",{type:"email",value:e,onChange:W=>t(W.target.value),placeholder:"Email",required:!0,className:"w-full border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-3 bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"}),l.jsx("input",{type:"password",value:s,onChange:W=>a(W.target.value),placeholder:"Password",required:!0,className:"w-full border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-3 bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"}),l.jsx("button",{type:"submit",disabled:p,className:`w-full py-3 rounded-lg font-semibold text-white transition-all duration-200 transform ${p?"bg-gray-400 cursor-not-allowed":"bg-blue-500 dark:bg-yellow-400 dark:text-gray-900 hover:bg-blue-600 dark:hover:bg-yellow-300 hover:shadow-lg hover:scale-[1.02] shadow-md"}`,children:p?"Signing In...":"Sign In"}),l.jsx("div",{className:"text-center",children:l.jsx(_e,{to:"/forgot-password",className:"text-sm text-blue-500 dark:text-yellow-400 hover:underline transition-colors duration-200",children:"Forgot your password?"})})]})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"w-full",children:[l.jsx("div",{id:"g_id_onload","data-client_id":wp,"data-auto_prompt":"false"}),l.jsx("div",{id:"google-signin-button",className:"w-full flex justify-center"}),l.jsxs("button",{onClick:E,disabled:p,className:"w-full flex items-center justify-center px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-gray-700 dark:text-slate-200 font-medium transition-all duration-200 hover:bg-gray-50 dark:hover:bg-slate-700 hover:border-blue-400 hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed mt-2",children:[l.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[l.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),l.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),l.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),l.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),p?"Please wait...":"Continue with Google"]})]}),l.jsxs("div",{className:"flex items-center my-4",children:[l.jsx("div",{className:"flex-1 border-t border-gray-300 dark:border-white/20"}),l.jsx("span",{className:"px-4 text-sm text-gray-500 dark:text-slate-400",children:"or"}),l.jsx("div",{className:"flex-1 border-t border-gray-300 dark:border-white/20"})]}),l.jsx("button",{onClick:()=>{c("email"),h(!0)},className:"w-full px-4 py-3 rounded-lg font-medium bg-blue-500 text-white transition-all duration-200 hover:bg-blue-600 hover:shadow-lg hover:scale-[1.02] transform shadow-md",children:"Continue with Email"}),l.jsx("button",{onClick:O,className:"w-full px-4 py-3 rounded-lg font-medium bg-blue-50 dark:bg-slate-800 border-2 border-blue-300 dark:border-blue-400 text-blue-600 dark:text-blue-300 transition-all duration-200 hover:border-blue-500 dark:hover:border-blue-300 hover:bg-blue-100 dark:hover:bg-slate-700 hover:shadow-lg hover:scale-[1.02] transform",children:"Continue with Phone"})]})]}),l.jsxs("div",{className:"p-6 pt-0 flex-shrink-0 text-center text-sm text-gray-600 dark:text-slate-400 border-t border-gray-200 dark:border-slate-700",children:["Don't have an account?"," ",l.jsx(_e,{to:"/signup",className:"text-blue-500 dark:text-yellow-400 font-semibold hover:underline transition-colors duration-200",children:"Create one here"})]})]})]})}var RS={};const jp=RS.REACT_APP_GOOGLE_CLIENT_ID||"618939207673-gbevo0aok0bqufjch9mmr4sc9ma86qtm.apps.googleusercontent.com",AS=[{code:"+1",name:"USA"},{code:"+44",name:"UK"},{code:"+91",name:"India"},{code:"+61",name:"Australia"},{code:"+81",name:"Japan"},{code:"+49",name:"Germany"},{code:"+33",name:"France"},{code:"+55",name:"Brazil"},{code:"+7",name:"Russia"},{code:"+86",name:"China"},{code:"+27",name:"South Africa"},{code:"+39",name:"Italy"},{code:"+34",name:"Spain"},{code:"+82",name:"South Korea"},{code:"+64",name:"New Zealand"},{code:"+65",name:"Singapore"},{code:"+90",name:"Turkey"},{code:"+31",name:"Netherlands"},{code:"+46",name:"Sweden"},{code:"+41",name:"Switzerland"},{code:"+351",name:"Portugal"},{code:"+352",name:"Luxembourg"},{code:"+353",name:"Ireland"},{code:"+358",name:"Finland"},{code:"+420",name:"Czech Republic"},{code:"+421",name:"Slovakia"},{code:"+48",name:"Poland"},{code:"+36",name:"Hungary"},{code:"+971",name:"UAE"},{code:"+972",name:"Israel"},{code:"+966",name:"Saudi Arabia"},{code:"+20",name:"Egypt"},{code:"+212",name:"Morocco"},{code:"+92",name:"Pakistan"},{code:"+880",name:"Bangladesh"},{code:"+974",name:"Qatar"},{code:"+965",name:"Kuwait"}];function zS(){const n=Vt(),[e,t]=S.useState(""),[s,a]=S.useState(""),[o,c]=S.useState("+1"),[u,h]=S.useState(""),[p,m]=S.useState(""),[x,b]=S.useState("email"),[k,_]=S.useState(!1),[v,w]=S.useState(""),[N,C]=S.useState(!1),[M,L]=S.useState(!1),[E,Y]=S.useState(""),O=S.useRef(null),z=AS.filter(H=>H.name.toLowerCase().includes(E.toLowerCase())||H.code.includes(E));window.handleCredentialResponse=async H=>{C(!0),w("");try{const $=await fetch("/api/auth/google",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({credential:H.credential})}),X=await $.json();if(!$.ok)throw new Error(X.detail||"Google sign-in failed");localStorage.setItem("token",X.access_token),localStorage.setItem("user",JSON.stringify(X.user)),n("/")}catch($){w($.message)}finally{C(!1)}};const G=()=>{C(!0),w("");try{if(typeof google>"u")throw new Error("Google Sign-In not loaded. Please refresh the page.");const H=document.getElementById("google-signin-button");H&&(H.innerHTML="",google.accounts.id.renderButton(H,{theme:"outline",size:"large",width:"100%",text:"signup_with"})),C(!1)}catch(H){w(H.message),C(!1)}},W=()=>_(!0),R=async H=>{if(H.preventDefault(),w(""),C(!0),u!==p)return w("Passwords do not match"),C(!1);if(u.length<6)return w("Password must be at least 6 characters long"),C(!1);try{const $=await fetch("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:e,contact:x==="phone"?o+s:s,password:u,confirm_password:p,contact_type:x})}),X=await $.json();if(!$.ok)throw new Error(X.detail||"Signup failed");localStorage.setItem("token",X.access_token),localStorage.setItem("user",JSON.stringify(X.user)),n("/")}catch($){w($.message)}finally{C(!1)}},D=H=>{c(H.code),L(!1),Y("")},I=H=>{H.key==="Enter"&&z.length>0?D(z[0]):H.key==="Escape"&&(L(!1),Y(""))};return S.useEffect(()=>{const H=$=>{O.current&&!O.current.contains($.target)&&(L(!1),Y(""))};return document.addEventListener("mousedown",H),()=>document.removeEventListener("mousedown",H)},[]),S.useEffect(()=>{const H=document.createElement("script");return H.src="https://accounts.google.com/gsi/client",H.async=!0,H.defer=!0,H.onload=()=>{typeof google<"u"&&google.accounts.id.initialize({client_id:jp,callback:window.handleCredentialResponse,auto_select:!1,cancel_on_tap_outside:!1})},document.body.appendChild(H),()=>{document.body.contains(H)&&document.body.removeChild(H)}},[]),l.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-slate-950 dark:to-slate-900 p-4 relative",children:[l.jsxs("div",{className:"absolute top-6 left-6 flex items-center space-x-2 z-10",children:[l.jsx("img",{src:"/favicon.png",alt:"Syla logo",className:"w-8 h-8 animate-float"}),l.jsx("span",{className:"font-inter font-bold text-xl text-gray-800 dark:text-slate-200",children:"Syla Analytics"})]}),l.jsxs("div",{className:"w-full max-w-md h-[85vh] bg-white dark:bg-ink/90 rounded-2xl shadow-2xl border-2 border-blue-500 dark:border-yellow-400 transform transition-all duration-300 hover:scale-[1.02] hover:shadow-3xl hover:border-blue-600 dark:hover:border-yellow-300 flex flex-col",children:[l.jsxs("div",{className:"text-center p-6 pb-0 flex-shrink-0",children:[l.jsx("h1",{className:"text-3xl font-display font-bold text-gray-800 dark:text-slate-200 mb-1",children:"Create Account"}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Join Syla Analytics today"}),l.jsx("div",{className:"mt-3 w-16 h-1 bg-blue-500 dark:bg-yellow-400 rounded-full mx-auto"})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:[v&&l.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 dark:bg-red-900/20 dark:border-red-800 dark:text-red-400 text-sm",children:v}),k?l.jsxs("div",{className:"space-y-4",children:[l.jsx("button",{onClick:()=>_(!1),className:"mb-4 flex items-center text-sm text-gray-600 dark:text-slate-400 hover:text-gray-800 dark:hover:text-slate-200 transition-colors duration-200",children:"← Back to options"}),l.jsxs("form",{onSubmit:R,className:"space-y-4",children:[l.jsx("input",{type:"text",value:e,onChange:H=>t(H.target.value),placeholder:"Full Name",required:!0,className:"w-full border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-3 bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"}),x==="phone"&&l.jsxs("div",{className:"flex space-x-2 relative",ref:O,children:[l.jsxs("div",{className:"relative",children:[l.jsxs("button",{type:"button",onClick:()=>L(!M),className:"border border-gray-300 dark:border-slate-600 rounded-lg px-3 py-3 bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 hover:border-blue-400 min-w-[100px] flex items-center justify-between",children:[l.jsx("span",{className:"text-sm",children:o}),l.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),M&&l.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg shadow-lg z-20 max-h-60 overflow-hidden",children:[l.jsx("div",{className:"p-2 border-b border-gray-200 dark:border-slate-600",children:l.jsx("input",{type:"text",value:E,onChange:H=>Y(H.target.value),onKeyDown:I,placeholder:"Search country...",className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 focus:outline-none focus:ring-1 focus:ring-blue-500",autoFocus:!0})}),l.jsxs("div",{className:"max-h-40 overflow-y-auto",children:[z.map(H=>l.jsxs("button",{type:"button",onClick:()=>D(H),className:"w-full px-3 py-2 text-left text-sm hover:bg-blue-50 dark:hover:bg-slate-700 transition-colors duration-150 flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-900 dark:text-slate-100",children:H.name}),l.jsx("span",{className:"text-gray-500 dark:text-slate-400",children:H.code})]},H.code)),z.length===0&&l.jsx("div",{className:"px-3 py-2 text-sm text-gray-500 dark:text-slate-400",children:"No countries found"})]})]})]}),l.jsx("input",{type:"tel",value:s,onChange:H=>a(H.target.value),placeholder:"Phone Number",required:!0,className:"flex-1 border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-3 bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),x==="email"&&l.jsx("input",{type:"email",value:s,onChange:H=>a(H.target.value),placeholder:"Email",required:!0,className:"w-full border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-3 bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"}),l.jsx("input",{type:"password",value:u,onChange:H=>h(H.target.value),placeholder:"Password",required:!0,className:"w-full border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-3 bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"}),l.jsx("input",{type:"password",value:p,onChange:H=>m(H.target.value),placeholder:"Confirm Password",required:!0,className:"w-full border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-3 bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"}),l.jsx("button",{type:"submit",disabled:N,className:`w-full py-3 rounded-lg font-semibold text-white transition-all duration-200 transform ${N?"bg-gray-400 cursor-not-allowed":"bg-blue-500 dark:bg-yellow-400 dark:text-gray-900 hover:bg-blue-600 dark:hover:bg-yellow-300 hover:shadow-lg hover:scale-[1.02] shadow-md"}`,children:N?"Creating...":"Create Account"})]})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"w-full",children:[l.jsx("div",{id:"g_id_onload","data-client_id":jp,"data-auto_prompt":"false"}),l.jsx("div",{id:"google-signin-button",className:"w-full flex justify-center"}),l.jsxs("button",{onClick:G,disabled:N,className:"w-full flex items-center justify-center px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-gray-700 dark:text-slate-200 font-medium transition-all duration-200 hover:bg-gray-50 dark:hover:bg-slate-700 hover:border-blue-400 hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed mt-2",children:[l.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[l.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),l.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),l.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),l.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),N?"Please wait...":"Continue with Google"]})]}),l.jsxs("div",{className:"flex items-center my-4",children:[l.jsx("div",{className:"flex-1 border-t border-gray-300 dark:border-white/20"}),l.jsx("span",{className:"px-4 text-sm text-gray-500 dark:text-slate-400",children:"or"}),l.jsx("div",{className:"flex-1 border-t border-gray-300 dark:border-white/20"})]}),l.jsx("button",{onClick:()=>{b("email"),_(!0)},className:"w-full px-4 py-3 rounded-lg font-medium bg-blue-500 text-white transition-all duration-200 hover:bg-blue-600 hover:shadow-lg hover:scale-[1.02] transform shadow-md",children:"Continue with Email"}),l.jsx("button",{onClick:()=>{b("phone"),W()},className:"w-full px-4 py-3 rounded-lg font-medium bg-blue-50 dark:bg-slate-800 border-2 border-blue-300 dark:border-blue-400 text-blue-600 dark:text-blue-300 transition-all duration-200 hover:border-blue-500 dark:hover:border-blue-300 hover:bg-blue-100 dark:hover:bg-slate-700 hover:shadow-lg hover:scale-[1.02] transform",children:"Continue with Mobile"})]})]}),l.jsxs("div",{className:"p-6 pt-0 flex-shrink-0 text-center text-sm text-gray-600 dark:text-slate-400 border-t border-gray-200 dark:border-slate-700",children:["Already have an account?"," ",l.jsx(_e,{to:"/login",className:"text-blue-500 dark:text-yellow-400 font-semibold hover:underline transition-colors duration-200",children:"Log in"})]})]})]})}function OS(){const[n,e]=S.useState(""),[t,s]=S.useState(!1),[a,o]=S.useState(""),[c,u]=S.useState(""),[h,p]=S.useState(!1),m=async x=>{x.preventDefault(),s(!0),u(""),o("");try{const b=await fetch("/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({contact:n})}),k=await b.json();if(!b.ok)throw new Error(k.detail||"Request failed");o(k.message),p(!0)}catch(b){u(b.message)}finally{s(!1)}};return l.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-slate-950 dark:to-slate-900 p-4 relative",children:[l.jsxs("div",{className:"absolute top-6 left-6 flex items-center space-x-2 z-10",children:[l.jsx("img",{src:"/favicon.png",alt:"Syla logo",className:"w-8 h-8 animate-float"}),l.jsx("span",{className:"font-inter font-bold text-xl text-gray-800 dark:text-slate-200",children:"Syla Analytics"})]}),l.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-ink/90 rounded-2xl shadow-2xl border-2 border-blue-500 dark:border-yellow-400 transform transition-all duration-300 hover:scale-[1.02] hover:shadow-3xl hover:border-blue-600 dark:hover:border-yellow-300",children:[l.jsxs("div",{className:"text-center p-6 pb-4",children:[l.jsx("h1",{className:"text-3xl font-display font-bold text-gray-800 dark:text-slate-200 mb-1",children:"Forgot Password?"}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Enter your email or phone to reset your password"}),l.jsx("div",{className:"mt-3 w-16 h-1 bg-blue-500 dark:bg-yellow-400 rounded-full mx-auto"})]}),l.jsxs("div",{className:"px-6 pb-6",children:[h&&a&&l.jsxs("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg text-green-700 dark:bg-green-900/20 dark:border-green-800 dark:text-green-400 text-sm",children:[l.jsx("div",{className:"font-medium mb-1",children:"Instructions Sent!"}),l.jsx("div",{children:a}),l.jsx("div",{className:"mt-3 pt-3 border-t border-green-200 dark:border-green-800",children:l.jsx(_e,{to:"/login",className:"text-green-600 dark:text-green-400 hover:underline font-medium",children:"Back to Login"})})]}),c&&l.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 dark:bg-red-900/20 dark:border-red-800 dark:text-red-400 text-sm",children:c}),!h&&l.jsxs("form",{onSubmit:m,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Email or Phone Number"}),l.jsx("input",{type:"text",value:n,onChange:x=>e(x.target.value),placeholder:"Enter your email or phone number",required:!0,className:"w-full border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-3 bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),l.jsx("button",{type:"submit",disabled:t||!n.trim(),className:`w-full py-3 rounded-lg font-semibold text-white transition-all duration-200 transform ${t||!n.trim()?"bg-gray-400 cursor-not-allowed":"bg-blue-500 dark:bg-yellow-400 dark:text-gray-900 hover:bg-blue-600 dark:hover:bg-yellow-300 hover:shadow-lg hover:scale-[1.02] shadow-md"}`,children:t?"Sending...":"Send Reset Instructions"})]}),l.jsxs("div",{className:"mt-6 text-center text-sm text-gray-600 dark:text-slate-400 border-t border-gray-200 dark:border-slate-700 pt-4",children:["Remember your password?"," ",l.jsx(_e,{to:"/login",className:"text-blue-500 dark:text-yellow-400 font-semibold hover:underline transition-colors duration-200",children:"Back to Login"})]})]})]})]})}function FS(){const n=Vt(),[e]=$p(),t=e.get("token"),[s,a]=S.useState(""),[o,c]=S.useState(""),[u,h]=S.useState(!1),[p,m]=S.useState(!0),[x,b]=S.useState(""),[k,_]=S.useState(!1),[v,w]=S.useState("");S.useEffect(()=>{if(!t){b("Invalid reset link. Please request a new password reset."),m(!1);return}N()},[t]);const N=async()=>{try{const M=await fetch(`/api/auth/validate-reset-token/${t}`,{credentials:"include"});if(M.ok){const L=await M.json();_(!0),w(L.contact)}else b("This reset link has expired or is invalid. Please request a new password reset.")}catch{b("Unable to validate reset link. Please try again.")}finally{m(!1)}},C=async M=>{if(M.preventDefault(),h(!0),b(""),s!==o){b("Passwords do not match"),h(!1);return}if(s.length<6){b("Password must be at least 6 characters long"),h(!1);return}try{const L=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({token:t,new_password:s,confirm_password:o})}),E=await L.json();if(!L.ok)throw new Error(E.detail||"Password reset failed");localStorage.setItem("token",E.access_token),localStorage.setItem("user",JSON.stringify(E.user)),n("/")}catch(L){b(L.message)}finally{h(!1)}};return l.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-slate-950 dark:to-slate-900 p-4 relative",children:[l.jsxs("div",{className:"absolute top-6 left-6 flex items-center space-x-2 z-10",children:[l.jsx("img",{src:"/favicon.png",alt:"Syla logo",className:"w-8 h-8 animate-float"}),l.jsx("span",{className:"font-inter font-bold text-xl text-gray-800 dark:text-slate-200",children:"Syla Analytics"})]}),l.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-ink/90 rounded-2xl shadow-2xl border-2 border-blue-500 dark:border-yellow-400 transform transition-all duration-300 hover:scale-[1.02] hover:shadow-3xl hover:border-blue-600 dark:hover:border-yellow-300",children:[l.jsxs("div",{className:"text-center p-6 pb-4",children:[l.jsx("h1",{className:"text-3xl font-display font-bold text-gray-800 dark:text-slate-200 mb-1",children:"Reset Password"}),v&&l.jsxs("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:["Reset password for ",v]}),l.jsx("div",{className:"mt-3 w-16 h-1 bg-blue-500 dark:bg-yellow-400 rounded-full mx-auto"})]}),l.jsxs("div",{className:"px-6 pb-6",children:[p&&l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Validating reset link..."})]}),!p&&!k&&l.jsxs("div",{className:"text-center py-4",children:[l.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700 dark:bg-red-900/20 dark:border-red-800 dark:text-red-400 text-sm",children:x}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(_e,{to:"/forgot-password",className:"block w-full px-4 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors duration-200 font-medium",children:"Request New Reset Link"}),l.jsx(_e,{to:"/login",className:"block text-blue-500 dark:text-yellow-400 hover:underline font-medium",children:"Back to Login"})]})]}),!p&&k&&l.jsxs(l.Fragment,{children:[x&&l.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 dark:bg-red-900/20 dark:border-red-800 dark:text-red-400 text-sm",children:x}),l.jsxs("form",{onSubmit:C,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"New Password"}),l.jsx("input",{type:"password",value:s,onChange:M=>a(M.target.value),placeholder:"Enter new password",required:!0,className:"w-full border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-3 bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Confirm New Password"}),l.jsx("input",{type:"password",value:o,onChange:M=>c(M.target.value),placeholder:"Confirm new password",required:!0,className:"w-full border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-3 bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),l.jsx("button",{type:"submit",disabled:u||!s||!o,className:`w-full py-3 rounded-lg font-semibold text-white transition-all duration-200 transform ${u||!s||!o?"bg-gray-400 cursor-not-allowed":"bg-blue-500 dark:bg-yellow-400 dark:text-gray-900 hover:bg-blue-600 dark:hover:bg-yellow-300 hover:shadow-lg hover:scale-[1.02] shadow-md"}`,children:u?"Resetting...":"Reset Password"})]})]}),l.jsxs("div",{className:"mt-6 text-center text-sm text-gray-600 dark:text-slate-400 border-t border-gray-200 dark:border-slate-700 pt-4",children:["Remember your password?"," ",l.jsx(_e,{to:"/login",className:"text-blue-500 dark:text-yellow-400 font-semibold hover:underline transition-colors duration-200",children:"Back to Login"})]})]})]})]})}function IS(){const[n,e]=S.useState("dark"),[t,s]=S.useState(null),[a,o]=S.useState(!1),[c,u]=S.useState(""),[h,p]=S.useState("appearance"),m=Vt();S.useEffect(()=>{const v=localStorage.getItem("theme")||"dark";e(v),document.body.classList.remove("dark","light"),document.body.classList.add(v);const w=localStorage.getItem("user");if(w){const N=JSON.parse(w);s(N)}},[]);const x=v=>{e(v),localStorage.setItem("theme",v),document.body.classList.remove("dark","light"),document.body.classList.add(v)},b=async(v,w)=>{o(!0),u("");try{const N=localStorage.getItem("token");if(!N)throw new Error("Please log in to change password");const C=new FormData;C.append("current_password",v),C.append("new_password",w);const M=await fetch("/api/profile/change-password",{method:"POST",headers:{Authorization:`Bearer ${N}`},body:C});if(!M.ok){const L=await M.json();throw new Error(L.detail||"Failed to change password")}u("Password changed successfully!"),setTimeout(()=>u(""),3e3)}catch(N){u(N.message)}finally{o(!1)}},k=async()=>{try{const v=localStorage.getItem("token");if(!v)throw new Error("Please log in to clear files");if(!(await fetch("/api/filetools/clear-user-files",{method:"DELETE",headers:{Authorization:`Bearer ${v}`}})).ok)throw new Error("Failed to clear files");u("All files cleared successfully!"),setTimeout(()=>u(""),3e3)}catch(v){u(v.message)}},_=[{id:"appearance",label:"Appearance",icon:Id},{id:"profile",label:"Profile",icon:Sr},{id:"account",label:"Account",icon:Mr},{id:"privacy",label:"Privacy",icon:tS},{id:"notifications",label:"Notifications",icon:ya}];return l.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-slate-950",children:[l.jsx(Xt,{theme:n,setTheme:e,onReportChange:()=>{}}),l.jsxs("div",{className:"flex-1 transition-all duration-300",children:[l.jsx(Qt,{user:t}),l.jsxs("main",{className:"mx-auto max-w-6xl px-6 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"font-display text-3xl text-gray-800 dark:text-slate-200 mb-2",children:"Settings"}),l.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Manage your account preferences and application settings"})]}),c&&l.jsx("div",{className:`mb-6 p-4 rounded-lg border ${c.includes("successfully")?"bg-green-50 border-green-200 text-green-700 dark:bg-green-900/20 dark:border-green-800 dark:text-green-400":"bg-red-50 border-red-200 text-red-700 dark:bg-red-900/20 dark:border-red-800 dark:text-red-400"}`,children:c}),l.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[l.jsx("div",{className:"lg:w-64",children:l.jsx("nav",{className:"bg-white dark:bg-ink/80 rounded-2xl border border-gray-200 dark:border-white/5 p-2 shadow-soft",children:_.map(v=>{const w=v.icon;return l.jsxs("button",{onClick:()=>p(v.id),className:`w-full text-left px-4 py-3 rounded-lg font-medium transition-all duration-200 flex items-center gap-3 ${h===v.id?"bg-neonBlue text-white shadow-lg":"text-gray-700 dark:text-slate-300 hover:bg-gray-50 dark:hover:bg-white/5"}`,children:[l.jsx(w,{className:"w-5 h-5"}),v.label]},v.id)})})}),l.jsxs("div",{className:"flex-1",children:[h==="appearance"&&l.jsxs("section",{className:"bg-white dark:bg-ink/80 rounded-2xl border border-gray-200 dark:border-white/5 p-6 shadow-soft",children:[l.jsx("h2",{className:"font-display text-xl text-gray-800 dark:text-slate-200 mb-6",children:"Appearance Preferences"}),l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-4",children:"Theme Preference"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx("button",{onClick:()=>x("light"),className:`p-6 rounded-xl border-2 transition-all duration-200 ${n==="light"?"border-neonBlue bg-neonBlue/10 text-neonBlue ring-2 ring-neonBlue/20":"border-gray-200 hover:border-gray-300 text-gray-700 dark:border-white/10 dark:hover:border-white/20 dark:text-slate-300"}`,children:l.jsxs("div",{className:"flex flex-col items-center text-center",children:[l.jsx("div",{className:"flex items-center justify-center mb-3 p-3 rounded-full bg-white dark:bg-slate-800 shadow-sm",children:l.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})}),l.jsx("div",{className:"font-semibold text-lg mb-1",children:"Light Mode"}),l.jsx("div",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Clean and bright interface"})]})}),l.jsx("button",{onClick:()=>x("dark"),className:`p-6 rounded-xl border-2 transition-all duration-200 ${n==="dark"?"border-neonBlue bg-neonBlue/10 text-neonBlue ring-2 ring-neonBlue/20":"border-gray-200 hover:border-gray-300 text-gray-700 dark:border-white/10 dark:hover:border-white/20 dark:text-slate-300"}`,children:l.jsxs("div",{className:"flex flex-col items-center text-center",children:[l.jsx("div",{className:"flex items-center justify-center mb-3 p-3 rounded-full bg-white dark:bg-slate-800 shadow-sm",children:l.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})}),l.jsx("div",{className:"font-semibold text-lg mb-1",children:"Dark Mode"}),l.jsx("div",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Easy on the eyes"})]})})]})]})})]}),h==="profile"&&l.jsxs("div",{className:"bg-white dark:bg-ink/80 rounded-2xl border border-gray-200 dark:border-white/5 p-6 shadow-soft",children:[l.jsx("h2",{className:"font-display text-xl text-gray-800 dark:text-slate-200 mb-6",children:"Profile Information"}),t?l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Sr,{className:"w-16 h-16 mx-auto text-neonBlue mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-slate-200 mb-2",children:"Manage Your Profile"}),l.jsx("p",{className:"text-gray-600 dark:text-slate-400 mb-6",children:"Update your profile information, avatar, and personal details"}),l.jsx("button",{onClick:()=>m("/profile"),className:"px-6 py-3 bg-neonBlue text-white rounded-lg hover:bg-blue-600 transition-colors duration-200 font-medium shadow-lg hover:shadow-neon",children:"Go to Profile Settings"})]}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Sr,{className:"w-16 h-16 mx-auto text-gray-400 dark:text-slate-500 mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-slate-200 mb-2",children:"Sign in to access your profile"}),l.jsx("p",{className:"text-gray-600 dark:text-slate-400 mb-6",children:"Create an account or sign in to manage your profile information"}),l.jsxs("div",{className:"flex justify-center gap-4",children:[l.jsx(_e,{to:"/login",className:"px-6 py-3 bg-neonBlue text-white rounded-lg hover:bg-blue-600 transition-colors duration-200 font-medium",children:"Sign In"}),l.jsx(_e,{to:"/signup",className:"px-6 py-3 border border-neonBlue text-neonBlue rounded-lg hover:bg-neonBlue hover:text-white transition-colors duration-200 font-medium",children:"Create Account"})]})]})]}),h==="account"&&l.jsxs("section",{className:"bg-white dark:bg-ink/80 rounded-2xl border border-gray-200 dark:border-white/5 p-6 shadow-soft",children:[l.jsx("h2",{className:"font-display text-xl text-gray-800 dark:text-slate-200 mb-6",children:"Account Management"}),l.jsx("div",{className:"space-y-6",children:t?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[l.jsx("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-400 mb-2",children:"Account Status"}),l.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["Signed in as ",l.jsx("strong",{children:t.email||t.phone})]})]}),l.jsxs("div",{className:"border-t border-gray-200 dark:border-white/10 pt-4",children:[l.jsx("h3",{className:"font-medium text-gray-900 dark:text-slate-200 mb-3",children:"Password & Security"}),l.jsx("button",{onClick:()=>{const v=prompt("Enter your current password:"),w=prompt("Enter your new password:");if(v&&w){if(w.length<6){alert("New password must be at least 6 characters long");return}b(v,w)}},disabled:a,className:`px-4 py-2 rounded-lg font-medium transition-colors duration-200 ${a?"bg-gray-400 text-gray-600 cursor-not-allowed":"bg-gray-500 text-white hover:bg-gray-600"}`,children:a?"Changing...":"Change Password"})]}),l.jsxs("div",{className:"border-t border-gray-200 dark:border-white/10 pt-4",children:[l.jsx("h3",{className:"font-medium text-gray-900 dark:text-slate-200 mb-3",children:"Account Actions"}),l.jsx("button",{onClick:()=>{confirm("Are you sure you want to sign out?")&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/")},className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors duration-200 font-medium",children:"Sign Out"})]})]}):l.jsxs("div",{className:"text-center py-8",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-400 dark:text-slate-500 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-slate-200 mb-2",children:"Sign in to access account features"}),l.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Create an account or sign in to manage your profile and preferences"})]}),l.jsxs("div",{className:"flex justify-center gap-4",children:[l.jsx(_e,{to:"/login",className:"px-6 py-3 bg-neonBlue text-white rounded-lg hover:bg-blue-600 transition-colors duration-200 font-medium shadow-lg hover:shadow-neon",children:"Sign In"}),l.jsx(_e,{to:"/signup",className:"px-6 py-3 border border-neonBlue text-neonBlue rounded-lg hover:bg-neonBlue hover:text-white transition-colors duration-200 font-medium",children:"Create Account"})]})]})})]}),h==="privacy"&&l.jsxs("section",{className:"bg-white dark:bg-ink/80 rounded-2xl border border-gray-200 dark:border-white/5 p-6 shadow-soft",children:[l.jsx("h2",{className:"font-display text-xl text-gray-800 dark:text-slate-200 mb-6",children:"Data & Privacy"}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[l.jsxs("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-400 mb-2",children:[l.jsx("svg",{className:"w-5 h-5 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Data Usage Policy"]}),l.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Your uploaded files are processed securely and are automatically deleted after processing. We don't store your data permanently and use industry-standard encryption."})]}),l.jsxs("div",{className:"border-t border-gray-200 dark:border-white/10 pt-4",children:[l.jsx("h3",{className:"font-medium text-gray-900 dark:text-slate-200 mb-3",children:"File Management"}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 mb-4",children:"Remove all your uploaded files from our servers. This action cannot be undone."}),l.jsx("button",{onClick:()=>{confirm("Are you sure you want to clear all your uploaded files? This cannot be undone.")&&k()},className:"px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 dark:border-red-600 dark:text-red-400 dark:hover:bg-red-900/20 transition-colors duration-200 font-medium",children:"Clear All Uploaded Files"})]}),l.jsxs("div",{className:"border-t border-gray-200 dark:border-white/10 pt-4",children:[l.jsx("h3",{className:"font-medium text-gray-900 dark:text-slate-200 mb-3",children:"Data Export"}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 mb-4",children:"Request a copy of your personal data stored on our platform."}),l.jsx("button",{className:"px-4 py-2 border border-gray-300 text-gray-600 rounded-lg hover:bg-gray-50 dark:border-white/20 dark:text-slate-300 dark:hover:bg-white/5 transition-colors duration-200 font-medium",onClick:()=>alert("Data export functionality will be available soon."),children:"Request Data Export"})]})]})]}),h==="notifications"&&l.jsxs("section",{className:"bg-white dark:bg-ink/80 rounded-2xl border border-gray-200 dark:border-white/5 p-6 shadow-soft",children:[l.jsx("h2",{className:"font-display text-xl text-gray-800 dark:text-slate-200 mb-6",children:"Notification Preferences"}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 dark:border-white/10 rounded-lg",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("h3",{className:"text-sm font-medium text-gray-700 dark:text-slate-300 flex items-center",children:[l.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Email Notifications"]}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1",children:"Receive updates about your account and new features"})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 dark:border-white/10 rounded-lg",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("h3",{className:"text-sm font-medium text-gray-700 dark:text-slate-300 flex items-center",children:[l.jsx("svg",{className:"w-5 h-5 mr-2 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Processing Notifications"]}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1",children:"Get notified when file processing is complete"})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 dark:border-white/10 rounded-lg",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("h3",{className:"text-sm font-medium text-gray-700 dark:text-slate-300 flex items-center",children:[l.jsx("svg",{className:"w-5 h-5 mr-2 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16c-.77.833.192 2.5 1.732 2.5z"})}),"Security Alerts"]}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1",children:"Receive notifications about security events"})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})]})]})]})]})]})]})]})}function BS(){const{user:n,setUser:e,loading:t}=S.useContext(ms),[s,a]=S.useState("dark"),[o,c]=S.useState({name:"",email:"",phone:"",bio:"",location:"",website:"",company:"",job_title:"",birth_date:"",gender:"",language:"en",timezone:"UTC"}),[u,h]=S.useState(null),[p,m]=S.useState(null),[x,b]=S.useState(!1),[k,_]=S.useState(""),[v,w]=S.useState("personal"),[N,C]=S.useState(!1),[M,L]=S.useState(!1),[E,Y]=S.useState({currentPassword:"",newPassword:"",confirmPassword:""}),O=S.useRef(null);S.useEffect(()=>{const I=localStorage.getItem("theme")||"dark";a(I),n&&c({name:n.name||"",email:n.email||"",phone:n.phone||"",bio:n.bio||"",location:n.location||"",website:n.website||"",company:n.company||"",job_title:n.job_title||"",birth_date:n.birth_date||"",gender:n.gender||"",language:n.language||"en",timezone:n.timezone||"UTC"})},[n]),S.useEffect(()=>{const I=setTimeout(()=>{setInitialLoading(!1)},500);return()=>clearTimeout(I)},[]);const z=(I,H)=>{c($=>({...$,[I]:H}))},G=I=>{const H=I.target.files[0];if(H){if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(H.type)){_("Invalid file type. Please select an image file (JPEG, PNG, GIF, WebP).");return}if(H.size>5*1024*1024){_("File too large. Please select an image smaller than 5MB.");return}h(H);const X=new FileReader;X.onload=K=>{m(K.target.result)},X.readAsDataURL(H)}},W=async()=>{try{const I=await fetch("/api/profile/avatar",{method:"DELETE",credentials:"include"});if(!I.ok){const $=await I.json().catch(()=>({}));throw new Error($.detail||"Failed to remove avatar")}const H=await I.json();e(H),h(null),m(null),_("Avatar removed successfully!"),setTimeout(()=>_(""),3e3)}catch(I){_(`Failed to remove avatar: ${I.message}`)}},R=async()=>{b(!0),_("");try{const I=new FormData;Object.entries(o).forEach(([X,K])=>{I.append(X,K||"")}),u&&I.append("avatar",u);const H=await fetch("/api/profile",{method:"PUT",body:I,credentials:"include"});if(!H.ok){const X=await H.json().catch(()=>({}));throw new Error(X.detail||"Failed to update profile")}const $=await H.json();e($),_("Profile updated successfully!"),h(null),m(null),setTimeout(()=>_(""),3e3)}catch(I){_(`Failed to update profile: ${I.message}`)}finally{b(!1)}},D=async()=>{if(E.newPassword!==E.confirmPassword){_("New passwords don't match!");return}if(E.newPassword.length<6){_("New password must be at least 6 characters long!");return}b(!0),_("");try{const I=new FormData;I.append("current_password",E.currentPassword),I.append("new_password",E.newPassword);const H=await fetch("/api/profile/change-password",{method:"POST",body:I,credentials:"include"});if(!H.ok){const $=await H.json().catch(()=>({}));throw new Error($.detail||"Failed to change password")}_("Password changed successfully!"),Y({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>_(""),3e3)}catch(I){_(`Failed to change password: ${I.message}`)}finally{b(!1)}};return t?l.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-slate-950",children:[l.jsx(Xt,{theme:s,setTheme:a,onReportChange:()=>{}}),l.jsxs("div",{className:"flex-1 transition-all duration-300",children:[l.jsx(Qt,{user:n}),l.jsx("main",{className:"mx-auto max-w-6xl px-6 py-8",children:l.jsxs("div",{className:"text-center py-16",children:[l.jsx("div",{className:"w-16 h-16 mx-auto border-4 border-neonBlue border-t-transparent rounded-full animate-spin mb-4"}),l.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Loading profile..."})]})})]})]}):n?l.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-slate-950",children:[l.jsx(Xt,{theme:s,setTheme:a,onReportChange:()=>{}}),l.jsxs("div",{className:"flex-1 transition-all duration-300",children:[l.jsx(Qt,{user:n}),l.jsxs("main",{className:"mx-auto max-w-6xl px-6 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"font-display text-3xl text-gray-800 dark:text-slate-200 mb-2",children:"Profile Settings"}),l.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Manage your personal information and account preferences"})]}),k&&l.jsx("div",{className:`mb-6 p-4 rounded-lg border ${k.includes("successfully")||k.includes("Success")?"bg-green-50 border-green-200 text-green-700 dark:bg-green-900/20 dark:border-green-800 dark:text-green-400":"bg-red-50 border-red-200 text-red-700 dark:bg-red-900/20 dark:border-red-800 dark:text-red-400"}`,children:k}),l.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[l.jsx("div",{className:"lg:w-64",children:l.jsxs("nav",{className:"bg-white dark:bg-ink/80 rounded-2xl border border-gray-200 dark:border-white/5 p-2 shadow-soft sticky top-8",children:[l.jsxs("button",{onClick:()=>w("personal"),className:`w-full text-left px-4 py-3 rounded-lg font-medium transition-all duration-200 flex items-center gap-3 mb-2 ${v==="personal"?"bg-neonBlue text-white shadow-lg":"text-gray-700 dark:text-slate-300 hover:bg-gray-50 dark:hover:bg-white/5"}`,children:[l.jsx(Sr,{className:"w-5 h-5"}),"Personal Info"]}),l.jsxs("button",{onClick:()=>w("professional"),className:`w-full text-left px-4 py-3 rounded-lg font-medium transition-all duration-200 flex items-center gap-3 mb-2 ${v==="professional"?"bg-neonBlue text-white shadow-lg":"text-gray-700 dark:text-slate-300 hover:bg-gray-50 dark:hover:bg-white/5"}`,children:[l.jsx(bp,{className:"w-5 h-5"}),"Professional"]}),l.jsxs("button",{onClick:()=>w("security"),className:`w-full text-left px-4 py-3 rounded-lg font-medium transition-all duration-200 flex items-center gap-3 ${v==="security"?"bg-neonBlue text-white shadow-lg":"text-gray-700 dark:text-slate-300 hover:bg-gray-50 dark:hover:bg-white/5"}`,children:[l.jsx(_r,{className:"w-5 h-5"}),"Security"]})]})}),l.jsxs("div",{className:"flex-1",children:[v==="personal"&&l.jsxs("div",{className:"space-y-8",children:[l.jsxs("section",{className:"bg-white dark:bg-ink/80 rounded-2xl border border-gray-200 dark:border-white/5 p-6 shadow-soft",children:[l.jsx("h2",{className:"font-display text-xl text-gray-800 dark:text-slate-200 mb-6",children:"Profile Photo"}),l.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-gray-100 dark:border-white/10 shadow-lg",children:l.jsx("img",{src:p||n.avatar_url||"/default-avatar.png",alt:"Profile",className:"w-full h-full object-cover"})}),l.jsx("button",{onClick:()=>O.current?.click(),className:"absolute bottom-0 right-0 p-2 bg-neonBlue text-white rounded-full shadow-lg hover:bg-blue-600 transition-colors duration-200",children:l.jsx(Dj,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"flex-1 text-center md:text-left",children:[l.jsx("h3",{className:"font-medium text-gray-900 dark:text-slate-200 mb-2",children:"Update your photo"}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 mb-4",children:"Choose a photo that represents you well. Max file size: 5MB"}),l.jsxs("div",{className:"flex flex-wrap gap-2 justify-center md:justify-start",children:[l.jsx("button",{onClick:()=>O.current?.click(),className:"px-4 py-2 bg-gray-100 dark:bg-white/5 text-gray-700 dark:text-slate-300 rounded-lg hover:bg-gray-200 dark:hover:bg-white/10 transition-colors duration-200 font-medium",children:"Choose File"}),(n.avatar_url||p)&&l.jsxs("button",{onClick:W,className:"px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 dark:border-red-600 dark:text-red-400 dark:hover:bg-red-900/20 transition-colors duration-200 font-medium flex items-center gap-2",children:[l.jsx(_o,{className:"w-4 h-4"}),"Remove"]})]}),l.jsx("input",{ref:O,type:"file",accept:"image/*",onChange:G,className:"hidden"})]})]})]}),l.jsxs("section",{className:"bg-white dark:bg-ink/80 rounded-2xl border border-gray-200 dark:border-white/5 p-6 shadow-soft",children:[l.jsx("h2",{className:"font-display text-xl text-gray-800 dark:text-slate-200 mb-6",children:"Basic Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:[l.jsx(Sr,{className:"w-4 h-4 inline mr-2"}),"Full Name"]}),l.jsx("input",{type:"text",value:o.name,onChange:I=>z("name",I.target.value),className:"w-full px-4 py-3 border border-gray-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-neonBlue focus:border-transparent bg-white dark:bg-white/5 text-gray-900 dark:text-slate-200 transition-colors duration-200",placeholder:"Enter your email address"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:[l.jsx(G_,{className:"w-4 h-4 inline mr-2"}),"Phone Number"]}),l.jsx("input",{type:"tel",value:o.phone,onChange:I=>z("phone",I.target.value),className:"w-full px-4 py-3 border border-gray-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-neonBlue focus:border-transparent bg-white dark:bg-white/5 text-gray-900 dark:text-slate-200 transition-colors duration-200",placeholder:"Enter your phone number"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:[l.jsx(O_,{className:"w-4 h-4 inline mr-2"}),"Location"]}),l.jsx("input",{type:"text",value:o.location,onChange:I=>z("location",I.target.value),className:"w-full px-4 py-3 border border-gray-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-neonBlue focus:border-transparent bg-white dark:bg-white/5 text-gray-900 dark:text-slate-200 transition-colors duration-200",placeholder:"City, Country"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:[l.jsx(Tj,{className:"w-4 h-4 inline mr-2"}),"Date of Birth"]}),l.jsx("input",{type:"date",value:o.birth_date,onChange:I=>z("birth_date",I.target.value),className:"w-full px-4 py-3 border border-gray-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-neonBlue focus:border-transparent bg-white dark:bg-white/5 text-gray-900 dark:text-slate-200 transition-colors duration-200"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Gender"}),l.jsxs("select",{value:o.gender,onChange:I=>z("gender",I.target.value),className:"w-full px-4 py-3 border border-gray-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-neonBlue focus:border-transparent bg-white dark:bg-white/5 text-gray-900 dark:text-slate-200 transition-colors duration-200",children:[l.jsx("option",{value:"",children:"Select Gender"}),l.jsx("option",{value:"male",children:"Male"}),l.jsx("option",{value:"female",children:"Female"}),l.jsx("option",{value:"non-binary",children:"Non-binary"}),l.jsx("option",{value:"prefer-not-to-say",children:"Prefer not to say"})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:[l.jsx(j_,{className:"w-4 h-4 inline mr-2"}),"Website"]}),l.jsx("input",{type:"url",value:o.website,onChange:I=>z("website",I.target.value),className:"w-full px-4 py-3 border border-gray-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-neonBlue focus:border-transparent bg-white dark:bg-white/5 text-gray-900 dark:text-slate-200 transition-colors duration-200",placeholder:"https://yourwebsite.com"})]})]}),l.jsxs("div",{className:"mt-6",children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:[l.jsx(Bt,{className:"w-4 h-4 inline mr-2"}),"Bio"]}),l.jsx("textarea",{value:o.bio,onChange:I=>z("bio",I.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-neonBlue focus:border-transparent bg-white dark:bg-white/5 text-gray-900 dark:text-slate-200 transition-colors duration-200 resize-none",placeholder:"Tell us about yourself..."})]})]}),l.jsxs("section",{className:"bg-white dark:bg-ink/80 rounded-2xl border border-gray-200 dark:border-white/5 p-6 shadow-soft",children:[l.jsx("h2",{className:"font-display text-xl text-gray-800 dark:text-slate-200 mb-6",children:"Preferences"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:[l.jsx(P_,{className:"w-4 h-4 inline mr-2"}),"Language"]}),l.jsxs("select",{value:o.language,onChange:I=>z("language",I.target.value),className:"w-full px-4 py-3 border border-gray-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-neonBlue focus:border-transparent bg-white dark:bg-white/5 text-gray-900 dark:text-slate-200 transition-colors duration-200",children:[l.jsx("option",{value:"en",children:"English"}),l.jsx("option",{value:"es",children:"Spanish"}),l.jsx("option",{value:"fr",children:"French"}),l.jsx("option",{value:"de",children:"German"}),l.jsx("option",{value:"it",children:"Italian"}),l.jsx("option",{value:"pt",children:"Portuguese"}),l.jsx("option",{value:"zh",children:"Chinese"}),l.jsx("option",{value:"ja",children:"Japanese"}),l.jsx("option",{value:"ko",children:"Korean"})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:[l.jsx(ug,{className:"w-4 h-4 inline mr-2"}),"Timezone"]}),l.jsxs("select",{value:o.timezone,onChange:I=>z("timezone",I.target.value),className:"w-full px-4 py-3 border border-gray-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-neonBlue focus:border-transparent bg-white dark:bg-white/5 text-gray-900 dark:text-slate-200 transition-colors duration-200",children:[l.jsx("option",{value:"UTC",children:"UTC"}),l.jsx("option",{value:"America/New_York",children:"Eastern Time (ET)"}),l.jsx("option",{value:"America/Chicago",children:"Central Time (CT)"}),l.jsx("option",{value:"America/Denver",children:"Mountain Time (MT)"}),l.jsx("option",{value:"America/Los_Angeles",children:"Pacific Time (PT)"}),l.jsx("option",{value:"Europe/London",children:"London (GMT)"}),l.jsx("option",{value:"Europe/Paris",children:"Paris (CET)"}),l.jsx("option",{value:"Asia/Tokyo",children:"Tokyo (JST)"}),l.jsx("option",{value:"Asia/Shanghai",children:"Shanghai (CST)"}),l.jsx("option",{value:"Australia/Sydney",children:"Sydney (AEDT)"})]})]})]})]})]}),v==="professional"&&l.jsxs("section",{className:"bg-white dark:bg-ink/80 rounded-2xl border border-gray-200 dark:border-white/5 p-6 shadow-soft",children:[l.jsx("h2",{className:"font-display text-xl text-gray-800 dark:text-slate-200 mb-6",children:"Professional Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:[l.jsx(Pj,{className:"w-4 h-4 inline mr-2"}),"Company"]}),l.jsx("input",{type:"text",value:o.company,onChange:I=>z("company",I.target.value),className:"w-full px-4 py-3 border border-gray-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-neonBlue focus:border-transparent bg-white dark:bg-white/5 text-gray-900 dark:text-slate-200 transition-colors duration-200",placeholder:"Your company name"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:[l.jsx(bp,{className:"w-4 h-4 inline mr-2"}),"Job Title"]}),l.jsx("input",{type:"text",value:o.job_title,onChange:I=>z("job_title",I.target.value),className:"w-full px-4 py-3 border border-gray-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-neonBlue focus:border-transparent bg-white dark:bg-white/5 text-gray-900 dark:text-slate-200 transition-colors duration-200",placeholder:"Your job title"})]})]})]}),v==="security"&&l.jsxs("section",{className:"bg-white dark:bg-ink/80 rounded-2xl border border-gray-200 dark:border-white/5 p-6 shadow-soft",children:[l.jsx("h2",{className:"font-display text-xl text-gray-800 dark:text-slate-200 mb-6",children:"Security Settings"}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[l.jsx("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-400 mb-1",children:"Password Security"}),l.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Keep your account secure by using a strong password and changing it regularly."})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Current Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:N?"text":"password",value:E.currentPassword,onChange:I=>Y(H=>({...H,currentPassword:I.target.value})),className:"w-full px-4 py-3 pr-12 border border-gray-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-neonBlue focus:border-transparent bg-white dark:bg-white/5 text-gray-900 dark:text-slate-200 transition-colors duration-200",placeholder:"Enter your current password"}),l.jsx("button",{type:"button",onClick:()=>C(!N),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-slate-300",children:N?l.jsx(Ca,{className:"w-5 h-5"}):l.jsx(_r,{className:"w-5 h-5"})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"New Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:M?"text":"password",value:E.newPassword,onChange:I=>Y(H=>({...H,newPassword:I.target.value})),className:"w-full px-4 py-3 pr-12 border border-gray-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-neonBlue focus:border-transparent bg-white dark:bg-white/5 text-gray-900 dark:text-slate-200 transition-colors duration-200",placeholder:"Enter your new password"}),l.jsx("button",{type:"button",onClick:()=>L(!M),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-slate-300",children:M?l.jsx(Ca,{className:"w-5 h-5"}):l.jsx(_r,{className:"w-5 h-5"})})]}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1",children:"Password must be at least 6 characters long"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Confirm New Password"}),l.jsx("input",{type:"password",value:E.confirmPassword,onChange:I=>Y(H=>({...H,confirmPassword:I.target.value})),className:"w-full px-4 py-3 border border-gray-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-neonBlue focus:border-transparent bg-white dark:bg-white/5 text-gray-900 dark:text-slate-200 transition-colors duration-200",placeholder:"Confirm your new password"})]}),l.jsxs("button",{onClick:D,disabled:x||!E.currentPassword||!E.newPassword||!E.confirmPassword,className:`px-6 py-3 rounded-lg font-medium transition-all duration-200 flex items-center justify-center gap-2 ${x||!E.currentPassword||!E.newPassword||!E.confirmPassword?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700 shadow-lg hover:shadow-xl"}`,children:[x?l.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):l.jsx(jo,{className:"w-5 h-5"}),x?"Changing Password...":"Change Password"]})]})]})]}),(v==="personal"||v==="professional")&&l.jsx("div",{className:"mt-8 flex justify-end",children:l.jsxs("button",{onClick:R,disabled:x,className:`px-8 py-3 rounded-lg font-medium transition-all duration-200 flex items-center justify-center gap-2 ${x?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-neonBlue text-white hover:bg-blue-600 shadow-lg hover:shadow-neon"}`,children:[x?l.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):l.jsx(jo,{className:"w-5 h-5"}),x?"Saving...":"Save Changes"]})})]})]})]})]})]}):l.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-slate-950",children:[l.jsx(Xt,{theme:s,setTheme:a,onReportChange:()=>{}}),l.jsxs("div",{className:"flex-1 transition-all duration-300",children:[l.jsx(Qt,{user:n}),l.jsx("main",{className:"mx-auto max-w-6xl px-6 py-8",children:l.jsxs("div",{className:"text-center py-16",children:[l.jsx(Sr,{className:"w-16 h-16 mx-auto text-gray-400 dark:text-slate-500 mb-4"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-slate-200 mb-2",children:"Sign in to access your profile"}),l.jsx("p",{className:"text-gray-600 dark:text-slate-400 mb-6",children:"Please sign in to view and manage your profile settings"})]})})]})]})}ps.register(Vm,Wm,Fd,Ra,Am,Im,$m,Om);function $S({result:n={},targetColumn:e="",onExport:t=()=>{}}){const s=S.useRef(null),[a,o]=S.useState(!1),{forecast:c={}}=n||{},u=Array.isArray(c?.forecast)?c.forecast:[],h=Array.isArray(c?.lower)?c.lower:null,p=Array.isArray(c?.upper)?c.upper:null,m=Array.isArray(c?.timestamps)?c.timestamps:null,x=S.useMemo(()=>m&&m.length===u.length?m:u.map((N,C)=>`P${C+1}`),[m,u]),b=S.useMemo(()=>{if(!u.length)return{};const N=u.map(Number).filter(O=>!Number.isNaN(O)),C=N.reduce((O,z)=>O+z,0),M=N.length?C/N.length:0,L=Math.min(...N),E=Math.max(...N);return{next:N[0]??null,average:M,min:L,max:E,range:E-L,count:N.length}},[u]),k=S.useMemo(()=>{const C={label:`${e||"Forecast"}`,data:u,borderColor:"#2563eb",backgroundColor:"rgba(37,99,235,0.08)",tension:.35,pointRadius:3,fill:!1},M=h&&p&&h.length===u.length&&p.length===u.length?[{label:"Upper Bound",data:p,borderColor:"rgba(59,130,246,0.28)",backgroundColor:"rgba(59,130,246,0.06)",tension:.35,pointRadius:0,fill:"+1"},{label:"Lower Bound",data:h,borderColor:"rgba(59,130,246,0.28)",backgroundColor:"rgba(59,130,246,0.06)",tension:.35,pointRadius:0,fill:!1}]:[],L=[C,...M];return{labels:x,datasets:L}},[x,u,h,p,e]),_=S.useMemo(()=>{const N=document?.body?.classList?.contains("dark")?"#E6EEF8":"#0f172a";return{maintainAspectRatio:!1,responsive:!0,plugins:{legend:{labels:{color:N,boxWidth:12}},tooltip:{mode:"index",intersect:!1,callbacks:{label:C=>{const M=C.parsed.y,L=C.dataIndex,E=[`${C.dataset.label}: ${typeof M=="number"?M.toFixed(2):M}`];return h&&p&&h[L]!=null&&p[L]!=null&&E.push(`CI: ${h[L].toFixed(2)} — ${p[L].toFixed(2)}`),E}}}},scales:{x:{ticks:{color:N},grid:{display:!1}},y:{ticks:{color:N},grid:{color:"rgba(15,23,42,0.06)"}}}}},[h,p]),v=(N="png")=>{try{const C=s.current;if(!C||typeof C.toBase64Image!="function"){alert("Chart not ready for export.");return}const M=N==="jpeg"?"image/jpeg":"image/png",L=C.toBase64Image(M),E=document.createElement("a");E.href=L,E.download=`forecast_${e||"series"}.${N}`,E.click(),t(`image:${N}`)}catch(C){console.error("Export chart failed",C),alert("Export failed.")}},w=(N=`forecast_${e||"series"}.csv`)=>{if(!u.length)return;const C=[],M=["Date","Forecast"];h&&p&&M.push("Lower","Upper"),C.push(M.join(","));for(let O=0;O<u.length;O++){const z=[x[O]??`P${O+1}`,typeof u[O]=="number"?u[O].toFixed(2):String(u[O])];h&&p&&z.push(typeof h[O]=="number"?h[O].toFixed(2):"",typeof p[O]=="number"?p[O].toFixed(2):""),C.push(z.join(","))}const L=new Blob([C.join(`
`)],{type:"text/csv;charset=utf-8;"}),E=URL.createObjectURL(L),Y=document.createElement("a");Y.href=E,Y.download=N,Y.click(),URL.revokeObjectURL(E),t("csv")};return u.length?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"rounded-2xl bg-white dark:bg-ink/80 border dark:border-white/5 p-4 shadow-sm",children:[l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:e||"Forecast"}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-300",children:"Interactive forecast chart"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>v("png"),className:"flex items-center gap-2 px-3 py-1.5 rounded border hover:bg-gray-50 dark:hover:bg-white/5",children:[l.jsx(ds,{size:14})," PNG"]}),l.jsxs("button",{onClick:()=>v("jpeg"),className:"flex items-center gap-2 px-3 py-1.5 rounded border hover:bg-gray-50 dark:hover:bg-white/5",children:[l.jsx(ds,{size:14})," JPEG"]}),l.jsxs("button",{onClick:()=>w(),className:"flex items-center gap-2 px-3 py-1.5 rounded border hover:bg-gray-50 dark:hover:bg-white/5",children:[l.jsx(Bt,{size:14})," CSV"]})]})]}),l.jsx("div",{className:"mt-3",style:{height:264},children:l.jsx(Km,{ref:s,data:k,options:_})})]}),l.jsxs("div",{className:"rounded-2xl p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-700",children:[l.jsx("h5",{className:"font-medium text-blue-700 dark:text-blue-200",children:"AI analysis"}),l.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-200 mt-2",children:n?.explanation||n?.analysis||"The AI provided this forecast based on your scenario and historical data. Key insights will appear here when available."})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"rounded-2xl p-4 border bg-white dark:bg-ink/80",children:[l.jsx("h6",{className:"font-medium mb-2",children:"Key forecast metrics"}),l.jsxs("div",{className:"text-sm space-y-1",children:[l.jsxs("div",{children:["Next period: ",l.jsx("strong",{children:b.next!=null?b.next.toFixed(2):"—"})]}),l.jsxs("div",{children:["Average (forecast): ",l.jsx("strong",{children:b.average!=null?b.average.toFixed(2):"—"})]}),l.jsxs("div",{children:["Range: ",l.jsx("strong",{children:b.range!=null?b.range.toFixed(2):"—"})]}),l.jsxs("div",{children:["Min / Max: ",l.jsxs("strong",{children:[b.min!=null?b.min.toFixed(2):"—"," / ",b.max!=null?b.max.toFixed(2):"—"]})]})]})]}),l.jsxs("div",{className:"rounded-2xl p-4 border bg-white dark:bg-ink/80",children:[l.jsx("h6",{className:"font-medium mb-2",children:"Scenario applied"}),l.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-300",children:[l.jsxs("div",{children:[l.jsx("strong",{children:"Horizon:"})," ",u.length," periods"]}),l.jsxs("div",{className:"mt-1",children:[l.jsx("strong",{children:"Confidence provided:"})," ",n?.meta?.confidence_level??"n/a"]}),l.jsxs("div",{className:"mt-2",children:[l.jsx("strong",{children:"Notes:"})," ",n?.meta?.notes||"No technical notes provided by model."]})]})]})]}),l.jsxs("div",{className:"rounded-2xl p-3 border bg-white dark:bg-ink/80",children:[l.jsxs("button",{onClick:()=>o(N=>!N),className:"w-full flex items-center justify-between",children:[l.jsx("span",{className:"font-medium",children:"Technical details"}),l.jsx("span",{children:a?l.jsx(HS,{}):l.jsx(VS,{})})]}),a&&l.jsxs("div",{className:"mt-3 text-sm text-slate-600 dark:text-slate-300 space-y-2",children:[l.jsx("pre",{className:"whitespace-pre-wrap text-xs bg-gray-50 dark:bg-black/20 p-3 rounded",children:JSON.stringify(n?.meta||{},null,2)}),l.jsxs("div",{children:["Historical rows used: ",n?.meta?.historical_rows??"unknown"]}),l.jsxs("div",{children:["Model used: ",n?.meta?.model_used??"unknown"]})]})]})]}):l.jsx("div",{className:"rounded-lg p-4 bg-yellow-50 dark:bg-amber-900/10 border dark:border-amber-700/20",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(xg,{className:"text-amber-600"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"No forecast data"}),l.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-300",children:"The AI returned no forecast array. Check the server response or try a different scenario."})]})]})})}function VS(){return l.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",children:l.jsx("path",{d:"M6 8l4 4 4-4",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}function HS(){return l.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",children:l.jsx("path",{d:"M6 12l4-4 4 4",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}const WS="/api";class US{constructor(){this.baseURL=WS}async makeRequest(e,t={}){const s=`${this.baseURL}${e}`,a={headers:{"Content-Type":"application/json",...t.headers},credentials:"include",...t};try{const o=await fetch(s,a);if(!o.ok){let u="Request failed";try{const h=await o.json();u=h.detail||h.message||u}catch{u=`HTTP ${o.status}: ${o.statusText}`}throw new Error(u)}const c=o.headers.get("content-type");return c&&c.includes("application/json")?await o.json():await o.text()}catch(o){throw console.error(`API request failed: ${e}`,o),o}}async createWhatIfForecast(e){return await this.makeRequest("/forecast/whatif",{method:"POST",body:JSON.stringify(e)})}async parseScenario(e,t){return await this.makeRequest("/forecast/scenario/parse",{method:"POST",body:JSON.stringify({scenario_text:e,available_columns:t})})}async getAvailableModels(){return await this.makeRequest("/forecast/models",{method:"GET"})}async getUserUsage(e){return await this.makeRequest(`/forecast/usage/${e}`,{method:"GET"})}async clearCache(){return await this.makeRequest("/forecast/cache/clear",{method:"DELETE"})}async generateChartPayload(e){return await this.makeRequest("/chart/payload",{method:"POST",body:JSON.stringify(e)})}async saveChart(e,t="",s=null){return await this.makeRequest("/charts/save",{method:"POST",body:JSON.stringify({chart_payload:e,description:t,owner_id:s})})}async exportChart(e){return await this.makeRequest("/charts/export",{method:"POST",body:JSON.stringify(e)})}async getExportStatus(e){return await this.makeRequest(`/export/status/${e}`,{method:"GET"})}async getDatasets(){return await this.makeRequest("/datasets",{method:"GET"})}async getDataPreview(e,t=10){return await this.makeRequest(`/preview?file_id=${e}&n=${t}`,{method:"GET"})}async uploadFile(e,t=null){const s=new FormData;s.append("file",e);try{return await new Promise((a,o)=>{const c=new XMLHttpRequest;t&&(c.upload.onprogress=u=>{if(u.lengthComputable){const h=u.loaded/u.total*100;t(Math.round(h))}}),c.onload=()=>{if(c.status>=200&&c.status<300)try{const u=JSON.parse(c.responseText);a(u)}catch{o(new Error("Invalid JSON response"))}else try{const u=JSON.parse(c.responseText);o(new Error(u.detail||"Upload failed"))}catch{o(new Error(`HTTP ${c.status}: ${c.statusText}`))}},c.onerror=()=>o(new Error("Network error during upload")),c.ontimeout=()=>o(new Error("Upload timeout")),c.open("POST",`${this.baseURL}/upload`),c.withCredentials=!0,c.timeout=3e5,c.send(s)})}catch(a){throw console.error("File upload failed:",a),a}}async createForecast(e){return await this.makeRequest("/forecast",{method:"POST",body:JSON.stringify(e)})}async getForecastStatus(e){return await this.makeRequest(`/forecast/${e}`,{method:"GET"})}async getModelMetadata(e){return await this.makeRequest(`/models/${e}`,{method:"GET"})}async checkAuth(){try{return await this.makeRequest("/auth/me",{method:"GET"})}catch{return null}}async healthCheck(){return await this.makeRequest("/health",{method:"GET"})}async retryRequest(e,t=3,s=1e3){let a;for(let o=0;o<t;o++)try{return await e()}catch(c){if(a=c,c.message.includes("401")||c.message.includes("403")||c.message.includes("400"))throw c;o<t-1&&await new Promise(u=>setTimeout(u,s*Math.pow(2,o)))}throw a}async batchOperation(e,t=5){const s=[],a=[];for(let o=0;o<e.length;o+=t){const u=e.slice(o,o+t).map(async(p,m)=>{try{const x=await p();return{index:o+m,result:x,error:null}}catch(x){return{index:o+m,result:null,error:x}}}),h=await Promise.all(u);for(const p of h)p.error?a.push({index:p.index,error:p.error}):s.push({index:p.index,result:p.result})}return{results:s,errors:a}}getFromCache(e){try{const t=localStorage.getItem(`aiApi_cache_${e}`);if(t){const{data:s,timestamp:a,ttl:o}=JSON.parse(t);if(Date.now()-a<o)return s;localStorage.removeItem(`aiApi_cache_${e}`)}}catch(t){console.warn("Cache read error:",t)}return null}setCache(e,t,s=30){try{const a={data:t,timestamp:Date.now(),ttl:s*60*1e3};localStorage.setItem(`aiApi_cache_${e}`,JSON.stringify(a))}catch(a){console.warn("Cache write error:",a)}}clearCache(){try{Object.keys(localStorage).filter(t=>t.startsWith("aiApi_cache_")).forEach(t=>localStorage.removeItem(t))}catch(e){console.warn("Cache clear error:",e)}}}const YS=new US;function GS(){const n=Vt(),{user:e,theme:t,setTheme:s}=S.useContext(ms),{chartData:a,hasData:o,isDataLoaded:c}=Da(),[u,h]=S.useState(""),[p,m]=S.useState(""),[x,b]=S.useState(""),[k,_]=S.useState("hybrid"),[v,w]=S.useState(12),[N,C]=S.useState(.95),[M,L]=S.useState(!1),[E,Y]=S.useState(!0),[O,z]=S.useState(null),[G,W]=S.useState(!1),[R,D]=S.useState(""),I=["Assume a 10% month-over-month promotional uplift for the next 6 months due to increased marketing spend.","Reduce marketing budget by 20% starting month 3; estimate revenue impact over next 12 months with cost optimization.","Introduce a loyalty discount program from next quarter expected to increase repeat purchases by 15% but reduce margins by 5%.","Economic recession scenario: assume 15% decrease in customer spending power starting in 6 months.","Market expansion: enter 2 new countries with 25% revenue uplift expectation in months 8-12."];S.useEffect(()=>{if(!e){n("/login");return}if(c&&o){if(a.yAxis&&a.columns.includes(a.yAxis))h(a.yAxis);else if(a.columns.includes("Revenue"))h("Revenue");else{const Q=a.columns.filter(ae=>a.data.slice(0,5).some(J=>typeof J[ae]=="number"||!isNaN(Number(J[ae]))));h(Q[0]||a.columns[0]||"")}const K=a.columns.filter(Q=>Q.toLowerCase().includes("date")||Q.toLowerCase().includes("time")||Q.toLowerCase().includes("month"));m(K[0]||"")}},[e,o,c,a,n]);const H=()=>{const K=[];return o||K.push("No data available. Please upload a CSV file first."),u||K.push("Please select a target column to forecast."),(!x||x.trim().length===0)&&K.push("Please enter a scenario description."),x.length>500&&K.push("Scenario description must be 500 characters or less."),["hybrid","prophet","gpt","auto"].includes(k)||K.push("Invalid model selection."),(v<1||v>365)&&K.push("Periods ahead must be between 1 and 365."),(N<.5||N>.99)&&K.push("Confidence level must be between 0.5 and 0.99."),K},$=async()=>{if(!e){D("Please sign in to use forecasting features.");return}D("");const K=H();if(K.length){D(K.join(" • "));return}const Q={csv_data:a.data,scenario_text:x,target_column:u,date_column:p||void 0,model_preference:k==="auto"?void 0:k,periods_ahead:v,confidence_level:N};try{W(!0),z(null),Y(!1);const ae=await YS.createWhatIfForecast(Q);z(ae),localStorage.setItem("lastForecast",JSON.stringify({result:ae,timestamp:new Date().toISOString(),scenario:x,targetColumn:u}))}catch(ae){console.error("Forecast error:",ae),D(ae.message||"Forecast generation failed. Please try again.")}finally{W(!1)}},X=K=>{b(K)};return e?l.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-slate-950",children:[l.jsx(Xt,{theme:t,setTheme:s,onReportChange:()=>{}}),l.jsxs("div",{className:"flex-1 transition-all duration-300",children:[l.jsx(Qt,{user:e}),l.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("button",{onClick:()=>n(-1),className:"p-2 rounded-lg border border-gray-200 hover:bg-gray-50 dark:border-white/10 dark:hover:bg-slate-800",children:l.jsx(jj,{size:20})}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-3 rounded-2xl bg-gradient-to-br from-blue-500 to-blue-700 text-white",children:l.jsx(fo,{size:28})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-display font-bold text-gray-800 dark:text-slate-200",children:"AI-Powered Forecasting"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Create natural-language what-if forecasts from your data"})]})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-600 dark:text-slate-400",children:[l.jsxs("span",{children:["Data: ",l.jsx("strong",{children:a.data.length.toLocaleString()})," rows"]}),l.jsxs("span",{children:["Columns: ",l.jsx("strong",{children:a.columns.length})]}),u&&l.jsxs("span",{children:["Target: ",l.jsx("strong",{className:"text-blue-600 dark:text-blue-400",children:u})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:()=>n("/"),className:"flex items-center gap-2 px-3 py-2 text-sm border border-gray-200 rounded-lg hover:bg-gray-50 dark:border-white/10 dark:hover:bg-slate-800",children:[l.jsx(md,{size:16}),"Upload Data"]}),l.jsxs("button",{onClick:()=>n("/editing"),className:"flex items-center gap-2 px-3 py-2 text-sm border border-gray-200 rounded-lg hover:bg-gray-50 dark:border-white/10 dark:hover:bg-slate-800",children:[l.jsx(dd,{size:16}),"Edit Chart"]})]})]})]}),o?l.jsxs("div",{className:"space-y-6",children:[E&&l.jsxs("div",{className:"rounded-2xl bg-white dark:bg-ink/80 border dark:border-white/5 shadow-sm",children:[l.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-white/10 flex items-center justify-between",children:[l.jsx("h3",{className:"font-semibold text-gray-800 dark:text-slate-200",children:"Current Data Visualization"}),l.jsx("button",{onClick:()=>Y(!1),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700",title:"Minimize Chart",children:l.jsx(cS,{size:16})})]}),l.jsx("div",{className:"p-4",children:l.jsx($d,{data:a.data,columns:a.columns,options:a.chartOptions,chartTitle:a.chartTitle,xAxis:a.xAxis,yAxis:a.yAxis,setXAxis:()=>{},setYAxis:()=>{}})})]}),!E&&l.jsx("button",{onClick:()=>Y(!0),className:"w-full p-3 border-2 border-dashed border-gray-300 dark:border-slate-600 rounded-lg hover:border-blue-500 dark:hover:border-blue-400 transition-colors text-center text-gray-500 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400",children:"Click to show current chart visualization"}),l.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[l.jsx("div",{className:"lg:w-1/3",children:l.jsxs("div",{className:"rounded-2xl bg-white dark:bg-ink/80 border dark:border-white/5 p-6 shadow-sm",children:[l.jsx("h2",{className:"font-semibold text-lg mb-4 text-gray-800 dark:text-slate-200",children:"Forecast Configuration"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Target Column to Forecast"}),l.jsxs("select",{value:u,onChange:K=>h(K.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-slate-600 dark:bg-slate-800",children:[l.jsx("option",{value:"",children:"-- Select target column --"}),a.columns.map(K=>l.jsx("option",{value:K,children:K},K))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Date Column (Optional)"}),l.jsxs("select",{value:p,onChange:K=>m(K.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-slate-600 dark:bg-slate-800",children:[l.jsx("option",{value:"",children:"-- Auto-generate dates --"}),a.columns.map(K=>l.jsx("option",{value:K,children:K},K))]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"If not selected, we'll create synthetic monthly periods"})]})]}),l.jsxs("div",{className:"mt-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Scenario Description"}),l.jsx("textarea",{value:x,onChange:K=>b(K.target.value),maxLength:500,rows:6,placeholder:"Describe your what-if scenario in natural language. E.g., 'Increase marketing budget by 15% starting next month and expect 10% revenue boost...'",className:"w-full rounded-lg border border-gray-300 p-3 text-sm min-h-[120px] resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-slate-600 dark:bg-slate-800"}),l.jsxs("div",{className:"flex items-center justify-between mt-2",children:[l.jsxs("span",{className:"text-xs text-gray-500",children:[x.length,"/500 characters"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xs text-gray-400",children:"Examples:"}),l.jsx("div",{className:"flex gap-1",children:I.slice(0,3).map((K,Q)=>l.jsx("button",{onClick:()=>X(K),className:"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 dark:bg-blue-900/30 dark:text-blue-300 dark:hover:bg-blue-800/40",title:K,children:Q+1},Q))})]})]})]}),l.jsxs("div",{className:"mt-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"AI Model"}),l.jsxs("select",{value:k,onChange:K=>_(K.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-slate-600 dark:bg-slate-800",children:[l.jsx("option",{value:"hybrid",children:"Hybrid (Recommended) - Combines statistical and AI models"}),l.jsx("option",{value:"prophet",children:"Prophet - Statistical time series model"}),l.jsx("option",{value:"gpt",children:"GPT - Pure language model forecasting"}),l.jsx("option",{value:"auto",children:"Auto - Let the system choose best model"})]})]}),l.jsxs("div",{className:"mt-6",children:[l.jsxs("button",{onClick:()=>L(!M),className:"flex items-center justify-between w-full py-2 text-sm font-medium text-gray-700 dark:text-slate-300",children:[l.jsx("span",{children:"Advanced Settings"}),M?l.jsx(Hj,{size:16}):l.jsx(lg,{size:16})]}),M&&l.jsxs("div",{className:"mt-4 space-y-4 p-4 bg-gray-50 dark:bg-slate-800/50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Periods Ahead"}),l.jsx("input",{type:"number",min:1,max:365,value:v,onChange:K=>w(Number(K.target.value)),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-slate-600 dark:bg-slate-700"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Confidence Level"}),l.jsx("input",{type:"range",min:.5,max:.99,step:.01,value:N,onChange:K=>C(Number(K.target.value)),className:"w-full"}),l.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[l.jsx("span",{children:"50%"}),l.jsxs("span",{className:"font-medium",children:[Math.round(N*100),"%"]}),l.jsx("span",{children:"99%"})]})]})]})]}),l.jsx("div",{className:"mt-6",children:l.jsx("button",{onClick:$,disabled:!o||G,className:`w-full px-4 py-3 rounded-xl font-medium text-white transition-all duration-200 ${o&&!G?"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 shadow-md hover:shadow-lg":"bg-gray-300 cursor-not-allowed dark:bg-slate-600"}`,children:G?l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Generating Forecast..."]}):"Generate AI Forecast"})}),R&&l.jsx("div",{className:"mt-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700/50 rounded-lg",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(xg,{className:"text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5",size:16}),l.jsx("div",{className:"text-sm text-red-700 dark:text-red-300",children:R})]})}),l.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700/50 rounded-lg",children:[l.jsx("h4",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Tips"}),l.jsxs("ul",{className:"text-xs text-blue-700 dark:text-blue-300 space-y-1",children:[l.jsx("li",{children:"• Be specific about percentages, timeframes, and business context"}),l.jsx("li",{children:"• Mention external factors like seasonality, marketing campaigns, or market conditions"}),l.jsx("li",{children:"• Include assumptions about customer behavior or competitive landscape"}),l.jsx("li",{children:"• For best results, have at least 12 months of historical data"})]})]})]})}),l.jsx("div",{className:"lg:w-2/3",children:l.jsxs("div",{className:"rounded-2xl bg-white dark:bg-ink/80 border dark:border-white/5 shadow-sm min-h-[500px]",children:[l.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-white/10",children:[l.jsx("h3",{className:"font-semibold text-lg text-gray-800 dark:text-slate-200",children:"Forecast Results"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1",children:"AI-generated predictions based on your scenario"})]}),l.jsxs("div",{className:"p-6",children:[G&&l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-12 h-12 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Analyzing your scenario and generating forecast..."})]})}),!G&&!O&&l.jsxs("div",{className:"text-center py-20 text-gray-500 dark:text-slate-400",children:[l.jsx(fo,{size:48,className:"mx-auto mb-4 opacity-50"}),l.jsx("p",{className:"text-lg mb-2",children:"Ready to Generate Forecast"}),l.jsx("p",{className:"text-sm",children:'Configure your scenario on the left and click "Generate AI Forecast"'})]}),!G&&O&&l.jsx($S,{result:O,targetColumn:u,onExport:K=>{console.log("Forecast exported:",K)}})]})]})})]})]}):l.jsxs("div",{className:"rounded-2xl bg-white dark:bg-ink/80 border dark:border-white/5 p-8 text-center shadow-sm",children:[l.jsx(md,{size:48,className:"mx-auto text-gray-400 mb-4"}),l.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-slate-200 mb-2",children:"No Data Available"}),l.jsx("p",{className:"text-gray-600 dark:text-slate-400 mb-6",children:"Upload a CSV file first to start generating forecasts."}),l.jsx("button",{onClick:()=>n("/"),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Upload CSV Data"})]})]})]})]}):l.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-slate-950",children:[l.jsx(Xt,{theme:t,setTheme:s,onReportChange:()=>{}}),l.jsxs("div",{className:"flex-1",children:[l.jsx(Qt,{user:e}),l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsxs("div",{className:"text-center",children:[l.jsx(fo,{size:48,className:"mx-auto text-gray-400 mb-4"}),l.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Sign In Required"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"You need to be signed in to access AI forecasting features."}),l.jsxs("div",{className:"flex justify-center gap-3",children:[l.jsx("button",{onClick:()=>n("/signup"),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Sign Up"}),l.jsx("button",{onClick:()=>n("/login"),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Sign In"})]})]})})]})]})}function KS({sidebarOpen:n,setSidebarOpen:e,chartOptions:t,onOptionsChange:s,onSave:a,onExport:o,onUndo:c,onRedo:u,canUndo:h,canRedo:p,onResetView:m,onFitToScreen:x,className:b=""}){const k=Vt(),[_,v]=S.useState(null),[w,N]=S.useState(null),C=[{type:"bar",icon:dd,label:"Bar"},{type:"line",icon:ag,label:"Line"},{type:"area",icon:sg,label:"Area"},{type:"pie",icon:og,label:"Pie"},{type:"scatter",icon:dg,label:"Scatter"}],M=[{name:"Blue",color:"#2563eb"},{name:"Green",color:"#059669"},{name:"Purple",color:"#7c3aed"},{name:"Orange",color:"#ea580c"},{name:"Pink",color:"#db2777"},{name:"Teal",color:"#0d9488"}],L=D=>{v(_===D?null:D)},E=D=>{s({type:D}),v(null)},Y=D=>{s({color:D}),v(null)},O=D=>{s({sort:D}),v(null)},z=()=>{const D=!t.gradient,I={gradient:D};D&&!t.gradientStops&&(I.gradientStops=[t.color||"#2563eb","#60a5fa"]),s(I)},G=D=>{if(!w)return;const I=w.getBoundingClientRect(),H=(D.clientX-I.left)/I.width,$=R(t.gradientStops||[],H),X=[...t.gradientStops||[]],K=Math.floor(H*X.length);X.splice(K,0,$),s({gradientStops:X})},W=D=>{if(!t.gradientStops||t.gradientStops.length<=2)return;const I=[...t.gradientStops];I.splice(D,1),s({gradientStops:I})},R=(D,I)=>{if(D.length<2)return D[0]||"#2563eb";const H=1/(D.length-1),$=Math.min(Math.floor(I/H),D.length-2);return D[$]};return l.jsxs("div",{className:`bg-white dark:bg-slate-800 shadow-lg ${b}`,style:{zIndex:"var(--z-editing-bar)"},children:[l.jsxs("div",{className:"px-4 py-2 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:()=>e(!n),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Toggle Sidebar",children:l.jsx(B_,{size:18})}),l.jsx("div",{className:"w-px h-6 bg-gray-300 dark:bg-slate-600 mx-2"}),l.jsx("button",{onClick:a,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Save Chart",children:l.jsx(jo,{size:18})}),l.jsx("button",{onClick:o,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Export Chart",children:l.jsx(ds,{size:18})})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsxs("div",{className:"relative",children:[l.jsx("button",{onClick:()=>L("chartType"),className:`p-2 rounded-lg transition-colors ${_==="chartType"?"bg-blue-100 text-blue-600 dark:bg-blue-900/30":"hover:bg-gray-100 dark:hover:bg-slate-700"}`,title:"Chart Type",children:C.find(D=>D.type===t.type)?.icon?So.createElement(C.find(D=>D.type===t.type).icon,{size:18}):l.jsx(dd,{size:18})}),_==="chartType"&&l.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-600 rounded-lg shadow-lg min-w-[120px]",style:{zIndex:"var(--z-dropdowns)"},children:C.map(({type:D,icon:I,label:H})=>l.jsxs("button",{onClick:()=>E(D),className:`w-full flex items-center gap-2 px-3 py-2 text-sm hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors ${t.type===D?"bg-blue-50 text-blue-600 dark:bg-blue-900/30":""}`,children:[l.jsx(I,{size:16}),H]},D))})]}),l.jsxs("div",{className:"relative",children:[l.jsx("button",{onClick:()=>L("colors"),className:`p-2 rounded-lg transition-colors ${_==="colors"?"bg-blue-100 text-blue-600 dark:bg-blue-900/30":"hover:bg-gray-100 dark:hover:bg-slate-700"}`,title:"Colors",children:l.jsx(Id,{size:18})}),_==="colors"&&l.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-600 rounded-lg shadow-lg p-3 min-w-[280px]",style:{zIndex:"var(--z-dropdowns)"},children:[l.jsx("div",{className:"grid grid-cols-3 gap-2 mb-3",children:M.map(({name:D,color:I})=>l.jsx("button",{onClick:()=>Y(I),className:"w-8 h-8 rounded-lg border-2 border-white dark:border-slate-700 hover:scale-110 transition-transform",style:{backgroundColor:I},title:D},D))}),l.jsx("div",{className:"mb-3",children:l.jsx("input",{type:"color",value:t.color||"#2563eb",onChange:D=>Y(D.target.value),className:"w-full h-8 rounded border cursor-pointer"})}),l.jsx("div",{className:"mb-3",children:l.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[l.jsx("input",{type:"checkbox",checked:t.gradient||!1,onChange:z,className:"rounded"}),l.jsx("span",{children:"Enable Gradient"})]})}),t.gradient&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{ref:N,className:"relative h-6 rounded cursor-pointer border",style:{background:t.gradientStops?`linear-gradient(to right, ${t.gradientStops.join(", ")})`:`linear-gradient(to right, ${t.color||"#2563eb"}, #60a5fa)`},onClick:G,title:"Click to add gradient stop",children:(t.gradientStops||[]).map((D,I)=>l.jsx("div",{className:"absolute top-0 w-3 h-3 border-2 border-white rounded-full cursor-pointer transform -translate-y-1 hover:scale-125 transition-transform",style:{backgroundColor:D,left:`${I/Math.max(1,(t.gradientStops?.length||1)-1)*100}%`,transform:"translateX(-50%) translateY(-25%)"},onDoubleClick:H=>{H.stopPropagation(),W(I)},title:"Double-click to remove"},I))}),l.jsx("div",{className:"text-xs text-gray-500",children:"Click to add stops • Double-click stops to remove"})]})]})]}),l.jsx("button",{onClick:()=>s({logScale:!t.logScale}),className:`p-2 rounded-lg transition-colors ${t.logScale?"bg-blue-100 text-blue-600 dark:bg-blue-900/30":"hover:bg-gray-100 dark:hover:bg-slate-700"}`,title:"Toggle Logarithmic Scale",children:l.jsx(ig,{size:18})}),l.jsxs("div",{className:"relative",children:[l.jsx("button",{onClick:()=>L("sort"),className:`p-2 rounded-lg transition-colors ${_==="sort"?"bg-blue-100 text-blue-600 dark:bg-blue-900/30":"hover:bg-gray-100 dark:hover:bg-slate-700"}`,title:"Sort Data",children:l.jsx(yp,{size:18})}),_==="sort"&&l.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-600 rounded-lg shadow-lg min-w-[120px]",style:{zIndex:"var(--z-dropdowns)"},children:[l.jsxs("button",{onClick:()=>O("none"),className:`w-full flex items-center gap-2 px-3 py-2 text-sm hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors ${t.sort==="none"?"bg-blue-50 text-blue-600 dark:bg-blue-900/30":""}`,children:[l.jsx(S_,{size:16}),"No Sort"]}),l.jsxs("button",{onClick:()=>O("asc"),className:`w-full flex items-center gap-2 px-3 py-2 text-sm hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors ${t.sort==="asc"?"bg-blue-50 text-blue-600 dark:bg-blue-900/30":""}`,children:[l.jsx(yp,{size:16}),"Ascending"]}),l.jsxs("button",{onClick:()=>O("desc"),className:`w-full flex items-center gap-2 px-3 py-2 text-sm hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors ${t.sort==="desc"?"bg-blue-50 text-blue-600 dark:bg-blue-900/30":""}`,children:[l.jsx(kj,{size:16}),"Descending"]})]})]}),l.jsx("div",{className:"w-px h-6 bg-gray-300 dark:bg-slate-600 mx-2"}),l.jsx("button",{onClick:()=>s({showLabels:!t.showLabels}),className:`p-2 rounded-lg transition-colors ${t.showLabels?"bg-blue-100 text-blue-600 dark:bg-blue-900/30":"hover:bg-gray-100 dark:hover:bg-slate-700"}`,title:"Toggle Data Labels",children:t.showLabels?l.jsx(_r,{size:18}):l.jsx(Ca,{size:18})}),l.jsx("button",{onClick:()=>s({trendline:!t.trendline}),className:`p-2 rounded-lg transition-colors ${t.trendline?"bg-blue-100 text-blue-600 dark:bg-blue-900/30":"hover:bg-gray-100 dark:hover:bg-slate-700"}`,title:"Toggle Trendline",children:l.jsx(gg,{size:18})}),l.jsx("button",{onClick:()=>s({gradient:!t.gradient}),className:`p-2 rounded-lg transition-colors ${t.gradient?"bg-blue-100 text-blue-600 dark:bg-blue-900/30":"hover:bg-gray-100 dark:hover:bg-slate-700"}`,title:"Toggle Gradient",children:l.jsx(D_,{size:18})})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:c,disabled:!h,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Undo",children:l.jsx(fS,{size:18})}),l.jsx("button",{onClick:u,disabled:!p,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Redo",children:l.jsx(q_,{size:18})}),l.jsx("div",{className:"w-px h-6 bg-gray-300 dark:bg-slate-600 mx-2"}),l.jsx("button",{onClick:x,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Fit to Screen",children:l.jsx(pg,{size:18})}),l.jsx("button",{onClick:m,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Reset View",children:l.jsx(wo,{size:18})}),l.jsx("div",{className:"w-px h-6 bg-gray-300 dark:bg-slate-600 mx-2"}),l.jsx("button",{onClick:()=>k("/settings"),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Settings",children:l.jsx(Mr,{size:18})})]})]}),_&&l.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>v(null)})]})}const Qc=({value:n,onSave:e,className:t="",placeholder:s="Click to edit...",multiline:a=!1,maxLength:o=100})=>{const[c,u]=S.useState(!1),[h,p]=S.useState(n||""),m=S.useRef(null);S.useEffect(()=>{c&&m.current&&(m.current.focus(),a||m.current.select())},[c,a]);const x=()=>{e(h),u(!1)},b=()=>{p(n||""),u(!1)},k=_=>{_.key==="Enter"&&!a?(_.preventDefault(),x()):_.key==="Escape"&&b()};if(c){const _=a?"textarea":"input";return l.jsx(_,{ref:m,type:a?void 0:"text",value:h,onChange:v=>p(v.target.value),onBlur:x,onKeyDown:k,className:`bg-transparent border-b-2 border-blue-500 focus:outline-none ${t}`,placeholder:s,maxLength:o,rows:a?2:void 0,style:{minWidth:"200px"}})}return l.jsxs("span",{className:`cursor-pointer hover:text-blue-600 transition-colors flex items-center gap-2 ${t}`,onClick:()=>{p(n||""),u(!0)},title:"Double-click to edit",children:[n||s,l.jsx(mg,{size:14,className:"opacity-50"})]})};function qS({sidebarOpen:n,onTitleEdit:e,onExport:t,onForecast:s,selectedBars:a,onBarClick:o,onSelectionDelete:c,onSelectionClear:u}){const{chartData:h,updateChartData:p}=Da(),[m,x]=S.useState(!1),b=S.useRef(null),k=(w,N)=>{p({xAxis:w,yAxis:N})},_=w=>{p({chartTitle:w}),e?.(w)},v=(w,N)=>{const C={};w==="x"?C.xAxisLabel=N:w==="y"&&(C.yAxisLabel=N),p(C)};return h.data.length?l.jsx("div",{ref:b,className:`flex-1 transition-all duration-300 ${n?"ml-64":"ml-0"} overflow-auto`,style:{height:"calc(100vh - 120px)"},children:l.jsx("div",{className:"mx-4 mt-4 mb-4 rounded-2xl bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-600 shadow-sm min-h-[calc(100vh-8rem)]",children:l.jsxs("div",{className:"p-6 h-full",children:[l.jsx("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsx("div",{className:"flex items-center",children:l.jsx(Qc,{value:h.chartTitle,onSave:_,className:"text-xl font-semibold text-gray-800 dark:text-slate-200",placeholder:"Untitled Chart",maxLength:100})}),l.jsxs("div",{className:"text-sm text-gray-500 dark:text-slate-400",children:[h.data.length.toLocaleString()," rows • ",h.columns.length," columns"]})]})}),l.jsxs("div",{className:"flex flex-wrap gap-6 mb-6 items-center",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Qc,{value:h.xAxisLabel||"X-Axis",onSave:w=>v("x",w),className:"text-sm font-medium text-gray-600 dark:text-slate-400",placeholder:"X-Axis Label",maxLength:50}),l.jsx("span",{className:"text-gray-400",children:":"})]}),l.jsx("select",{value:h.xAxis||"",onChange:w=>k(w.target.value,h.yAxis),className:"border border-gray-300 rounded-lg px-3 py-1 text-sm bg-white dark:bg-slate-700 dark:border-slate-600 min-w-[120px] focus:outline-none focus:ring-2 focus:ring-blue-500",children:h.columns.map(w=>l.jsx("option",{value:w,children:w},w))})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Qc,{value:h.yAxisLabel||"Y-Axis",onSave:w=>v("y",w),className:"text-sm font-medium text-gray-600 dark:text-slate-400",placeholder:"Y-Axis Label",maxLength:50}),l.jsx("span",{className:"text-gray-400",children:":"})]}),l.jsx("select",{value:h.yAxis||"",onChange:w=>k(h.xAxis,w.target.value),className:"border border-gray-300 rounded-lg px-3 py-1 text-sm bg-white dark:bg-slate-700 dark:border-slate-600 min-w-[120px] focus:outline-none focus:ring-2 focus:ring-blue-500",children:h.columns.map(w=>l.jsx("option",{value:w,children:w},w))})]}),l.jsx("div",{className:"ml-auto",children:l.jsxs("button",{onClick:()=>x(!m),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${m?"bg-orange-100 text-orange-700 border border-orange-300":"border border-gray-300 text-gray-700 hover:bg-gray-50"} dark:border-slate-600 dark:text-slate-300 dark:hover:bg-slate-700`,children:[l.jsx(rS,{size:16}),m?"Exit Selection":"Select Mode"]})})]}),a?.length>0&&l.jsx("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-700",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:[a.length," item(s) selected"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:c,className:"flex items-center gap-1 px-3 py-1 bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors text-sm",children:[l.jsx(_o,{size:14}),"Delete Selected"]}),l.jsx("button",{onClick:u,className:"px-3 py-1 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors text-sm",children:"Clear Selection"})]})]})}),m&&l.jsx("div",{className:"mb-4 p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg border border-orange-200 dark:border-orange-700",children:l.jsxs("div",{className:"text-sm text-orange-700 dark:text-orange-300",children:[l.jsx("strong",{children:"Selection Mode Active:"})," Click on chart elements to select them for bulk operations."]})}),l.jsx("div",{className:"bg-gradient-to-b from-gray-50 to-white dark:from-black/20 dark:to-black/10 rounded-xl p-4 border dark:border-white/10 flex-1",children:l.jsx($d,{data:h.data,columns:h.columns,types:h.types,options:h.chartOptions,chartTitle:h.chartTitle,xAxis:h.xAxis,yAxis:h.yAxis,setXAxis:w=>k(w,h.yAxis),setYAxis:w=>k(h.xAxis,w),onBarClick:o,selectedBars:a,selectionMode:m})})]})})}):l.jsx("div",{className:`flex-1 transition-all duration-300 ${n?"ml-64":"ml-0"}`,children:l.jsx("div",{className:"mx-4 mt-4 mb-4 rounded-2xl bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-600 shadow-sm min-h-[calc(100vh-8rem)]",children:l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-24 h-24 mx-auto mb-4 rounded-full bg-gray-100 dark:bg-slate-700 flex items-center justify-center",children:l.jsx("svg",{className:"w-12 h-12 text-gray-400 dark:text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 00-2-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v4"})})}),l.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-slate-200 mb-2",children:"No Chart Data Available"}),l.jsx("p",{className:"text-gray-600 dark:text-slate-400 mb-6",children:"Upload a CSV file to start creating and editing charts"}),l.jsx("button",{onClick:()=>window.history.back(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Go Back to Upload"})]})})})})}function XS({isOpen:n,onClose:e,data:t=[],columns:s=[],title:a="Data Preview"}){const[o,c]=S.useState(!1),[u,h]=S.useState(""),[p,m]=S.useState(""),[x,b]=S.useState("asc"),[k,_]=S.useState(1),[v,w]=S.useState(!1),[N,C]=S.useState({x:0,y:0}),M=S.useRef(null),L=S.useRef(null),E=50;S.useEffect(()=>{if(!v)return;const D=H=>{C({x:H.clientX-L.current.offsetX,y:H.clientY-L.current.offsetY})},I=()=>{w(!1)};return document.addEventListener("mousemove",D),document.addEventListener("mouseup",I),()=>{document.removeEventListener("mousemove",D),document.removeEventListener("mouseup",I)}},[v]);const Y=D=>{w(!0),L.current={offsetX:D.clientX-N.x,offsetY:D.clientY-N.y}},O=t.filter(D=>u?Object.values(D).some(I=>String(I).toLowerCase().includes(u.toLowerCase())):!0),z=[...O].sort((D,I)=>{if(!p)return 0;const H=D[p],$=I[p],X=x==="asc"?1:-1;return typeof H=="number"&&typeof $=="number"?(H-$)*X:String(H).localeCompare(String($))*X}),G=Math.ceil(z.length/E),W=z.slice((k-1)*E,k*E),R=D=>{p===D?b(x==="asc"?"desc":"asc"):(m(D),b("asc"))};return n?l.jsxs("div",{ref:M,className:"fixed z-50 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-600 rounded-xl shadow-2xl",style:{right:N.x||20,top:N.y||100,width:o?"300px":"500px",height:o?"60px":"600px",maxWidth:"calc(100vw - 40px)",maxHeight:"calc(100vh - 40px)"},children:[l.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-200 dark:border-slate-600 cursor-move bg-gray-50 dark:bg-slate-700 rounded-t-xl",onMouseDown:Y,children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(us,{size:16,className:"text-blue-600 dark:text-blue-400"}),l.jsx("h3",{className:"font-medium text-sm text-gray-800 dark:text-slate-200",children:a}),l.jsxs("span",{className:"text-xs text-gray-500 dark:text-slate-400",children:["(",t.length," rows)"]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:()=>c(!o),className:"p-1 rounded hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors",title:o?"Maximize":"Minimize",children:o?l.jsx(pg,{size:14}):l.jsx(V_,{size:14})}),l.jsx("button",{onClick:e,className:"p-1 rounded hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors",title:"Close",children:l.jsx(yg,{size:14})})]})]}),!o&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"p-3 border-b border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(Bd,{size:16,className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Search data...",value:u,onChange:D=>h(D.target.value),className:"w-full pl-8 pr-3 py-1 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-slate-600 dark:bg-slate-800"})]}),l.jsx("button",{className:"p-1 rounded hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors",title:"Filter options",children:l.jsx(fg,{size:16})})]}),l.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600 dark:text-slate-400",children:[l.jsxs("span",{children:["Showing ",W.length," of ",O.length]}),l.jsxs("span",{children:["Page ",k," of ",G]})]})]}),l.jsx("div",{className:"flex-1 overflow-auto",children:t.length===0?l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsxs("div",{className:"text-center",children:[l.jsx(us,{size:48,className:"mx-auto text-gray-400 mb-4"}),l.jsx("p",{className:"text-gray-500 dark:text-slate-400 text-sm",children:"No data to preview"}),l.jsxs("button",{className:"mt-2 px-3 py-1 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(md,{size:14,className:"inline mr-1"}),"Upload File"]})]})}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-xs",children:[l.jsx("thead",{className:"sticky top-0 bg-gray-100 dark:bg-slate-600",children:l.jsx("tr",{children:s.map(D=>l.jsx("th",{className:"text-left p-2 font-medium cursor-pointer hover:bg-gray-200 dark:hover:bg-slate-500 transition-colors border-r border-gray-200 dark:border-slate-500",onClick:()=>R(D),children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"truncate max-w-[100px]",title:D,children:D}),p===D&&l.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:x==="asc"?"↑":"↓"})]})},D))})}),l.jsx("tbody",{children:W.map((D,I)=>l.jsx("tr",{className:"border-b border-gray-100 dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:s.map(H=>l.jsx("td",{className:"p-2 text-gray-600 dark:text-slate-300 border-r border-gray-100 dark:border-slate-700",children:l.jsx("div",{className:"truncate max-w-[120px]",title:String(D[H]||""),children:String(D[H]||"")})},H))},I))})]})})}),G>1&&l.jsx("div",{className:"p-3 border-t border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("button",{onClick:()=>_(Math.max(1,k-1)),disabled:k===1,className:"px-3 py-1 text-sm bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded hover:bg-gray-50 dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),l.jsx("div",{className:"flex items-center gap-1",children:[...Array(Math.min(5,G))].map((D,I)=>{const H=k-2+I;return H<1||H>G?null:l.jsx("button",{onClick:()=>_(H),className:`px-2 py-1 text-xs rounded transition-colors ${k===H?"bg-blue-600 text-white":"bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:H},H)})}),l.jsx("button",{onClick:()=>_(Math.min(G,k+1)),disabled:k===G,className:"px-3 py-1 text-sm bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded hover:bg-gray-50 dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})})]})]}):null}function QS(){const n=Vt(),{user:e,theme:t,setTheme:s}=S.useContext(ms),{chartData:a,updateChartOptions:o,updateChartData:c,hasData:u,isDataLoaded:h}=Da(),[p,m]=S.useState(!1),[x,b]=S.useState(!1),[k,_]=S.useState(!1),[v,w]=S.useState([]),[N,C]=S.useState([]),[M,L]=S.useState(-1),[E,Y]=S.useState(!1),[O,z]=S.useState(0),G=S.useRef(null),W=S.useRef(null);S.useEffect(()=>{if(!e){n("/login");return}if(h&&!u){n("/");return}},[e,u,h,n]),S.useEffect(()=>{if(a&&N.length===0){const ie={chartData:{...a},timestamp:Date.now(),action:"initial"};C([ie]),L(0)}},[a,N.length]),S.useEffect(()=>{const ie=()=>{if(!W.current)return;const ne=W.current.scrollTop,Z=ne>O;ne>50?Y(Z):Y(!1),z(ne)},oe=W.current;if(oe)return oe.addEventListener("scroll",ie,{passive:!0}),()=>oe.removeEventListener("scroll",ie)},[O]);const R=(ie,oe="change")=>{const ne={chartData:{...ie},timestamp:Date.now(),action:oe},Z=N.slice(0,M+1);Z.push(ne),Z.length>50?Z.shift():L(Z.length-1),C(Z)},D=()=>{if(M>0){const ie=M-1,oe=N[ie];L(ie),c(oe.chartData)}},I=()=>{if(M<N.length-1){const ie=M+1,oe=N[ie];L(ie),c(oe.chartData)}},H=ie=>{const oe={...a,chartOptions:{...a.chartOptions,...ie}};o(ie),R(oe,"options_change")},$=ie=>{const oe={...a,...ie};c(ie),R(oe,"data_change")},X=()=>{const ie={...a,savedAt:new Date().toISOString()};localStorage.setItem("chartSaved",JSON.stringify(ie)),e&&console.log("Saving to backend:",ie),alert("Chart saved successfully!")},K=()=>{b(!0)},Q=()=>{localStorage.setItem("chartBeforeForecast",JSON.stringify(a)),n("/forecast")},ae=(ie,oe)=>{const ne=v.includes(oe)?v.filter(Z=>Z!==oe):[...v,oe];w(ne)},J=()=>{if(v.length===0)return;const ie=a.data.filter((ne,Z)=>{const le=ne[a.xAxis]||`Row ${Z+1}`;return!v.includes(le)}),oe={...a,data:ie};c({data:ie}),R(oe,"delete_selection"),w([]),alert(`Deleted ${v.length} items`)},F=()=>{w([])},q=ie=>{const oe=ie.target.files[0];if(!oe)return;const ne=new FileReader;ne.onload=Z=>{try{const ue=Z.target.result.split(`
`),Ce=ue[0].split(",").map(Be=>Be.trim().replace(/"/g,"")),Re=ue.slice(1).filter(Be=>Be.trim()).map(Be=>{const Oe=Be.split(",").map(Dn=>Dn.trim().replace(/"/g,"")),st={};return Ce.forEach((Dn,hn)=>{const Zt=Oe[hn]||"",Dr=parseFloat(Zt);st[Dn]=isNaN(Dr)?Zt:Dr}),st});_(!0)}catch(le){console.error("File parsing error:",le),alert("Failed to parse file. Please ensure it's a valid CSV.")}},ne.readAsText(oe)},ge=ie=>{console.log("Exporting image:",ie),b(!1)},xe=ie=>{if(a.data.length){if(ie==="csv"){const oe=Object.keys(a.data[0]),ne=[oe.join(","),...a.data.map(Ce=>oe.map(Re=>`"${Ce[Re]??""}"`).join(","))].join(`
`),Z=new Blob([ne],{type:"text/csv"}),le=URL.createObjectURL(Z),ue=document.createElement("a");ue.href=le,ue.download=`${a.chartTitle||"data"}.csv`,ue.click(),URL.revokeObjectURL(le)}b(!1)}};return e?h?l.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-slate-950",children:[l.jsx("div",{className:`transition-transform duration-300 ${E?"-translate-y-full":"translate-y-0"}`,children:l.jsx(Qt,{user:e})}),l.jsx(KS,{sidebarOpen:p,setSidebarOpen:m,chartOptions:a.chartOptions,onOptionsChange:H,onSave:X,onExport:K,onUndo:D,onRedo:I,canUndo:M>0,canRedo:M<N.length-1,onResetView:()=>console.log("Reset view"),onFitToScreen:()=>console.log("Fit to screen"),className:"sticky top-0 z-40"}),l.jsxs("div",{ref:W,className:"flex flex-1 relative overflow-auto",style:{height:"calc(100vh - 60px)"},children:[p&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 bg-black/20 z-20 lg:hidden",onClick:()=>m(!1)}),l.jsx("div",{className:"fixed lg:relative left-0 top-0 h-full w-64 z-30 lg:z-10",children:l.jsx(Xt,{theme:t,setTheme:s,onReportChange:()=>{}})})]}),l.jsx(qS,{sidebarOpen:p,onTitleEdit:ie=>$({chartTitle:ie}),onExport:K,onForecast:Q,selectedBars:v,onBarClick:ae,onSelectionDelete:J,onSelectionClear:F}),l.jsx("button",{onClick:()=>G.current?.click(),className:"fixed bottom-6 right-6 p-3 bg-green-600 text-white rounded-full shadow-lg hover:bg-green-700 transition-colors z-10",title:"Upload File for Preview",children:l.jsx(_r,{size:20})}),l.jsx("input",{ref:G,type:"file",accept:".csv,.xlsx,.xls",onChange:q,className:"hidden"}),l.jsx(XS,{isOpen:k,onClose:()=>_(!1),data:a.data,columns:a.columns,title:"Data Preview"}),x&&l.jsx(bg,{onClose:()=>b(!1),onExportImage:ge,onExportCSV:()=>xe("csv"),onExportJSON:()=>xe("json"),chartData:a.data,chartTitle:a.chartTitle})]})]}):l.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-slate-950",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-12 h-12 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Loading chart data..."})]})}):l.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-slate-950",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Authentication Required"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Please sign in to access the chart editor."}),l.jsx("button",{onClick:()=>n("/login"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Sign In"})]})})}function JS(){const{user:n,theme:e,setTheme:t}=S.useContext(ms),[s,a]=S.useState([]),[o,c]=S.useState([]),[u,h]=S.useState(!0),[p,m]=S.useState(new Set),[x,b]=S.useState("all"),[k,_]=S.useState(""),[v,w]=S.useState("newest"),[N,C]=S.useState(!1),M=[{id:1,type:"success",title:"Chart Analysis Complete",message:"Your sales forecast visualization has been generated successfully. The data shows a 15% growth trend for Q4.",timestamp:new Date(Date.now()-120*1e3),read:!1,archived:!1,priority:"high",category:"processing",actionUrl:"/charts/sales-forecast"},{id:2,type:"info",title:"Data Export Ready",message:"Your CSV export containing 1,247 records is ready for download.",timestamp:new Date(Date.now()-3600*1e3),read:!1,archived:!1,priority:"medium",category:"export",actionUrl:"/exports/csv-1247"},{id:3,type:"warning",title:"File Processing Delayed",message:"Your Excel file 'Q3_Reports.xlsx' is taking longer than expected due to high server load. Estimated completion in 5 minutes.",timestamp:new Date(Date.now()-10800*1e3),read:!0,archived:!1,priority:"medium",category:"processing"},{id:4,type:"success",title:"Weekly Report Generated",message:"Your automated weekly analytics report is now available with insights from the past 7 days.",timestamp:new Date(Date.now()-1440*60*1e3),read:!0,archived:!1,priority:"low",category:"report",actionUrl:"/reports/weekly"},{id:5,type:"error",title:"File Upload Failed",message:"Failed to upload 'large_dataset.csv'. File size exceeds the 50MB limit. Please compress or split the file.",timestamp:new Date(Date.now()-2880*60*1e3),read:!0,archived:!1,priority:"high",category:"upload"},{id:6,type:"info",title:"Account Security Update",message:"Your password was successfully changed. If this wasn't you, please contact support immediately.",timestamp:new Date(Date.now()-7200*60*1e3),read:!0,archived:!0,priority:"medium",category:"security"}];S.useEffect(()=>{(async()=>{h(!0);try{await new Promise(X=>setTimeout(X,1e3)),a(M)}catch(X){console.error("Failed to fetch notifications:",X)}finally{h(!1)}})()},[]),S.useEffect(()=>{let $=s;x==="unread"?$=$.filter(X=>!X.read):x==="read"?$=$.filter(X=>X.read):x==="archived"?$=$.filter(X=>X.archived):$=$.filter(X=>!X.archived),k&&($=$.filter(X=>X.title.toLowerCase().includes(k.toLowerCase())||X.message.toLowerCase().includes(k.toLowerCase()))),$.sort((X,K)=>{if(v==="newest")return K.timestamp-X.timestamp;if(v==="oldest")return X.timestamp-K.timestamp;if(v==="priority"){const Q={high:3,medium:2,low:1};return Q[K.priority]-Q[X.priority]}return 0}),c($)},[s,x,k,v]);const L=$=>{switch($){case"success":return l.jsx(Gj,{className:"w-5 h-5 text-green-500"});case"warning":return l.jsx(Uj,{className:"w-5 h-5 text-yellow-500"});case"error":return l.jsx(Xj,{className:"w-5 h-5 text-red-500"});default:return l.jsx(C_,{className:"w-5 h-5 text-blue-500"})}},E=$=>{const K=new Date-$,Q=Math.floor(K/(1e3*60)),ae=Math.floor(K/(1e3*60*60)),J=Math.floor(K/(1e3*60*60*24));return Q<60?`${Q}m ago`:ae<24?`${ae}h ago`:`${J}d ago`},Y=()=>{p.size===o.length?m(new Set):m(new Set(o.map($=>$.id)))},O=$=>{const X=new Set(p);X.has($)?X.delete($):X.add($),m(X)},z=$=>{a(X=>X.map(K=>$.includes(K.id)?{...K,read:!0}:K))},G=$=>{a(X=>X.map(K=>$.includes(K.id)?{...K,read:!1}:K))},W=$=>{a(X=>X.map(K=>$.includes(K.id)?{...K,archived:!0}:K)),m(new Set)},R=$=>{a(X=>X.map(K=>$.includes(K.id)?{...K,archived:!1}:K)),m(new Set)},D=$=>{confirm(`Are you sure you want to delete ${$.length} notification(s)? This action cannot be undone.`)&&(a(X=>X.filter(K=>!$.includes(K.id))),m(new Set))},I=$=>{const X=Array.from(p);if(X.length!==0){switch($){case"read":z(X);break;case"unread":G(X);break;case"archive":W(X);break;case"unarchive":R(X);break;case"delete":D(X);break}C(!1)}},H=s.filter($=>!$.read&&!$.archived).length;return n?l.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-slate-950",children:[l.jsx(Xt,{theme:e,setTheme:t,onReportChange:()=>{}}),l.jsxs("div",{className:"flex-1 transition-all duration-300",children:[l.jsx(Qt,{user:n}),l.jsxs("main",{className:"mx-auto max-w-6xl px-6 py-8",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"font-display text-3xl text-gray-800 dark:text-slate-200 mb-2 flex items-center gap-3",children:[l.jsx(ya,{className:"w-8 h-8 text-neonBlue"}),"Notifications",H>0&&l.jsx("span",{className:"bg-red-500 text-white text-sm px-2 py-1 rounded-full",children:H})]}),l.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Stay updated with your latest activity and system updates"})]}),l.jsxs("button",{onClick:()=>window.location.reload(),className:"mt-4 sm:mt-0 px-4 py-2 bg-white dark:bg-ink/80 border border-gray-200 dark:border-white/5 rounded-lg hover:bg-gray-50 dark:hover:bg-white/5 transition-colors duration-200 flex items-center gap-2 text-gray-700 dark:text-slate-300",children:[l.jsx(wo,{className:"w-4 h-4"}),"Refresh"]})]}),l.jsx("div",{className:"bg-white dark:bg-ink/80 rounded-2xl border border-gray-200 dark:border-white/5 p-6 mb-6 shadow-soft",children:l.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[l.jsx("div",{className:"flex-1 max-w-md",children:l.jsxs("div",{className:"relative",children:[l.jsx(Bd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{type:"text",placeholder:"Search notifications...",value:k,onChange:$=>_($.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-neonBlue focus:border-transparent dark:border-slate-600 dark:bg-slate-700 dark:text-slate-200"})]})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("select",{value:x,onChange:$=>b($.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-neonBlue dark:border-slate-600 dark:bg-slate-700 dark:text-slate-200",children:[l.jsx("option",{value:"all",children:"All Active"}),l.jsx("option",{value:"unread",children:"Unread"}),l.jsx("option",{value:"read",children:"Read"}),l.jsx("option",{value:"archived",children:"Archived"})]}),l.jsxs("select",{value:v,onChange:$=>w($.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-neonBlue dark:border-slate-600 dark:bg-slate-700 dark:text-slate-200",children:[l.jsx("option",{value:"newest",children:"Newest First"}),l.jsx("option",{value:"oldest",children:"Oldest First"}),l.jsx("option",{value:"priority",children:"By Priority"})]})]}),p.size>0&&l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>C(!N),className:"px-4 py-2 bg-neonBlue text-white rounded-lg hover:bg-blue-600 transition-colors duration-200 flex items-center gap-2",children:["Actions (",p.size,")",l.jsx(r_,{className:"w-4 h-4"})]}),N&&l.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-600 rounded-lg shadow-lg z-50",children:[l.jsxs("button",{onClick:()=>I("read"),className:"w-full px-4 py-2 text-left hover:bg-gray-50 dark:hover:bg-slate-700 flex items-center gap-2 text-gray-700 dark:text-slate-300",children:[l.jsx(_r,{className:"w-4 h-4"}),"Mark as Read"]}),l.jsxs("button",{onClick:()=>I("unread"),className:"w-full px-4 py-2 text-left hover:bg-gray-50 dark:hover:bg-slate-700 flex items-center gap-2 text-gray-700 dark:text-slate-300",children:[l.jsx(Ca,{className:"w-4 h-4"}),"Mark as Unread"]}),x==="archived"?l.jsxs("button",{onClick:()=>I("unarchive"),className:"w-full px-4 py-2 text-left hover:bg-gray-50 dark:hover:bg-slate-700 flex items-center gap-2 text-gray-700 dark:text-slate-300",children:[l.jsx(Kc,{className:"w-4 h-4"}),"Unarchive"]}):l.jsxs("button",{onClick:()=>I("archive"),className:"w-full px-4 py-2 text-left hover:bg-gray-50 dark:hover:bg-slate-700 flex items-center gap-2 text-gray-700 dark:text-slate-300",children:[l.jsx(Kc,{className:"w-4 h-4"}),"Archive"]}),l.jsxs("button",{onClick:()=>I("delete"),className:"w-full px-4 py-2 text-left hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center gap-2 text-red-600 dark:text-red-400",children:[l.jsx(_o,{className:"w-4 h-4"}),"Delete"]})]})]})]})}),l.jsx("div",{className:"space-y-4",children:u?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(wo,{className:"w-8 h-8 mx-auto text-gray-400 animate-spin mb-4"}),l.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Loading notifications..."})]}):o.length===0?l.jsxs("div",{className:"text-center py-12 bg-white dark:bg-ink/80 rounded-2xl border border-gray-200 dark:border-white/5 shadow-soft",children:[l.jsx(ya,{className:"w-16 h-16 mx-auto text-gray-400 dark:text-slate-500 mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-slate-200 mb-2",children:k?"No matching notifications":x==="archived"?"No archived notifications":"No notifications"}),l.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:k?"Try adjusting your search terms.":x==="archived"?"Archived notifications will appear here.":"You're all caught up! New notifications will appear here."})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-gray-50 dark:bg-slate-800/50 rounded-lg",children:[l.jsx("input",{type:"checkbox",checked:p.size===o.length,onChange:Y,className:"rounded border-gray-300 text-neonBlue focus:ring-neonBlue"}),l.jsxs("span",{className:"text-sm text-gray-600 dark:text-slate-400",children:["Select All (",o.length,")"]})]}),o.map($=>l.jsx("div",{className:`bg-white dark:bg-ink/80 rounded-2xl border border-gray-200 dark:border-white/5 shadow-soft overflow-hidden transition-all duration-200 hover:shadow-md ${!$.read&&!$.archived?"ring-2 ring-blue-100 dark:ring-blue-900/50":""}`,children:l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("input",{type:"checkbox",checked:p.has($.id),onChange:()=>O($.id),className:"mt-1 rounded border-gray-300 text-neonBlue focus:ring-neonBlue"}),l.jsx("div",{className:"flex-shrink-0 mt-1",children:L($.type)}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"font-semibold text-gray-900 dark:text-slate-200 truncate",children:$.title}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-slate-400",children:[$.priority==="high"&&l.jsx(aS,{className:"w-4 h-4 text-yellow-500 fill-current"}),l.jsx(ug,{className:"w-4 h-4"}),E($.timestamp)]})]}),l.jsx("p",{className:"text-gray-700 dark:text-slate-300 mb-3",children:$.message}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${$.type==="success"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":$.type==="warning"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":$.type==="error"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400"}`,children:$.category}),!$.read&&l.jsx("span",{className:"px-2 py-1 bg-neonBlue/10 text-neonBlue rounded text-xs font-medium",children:"New"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[$.actionUrl&&l.jsx(_e,{to:$.actionUrl,className:"text-neonBlue hover:text-blue-600 text-sm font-medium",children:"View Details"}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:()=>z([$.id]),className:"p-1 rounded hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:$.read?"Mark as unread":"Mark as read",children:$.read?l.jsx(Ca,{className:"w-4 h-4"}):l.jsx(_r,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>$.archived?R([$.id]):W([$.id]),className:"p-1 rounded hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:$.archived?"Unarchive":"Archive",children:l.jsx(Kc,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>D([$.id]),className:"p-1 rounded hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors text-red-500",title:"Delete",children:l.jsx(_o,{className:"w-4 h-4"})})]})]})]})]})]})})},$.id))]})})]})]})]}):l.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-slate-950",children:[l.jsx(Xt,{theme:e,setTheme:t,onReportChange:()=>{}}),l.jsxs("div",{className:"flex-1 transition-all duration-300",children:[l.jsx(Qt,{user:n}),l.jsx("main",{className:"mx-auto max-w-4xl px-6 py-8",children:l.jsxs("div",{className:"text-center py-16",children:[l.jsx(ya,{className:"w-16 h-16 mx-auto text-gray-400 dark:text-slate-500 mb-4"}),l.jsx("h1",{className:"text-2xl font-display font-bold text-gray-800 dark:text-slate-200 mb-2",children:"Sign In Required"}),l.jsx("p",{className:"text-gray-600 dark:text-slate-400 mb-8",children:"Please sign in to view your notifications and activity updates."}),l.jsxs("div",{className:"flex justify-center gap-4",children:[l.jsx(_e,{to:"/login",className:"px-6 py-3 bg-neonBlue text-white rounded-lg hover:bg-blue-600 transition-colors duration-200 font-medium shadow-lg hover:shadow-neon",children:"Sign In"}),l.jsx(_e,{to:"/signup",className:"px-6 py-3 border border-neonBlue text-neonBlue rounded-lg hover:bg-neonBlue hover:text-white transition-colors duration-200 font-medium",children:"Create Account"})]})]})})]})]})}function ZS(){"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js").then(n=>{console.log("ServiceWorker registered:",n)}).catch(n=>{console.error("ServiceWorker registration failed:",n)})}Ny.createRoot(document.getElementById("root")).render(l.jsx(So.StrictMode,{children:l.jsx(_S,{children:l.jsx(nv,{children:l.jsx($b,{children:l.jsxs(xb,{children:[l.jsx(Pt,{path:"/",element:l.jsx(CS,{})}),l.jsx(Pt,{path:"/login",element:l.jsx(TS,{})}),l.jsx(Pt,{path:"/signup",element:l.jsx(zS,{})}),l.jsx(Pt,{path:"/forgot-password",element:l.jsx(OS,{})}),l.jsx(Pt,{path:"/reset-password",element:l.jsx(FS,{})}),l.jsx(Pt,{path:"/settings",element:l.jsx(IS,{})}),l.jsx(Pt,{path:"/profile",element:l.jsx(BS,{})}),l.jsx(Pt,{path:"/tools/:action",element:l.jsx(ES,{})}),l.jsx(Pt,{path:"/forecast",element:l.jsx(GS,{})}),l.jsx(Pt,{path:"/editing",element:l.jsx(QS,{})}),l.jsx(Pt,{path:"/notifications",element:l.jsx(JS,{})}),l.jsx(Pt,{path:"*",element:l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-slate-950",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-slate-200 mb-2",children:"Page Not Found"}),l.jsx("p",{className:"text-gray-600 dark:text-slate-400 mb-4",children:"The page you're looking for doesn't exist."}),l.jsx("a",{href:"/",className:"px-4 py-2 bg-neonBlue text-white rounded-lg hover:bg-blue-600 transition-colors duration-200",children:"Go Home"})]})})})]})})})})}));ZS();
