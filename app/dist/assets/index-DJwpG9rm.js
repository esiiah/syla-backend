(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function gm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var kc={exports:{}},Js={},wc={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _f;function Xx(){if(_f)return we;_f=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function v(A){return A===null||typeof A!="object"?null:(A=y&&A[y]||A["@@iterator"],typeof A=="function"?A:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,k={};function _(A,K,Z){this.props=A,this.context=K,this.refs=k,this.updater=Z||b}_.prototype.isReactComponent={},_.prototype.setState=function(A,K){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,K,"setState")},_.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function N(){}N.prototype=_.prototype;function C(A,K,Z){this.props=A,this.context=K,this.refs=k,this.updater=Z||b}var P=C.prototype=new N;P.constructor=C,S(P,_.prototype),P.isPureReactComponent=!0;var O=Array.isArray,D=Object.prototype.hasOwnProperty,Y={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function I(A,K,Z){var ue,ge={},X=null,oe=null;if(K!=null)for(ue in K.ref!==void 0&&(oe=K.ref),K.key!==void 0&&(X=""+K.key),K)D.call(K,ue)&&!$.hasOwnProperty(ue)&&(ge[ue]=K[ue]);var W=arguments.length-2;if(W===1)ge.children=Z;else if(1<W){for(var J=Array(W),ve=0;ve<W;ve++)J[ve]=arguments[ve+2];ge.children=J}if(A&&A.defaultProps)for(ue in W=A.defaultProps,W)ge[ue]===void 0&&(ge[ue]=W[ue]);return{$$typeof:n,type:A,key:X,ref:oe,props:ge,_owner:Y.current}}function G(A,K){return{$$typeof:n,type:A.type,key:K,ref:A.ref,props:A.props,_owner:A._owner}}function U(A){return typeof A=="object"&&A!==null&&A.$$typeof===n}function T(A){var K={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(Z){return K[Z]})}var R=/\/+/g;function F(A,K){return typeof A=="object"&&A!==null&&A.key!=null?T(""+A.key):K.toString(36)}function B(A,K,Z,ue,ge){var X=typeof A;(X==="undefined"||X==="boolean")&&(A=null);var oe=!1;if(A===null)oe=!0;else switch(X){case"string":case"number":oe=!0;break;case"object":switch(A.$$typeof){case n:case e:oe=!0}}if(oe)return oe=A,ge=ge(oe),A=ue===""?"."+F(oe,0):ue,O(ge)?(Z="",A!=null&&(Z=A.replace(R,"$&/")+"/"),B(ge,K,Z,"",function(ve){return ve})):ge!=null&&(U(ge)&&(ge=G(ge,Z+(!ge.key||oe&&oe.key===ge.key?"":(""+ge.key).replace(R,"$&/")+"/")+A)),K.push(ge)),1;if(oe=0,ue=ue===""?".":ue+":",O(A))for(var W=0;W<A.length;W++){X=A[W];var J=ue+F(X,W);oe+=B(X,K,Z,J,ge)}else if(J=v(A),typeof J=="function")for(A=J.call(A),W=0;!(X=A.next()).done;)X=X.value,J=ue+F(X,W++),oe+=B(X,K,Z,J,ge);else if(X==="object")throw K=String(A),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return oe}function Q(A,K,Z){if(A==null)return A;var ue=[],ge=0;return B(A,ue,"","",function(X){return K.call(Z,X,ge++)}),ue}function ie(A){if(A._status===-1){var K=A._result;K=K(),K.then(function(Z){(A._status===0||A._status===-1)&&(A._status=1,A._result=Z)},function(Z){(A._status===0||A._status===-1)&&(A._status=2,A._result=Z)}),A._status===-1&&(A._status=0,A._result=K)}if(A._status===1)return A._result.default;throw A._result}var ce={current:null},ne={transition:null},ae={ReactCurrentDispatcher:ce,ReactCurrentBatchConfig:ne,ReactCurrentOwner:Y};function q(){throw Error("act(...) is not supported in production builds of React.")}return we.Children={map:Q,forEach:function(A,K,Z){Q(A,function(){K.apply(this,arguments)},Z)},count:function(A){var K=0;return Q(A,function(){K++}),K},toArray:function(A){return Q(A,function(K){return K})||[]},only:function(A){if(!U(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},we.Component=_,we.Fragment=t,we.Profiler=a,we.PureComponent=C,we.StrictMode=s,we.Suspense=h,we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,we.act=q,we.cloneElement=function(A,K,Z){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var ue=S({},A.props),ge=A.key,X=A.ref,oe=A._owner;if(K!=null){if(K.ref!==void 0&&(X=K.ref,oe=Y.current),K.key!==void 0&&(ge=""+K.key),A.type&&A.type.defaultProps)var W=A.type.defaultProps;for(J in K)D.call(K,J)&&!$.hasOwnProperty(J)&&(ue[J]=K[J]===void 0&&W!==void 0?W[J]:K[J])}var J=arguments.length-2;if(J===1)ue.children=Z;else if(1<J){W=Array(J);for(var ve=0;ve<J;ve++)W[ve]=arguments[ve+2];ue.children=W}return{$$typeof:n,type:A.type,key:ge,ref:X,props:ue,_owner:oe}},we.createContext=function(A){return A={$$typeof:l,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:o,_context:A},A.Consumer=A},we.createElement=I,we.createFactory=function(A){var K=I.bind(null,A);return K.type=A,K},we.createRef=function(){return{current:null}},we.forwardRef=function(A){return{$$typeof:u,render:A}},we.isValidElement=U,we.lazy=function(A){return{$$typeof:m,_payload:{_status:-1,_result:A},_init:ie}},we.memo=function(A,K){return{$$typeof:p,type:A,compare:K===void 0?null:K}},we.startTransition=function(A){var K=ne.transition;ne.transition={};try{A()}finally{ne.transition=K}},we.unstable_act=q,we.useCallback=function(A,K){return ce.current.useCallback(A,K)},we.useContext=function(A){return ce.current.useContext(A)},we.useDebugValue=function(){},we.useDeferredValue=function(A){return ce.current.useDeferredValue(A)},we.useEffect=function(A,K){return ce.current.useEffect(A,K)},we.useId=function(){return ce.current.useId()},we.useImperativeHandle=function(A,K,Z){return ce.current.useImperativeHandle(A,K,Z)},we.useInsertionEffect=function(A,K){return ce.current.useInsertionEffect(A,K)},we.useLayoutEffect=function(A,K){return ce.current.useLayoutEffect(A,K)},we.useMemo=function(A,K){return ce.current.useMemo(A,K)},we.useReducer=function(A,K,Z){return ce.current.useReducer(A,K,Z)},we.useRef=function(A){return ce.current.useRef(A)},we.useState=function(A){return ce.current.useState(A)},we.useSyncExternalStore=function(A,K,Z){return ce.current.useSyncExternalStore(A,K,Z)},we.useTransition=function(){return ce.current.useTransition()},we.version="18.3.1",we}var Sf;function ad(){return Sf||(Sf=1,wc.exports=Xx()),wc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jf;function qx(){if(jf)return Js;jf=1;var n=ad(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,h,p){var m,y={},v=null,b=null;p!==void 0&&(v=""+p),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(b=h.ref);for(m in h)s.call(h,m)&&!o.hasOwnProperty(m)&&(y[m]=h[m]);if(u&&u.defaultProps)for(m in h=u.defaultProps,h)y[m]===void 0&&(y[m]=h[m]);return{$$typeof:e,type:u,key:v,ref:b,props:y,_owner:a.current}}return Js.Fragment=t,Js.jsx=l,Js.jsxs=l,Js}var Nf;function Jx(){return Nf||(Nf=1,kc.exports=qx()),kc.exports}var d=Jx(),j=ad();const od=gm(j);var Ba={},_c={exports:{}},vt={},Sc={exports:{}},jc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cf;function Qx(){return Cf||(Cf=1,(function(n){function e(ne,ae){var q=ne.length;ne.push(ae);e:for(;0<q;){var A=q-1>>>1,K=ne[A];if(0<a(K,ae))ne[A]=ae,ne[q]=K,q=A;else break e}}function t(ne){return ne.length===0?null:ne[0]}function s(ne){if(ne.length===0)return null;var ae=ne[0],q=ne.pop();if(q!==ae){ne[0]=q;e:for(var A=0,K=ne.length,Z=K>>>1;A<Z;){var ue=2*(A+1)-1,ge=ne[ue],X=ue+1,oe=ne[X];if(0>a(ge,q))X<K&&0>a(oe,ge)?(ne[A]=oe,ne[X]=q,A=X):(ne[A]=ge,ne[ue]=q,A=ue);else if(X<K&&0>a(oe,q))ne[A]=oe,ne[X]=q,A=X;else break e}}return ae}function a(ne,ae){var q=ne.sortIndex-ae.sortIndex;return q!==0?q:ne.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],p=[],m=1,y=null,v=3,b=!1,S=!1,k=!1,_=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(ne){for(var ae=t(p);ae!==null;){if(ae.callback===null)s(p);else if(ae.startTime<=ne)s(p),ae.sortIndex=ae.expirationTime,e(h,ae);else break;ae=t(p)}}function O(ne){if(k=!1,P(ne),!S)if(t(h)!==null)S=!0,ie(D);else{var ae=t(p);ae!==null&&ce(O,ae.startTime-ne)}}function D(ne,ae){S=!1,k&&(k=!1,N(I),I=-1),b=!0;var q=v;try{for(P(ae),y=t(h);y!==null&&(!(y.expirationTime>ae)||ne&&!T());){var A=y.callback;if(typeof A=="function"){y.callback=null,v=y.priorityLevel;var K=A(y.expirationTime<=ae);ae=n.unstable_now(),typeof K=="function"?y.callback=K:y===t(h)&&s(h),P(ae)}else s(h);y=t(h)}if(y!==null)var Z=!0;else{var ue=t(p);ue!==null&&ce(O,ue.startTime-ae),Z=!1}return Z}finally{y=null,v=q,b=!1}}var Y=!1,$=null,I=-1,G=5,U=-1;function T(){return!(n.unstable_now()-U<G)}function R(){if($!==null){var ne=n.unstable_now();U=ne;var ae=!0;try{ae=$(!0,ne)}finally{ae?F():(Y=!1,$=null)}}else Y=!1}var F;if(typeof C=="function")F=function(){C(R)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,Q=B.port2;B.port1.onmessage=R,F=function(){Q.postMessage(null)}}else F=function(){_(R,0)};function ie(ne){$=ne,Y||(Y=!0,F())}function ce(ne,ae){I=_(function(){ne(n.unstable_now())},ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ne){ne.callback=null},n.unstable_continueExecution=function(){S||b||(S=!0,ie(D))},n.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<ne?Math.floor(1e3/ne):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(ne){switch(v){case 1:case 2:case 3:var ae=3;break;default:ae=v}var q=v;v=ae;try{return ne()}finally{v=q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ne,ae){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var q=v;v=ne;try{return ae()}finally{v=q}},n.unstable_scheduleCallback=function(ne,ae,q){var A=n.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?A+q:A):q=A,ne){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=q+K,ne={id:m++,callback:ae,priorityLevel:ne,startTime:q,expirationTime:K,sortIndex:-1},q>A?(ne.sortIndex=q,e(p,ne),t(h)===null&&ne===t(p)&&(k?(N(I),I=-1):k=!0,ce(O,q-A))):(ne.sortIndex=K,e(h,ne),S||b||(S=!0,ie(D))),ne},n.unstable_shouldYield=T,n.unstable_wrapCallback=function(ne){var ae=v;return function(){var q=v;v=ae;try{return ne.apply(this,arguments)}finally{v=q}}}})(jc)),jc}var Mf;function Zx(){return Mf||(Mf=1,Sc.exports=Qx()),Sc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pf;function ey(){if(Pf)return vt;Pf=1;var n=ad(),e=Zx();function t(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,c=1;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function o(r,i){l(r,i),l(r+"Capture",i)}function l(r,i){for(a[r]=i,r=0;r<i.length;r++)s.add(i[r])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function v(r){return h.call(y,r)?!0:h.call(m,r)?!1:p.test(r)?y[r]=!0:(m[r]=!0,!1)}function b(r,i,c,f){if(c!==null&&c.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function S(r,i,c,f){if(i===null||typeof i>"u"||b(r,i,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function k(r,i,c,f,g,x,w){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=r,this.type=i,this.sanitizeURL=x,this.removeEmptyString=w}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){_[r]=new k(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];_[i]=new k(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){_[r]=new k(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){_[r]=new k(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){_[r]=new k(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){_[r]=new k(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){_[r]=new k(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){_[r]=new k(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){_[r]=new k(r,5,!1,r.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function C(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(N,C);_[i]=new k(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(N,C);_[i]=new k(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(N,C);_[i]=new k(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){_[r]=new k(r,1,!1,r.toLowerCase(),null,!1,!1)}),_.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){_[r]=new k(r,1,!1,r.toLowerCase(),null,!0,!0)});function P(r,i,c,f){var g=_.hasOwnProperty(i)?_[i]:null;(g!==null?g.type!==0:f||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(S(i,c,g,f)&&(c=null),f||g===null?v(i)&&(c===null?r.removeAttribute(i):r.setAttribute(i,""+c)):g.mustUseProperty?r[g.propertyName]=c===null?g.type===3?!1:"":c:(i=g.attributeName,f=g.attributeNamespace,c===null?r.removeAttribute(i):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,f?r.setAttributeNS(f,i,c):r.setAttribute(i,c))))}var O=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),Y=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),T=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),ce=Symbol.for("react.offscreen"),ne=Symbol.iterator;function ae(r){return r===null||typeof r!="object"?null:(r=ne&&r[ne]||r["@@iterator"],typeof r=="function"?r:null)}var q=Object.assign,A;function K(r){if(A===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);A=i&&i[1]||""}return`
`+A+r}var Z=!1;function ue(r,i){if(!r||Z)return"";Z=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(V){var f=V}Reflect.construct(r,[],i)}else{try{i.call()}catch(V){f=V}r.call(i.prototype)}else{try{throw Error()}catch(V){f=V}r()}}catch(V){if(V&&f&&typeof V.stack=="string"){for(var g=V.stack.split(`
`),x=f.stack.split(`
`),w=g.length-1,M=x.length-1;1<=w&&0<=M&&g[w]!==x[M];)M--;for(;1<=w&&0<=M;w--,M--)if(g[w]!==x[M]){if(w!==1||M!==1)do if(w--,M--,0>M||g[w]!==x[M]){var E=`
`+g[w].replace(" at new "," at ");return r.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",r.displayName)),E}while(1<=w&&0<=M);break}}}finally{Z=!1,Error.prepareStackTrace=c}return(r=r?r.displayName||r.name:"")?K(r):""}function ge(r){switch(r.tag){case 5:return K(r.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return r=ue(r.type,!1),r;case 11:return r=ue(r.type.render,!1),r;case 1:return r=ue(r.type,!0),r;default:return""}}function X(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case $:return"Fragment";case Y:return"Portal";case G:return"Profiler";case I:return"StrictMode";case F:return"Suspense";case B:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case T:return(r.displayName||"Context")+".Consumer";case U:return(r._context.displayName||"Context")+".Provider";case R:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Q:return i=r.displayName||null,i!==null?i:X(r.type)||"Memo";case ie:i=r._payload,r=r._init;try{return X(r(i))}catch{}}return null}function oe(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return X(i);case 8:return i===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function W(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function J(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ve(r){var i=J(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),f=""+r[i];if(!r.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,x=c.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return g.call(this)},set:function(w){f=""+w,x.call(this,w)}}),Object.defineProperty(r,i,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(w){f=""+w},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function De(r){r._valueTracker||(r._valueTracker=ve(r))}function Le(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var c=i.getValue(),f="";return r&&(f=J(r)?r.checked?"true":"false":r.value),r=f,r!==c?(i.setValue(r),!0):!1}function Me(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Kt(r,i){var c=i.checked;return q({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??r._wrapperState.initialChecked})}function Di(r,i){var c=i.defaultValue==null?"":i.defaultValue,f=i.checked!=null?i.checked:i.defaultChecked;c=W(i.value!=null?i.value:c),r._wrapperState={initialChecked:f,initialValue:c,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Cn(r,i){i=i.checked,i!=null&&P(r,"checked",i,!1)}function us(r,i){Cn(r,i);var c=W(i.value),f=i.type;if(c!=null)f==="number"?(c===0&&r.value===""||r.value!=c)&&(r.value=""+c):r.value!==""+c&&(r.value=""+c);else if(f==="submit"||f==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?Zn(r,i.type,c):i.hasOwnProperty("defaultValue")&&Zn(r,i.type,W(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function hs(r,i,c){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var f=i.type;if(!(f!=="submit"&&f!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,c||i===r.value||(r.value=i),r.defaultValue=i}c=r.name,c!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,c!==""&&(r.name=c)}function Zn(r,i,c){(i!=="number"||Me(r.ownerDocument)!==r)&&(c==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+c&&(r.defaultValue=""+c))}var er=Array.isArray;function ln(r,i,c,f){if(r=r.options,i){i={};for(var g=0;g<c.length;g++)i["$"+c[g]]=!0;for(c=0;c<r.length;c++)g=i.hasOwnProperty("$"+r[c].value),r[c].selected!==g&&(r[c].selected=g),g&&f&&(r[c].defaultSelected=!0)}else{for(c=""+W(c),i=null,g=0;g<r.length;g++){if(r[g].value===c){r[g].selected=!0,f&&(r[g].defaultSelected=!0);return}i!==null||r[g].disabled||(i=r[g])}i!==null&&(i.selected=!0)}}function Mr(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return q({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Td(r,i){var c=i.value;if(c==null){if(c=i.children,i=i.defaultValue,c!=null){if(i!=null)throw Error(t(92));if(er(c)){if(1<c.length)throw Error(t(93));c=c[0]}i=c}i==null&&(i=""),c=i}r._wrapperState={initialValue:W(c)}}function Rd(r,i){var c=W(i.value),f=W(i.defaultValue);c!=null&&(c=""+c,c!==r.value&&(r.value=c),i.defaultValue==null&&r.defaultValue!==c&&(r.defaultValue=c)),f!=null&&(r.defaultValue=""+f)}function Ld(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function Od(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function To(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?Od(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Ti,Fd=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,c,f,g){MSApp.execUnsafeLocalFunction(function(){return r(i,c,f,g)})}:r})(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(Ti=Ti||document.createElement("div"),Ti.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Ti.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function fs(r,i){if(i){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=i;return}}r.textContent=i}var ps={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zg=["Webkit","ms","Moz","O"];Object.keys(ps).forEach(function(r){Zg.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),ps[i]=ps[r]})});function Ad(r,i,c){return i==null||typeof i=="boolean"||i===""?"":c||typeof i!="number"||i===0||ps.hasOwnProperty(r)&&ps[r]?(""+i).trim():i+"px"}function Id(r,i){r=r.style;for(var c in i)if(i.hasOwnProperty(c)){var f=c.indexOf("--")===0,g=Ad(c,i[c],f);c==="float"&&(c="cssFloat"),f?r.setProperty(c,g):r[c]=g}}var e0=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ro(r,i){if(i){if(e0[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Lo(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oo=null;function Fo(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ao=null,Pr=null,Er=null;function zd(r){if(r=Fs(r)){if(typeof Ao!="function")throw Error(t(280));var i=r.stateNode;i&&(i=ta(i),Ao(r.stateNode,r.type,i))}}function Bd(r){Pr?Er?Er.push(r):Er=[r]:Pr=r}function $d(){if(Pr){var r=Pr,i=Er;if(Er=Pr=null,zd(r),i)for(r=0;r<i.length;r++)zd(i[r])}}function Hd(r,i){return r(i)}function Vd(){}var Io=!1;function Wd(r,i,c){if(Io)return r(i,c);Io=!0;try{return Hd(r,i,c)}finally{Io=!1,(Pr!==null||Er!==null)&&(Vd(),$d())}}function ms(r,i){var c=r.stateNode;if(c===null)return null;var f=ta(c);if(f===null)return null;c=f[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(t(231,i,typeof c));return c}var zo=!1;if(u)try{var gs={};Object.defineProperty(gs,"passive",{get:function(){zo=!0}}),window.addEventListener("test",gs,gs),window.removeEventListener("test",gs,gs)}catch{zo=!1}function t0(r,i,c,f,g,x,w,M,E){var V=Array.prototype.slice.call(arguments,3);try{i.apply(c,V)}catch(te){this.onError(te)}}var xs=!1,Ri=null,Li=!1,Bo=null,n0={onError:function(r){xs=!0,Ri=r}};function r0(r,i,c,f,g,x,w,M,E){xs=!1,Ri=null,t0.apply(n0,arguments)}function s0(r,i,c,f,g,x,w,M,E){if(r0.apply(this,arguments),xs){if(xs){var V=Ri;xs=!1,Ri=null}else throw Error(t(198));Li||(Li=!0,Bo=V)}}function tr(r){var i=r,c=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(c=i.return),r=i.return;while(r)}return i.tag===3?c:null}function Ud(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function Yd(r){if(tr(r)!==r)throw Error(t(188))}function i0(r){var i=r.alternate;if(!i){if(i=tr(r),i===null)throw Error(t(188));return i!==r?null:r}for(var c=r,f=i;;){var g=c.return;if(g===null)break;var x=g.alternate;if(x===null){if(f=g.return,f!==null){c=f;continue}break}if(g.child===x.child){for(x=g.child;x;){if(x===c)return Yd(g),r;if(x===f)return Yd(g),i;x=x.sibling}throw Error(t(188))}if(c.return!==f.return)c=g,f=x;else{for(var w=!1,M=g.child;M;){if(M===c){w=!0,c=g,f=x;break}if(M===f){w=!0,f=g,c=x;break}M=M.sibling}if(!w){for(M=x.child;M;){if(M===c){w=!0,c=x,f=g;break}if(M===f){w=!0,f=x,c=g;break}M=M.sibling}if(!w)throw Error(t(189))}}if(c.alternate!==f)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?r:i}function Gd(r){return r=i0(r),r!==null?Kd(r):null}function Kd(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=Kd(r);if(i!==null)return i;r=r.sibling}return null}var Xd=e.unstable_scheduleCallback,qd=e.unstable_cancelCallback,a0=e.unstable_shouldYield,o0=e.unstable_requestPaint,Ye=e.unstable_now,l0=e.unstable_getCurrentPriorityLevel,$o=e.unstable_ImmediatePriority,Jd=e.unstable_UserBlockingPriority,Oi=e.unstable_NormalPriority,c0=e.unstable_LowPriority,Qd=e.unstable_IdlePriority,Fi=null,Xt=null;function d0(r){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(Fi,r,void 0,(r.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:f0,u0=Math.log,h0=Math.LN2;function f0(r){return r>>>=0,r===0?32:31-(u0(r)/h0|0)|0}var Ai=64,Ii=4194304;function ys(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function zi(r,i){var c=r.pendingLanes;if(c===0)return 0;var f=0,g=r.suspendedLanes,x=r.pingedLanes,w=c&268435455;if(w!==0){var M=w&~g;M!==0?f=ys(M):(x&=w,x!==0&&(f=ys(x)))}else w=c&~g,w!==0?f=ys(w):x!==0&&(f=ys(x));if(f===0)return 0;if(i!==0&&i!==f&&(i&g)===0&&(g=f&-f,x=i&-i,g>=x||g===16&&(x&4194240)!==0))return i;if((f&4)!==0&&(f|=c&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=f;0<i;)c=31-Bt(i),g=1<<c,f|=r[c],i&=~g;return f}function p0(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function m0(r,i){for(var c=r.suspendedLanes,f=r.pingedLanes,g=r.expirationTimes,x=r.pendingLanes;0<x;){var w=31-Bt(x),M=1<<w,E=g[w];E===-1?((M&c)===0||(M&f)!==0)&&(g[w]=p0(M,i)):E<=i&&(r.expiredLanes|=M),x&=~M}}function Ho(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Zd(){var r=Ai;return Ai<<=1,(Ai&4194240)===0&&(Ai=64),r}function Vo(r){for(var i=[],c=0;31>c;c++)i.push(r);return i}function vs(r,i,c){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-Bt(i),r[i]=c}function g0(r,i){var c=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var f=r.eventTimes;for(r=r.expirationTimes;0<c;){var g=31-Bt(c),x=1<<g;i[g]=0,f[g]=-1,r[g]=-1,c&=~x}}function Wo(r,i){var c=r.entangledLanes|=i;for(r=r.entanglements;c;){var f=31-Bt(c),g=1<<f;g&i|r[f]&i&&(r[f]|=i),c&=~g}}var Pe=0;function eu(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var tu,Uo,nu,ru,su,Yo=!1,Bi=[],Mn=null,Pn=null,En=null,bs=new Map,ks=new Map,Dn=[],x0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function iu(r,i){switch(r){case"focusin":case"focusout":Mn=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":En=null;break;case"pointerover":case"pointerout":bs.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ks.delete(i.pointerId)}}function ws(r,i,c,f,g,x){return r===null||r.nativeEvent!==x?(r={blockedOn:i,domEventName:c,eventSystemFlags:f,nativeEvent:x,targetContainers:[g]},i!==null&&(i=Fs(i),i!==null&&Uo(i)),r):(r.eventSystemFlags|=f,i=r.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),r)}function y0(r,i,c,f,g){switch(i){case"focusin":return Mn=ws(Mn,r,i,c,f,g),!0;case"dragenter":return Pn=ws(Pn,r,i,c,f,g),!0;case"mouseover":return En=ws(En,r,i,c,f,g),!0;case"pointerover":var x=g.pointerId;return bs.set(x,ws(bs.get(x)||null,r,i,c,f,g)),!0;case"gotpointercapture":return x=g.pointerId,ks.set(x,ws(ks.get(x)||null,r,i,c,f,g)),!0}return!1}function au(r){var i=nr(r.target);if(i!==null){var c=tr(i);if(c!==null){if(i=c.tag,i===13){if(i=Ud(c),i!==null){r.blockedOn=i,su(r.priority,function(){nu(c)});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function $i(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var c=Ko(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(c===null){c=r.nativeEvent;var f=new c.constructor(c.type,c);Oo=f,c.target.dispatchEvent(f),Oo=null}else return i=Fs(c),i!==null&&Uo(i),r.blockedOn=c,!1;i.shift()}return!0}function ou(r,i,c){$i(r)&&c.delete(i)}function v0(){Yo=!1,Mn!==null&&$i(Mn)&&(Mn=null),Pn!==null&&$i(Pn)&&(Pn=null),En!==null&&$i(En)&&(En=null),bs.forEach(ou),ks.forEach(ou)}function _s(r,i){r.blockedOn===i&&(r.blockedOn=null,Yo||(Yo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,v0)))}function Ss(r){function i(g){return _s(g,r)}if(0<Bi.length){_s(Bi[0],r);for(var c=1;c<Bi.length;c++){var f=Bi[c];f.blockedOn===r&&(f.blockedOn=null)}}for(Mn!==null&&_s(Mn,r),Pn!==null&&_s(Pn,r),En!==null&&_s(En,r),bs.forEach(i),ks.forEach(i),c=0;c<Dn.length;c++)f=Dn[c],f.blockedOn===r&&(f.blockedOn=null);for(;0<Dn.length&&(c=Dn[0],c.blockedOn===null);)au(c),c.blockedOn===null&&Dn.shift()}var Dr=O.ReactCurrentBatchConfig,Hi=!0;function b0(r,i,c,f){var g=Pe,x=Dr.transition;Dr.transition=null;try{Pe=1,Go(r,i,c,f)}finally{Pe=g,Dr.transition=x}}function k0(r,i,c,f){var g=Pe,x=Dr.transition;Dr.transition=null;try{Pe=4,Go(r,i,c,f)}finally{Pe=g,Dr.transition=x}}function Go(r,i,c,f){if(Hi){var g=Ko(r,i,c,f);if(g===null)ul(r,i,f,Vi,c),iu(r,f);else if(y0(g,r,i,c,f))f.stopPropagation();else if(iu(r,f),i&4&&-1<x0.indexOf(r)){for(;g!==null;){var x=Fs(g);if(x!==null&&tu(x),x=Ko(r,i,c,f),x===null&&ul(r,i,f,Vi,c),x===g)break;g=x}g!==null&&f.stopPropagation()}else ul(r,i,f,null,c)}}var Vi=null;function Ko(r,i,c,f){if(Vi=null,r=Fo(f),r=nr(r),r!==null)if(i=tr(r),i===null)r=null;else if(c=i.tag,c===13){if(r=Ud(i),r!==null)return r;r=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return Vi=r,null}function lu(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(l0()){case $o:return 1;case Jd:return 4;case Oi:case c0:return 16;case Qd:return 536870912;default:return 16}default:return 16}}var Tn=null,Xo=null,Wi=null;function cu(){if(Wi)return Wi;var r,i=Xo,c=i.length,f,g="value"in Tn?Tn.value:Tn.textContent,x=g.length;for(r=0;r<c&&i[r]===g[r];r++);var w=c-r;for(f=1;f<=w&&i[c-f]===g[x-f];f++);return Wi=g.slice(r,1<f?1-f:void 0)}function Ui(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Yi(){return!0}function du(){return!1}function _t(r){function i(c,f,g,x,w){this._reactName=c,this._targetInst=g,this.type=f,this.nativeEvent=x,this.target=w,this.currentTarget=null;for(var M in r)r.hasOwnProperty(M)&&(c=r[M],this[M]=c?c(x):x[M]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Yi:du,this.isPropagationStopped=du,this}return q(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Yi)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Yi)},persist:function(){},isPersistent:Yi}),i}var Tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qo=_t(Tr),js=q({},Tr,{view:0,detail:0}),w0=_t(js),Jo,Qo,Ns,Gi=q({},js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:el,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ns&&(Ns&&r.type==="mousemove"?(Jo=r.screenX-Ns.screenX,Qo=r.screenY-Ns.screenY):Qo=Jo=0,Ns=r),Jo)},movementY:function(r){return"movementY"in r?r.movementY:Qo}}),uu=_t(Gi),_0=q({},Gi,{dataTransfer:0}),S0=_t(_0),j0=q({},js,{relatedTarget:0}),Zo=_t(j0),N0=q({},Tr,{animationName:0,elapsedTime:0,pseudoElement:0}),C0=_t(N0),M0=q({},Tr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),P0=_t(M0),E0=q({},Tr,{data:0}),hu=_t(E0),D0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},T0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},R0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function L0(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=R0[r])?!!i[r]:!1}function el(){return L0}var O0=q({},js,{key:function(r){if(r.key){var i=D0[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Ui(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?T0[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:el,charCode:function(r){return r.type==="keypress"?Ui(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ui(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),F0=_t(O0),A0=q({},Gi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fu=_t(A0),I0=q({},js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:el}),z0=_t(I0),B0=q({},Tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),$0=_t(B0),H0=q({},Gi,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),V0=_t(H0),W0=[9,13,27,32],tl=u&&"CompositionEvent"in window,Cs=null;u&&"documentMode"in document&&(Cs=document.documentMode);var U0=u&&"TextEvent"in window&&!Cs,pu=u&&(!tl||Cs&&8<Cs&&11>=Cs),mu=" ",gu=!1;function xu(r,i){switch(r){case"keyup":return W0.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yu(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Rr=!1;function Y0(r,i){switch(r){case"compositionend":return yu(i);case"keypress":return i.which!==32?null:(gu=!0,mu);case"textInput":return r=i.data,r===mu&&gu?null:r;default:return null}}function G0(r,i){if(Rr)return r==="compositionend"||!tl&&xu(r,i)?(r=cu(),Wi=Xo=Tn=null,Rr=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return pu&&i.locale!=="ko"?null:i.data;default:return null}}var K0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vu(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!K0[r.type]:i==="textarea"}function bu(r,i,c,f){Bd(f),i=Qi(i,"onChange"),0<i.length&&(c=new qo("onChange","change",null,c,f),r.push({event:c,listeners:i}))}var Ms=null,Ps=null;function X0(r){Iu(r,0)}function Ki(r){var i=Ir(r);if(Le(i))return r}function q0(r,i){if(r==="change")return i}var ku=!1;if(u){var nl;if(u){var rl="oninput"in document;if(!rl){var wu=document.createElement("div");wu.setAttribute("oninput","return;"),rl=typeof wu.oninput=="function"}nl=rl}else nl=!1;ku=nl&&(!document.documentMode||9<document.documentMode)}function _u(){Ms&&(Ms.detachEvent("onpropertychange",Su),Ps=Ms=null)}function Su(r){if(r.propertyName==="value"&&Ki(Ps)){var i=[];bu(i,Ps,r,Fo(r)),Wd(X0,i)}}function J0(r,i,c){r==="focusin"?(_u(),Ms=i,Ps=c,Ms.attachEvent("onpropertychange",Su)):r==="focusout"&&_u()}function Q0(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ki(Ps)}function Z0(r,i){if(r==="click")return Ki(i)}function ex(r,i){if(r==="input"||r==="change")return Ki(i)}function tx(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var $t=typeof Object.is=="function"?Object.is:tx;function Es(r,i){if($t(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var c=Object.keys(r),f=Object.keys(i);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var g=c[f];if(!h.call(i,g)||!$t(r[g],i[g]))return!1}return!0}function ju(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Nu(r,i){var c=ju(r);r=0;for(var f;c;){if(c.nodeType===3){if(f=r+c.textContent.length,r<=i&&f>=i)return{node:c,offset:i-r};r=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=ju(c)}}function Cu(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Cu(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Mu(){for(var r=window,i=Me();i instanceof r.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch{c=!1}if(c)r=i.contentWindow;else break;i=Me(r.document)}return i}function sl(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function nx(r){var i=Mu(),c=r.focusedElem,f=r.selectionRange;if(i!==c&&c&&c.ownerDocument&&Cu(c.ownerDocument.documentElement,c)){if(f!==null&&sl(c)){if(i=f.start,r=f.end,r===void 0&&(r=i),"selectionStart"in c)c.selectionStart=i,c.selectionEnd=Math.min(r,c.value.length);else if(r=(i=c.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var g=c.textContent.length,x=Math.min(f.start,g);f=f.end===void 0?x:Math.min(f.end,g),!r.extend&&x>f&&(g=f,f=x,x=g),g=Nu(c,x);var w=Nu(c,f);g&&w&&(r.rangeCount!==1||r.anchorNode!==g.node||r.anchorOffset!==g.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(i=i.createRange(),i.setStart(g.node,g.offset),r.removeAllRanges(),x>f?(r.addRange(i),r.extend(w.node,w.offset)):(i.setEnd(w.node,w.offset),r.addRange(i)))}}for(i=[],r=c;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<i.length;c++)r=i[c],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var rx=u&&"documentMode"in document&&11>=document.documentMode,Lr=null,il=null,Ds=null,al=!1;function Pu(r,i,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;al||Lr==null||Lr!==Me(f)||(f=Lr,"selectionStart"in f&&sl(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Ds&&Es(Ds,f)||(Ds=f,f=Qi(il,"onSelect"),0<f.length&&(i=new qo("onSelect","select",null,i,c),r.push({event:i,listeners:f}),i.target=Lr)))}function Xi(r,i){var c={};return c[r.toLowerCase()]=i.toLowerCase(),c["Webkit"+r]="webkit"+i,c["Moz"+r]="moz"+i,c}var Or={animationend:Xi("Animation","AnimationEnd"),animationiteration:Xi("Animation","AnimationIteration"),animationstart:Xi("Animation","AnimationStart"),transitionend:Xi("Transition","TransitionEnd")},ol={},Eu={};u&&(Eu=document.createElement("div").style,"AnimationEvent"in window||(delete Or.animationend.animation,delete Or.animationiteration.animation,delete Or.animationstart.animation),"TransitionEvent"in window||delete Or.transitionend.transition);function qi(r){if(ol[r])return ol[r];if(!Or[r])return r;var i=Or[r],c;for(c in i)if(i.hasOwnProperty(c)&&c in Eu)return ol[r]=i[c];return r}var Du=qi("animationend"),Tu=qi("animationiteration"),Ru=qi("animationstart"),Lu=qi("transitionend"),Ou=new Map,Fu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rn(r,i){Ou.set(r,i),o(i,[r])}for(var ll=0;ll<Fu.length;ll++){var cl=Fu[ll],sx=cl.toLowerCase(),ix=cl[0].toUpperCase()+cl.slice(1);Rn(sx,"on"+ix)}Rn(Du,"onAnimationEnd"),Rn(Tu,"onAnimationIteration"),Rn(Ru,"onAnimationStart"),Rn("dblclick","onDoubleClick"),Rn("focusin","onFocus"),Rn("focusout","onBlur"),Rn(Lu,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ts="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ax=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ts));function Au(r,i,c){var f=r.type||"unknown-event";r.currentTarget=c,s0(f,i,void 0,r),r.currentTarget=null}function Iu(r,i){i=(i&4)!==0;for(var c=0;c<r.length;c++){var f=r[c],g=f.event;f=f.listeners;e:{var x=void 0;if(i)for(var w=f.length-1;0<=w;w--){var M=f[w],E=M.instance,V=M.currentTarget;if(M=M.listener,E!==x&&g.isPropagationStopped())break e;Au(g,M,V),x=E}else for(w=0;w<f.length;w++){if(M=f[w],E=M.instance,V=M.currentTarget,M=M.listener,E!==x&&g.isPropagationStopped())break e;Au(g,M,V),x=E}}}if(Li)throw r=Bo,Li=!1,Bo=null,r}function Fe(r,i){var c=i[xl];c===void 0&&(c=i[xl]=new Set);var f=r+"__bubble";c.has(f)||(zu(i,r,2,!1),c.add(f))}function dl(r,i,c){var f=0;i&&(f|=4),zu(c,r,f,i)}var Ji="_reactListening"+Math.random().toString(36).slice(2);function Rs(r){if(!r[Ji]){r[Ji]=!0,s.forEach(function(c){c!=="selectionchange"&&(ax.has(c)||dl(c,!1,r),dl(c,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Ji]||(i[Ji]=!0,dl("selectionchange",!1,i))}}function zu(r,i,c,f){switch(lu(i)){case 1:var g=b0;break;case 4:g=k0;break;default:g=Go}c=g.bind(null,i,c,r),g=void 0,!zo||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),f?g!==void 0?r.addEventListener(i,c,{capture:!0,passive:g}):r.addEventListener(i,c,!0):g!==void 0?r.addEventListener(i,c,{passive:g}):r.addEventListener(i,c,!1)}function ul(r,i,c,f,g){var x=f;if((i&1)===0&&(i&2)===0&&f!==null)e:for(;;){if(f===null)return;var w=f.tag;if(w===3||w===4){var M=f.stateNode.containerInfo;if(M===g||M.nodeType===8&&M.parentNode===g)break;if(w===4)for(w=f.return;w!==null;){var E=w.tag;if((E===3||E===4)&&(E=w.stateNode.containerInfo,E===g||E.nodeType===8&&E.parentNode===g))return;w=w.return}for(;M!==null;){if(w=nr(M),w===null)return;if(E=w.tag,E===5||E===6){f=x=w;continue e}M=M.parentNode}}f=f.return}Wd(function(){var V=x,te=Fo(c),re=[];e:{var ee=Ou.get(r);if(ee!==void 0){var le=qo,he=r;switch(r){case"keypress":if(Ui(c)===0)break e;case"keydown":case"keyup":le=F0;break;case"focusin":he="focus",le=Zo;break;case"focusout":he="blur",le=Zo;break;case"beforeblur":case"afterblur":le=Zo;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=uu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=S0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=z0;break;case Du:case Tu:case Ru:le=C0;break;case Lu:le=$0;break;case"scroll":le=w0;break;case"wheel":le=V0;break;case"copy":case"cut":case"paste":le=P0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=fu}var fe=(i&4)!==0,Ge=!fe&&r==="scroll",z=fe?ee!==null?ee+"Capture":null:ee;fe=[];for(var L=V,H;L!==null;){H=L;var se=H.stateNode;if(H.tag===5&&se!==null&&(H=se,z!==null&&(se=ms(L,z),se!=null&&fe.push(Ls(L,se,H)))),Ge)break;L=L.return}0<fe.length&&(ee=new le(ee,he,null,c,te),re.push({event:ee,listeners:fe}))}}if((i&7)===0){e:{if(ee=r==="mouseover"||r==="pointerover",le=r==="mouseout"||r==="pointerout",ee&&c!==Oo&&(he=c.relatedTarget||c.fromElement)&&(nr(he)||he[cn]))break e;if((le||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,le?(he=c.relatedTarget||c.toElement,le=V,he=he?nr(he):null,he!==null&&(Ge=tr(he),he!==Ge||he.tag!==5&&he.tag!==6)&&(he=null)):(le=null,he=V),le!==he)){if(fe=uu,se="onMouseLeave",z="onMouseEnter",L="mouse",(r==="pointerout"||r==="pointerover")&&(fe=fu,se="onPointerLeave",z="onPointerEnter",L="pointer"),Ge=le==null?ee:Ir(le),H=he==null?ee:Ir(he),ee=new fe(se,L+"leave",le,c,te),ee.target=Ge,ee.relatedTarget=H,se=null,nr(te)===V&&(fe=new fe(z,L+"enter",he,c,te),fe.target=H,fe.relatedTarget=Ge,se=fe),Ge=se,le&&he)t:{for(fe=le,z=he,L=0,H=fe;H;H=Fr(H))L++;for(H=0,se=z;se;se=Fr(se))H++;for(;0<L-H;)fe=Fr(fe),L--;for(;0<H-L;)z=Fr(z),H--;for(;L--;){if(fe===z||z!==null&&fe===z.alternate)break t;fe=Fr(fe),z=Fr(z)}fe=null}else fe=null;le!==null&&Bu(re,ee,le,fe,!1),he!==null&&Ge!==null&&Bu(re,Ge,he,fe,!0)}}e:{if(ee=V?Ir(V):window,le=ee.nodeName&&ee.nodeName.toLowerCase(),le==="select"||le==="input"&&ee.type==="file")var pe=q0;else if(vu(ee))if(ku)pe=ex;else{pe=Q0;var xe=J0}else(le=ee.nodeName)&&le.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(pe=Z0);if(pe&&(pe=pe(r,V))){bu(re,pe,c,te);break e}xe&&xe(r,ee,V),r==="focusout"&&(xe=ee._wrapperState)&&xe.controlled&&ee.type==="number"&&Zn(ee,"number",ee.value)}switch(xe=V?Ir(V):window,r){case"focusin":(vu(xe)||xe.contentEditable==="true")&&(Lr=xe,il=V,Ds=null);break;case"focusout":Ds=il=Lr=null;break;case"mousedown":al=!0;break;case"contextmenu":case"mouseup":case"dragend":al=!1,Pu(re,c,te);break;case"selectionchange":if(rx)break;case"keydown":case"keyup":Pu(re,c,te)}var ye;if(tl)e:{switch(r){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Rr?xu(r,c)&&(be="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(be="onCompositionStart");be&&(pu&&c.locale!=="ko"&&(Rr||be!=="onCompositionStart"?be==="onCompositionEnd"&&Rr&&(ye=cu()):(Tn=te,Xo="value"in Tn?Tn.value:Tn.textContent,Rr=!0)),xe=Qi(V,be),0<xe.length&&(be=new hu(be,r,null,c,te),re.push({event:be,listeners:xe}),ye?be.data=ye:(ye=yu(c),ye!==null&&(be.data=ye)))),(ye=U0?Y0(r,c):G0(r,c))&&(V=Qi(V,"onBeforeInput"),0<V.length&&(te=new hu("onBeforeInput","beforeinput",null,c,te),re.push({event:te,listeners:V}),te.data=ye))}Iu(re,i)})}function Ls(r,i,c){return{instance:r,listener:i,currentTarget:c}}function Qi(r,i){for(var c=i+"Capture",f=[];r!==null;){var g=r,x=g.stateNode;g.tag===5&&x!==null&&(g=x,x=ms(r,c),x!=null&&f.unshift(Ls(r,x,g)),x=ms(r,i),x!=null&&f.push(Ls(r,x,g))),r=r.return}return f}function Fr(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Bu(r,i,c,f,g){for(var x=i._reactName,w=[];c!==null&&c!==f;){var M=c,E=M.alternate,V=M.stateNode;if(E!==null&&E===f)break;M.tag===5&&V!==null&&(M=V,g?(E=ms(c,x),E!=null&&w.unshift(Ls(c,E,M))):g||(E=ms(c,x),E!=null&&w.push(Ls(c,E,M)))),c=c.return}w.length!==0&&r.push({event:i,listeners:w})}var ox=/\r\n?/g,lx=/\u0000|\uFFFD/g;function $u(r){return(typeof r=="string"?r:""+r).replace(ox,`
`).replace(lx,"")}function Zi(r,i,c){if(i=$u(i),$u(r)!==i&&c)throw Error(t(425))}function ea(){}var hl=null,fl=null;function pl(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ml=typeof setTimeout=="function"?setTimeout:void 0,cx=typeof clearTimeout=="function"?clearTimeout:void 0,Hu=typeof Promise=="function"?Promise:void 0,dx=typeof queueMicrotask=="function"?queueMicrotask:typeof Hu<"u"?function(r){return Hu.resolve(null).then(r).catch(ux)}:ml;function ux(r){setTimeout(function(){throw r})}function gl(r,i){var c=i,f=0;do{var g=c.nextSibling;if(r.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(f===0){r.removeChild(g),Ss(i);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=g}while(c);Ss(i)}function Ln(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function Vu(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(i===0)return r;i--}else c==="/$"&&i++}r=r.previousSibling}return null}var Ar=Math.random().toString(36).slice(2),qt="__reactFiber$"+Ar,Os="__reactProps$"+Ar,cn="__reactContainer$"+Ar,xl="__reactEvents$"+Ar,hx="__reactListeners$"+Ar,fx="__reactHandles$"+Ar;function nr(r){var i=r[qt];if(i)return i;for(var c=r.parentNode;c;){if(i=c[cn]||c[qt]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(r=Vu(r);r!==null;){if(c=r[qt])return c;r=Vu(r)}return i}r=c,c=r.parentNode}return null}function Fs(r){return r=r[qt]||r[cn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Ir(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function ta(r){return r[Os]||null}var yl=[],zr=-1;function On(r){return{current:r}}function Ae(r){0>zr||(r.current=yl[zr],yl[zr]=null,zr--)}function Oe(r,i){zr++,yl[zr]=r.current,r.current=i}var Fn={},at=On(Fn),pt=On(!1),rr=Fn;function Br(r,i){var c=r.type.contextTypes;if(!c)return Fn;var f=r.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===i)return f.__reactInternalMemoizedMaskedChildContext;var g={},x;for(x in c)g[x]=i[x];return f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=g),g}function mt(r){return r=r.childContextTypes,r!=null}function na(){Ae(pt),Ae(at)}function Wu(r,i,c){if(at.current!==Fn)throw Error(t(168));Oe(at,i),Oe(pt,c)}function Uu(r,i,c){var f=r.stateNode;if(i=i.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var g in f)if(!(g in i))throw Error(t(108,oe(r)||"Unknown",g));return q({},c,f)}function ra(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Fn,rr=at.current,Oe(at,r),Oe(pt,pt.current),!0}function Yu(r,i,c){var f=r.stateNode;if(!f)throw Error(t(169));c?(r=Uu(r,i,rr),f.__reactInternalMemoizedMergedChildContext=r,Ae(pt),Ae(at),Oe(at,r)):Ae(pt),Oe(pt,c)}var dn=null,sa=!1,vl=!1;function Gu(r){dn===null?dn=[r]:dn.push(r)}function px(r){sa=!0,Gu(r)}function An(){if(!vl&&dn!==null){vl=!0;var r=0,i=Pe;try{var c=dn;for(Pe=1;r<c.length;r++){var f=c[r];do f=f(!0);while(f!==null)}dn=null,sa=!1}catch(g){throw dn!==null&&(dn=dn.slice(r+1)),Xd($o,An),g}finally{Pe=i,vl=!1}}return null}var $r=[],Hr=0,ia=null,aa=0,Et=[],Dt=0,sr=null,un=1,hn="";function ir(r,i){$r[Hr++]=aa,$r[Hr++]=ia,ia=r,aa=i}function Ku(r,i,c){Et[Dt++]=un,Et[Dt++]=hn,Et[Dt++]=sr,sr=r;var f=un;r=hn;var g=32-Bt(f)-1;f&=~(1<<g),c+=1;var x=32-Bt(i)+g;if(30<x){var w=g-g%5;x=(f&(1<<w)-1).toString(32),f>>=w,g-=w,un=1<<32-Bt(i)+g|c<<g|f,hn=x+r}else un=1<<x|c<<g|f,hn=r}function bl(r){r.return!==null&&(ir(r,1),Ku(r,1,0))}function kl(r){for(;r===ia;)ia=$r[--Hr],$r[Hr]=null,aa=$r[--Hr],$r[Hr]=null;for(;r===sr;)sr=Et[--Dt],Et[Dt]=null,hn=Et[--Dt],Et[Dt]=null,un=Et[--Dt],Et[Dt]=null}var St=null,jt=null,Ie=!1,Ht=null;function Xu(r,i){var c=Ot(5,null,null,0);c.elementType="DELETED",c.stateNode=i,c.return=r,i=r.deletions,i===null?(r.deletions=[c],r.flags|=16):i.push(c)}function qu(r,i){switch(r.tag){case 5:var c=r.type;return i=i.nodeType!==1||c.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,St=r,jt=Ln(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,St=r,jt=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(c=sr!==null?{id:un,overflow:hn}:null,r.memoizedState={dehydrated:i,treeContext:c,retryLane:1073741824},c=Ot(18,null,null,0),c.stateNode=i,c.return=r,r.child=c,St=r,jt=null,!0):!1;default:return!1}}function wl(r){return(r.mode&1)!==0&&(r.flags&128)===0}function _l(r){if(Ie){var i=jt;if(i){var c=i;if(!qu(r,i)){if(wl(r))throw Error(t(418));i=Ln(c.nextSibling);var f=St;i&&qu(r,i)?Xu(f,c):(r.flags=r.flags&-4097|2,Ie=!1,St=r)}}else{if(wl(r))throw Error(t(418));r.flags=r.flags&-4097|2,Ie=!1,St=r}}}function Ju(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;St=r}function oa(r){if(r!==St)return!1;if(!Ie)return Ju(r),Ie=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!pl(r.type,r.memoizedProps)),i&&(i=jt)){if(wl(r))throw Qu(),Error(t(418));for(;i;)Xu(r,i),i=Ln(i.nextSibling)}if(Ju(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var c=r.data;if(c==="/$"){if(i===0){jt=Ln(r.nextSibling);break e}i--}else c!=="$"&&c!=="$!"&&c!=="$?"||i++}r=r.nextSibling}jt=null}}else jt=St?Ln(r.stateNode.nextSibling):null;return!0}function Qu(){for(var r=jt;r;)r=Ln(r.nextSibling)}function Vr(){jt=St=null,Ie=!1}function Sl(r){Ht===null?Ht=[r]:Ht.push(r)}var mx=O.ReactCurrentBatchConfig;function As(r,i,c){if(r=c.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var f=c.stateNode}if(!f)throw Error(t(147,r));var g=f,x=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===x?i.ref:(i=function(w){var M=g.refs;w===null?delete M[x]:M[x]=w},i._stringRef=x,i)}if(typeof r!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,r))}return r}function la(r,i){throw r=Object.prototype.toString.call(i),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function Zu(r){var i=r._init;return i(r._payload)}function eh(r){function i(z,L){if(r){var H=z.deletions;H===null?(z.deletions=[L],z.flags|=16):H.push(L)}}function c(z,L){if(!r)return null;for(;L!==null;)i(z,L),L=L.sibling;return null}function f(z,L){for(z=new Map;L!==null;)L.key!==null?z.set(L.key,L):z.set(L.index,L),L=L.sibling;return z}function g(z,L){return z=Un(z,L),z.index=0,z.sibling=null,z}function x(z,L,H){return z.index=H,r?(H=z.alternate,H!==null?(H=H.index,H<L?(z.flags|=2,L):H):(z.flags|=2,L)):(z.flags|=1048576,L)}function w(z){return r&&z.alternate===null&&(z.flags|=2),z}function M(z,L,H,se){return L===null||L.tag!==6?(L=mc(H,z.mode,se),L.return=z,L):(L=g(L,H),L.return=z,L)}function E(z,L,H,se){var pe=H.type;return pe===$?te(z,L,H.props.children,se,H.key):L!==null&&(L.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===ie&&Zu(pe)===L.type)?(se=g(L,H.props),se.ref=As(z,L,H),se.return=z,se):(se=Ta(H.type,H.key,H.props,null,z.mode,se),se.ref=As(z,L,H),se.return=z,se)}function V(z,L,H,se){return L===null||L.tag!==4||L.stateNode.containerInfo!==H.containerInfo||L.stateNode.implementation!==H.implementation?(L=gc(H,z.mode,se),L.return=z,L):(L=g(L,H.children||[]),L.return=z,L)}function te(z,L,H,se,pe){return L===null||L.tag!==7?(L=fr(H,z.mode,se,pe),L.return=z,L):(L=g(L,H),L.return=z,L)}function re(z,L,H){if(typeof L=="string"&&L!==""||typeof L=="number")return L=mc(""+L,z.mode,H),L.return=z,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case D:return H=Ta(L.type,L.key,L.props,null,z.mode,H),H.ref=As(z,null,L),H.return=z,H;case Y:return L=gc(L,z.mode,H),L.return=z,L;case ie:var se=L._init;return re(z,se(L._payload),H)}if(er(L)||ae(L))return L=fr(L,z.mode,H,null),L.return=z,L;la(z,L)}return null}function ee(z,L,H,se){var pe=L!==null?L.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return pe!==null?null:M(z,L,""+H,se);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case D:return H.key===pe?E(z,L,H,se):null;case Y:return H.key===pe?V(z,L,H,se):null;case ie:return pe=H._init,ee(z,L,pe(H._payload),se)}if(er(H)||ae(H))return pe!==null?null:te(z,L,H,se,null);la(z,H)}return null}function le(z,L,H,se,pe){if(typeof se=="string"&&se!==""||typeof se=="number")return z=z.get(H)||null,M(L,z,""+se,pe);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case D:return z=z.get(se.key===null?H:se.key)||null,E(L,z,se,pe);case Y:return z=z.get(se.key===null?H:se.key)||null,V(L,z,se,pe);case ie:var xe=se._init;return le(z,L,H,xe(se._payload),pe)}if(er(se)||ae(se))return z=z.get(H)||null,te(L,z,se,pe,null);la(L,se)}return null}function he(z,L,H,se){for(var pe=null,xe=null,ye=L,be=L=0,nt=null;ye!==null&&be<H.length;be++){ye.index>be?(nt=ye,ye=null):nt=ye.sibling;var Ne=ee(z,ye,H[be],se);if(Ne===null){ye===null&&(ye=nt);break}r&&ye&&Ne.alternate===null&&i(z,ye),L=x(Ne,L,be),xe===null?pe=Ne:xe.sibling=Ne,xe=Ne,ye=nt}if(be===H.length)return c(z,ye),Ie&&ir(z,be),pe;if(ye===null){for(;be<H.length;be++)ye=re(z,H[be],se),ye!==null&&(L=x(ye,L,be),xe===null?pe=ye:xe.sibling=ye,xe=ye);return Ie&&ir(z,be),pe}for(ye=f(z,ye);be<H.length;be++)nt=le(ye,z,be,H[be],se),nt!==null&&(r&&nt.alternate!==null&&ye.delete(nt.key===null?be:nt.key),L=x(nt,L,be),xe===null?pe=nt:xe.sibling=nt,xe=nt);return r&&ye.forEach(function(Yn){return i(z,Yn)}),Ie&&ir(z,be),pe}function fe(z,L,H,se){var pe=ae(H);if(typeof pe!="function")throw Error(t(150));if(H=pe.call(H),H==null)throw Error(t(151));for(var xe=pe=null,ye=L,be=L=0,nt=null,Ne=H.next();ye!==null&&!Ne.done;be++,Ne=H.next()){ye.index>be?(nt=ye,ye=null):nt=ye.sibling;var Yn=ee(z,ye,Ne.value,se);if(Yn===null){ye===null&&(ye=nt);break}r&&ye&&Yn.alternate===null&&i(z,ye),L=x(Yn,L,be),xe===null?pe=Yn:xe.sibling=Yn,xe=Yn,ye=nt}if(Ne.done)return c(z,ye),Ie&&ir(z,be),pe;if(ye===null){for(;!Ne.done;be++,Ne=H.next())Ne=re(z,Ne.value,se),Ne!==null&&(L=x(Ne,L,be),xe===null?pe=Ne:xe.sibling=Ne,xe=Ne);return Ie&&ir(z,be),pe}for(ye=f(z,ye);!Ne.done;be++,Ne=H.next())Ne=le(ye,z,be,Ne.value,se),Ne!==null&&(r&&Ne.alternate!==null&&ye.delete(Ne.key===null?be:Ne.key),L=x(Ne,L,be),xe===null?pe=Ne:xe.sibling=Ne,xe=Ne);return r&&ye.forEach(function(Kx){return i(z,Kx)}),Ie&&ir(z,be),pe}function Ge(z,L,H,se){if(typeof H=="object"&&H!==null&&H.type===$&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case D:e:{for(var pe=H.key,xe=L;xe!==null;){if(xe.key===pe){if(pe=H.type,pe===$){if(xe.tag===7){c(z,xe.sibling),L=g(xe,H.props.children),L.return=z,z=L;break e}}else if(xe.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===ie&&Zu(pe)===xe.type){c(z,xe.sibling),L=g(xe,H.props),L.ref=As(z,xe,H),L.return=z,z=L;break e}c(z,xe);break}else i(z,xe);xe=xe.sibling}H.type===$?(L=fr(H.props.children,z.mode,se,H.key),L.return=z,z=L):(se=Ta(H.type,H.key,H.props,null,z.mode,se),se.ref=As(z,L,H),se.return=z,z=se)}return w(z);case Y:e:{for(xe=H.key;L!==null;){if(L.key===xe)if(L.tag===4&&L.stateNode.containerInfo===H.containerInfo&&L.stateNode.implementation===H.implementation){c(z,L.sibling),L=g(L,H.children||[]),L.return=z,z=L;break e}else{c(z,L);break}else i(z,L);L=L.sibling}L=gc(H,z.mode,se),L.return=z,z=L}return w(z);case ie:return xe=H._init,Ge(z,L,xe(H._payload),se)}if(er(H))return he(z,L,H,se);if(ae(H))return fe(z,L,H,se);la(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,L!==null&&L.tag===6?(c(z,L.sibling),L=g(L,H),L.return=z,z=L):(c(z,L),L=mc(H,z.mode,se),L.return=z,z=L),w(z)):c(z,L)}return Ge}var Wr=eh(!0),th=eh(!1),ca=On(null),da=null,Ur=null,jl=null;function Nl(){jl=Ur=da=null}function Cl(r){var i=ca.current;Ae(ca),r._currentValue=i}function Ml(r,i,c){for(;r!==null;){var f=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,f!==null&&(f.childLanes|=i)):f!==null&&(f.childLanes&i)!==i&&(f.childLanes|=i),r===c)break;r=r.return}}function Yr(r,i){da=r,jl=Ur=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(gt=!0),r.firstContext=null)}function Tt(r){var i=r._currentValue;if(jl!==r)if(r={context:r,memoizedValue:i,next:null},Ur===null){if(da===null)throw Error(t(308));Ur=r,da.dependencies={lanes:0,firstContext:r}}else Ur=Ur.next=r;return i}var ar=null;function Pl(r){ar===null?ar=[r]:ar.push(r)}function nh(r,i,c,f){var g=i.interleaved;return g===null?(c.next=c,Pl(i)):(c.next=g.next,g.next=c),i.interleaved=c,fn(r,f)}function fn(r,i){r.lanes|=i;var c=r.alternate;for(c!==null&&(c.lanes|=i),c=r,r=r.return;r!==null;)r.childLanes|=i,c=r.alternate,c!==null&&(c.childLanes|=i),c=r,r=r.return;return c.tag===3?c.stateNode:null}var In=!1;function El(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rh(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function pn(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function zn(r,i,c){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(je&2)!==0){var g=f.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),f.pending=i,fn(r,c)}return g=f.interleaved,g===null?(i.next=i,Pl(f)):(i.next=g.next,g.next=i),f.interleaved=i,fn(r,c)}function ua(r,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194240)!==0)){var f=i.lanes;f&=r.pendingLanes,c|=f,i.lanes=c,Wo(r,c)}}function sh(r,i){var c=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var g=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var w={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};x===null?g=x=w:x=x.next=w,c=c.next}while(c!==null);x===null?g=x=i:x=x.next=i}else g=x=i;c={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:x,shared:f.shared,effects:f.effects},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=i:r.next=i,c.lastBaseUpdate=i}function ha(r,i,c,f){var g=r.updateQueue;In=!1;var x=g.firstBaseUpdate,w=g.lastBaseUpdate,M=g.shared.pending;if(M!==null){g.shared.pending=null;var E=M,V=E.next;E.next=null,w===null?x=V:w.next=V,w=E;var te=r.alternate;te!==null&&(te=te.updateQueue,M=te.lastBaseUpdate,M!==w&&(M===null?te.firstBaseUpdate=V:M.next=V,te.lastBaseUpdate=E))}if(x!==null){var re=g.baseState;w=0,te=V=E=null,M=x;do{var ee=M.lane,le=M.eventTime;if((f&ee)===ee){te!==null&&(te=te.next={eventTime:le,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var he=r,fe=M;switch(ee=i,le=c,fe.tag){case 1:if(he=fe.payload,typeof he=="function"){re=he.call(le,re,ee);break e}re=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=fe.payload,ee=typeof he=="function"?he.call(le,re,ee):he,ee==null)break e;re=q({},re,ee);break e;case 2:In=!0}}M.callback!==null&&M.lane!==0&&(r.flags|=64,ee=g.effects,ee===null?g.effects=[M]:ee.push(M))}else le={eventTime:le,lane:ee,tag:M.tag,payload:M.payload,callback:M.callback,next:null},te===null?(V=te=le,E=re):te=te.next=le,w|=ee;if(M=M.next,M===null){if(M=g.shared.pending,M===null)break;ee=M,M=ee.next,ee.next=null,g.lastBaseUpdate=ee,g.shared.pending=null}}while(!0);if(te===null&&(E=re),g.baseState=E,g.firstBaseUpdate=V,g.lastBaseUpdate=te,i=g.shared.interleaved,i!==null){g=i;do w|=g.lane,g=g.next;while(g!==i)}else x===null&&(g.shared.lanes=0);cr|=w,r.lanes=w,r.memoizedState=re}}function ih(r,i,c){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var f=r[i],g=f.callback;if(g!==null){if(f.callback=null,f=c,typeof g!="function")throw Error(t(191,g));g.call(f)}}}var Is={},Jt=On(Is),zs=On(Is),Bs=On(Is);function or(r){if(r===Is)throw Error(t(174));return r}function Dl(r,i){switch(Oe(Bs,i),Oe(zs,r),Oe(Jt,Is),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:To(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=To(i,r)}Ae(Jt),Oe(Jt,i)}function Gr(){Ae(Jt),Ae(zs),Ae(Bs)}function ah(r){or(Bs.current);var i=or(Jt.current),c=To(i,r.type);i!==c&&(Oe(zs,r),Oe(Jt,c))}function Tl(r){zs.current===r&&(Ae(Jt),Ae(zs))}var Be=On(0);function fa(r){for(var i=r;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Rl=[];function Ll(){for(var r=0;r<Rl.length;r++)Rl[r]._workInProgressVersionPrimary=null;Rl.length=0}var pa=O.ReactCurrentDispatcher,Ol=O.ReactCurrentBatchConfig,lr=0,$e=null,Je=null,et=null,ma=!1,$s=!1,Hs=0,gx=0;function ot(){throw Error(t(321))}function Fl(r,i){if(i===null)return!1;for(var c=0;c<i.length&&c<r.length;c++)if(!$t(r[c],i[c]))return!1;return!0}function Al(r,i,c,f,g,x){if(lr=x,$e=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,pa.current=r===null||r.memoizedState===null?bx:kx,r=c(f,g),$s){x=0;do{if($s=!1,Hs=0,25<=x)throw Error(t(301));x+=1,et=Je=null,i.updateQueue=null,pa.current=wx,r=c(f,g)}while($s)}if(pa.current=ya,i=Je!==null&&Je.next!==null,lr=0,et=Je=$e=null,ma=!1,i)throw Error(t(300));return r}function Il(){var r=Hs!==0;return Hs=0,r}function Qt(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?$e.memoizedState=et=r:et=et.next=r,et}function Rt(){if(Je===null){var r=$e.alternate;r=r!==null?r.memoizedState:null}else r=Je.next;var i=et===null?$e.memoizedState:et.next;if(i!==null)et=i,Je=r;else{if(r===null)throw Error(t(310));Je=r,r={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},et===null?$e.memoizedState=et=r:et=et.next=r}return et}function Vs(r,i){return typeof i=="function"?i(r):i}function zl(r){var i=Rt(),c=i.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=r;var f=Je,g=f.baseQueue,x=c.pending;if(x!==null){if(g!==null){var w=g.next;g.next=x.next,x.next=w}f.baseQueue=g=x,c.pending=null}if(g!==null){x=g.next,f=f.baseState;var M=w=null,E=null,V=x;do{var te=V.lane;if((lr&te)===te)E!==null&&(E=E.next={lane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),f=V.hasEagerState?V.eagerState:r(f,V.action);else{var re={lane:te,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null};E===null?(M=E=re,w=f):E=E.next=re,$e.lanes|=te,cr|=te}V=V.next}while(V!==null&&V!==x);E===null?w=f:E.next=M,$t(f,i.memoizedState)||(gt=!0),i.memoizedState=f,i.baseState=w,i.baseQueue=E,c.lastRenderedState=f}if(r=c.interleaved,r!==null){g=r;do x=g.lane,$e.lanes|=x,cr|=x,g=g.next;while(g!==r)}else g===null&&(c.lanes=0);return[i.memoizedState,c.dispatch]}function Bl(r){var i=Rt(),c=i.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=r;var f=c.dispatch,g=c.pending,x=i.memoizedState;if(g!==null){c.pending=null;var w=g=g.next;do x=r(x,w.action),w=w.next;while(w!==g);$t(x,i.memoizedState)||(gt=!0),i.memoizedState=x,i.baseQueue===null&&(i.baseState=x),c.lastRenderedState=x}return[x,f]}function oh(){}function lh(r,i){var c=$e,f=Rt(),g=i(),x=!$t(f.memoizedState,g);if(x&&(f.memoizedState=g,gt=!0),f=f.queue,$l(uh.bind(null,c,f,r),[r]),f.getSnapshot!==i||x||et!==null&&et.memoizedState.tag&1){if(c.flags|=2048,Ws(9,dh.bind(null,c,f,g,i),void 0,null),tt===null)throw Error(t(349));(lr&30)!==0||ch(c,i,g)}return g}function ch(r,i,c){r.flags|=16384,r={getSnapshot:i,value:c},i=$e.updateQueue,i===null?(i={lastEffect:null,stores:null},$e.updateQueue=i,i.stores=[r]):(c=i.stores,c===null?i.stores=[r]:c.push(r))}function dh(r,i,c,f){i.value=c,i.getSnapshot=f,hh(i)&&fh(r)}function uh(r,i,c){return c(function(){hh(i)&&fh(r)})}function hh(r){var i=r.getSnapshot;r=r.value;try{var c=i();return!$t(r,c)}catch{return!0}}function fh(r){var i=fn(r,1);i!==null&&Yt(i,r,1,-1)}function ph(r){var i=Qt();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:r},i.queue=r,r=r.dispatch=vx.bind(null,$e,r),[i.memoizedState,r]}function Ws(r,i,c,f){return r={tag:r,create:i,destroy:c,deps:f,next:null},i=$e.updateQueue,i===null?(i={lastEffect:null,stores:null},$e.updateQueue=i,i.lastEffect=r.next=r):(c=i.lastEffect,c===null?i.lastEffect=r.next=r:(f=c.next,c.next=r,r.next=f,i.lastEffect=r)),r}function mh(){return Rt().memoizedState}function ga(r,i,c,f){var g=Qt();$e.flags|=r,g.memoizedState=Ws(1|i,c,void 0,f===void 0?null:f)}function xa(r,i,c,f){var g=Rt();f=f===void 0?null:f;var x=void 0;if(Je!==null){var w=Je.memoizedState;if(x=w.destroy,f!==null&&Fl(f,w.deps)){g.memoizedState=Ws(i,c,x,f);return}}$e.flags|=r,g.memoizedState=Ws(1|i,c,x,f)}function gh(r,i){return ga(8390656,8,r,i)}function $l(r,i){return xa(2048,8,r,i)}function xh(r,i){return xa(4,2,r,i)}function yh(r,i){return xa(4,4,r,i)}function vh(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function bh(r,i,c){return c=c!=null?c.concat([r]):null,xa(4,4,vh.bind(null,i,r),c)}function Hl(){}function kh(r,i){var c=Rt();i=i===void 0?null:i;var f=c.memoizedState;return f!==null&&i!==null&&Fl(i,f[1])?f[0]:(c.memoizedState=[r,i],r)}function wh(r,i){var c=Rt();i=i===void 0?null:i;var f=c.memoizedState;return f!==null&&i!==null&&Fl(i,f[1])?f[0]:(r=r(),c.memoizedState=[r,i],r)}function _h(r,i,c){return(lr&21)===0?(r.baseState&&(r.baseState=!1,gt=!0),r.memoizedState=c):($t(c,i)||(c=Zd(),$e.lanes|=c,cr|=c,r.baseState=!0),i)}function xx(r,i){var c=Pe;Pe=c!==0&&4>c?c:4,r(!0);var f=Ol.transition;Ol.transition={};try{r(!1),i()}finally{Pe=c,Ol.transition=f}}function Sh(){return Rt().memoizedState}function yx(r,i,c){var f=Vn(r);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},jh(r))Nh(i,c);else if(c=nh(r,i,c,f),c!==null){var g=ft();Yt(c,r,f,g),Ch(c,i,f)}}function vx(r,i,c){var f=Vn(r),g={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(jh(r))Nh(i,g);else{var x=r.alternate;if(r.lanes===0&&(x===null||x.lanes===0)&&(x=i.lastRenderedReducer,x!==null))try{var w=i.lastRenderedState,M=x(w,c);if(g.hasEagerState=!0,g.eagerState=M,$t(M,w)){var E=i.interleaved;E===null?(g.next=g,Pl(i)):(g.next=E.next,E.next=g),i.interleaved=g;return}}catch{}finally{}c=nh(r,i,g,f),c!==null&&(g=ft(),Yt(c,r,f,g),Ch(c,i,f))}}function jh(r){var i=r.alternate;return r===$e||i!==null&&i===$e}function Nh(r,i){$s=ma=!0;var c=r.pending;c===null?i.next=i:(i.next=c.next,c.next=i),r.pending=i}function Ch(r,i,c){if((c&4194240)!==0){var f=i.lanes;f&=r.pendingLanes,c|=f,i.lanes=c,Wo(r,c)}}var ya={readContext:Tt,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useInsertionEffect:ot,useLayoutEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useMutableSource:ot,useSyncExternalStore:ot,useId:ot,unstable_isNewReconciler:!1},bx={readContext:Tt,useCallback:function(r,i){return Qt().memoizedState=[r,i===void 0?null:i],r},useContext:Tt,useEffect:gh,useImperativeHandle:function(r,i,c){return c=c!=null?c.concat([r]):null,ga(4194308,4,vh.bind(null,i,r),c)},useLayoutEffect:function(r,i){return ga(4194308,4,r,i)},useInsertionEffect:function(r,i){return ga(4,2,r,i)},useMemo:function(r,i){var c=Qt();return i=i===void 0?null:i,r=r(),c.memoizedState=[r,i],r},useReducer:function(r,i,c){var f=Qt();return i=c!==void 0?c(i):i,f.memoizedState=f.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},f.queue=r,r=r.dispatch=yx.bind(null,$e,r),[f.memoizedState,r]},useRef:function(r){var i=Qt();return r={current:r},i.memoizedState=r},useState:ph,useDebugValue:Hl,useDeferredValue:function(r){return Qt().memoizedState=r},useTransition:function(){var r=ph(!1),i=r[0];return r=xx.bind(null,r[1]),Qt().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,c){var f=$e,g=Qt();if(Ie){if(c===void 0)throw Error(t(407));c=c()}else{if(c=i(),tt===null)throw Error(t(349));(lr&30)!==0||ch(f,i,c)}g.memoizedState=c;var x={value:c,getSnapshot:i};return g.queue=x,gh(uh.bind(null,f,x,r),[r]),f.flags|=2048,Ws(9,dh.bind(null,f,x,c,i),void 0,null),c},useId:function(){var r=Qt(),i=tt.identifierPrefix;if(Ie){var c=hn,f=un;c=(f&~(1<<32-Bt(f)-1)).toString(32)+c,i=":"+i+"R"+c,c=Hs++,0<c&&(i+="H"+c.toString(32)),i+=":"}else c=gx++,i=":"+i+"r"+c.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},kx={readContext:Tt,useCallback:kh,useContext:Tt,useEffect:$l,useImperativeHandle:bh,useInsertionEffect:xh,useLayoutEffect:yh,useMemo:wh,useReducer:zl,useRef:mh,useState:function(){return zl(Vs)},useDebugValue:Hl,useDeferredValue:function(r){var i=Rt();return _h(i,Je.memoizedState,r)},useTransition:function(){var r=zl(Vs)[0],i=Rt().memoizedState;return[r,i]},useMutableSource:oh,useSyncExternalStore:lh,useId:Sh,unstable_isNewReconciler:!1},wx={readContext:Tt,useCallback:kh,useContext:Tt,useEffect:$l,useImperativeHandle:bh,useInsertionEffect:xh,useLayoutEffect:yh,useMemo:wh,useReducer:Bl,useRef:mh,useState:function(){return Bl(Vs)},useDebugValue:Hl,useDeferredValue:function(r){var i=Rt();return Je===null?i.memoizedState=r:_h(i,Je.memoizedState,r)},useTransition:function(){var r=Bl(Vs)[0],i=Rt().memoizedState;return[r,i]},useMutableSource:oh,useSyncExternalStore:lh,useId:Sh,unstable_isNewReconciler:!1};function Vt(r,i){if(r&&r.defaultProps){i=q({},i),r=r.defaultProps;for(var c in r)i[c]===void 0&&(i[c]=r[c]);return i}return i}function Vl(r,i,c,f){i=r.memoizedState,c=c(f,i),c=c==null?i:q({},i,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var va={isMounted:function(r){return(r=r._reactInternals)?tr(r)===r:!1},enqueueSetState:function(r,i,c){r=r._reactInternals;var f=ft(),g=Vn(r),x=pn(f,g);x.payload=i,c!=null&&(x.callback=c),i=zn(r,x,g),i!==null&&(Yt(i,r,g,f),ua(i,r,g))},enqueueReplaceState:function(r,i,c){r=r._reactInternals;var f=ft(),g=Vn(r),x=pn(f,g);x.tag=1,x.payload=i,c!=null&&(x.callback=c),i=zn(r,x,g),i!==null&&(Yt(i,r,g,f),ua(i,r,g))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var c=ft(),f=Vn(r),g=pn(c,f);g.tag=2,i!=null&&(g.callback=i),i=zn(r,g,f),i!==null&&(Yt(i,r,f,c),ua(i,r,f))}};function Mh(r,i,c,f,g,x,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,x,w):i.prototype&&i.prototype.isPureReactComponent?!Es(c,f)||!Es(g,x):!0}function Ph(r,i,c){var f=!1,g=Fn,x=i.contextType;return typeof x=="object"&&x!==null?x=Tt(x):(g=mt(i)?rr:at.current,f=i.contextTypes,x=(f=f!=null)?Br(r,g):Fn),i=new i(c,x),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=va,r.stateNode=i,i._reactInternals=r,f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=g,r.__reactInternalMemoizedMaskedChildContext=x),i}function Eh(r,i,c,f){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,f),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,f),i.state!==r&&va.enqueueReplaceState(i,i.state,null)}function Wl(r,i,c,f){var g=r.stateNode;g.props=c,g.state=r.memoizedState,g.refs={},El(r);var x=i.contextType;typeof x=="object"&&x!==null?g.context=Tt(x):(x=mt(i)?rr:at.current,g.context=Br(r,x)),g.state=r.memoizedState,x=i.getDerivedStateFromProps,typeof x=="function"&&(Vl(r,i,x,c),g.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(i=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),i!==g.state&&va.enqueueReplaceState(g,g.state,null),ha(r,c,g,f),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308)}function Kr(r,i){try{var c="",f=i;do c+=ge(f),f=f.return;while(f);var g=c}catch(x){g=`
Error generating stack: `+x.message+`
`+x.stack}return{value:r,source:i,stack:g,digest:null}}function Ul(r,i,c){return{value:r,source:null,stack:c??null,digest:i??null}}function Yl(r,i){try{console.error(i.value)}catch(c){setTimeout(function(){throw c})}}var _x=typeof WeakMap=="function"?WeakMap:Map;function Dh(r,i,c){c=pn(-1,c),c.tag=3,c.payload={element:null};var f=i.value;return c.callback=function(){Na||(Na=!0,oc=f),Yl(r,i)},c}function Th(r,i,c){c=pn(-1,c),c.tag=3;var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var g=i.value;c.payload=function(){return f(g)},c.callback=function(){Yl(r,i)}}var x=r.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(c.callback=function(){Yl(r,i),typeof f!="function"&&($n===null?$n=new Set([this]):$n.add(this));var w=i.stack;this.componentDidCatch(i.value,{componentStack:w!==null?w:""})}),c}function Rh(r,i,c){var f=r.pingCache;if(f===null){f=r.pingCache=new _x;var g=new Set;f.set(i,g)}else g=f.get(i),g===void 0&&(g=new Set,f.set(i,g));g.has(c)||(g.add(c),r=Ax.bind(null,r,i,c),i.then(r,r))}function Lh(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function Oh(r,i,c,f,g){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(i=pn(-1,1),i.tag=2,zn(c,i,1))),c.lanes|=1),r):(r.flags|=65536,r.lanes=g,r)}var Sx=O.ReactCurrentOwner,gt=!1;function ht(r,i,c,f){i.child=r===null?th(i,null,c,f):Wr(i,r.child,c,f)}function Fh(r,i,c,f,g){c=c.render;var x=i.ref;return Yr(i,g),f=Al(r,i,c,f,x,g),c=Il(),r!==null&&!gt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~g,mn(r,i,g)):(Ie&&c&&bl(i),i.flags|=1,ht(r,i,f,g),i.child)}function Ah(r,i,c,f,g){if(r===null){var x=c.type;return typeof x=="function"&&!pc(x)&&x.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(i.tag=15,i.type=x,Ih(r,i,x,f,g)):(r=Ta(c.type,null,f,i,i.mode,g),r.ref=i.ref,r.return=i,i.child=r)}if(x=r.child,(r.lanes&g)===0){var w=x.memoizedProps;if(c=c.compare,c=c!==null?c:Es,c(w,f)&&r.ref===i.ref)return mn(r,i,g)}return i.flags|=1,r=Un(x,f),r.ref=i.ref,r.return=i,i.child=r}function Ih(r,i,c,f,g){if(r!==null){var x=r.memoizedProps;if(Es(x,f)&&r.ref===i.ref)if(gt=!1,i.pendingProps=f=x,(r.lanes&g)!==0)(r.flags&131072)!==0&&(gt=!0);else return i.lanes=r.lanes,mn(r,i,g)}return Gl(r,i,c,f,g)}function zh(r,i,c){var f=i.pendingProps,g=f.children,x=r!==null?r.memoizedState:null;if(f.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(qr,Nt),Nt|=c;else{if((c&1073741824)===0)return r=x!==null?x.baseLanes|c:c,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,Oe(qr,Nt),Nt|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=x!==null?x.baseLanes:c,Oe(qr,Nt),Nt|=f}else x!==null?(f=x.baseLanes|c,i.memoizedState=null):f=c,Oe(qr,Nt),Nt|=f;return ht(r,i,g,c),i.child}function Bh(r,i){var c=i.ref;(r===null&&c!==null||r!==null&&r.ref!==c)&&(i.flags|=512,i.flags|=2097152)}function Gl(r,i,c,f,g){var x=mt(c)?rr:at.current;return x=Br(i,x),Yr(i,g),c=Al(r,i,c,f,x,g),f=Il(),r!==null&&!gt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~g,mn(r,i,g)):(Ie&&f&&bl(i),i.flags|=1,ht(r,i,c,g),i.child)}function $h(r,i,c,f,g){if(mt(c)){var x=!0;ra(i)}else x=!1;if(Yr(i,g),i.stateNode===null)ka(r,i),Ph(i,c,f),Wl(i,c,f,g),f=!0;else if(r===null){var w=i.stateNode,M=i.memoizedProps;w.props=M;var E=w.context,V=c.contextType;typeof V=="object"&&V!==null?V=Tt(V):(V=mt(c)?rr:at.current,V=Br(i,V));var te=c.getDerivedStateFromProps,re=typeof te=="function"||typeof w.getSnapshotBeforeUpdate=="function";re||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(M!==f||E!==V)&&Eh(i,w,f,V),In=!1;var ee=i.memoizedState;w.state=ee,ha(i,f,w,g),E=i.memoizedState,M!==f||ee!==E||pt.current||In?(typeof te=="function"&&(Vl(i,c,te,f),E=i.memoizedState),(M=In||Mh(i,c,M,f,ee,E,V))?(re||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(i.flags|=4194308)):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=f,i.memoizedState=E),w.props=f,w.state=E,w.context=V,f=M):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),f=!1)}else{w=i.stateNode,rh(r,i),M=i.memoizedProps,V=i.type===i.elementType?M:Vt(i.type,M),w.props=V,re=i.pendingProps,ee=w.context,E=c.contextType,typeof E=="object"&&E!==null?E=Tt(E):(E=mt(c)?rr:at.current,E=Br(i,E));var le=c.getDerivedStateFromProps;(te=typeof le=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(M!==re||ee!==E)&&Eh(i,w,f,E),In=!1,ee=i.memoizedState,w.state=ee,ha(i,f,w,g);var he=i.memoizedState;M!==re||ee!==he||pt.current||In?(typeof le=="function"&&(Vl(i,c,le,f),he=i.memoizedState),(V=In||Mh(i,c,V,f,ee,he,E)||!1)?(te||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(f,he,E),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(f,he,E)),typeof w.componentDidUpdate=="function"&&(i.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof w.componentDidUpdate!="function"||M===r.memoizedProps&&ee===r.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||M===r.memoizedProps&&ee===r.memoizedState||(i.flags|=1024),i.memoizedProps=f,i.memoizedState=he),w.props=f,w.state=he,w.context=E,f=V):(typeof w.componentDidUpdate!="function"||M===r.memoizedProps&&ee===r.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||M===r.memoizedProps&&ee===r.memoizedState||(i.flags|=1024),f=!1)}return Kl(r,i,c,f,x,g)}function Kl(r,i,c,f,g,x){Bh(r,i);var w=(i.flags&128)!==0;if(!f&&!w)return g&&Yu(i,c,!1),mn(r,i,x);f=i.stateNode,Sx.current=i;var M=w&&typeof c.getDerivedStateFromError!="function"?null:f.render();return i.flags|=1,r!==null&&w?(i.child=Wr(i,r.child,null,x),i.child=Wr(i,null,M,x)):ht(r,i,M,x),i.memoizedState=f.state,g&&Yu(i,c,!0),i.child}function Hh(r){var i=r.stateNode;i.pendingContext?Wu(r,i.pendingContext,i.pendingContext!==i.context):i.context&&Wu(r,i.context,!1),Dl(r,i.containerInfo)}function Vh(r,i,c,f,g){return Vr(),Sl(g),i.flags|=256,ht(r,i,c,f),i.child}var Xl={dehydrated:null,treeContext:null,retryLane:0};function ql(r){return{baseLanes:r,cachePool:null,transitions:null}}function Wh(r,i,c){var f=i.pendingProps,g=Be.current,x=!1,w=(i.flags&128)!==0,M;if((M=w)||(M=r!==null&&r.memoizedState===null?!1:(g&2)!==0),M?(x=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(g|=1),Oe(Be,g&1),r===null)return _l(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(w=f.children,r=f.fallback,x?(f=i.mode,x=i.child,w={mode:"hidden",children:w},(f&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=w):x=Ra(w,f,0,null),r=fr(r,f,c,null),x.return=i,r.return=i,x.sibling=r,i.child=x,i.child.memoizedState=ql(c),i.memoizedState=Xl,r):Jl(i,w));if(g=r.memoizedState,g!==null&&(M=g.dehydrated,M!==null))return jx(r,i,w,f,M,g,c);if(x){x=f.fallback,w=i.mode,g=r.child,M=g.sibling;var E={mode:"hidden",children:f.children};return(w&1)===0&&i.child!==g?(f=i.child,f.childLanes=0,f.pendingProps=E,i.deletions=null):(f=Un(g,E),f.subtreeFlags=g.subtreeFlags&14680064),M!==null?x=Un(M,x):(x=fr(x,w,c,null),x.flags|=2),x.return=i,f.return=i,f.sibling=x,i.child=f,f=x,x=i.child,w=r.child.memoizedState,w=w===null?ql(c):{baseLanes:w.baseLanes|c,cachePool:null,transitions:w.transitions},x.memoizedState=w,x.childLanes=r.childLanes&~c,i.memoizedState=Xl,f}return x=r.child,r=x.sibling,f=Un(x,{mode:"visible",children:f.children}),(i.mode&1)===0&&(f.lanes=c),f.return=i,f.sibling=null,r!==null&&(c=i.deletions,c===null?(i.deletions=[r],i.flags|=16):c.push(r)),i.child=f,i.memoizedState=null,f}function Jl(r,i){return i=Ra({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function ba(r,i,c,f){return f!==null&&Sl(f),Wr(i,r.child,null,c),r=Jl(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function jx(r,i,c,f,g,x,w){if(c)return i.flags&256?(i.flags&=-257,f=Ul(Error(t(422))),ba(r,i,w,f)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(x=f.fallback,g=i.mode,f=Ra({mode:"visible",children:f.children},g,0,null),x=fr(x,g,w,null),x.flags|=2,f.return=i,x.return=i,f.sibling=x,i.child=f,(i.mode&1)!==0&&Wr(i,r.child,null,w),i.child.memoizedState=ql(w),i.memoizedState=Xl,x);if((i.mode&1)===0)return ba(r,i,w,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var M=f.dgst;return f=M,x=Error(t(419)),f=Ul(x,f,void 0),ba(r,i,w,f)}if(M=(w&r.childLanes)!==0,gt||M){if(f=tt,f!==null){switch(w&-w){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|w))!==0?0:g,g!==0&&g!==x.retryLane&&(x.retryLane=g,fn(r,g),Yt(f,r,g,-1))}return fc(),f=Ul(Error(t(421))),ba(r,i,w,f)}return g.data==="$?"?(i.flags|=128,i.child=r.child,i=Ix.bind(null,r),g._reactRetry=i,null):(r=x.treeContext,jt=Ln(g.nextSibling),St=i,Ie=!0,Ht=null,r!==null&&(Et[Dt++]=un,Et[Dt++]=hn,Et[Dt++]=sr,un=r.id,hn=r.overflow,sr=i),i=Jl(i,f.children),i.flags|=4096,i)}function Uh(r,i,c){r.lanes|=i;var f=r.alternate;f!==null&&(f.lanes|=i),Ml(r.return,i,c)}function Ql(r,i,c,f,g){var x=r.memoizedState;x===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:g}:(x.isBackwards=i,x.rendering=null,x.renderingStartTime=0,x.last=f,x.tail=c,x.tailMode=g)}function Yh(r,i,c){var f=i.pendingProps,g=f.revealOrder,x=f.tail;if(ht(r,i,f.children,c),f=Be.current,(f&2)!==0)f=f&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Uh(r,c,i);else if(r.tag===19)Uh(r,c,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}if(Oe(Be,f),(i.mode&1)===0)i.memoizedState=null;else switch(g){case"forwards":for(c=i.child,g=null;c!==null;)r=c.alternate,r!==null&&fa(r)===null&&(g=c),c=c.sibling;c=g,c===null?(g=i.child,i.child=null):(g=c.sibling,c.sibling=null),Ql(i,!1,g,c,x);break;case"backwards":for(c=null,g=i.child,i.child=null;g!==null;){if(r=g.alternate,r!==null&&fa(r)===null){i.child=g;break}r=g.sibling,g.sibling=c,c=g,g=r}Ql(i,!0,c,null,x);break;case"together":Ql(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ka(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function mn(r,i,c){if(r!==null&&(i.dependencies=r.dependencies),cr|=i.lanes,(c&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(t(153));if(i.child!==null){for(r=i.child,c=Un(r,r.pendingProps),i.child=c,c.return=i;r.sibling!==null;)r=r.sibling,c=c.sibling=Un(r,r.pendingProps),c.return=i;c.sibling=null}return i.child}function Nx(r,i,c){switch(i.tag){case 3:Hh(i),Vr();break;case 5:ah(i);break;case 1:mt(i.type)&&ra(i);break;case 4:Dl(i,i.stateNode.containerInfo);break;case 10:var f=i.type._context,g=i.memoizedProps.value;Oe(ca,f._currentValue),f._currentValue=g;break;case 13:if(f=i.memoizedState,f!==null)return f.dehydrated!==null?(Oe(Be,Be.current&1),i.flags|=128,null):(c&i.child.childLanes)!==0?Wh(r,i,c):(Oe(Be,Be.current&1),r=mn(r,i,c),r!==null?r.sibling:null);Oe(Be,Be.current&1);break;case 19:if(f=(c&i.childLanes)!==0,(r.flags&128)!==0){if(f)return Yh(r,i,c);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Oe(Be,Be.current),f)break;return null;case 22:case 23:return i.lanes=0,zh(r,i,c)}return mn(r,i,c)}var Gh,Zl,Kh,Xh;Gh=function(r,i){for(var c=i.child;c!==null;){if(c.tag===5||c.tag===6)r.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Zl=function(){},Kh=function(r,i,c,f){var g=r.memoizedProps;if(g!==f){r=i.stateNode,or(Jt.current);var x=null;switch(c){case"input":g=Kt(r,g),f=Kt(r,f),x=[];break;case"select":g=q({},g,{value:void 0}),f=q({},f,{value:void 0}),x=[];break;case"textarea":g=Mr(r,g),f=Mr(r,f),x=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(r.onclick=ea)}Ro(c,f);var w;c=null;for(V in g)if(!f.hasOwnProperty(V)&&g.hasOwnProperty(V)&&g[V]!=null)if(V==="style"){var M=g[V];for(w in M)M.hasOwnProperty(w)&&(c||(c={}),c[w]="")}else V!=="dangerouslySetInnerHTML"&&V!=="children"&&V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&V!=="autoFocus"&&(a.hasOwnProperty(V)?x||(x=[]):(x=x||[]).push(V,null));for(V in f){var E=f[V];if(M=g?.[V],f.hasOwnProperty(V)&&E!==M&&(E!=null||M!=null))if(V==="style")if(M){for(w in M)!M.hasOwnProperty(w)||E&&E.hasOwnProperty(w)||(c||(c={}),c[w]="");for(w in E)E.hasOwnProperty(w)&&M[w]!==E[w]&&(c||(c={}),c[w]=E[w])}else c||(x||(x=[]),x.push(V,c)),c=E;else V==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,M=M?M.__html:void 0,E!=null&&M!==E&&(x=x||[]).push(V,E)):V==="children"?typeof E!="string"&&typeof E!="number"||(x=x||[]).push(V,""+E):V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&(a.hasOwnProperty(V)?(E!=null&&V==="onScroll"&&Fe("scroll",r),x||M===E||(x=[])):(x=x||[]).push(V,E))}c&&(x=x||[]).push("style",c);var V=x;(i.updateQueue=V)&&(i.flags|=4)}},Xh=function(r,i,c,f){c!==f&&(i.flags|=4)};function Us(r,i){if(!Ie)switch(r.tailMode){case"hidden":i=r.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function lt(r){var i=r.alternate!==null&&r.alternate.child===r.child,c=0,f=0;if(i)for(var g=r.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=f,r.childLanes=c,i}function Cx(r,i,c){var f=i.pendingProps;switch(kl(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(i),null;case 1:return mt(i.type)&&na(),lt(i),null;case 3:return f=i.stateNode,Gr(),Ae(pt),Ae(at),Ll(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(r===null||r.child===null)&&(oa(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ht!==null&&(dc(Ht),Ht=null))),Zl(r,i),lt(i),null;case 5:Tl(i);var g=or(Bs.current);if(c=i.type,r!==null&&i.stateNode!=null)Kh(r,i,c,f,g),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!f){if(i.stateNode===null)throw Error(t(166));return lt(i),null}if(r=or(Jt.current),oa(i)){f=i.stateNode,c=i.type;var x=i.memoizedProps;switch(f[qt]=i,f[Os]=x,r=(i.mode&1)!==0,c){case"dialog":Fe("cancel",f),Fe("close",f);break;case"iframe":case"object":case"embed":Fe("load",f);break;case"video":case"audio":for(g=0;g<Ts.length;g++)Fe(Ts[g],f);break;case"source":Fe("error",f);break;case"img":case"image":case"link":Fe("error",f),Fe("load",f);break;case"details":Fe("toggle",f);break;case"input":Di(f,x),Fe("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!x.multiple},Fe("invalid",f);break;case"textarea":Td(f,x),Fe("invalid",f)}Ro(c,x),g=null;for(var w in x)if(x.hasOwnProperty(w)){var M=x[w];w==="children"?typeof M=="string"?f.textContent!==M&&(x.suppressHydrationWarning!==!0&&Zi(f.textContent,M,r),g=["children",M]):typeof M=="number"&&f.textContent!==""+M&&(x.suppressHydrationWarning!==!0&&Zi(f.textContent,M,r),g=["children",""+M]):a.hasOwnProperty(w)&&M!=null&&w==="onScroll"&&Fe("scroll",f)}switch(c){case"input":De(f),hs(f,x,!0);break;case"textarea":De(f),Ld(f);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(f.onclick=ea)}f=g,i.updateQueue=f,f!==null&&(i.flags|=4)}else{w=g.nodeType===9?g:g.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Od(c)),r==="http://www.w3.org/1999/xhtml"?c==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof f.is=="string"?r=w.createElement(c,{is:f.is}):(r=w.createElement(c),c==="select"&&(w=r,f.multiple?w.multiple=!0:f.size&&(w.size=f.size))):r=w.createElementNS(r,c),r[qt]=i,r[Os]=f,Gh(r,i,!1,!1),i.stateNode=r;e:{switch(w=Lo(c,f),c){case"dialog":Fe("cancel",r),Fe("close",r),g=f;break;case"iframe":case"object":case"embed":Fe("load",r),g=f;break;case"video":case"audio":for(g=0;g<Ts.length;g++)Fe(Ts[g],r);g=f;break;case"source":Fe("error",r),g=f;break;case"img":case"image":case"link":Fe("error",r),Fe("load",r),g=f;break;case"details":Fe("toggle",r),g=f;break;case"input":Di(r,f),g=Kt(r,f),Fe("invalid",r);break;case"option":g=f;break;case"select":r._wrapperState={wasMultiple:!!f.multiple},g=q({},f,{value:void 0}),Fe("invalid",r);break;case"textarea":Td(r,f),g=Mr(r,f),Fe("invalid",r);break;default:g=f}Ro(c,g),M=g;for(x in M)if(M.hasOwnProperty(x)){var E=M[x];x==="style"?Id(r,E):x==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&Fd(r,E)):x==="children"?typeof E=="string"?(c!=="textarea"||E!=="")&&fs(r,E):typeof E=="number"&&fs(r,""+E):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(a.hasOwnProperty(x)?E!=null&&x==="onScroll"&&Fe("scroll",r):E!=null&&P(r,x,E,w))}switch(c){case"input":De(r),hs(r,f,!1);break;case"textarea":De(r),Ld(r);break;case"option":f.value!=null&&r.setAttribute("value",""+W(f.value));break;case"select":r.multiple=!!f.multiple,x=f.value,x!=null?ln(r,!!f.multiple,x,!1):f.defaultValue!=null&&ln(r,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(r.onclick=ea)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return lt(i),null;case 6:if(r&&i.stateNode!=null)Xh(r,i,r.memoizedProps,f);else{if(typeof f!="string"&&i.stateNode===null)throw Error(t(166));if(c=or(Bs.current),or(Jt.current),oa(i)){if(f=i.stateNode,c=i.memoizedProps,f[qt]=i,(x=f.nodeValue!==c)&&(r=St,r!==null))switch(r.tag){case 3:Zi(f.nodeValue,c,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Zi(f.nodeValue,c,(r.mode&1)!==0)}x&&(i.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[qt]=i,i.stateNode=f}return lt(i),null;case 13:if(Ae(Be),f=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ie&&jt!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Qu(),Vr(),i.flags|=98560,x=!1;else if(x=oa(i),f!==null&&f.dehydrated!==null){if(r===null){if(!x)throw Error(t(318));if(x=i.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(t(317));x[qt]=i}else Vr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;lt(i),x=!1}else Ht!==null&&(dc(Ht),Ht=null),x=!0;if(!x)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=c,i):(f=f!==null,f!==(r!==null&&r.memoizedState!==null)&&f&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(Be.current&1)!==0?Qe===0&&(Qe=3):fc())),i.updateQueue!==null&&(i.flags|=4),lt(i),null);case 4:return Gr(),Zl(r,i),r===null&&Rs(i.stateNode.containerInfo),lt(i),null;case 10:return Cl(i.type._context),lt(i),null;case 17:return mt(i.type)&&na(),lt(i),null;case 19:if(Ae(Be),x=i.memoizedState,x===null)return lt(i),null;if(f=(i.flags&128)!==0,w=x.rendering,w===null)if(f)Us(x,!1);else{if(Qe!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(w=fa(r),w!==null){for(i.flags|=128,Us(x,!1),f=w.updateQueue,f!==null&&(i.updateQueue=f,i.flags|=4),i.subtreeFlags=0,f=c,c=i.child;c!==null;)x=c,r=f,x.flags&=14680066,w=x.alternate,w===null?(x.childLanes=0,x.lanes=r,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=w.childLanes,x.lanes=w.lanes,x.child=w.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=w.memoizedProps,x.memoizedState=w.memoizedState,x.updateQueue=w.updateQueue,x.type=w.type,r=w.dependencies,x.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),c=c.sibling;return Oe(Be,Be.current&1|2),i.child}r=r.sibling}x.tail!==null&&Ye()>Jr&&(i.flags|=128,f=!0,Us(x,!1),i.lanes=4194304)}else{if(!f)if(r=fa(w),r!==null){if(i.flags|=128,f=!0,c=r.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),Us(x,!0),x.tail===null&&x.tailMode==="hidden"&&!w.alternate&&!Ie)return lt(i),null}else 2*Ye()-x.renderingStartTime>Jr&&c!==1073741824&&(i.flags|=128,f=!0,Us(x,!1),i.lanes=4194304);x.isBackwards?(w.sibling=i.child,i.child=w):(c=x.last,c!==null?c.sibling=w:i.child=w,x.last=w)}return x.tail!==null?(i=x.tail,x.rendering=i,x.tail=i.sibling,x.renderingStartTime=Ye(),i.sibling=null,c=Be.current,Oe(Be,f?c&1|2:c&1),i):(lt(i),null);case 22:case 23:return hc(),f=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==f&&(i.flags|=8192),f&&(i.mode&1)!==0?(Nt&1073741824)!==0&&(lt(i),i.subtreeFlags&6&&(i.flags|=8192)):lt(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function Mx(r,i){switch(kl(i),i.tag){case 1:return mt(i.type)&&na(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Gr(),Ae(pt),Ae(at),Ll(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return Tl(i),null;case 13:if(Ae(Be),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(t(340));Vr()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return Ae(Be),null;case 4:return Gr(),null;case 10:return Cl(i.type._context),null;case 22:case 23:return hc(),null;case 24:return null;default:return null}}var wa=!1,ct=!1,Px=typeof WeakSet=="function"?WeakSet:Set,de=null;function Xr(r,i){var c=r.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){We(r,i,f)}else c.current=null}function ec(r,i,c){try{c()}catch(f){We(r,i,f)}}var qh=!1;function Ex(r,i){if(hl=Hi,r=Mu(),sl(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var g=f.anchorOffset,x=f.focusNode;f=f.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var w=0,M=-1,E=-1,V=0,te=0,re=r,ee=null;t:for(;;){for(var le;re!==c||g!==0&&re.nodeType!==3||(M=w+g),re!==x||f!==0&&re.nodeType!==3||(E=w+f),re.nodeType===3&&(w+=re.nodeValue.length),(le=re.firstChild)!==null;)ee=re,re=le;for(;;){if(re===r)break t;if(ee===c&&++V===g&&(M=w),ee===x&&++te===f&&(E=w),(le=re.nextSibling)!==null)break;re=ee,ee=re.parentNode}re=le}c=M===-1||E===-1?null:{start:M,end:E}}else c=null}c=c||{start:0,end:0}}else c=null;for(fl={focusedElem:r,selectionRange:c},Hi=!1,de=i;de!==null;)if(i=de,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,de=r;else for(;de!==null;){i=de;try{var he=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var fe=he.memoizedProps,Ge=he.memoizedState,z=i.stateNode,L=z.getSnapshotBeforeUpdate(i.elementType===i.type?fe:Vt(i.type,fe),Ge);z.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var H=i.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(se){We(i,i.return,se)}if(r=i.sibling,r!==null){r.return=i.return,de=r;break}de=i.return}return he=qh,qh=!1,he}function Ys(r,i,c){var f=i.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&r)===r){var x=g.destroy;g.destroy=void 0,x!==void 0&&ec(i,c,x)}g=g.next}while(g!==f)}}function _a(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var c=i=i.next;do{if((c.tag&r)===r){var f=c.create;c.destroy=f()}c=c.next}while(c!==i)}}function tc(r){var i=r.ref;if(i!==null){var c=r.stateNode;switch(r.tag){case 5:r=c;break;default:r=c}typeof i=="function"?i(r):i.current=r}}function Jh(r){var i=r.alternate;i!==null&&(r.alternate=null,Jh(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[qt],delete i[Os],delete i[xl],delete i[hx],delete i[fx])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Qh(r){return r.tag===5||r.tag===3||r.tag===4}function Zh(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Qh(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function nc(r,i,c){var f=r.tag;if(f===5||f===6)r=r.stateNode,i?c.nodeType===8?c.parentNode.insertBefore(r,i):c.insertBefore(r,i):(c.nodeType===8?(i=c.parentNode,i.insertBefore(r,c)):(i=c,i.appendChild(r)),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=ea));else if(f!==4&&(r=r.child,r!==null))for(nc(r,i,c),r=r.sibling;r!==null;)nc(r,i,c),r=r.sibling}function rc(r,i,c){var f=r.tag;if(f===5||f===6)r=r.stateNode,i?c.insertBefore(r,i):c.appendChild(r);else if(f!==4&&(r=r.child,r!==null))for(rc(r,i,c),r=r.sibling;r!==null;)rc(r,i,c),r=r.sibling}var rt=null,Wt=!1;function Bn(r,i,c){for(c=c.child;c!==null;)ef(r,i,c),c=c.sibling}function ef(r,i,c){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(Fi,c)}catch{}switch(c.tag){case 5:ct||Xr(c,i);case 6:var f=rt,g=Wt;rt=null,Bn(r,i,c),rt=f,Wt=g,rt!==null&&(Wt?(r=rt,c=c.stateNode,r.nodeType===8?r.parentNode.removeChild(c):r.removeChild(c)):rt.removeChild(c.stateNode));break;case 18:rt!==null&&(Wt?(r=rt,c=c.stateNode,r.nodeType===8?gl(r.parentNode,c):r.nodeType===1&&gl(r,c),Ss(r)):gl(rt,c.stateNode));break;case 4:f=rt,g=Wt,rt=c.stateNode.containerInfo,Wt=!0,Bn(r,i,c),rt=f,Wt=g;break;case 0:case 11:case 14:case 15:if(!ct&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var x=g,w=x.destroy;x=x.tag,w!==void 0&&((x&2)!==0||(x&4)!==0)&&ec(c,i,w),g=g.next}while(g!==f)}Bn(r,i,c);break;case 1:if(!ct&&(Xr(c,i),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(M){We(c,i,M)}Bn(r,i,c);break;case 21:Bn(r,i,c);break;case 22:c.mode&1?(ct=(f=ct)||c.memoizedState!==null,Bn(r,i,c),ct=f):Bn(r,i,c);break;default:Bn(r,i,c)}}function tf(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var c=r.stateNode;c===null&&(c=r.stateNode=new Px),i.forEach(function(f){var g=zx.bind(null,r,f);c.has(f)||(c.add(f),f.then(g,g))})}}function Ut(r,i){var c=i.deletions;if(c!==null)for(var f=0;f<c.length;f++){var g=c[f];try{var x=r,w=i,M=w;e:for(;M!==null;){switch(M.tag){case 5:rt=M.stateNode,Wt=!1;break e;case 3:rt=M.stateNode.containerInfo,Wt=!0;break e;case 4:rt=M.stateNode.containerInfo,Wt=!0;break e}M=M.return}if(rt===null)throw Error(t(160));ef(x,w,g),rt=null,Wt=!1;var E=g.alternate;E!==null&&(E.return=null),g.return=null}catch(V){We(g,i,V)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)nf(i,r),i=i.sibling}function nf(r,i){var c=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Ut(i,r),Zt(r),f&4){try{Ys(3,r,r.return),_a(3,r)}catch(fe){We(r,r.return,fe)}try{Ys(5,r,r.return)}catch(fe){We(r,r.return,fe)}}break;case 1:Ut(i,r),Zt(r),f&512&&c!==null&&Xr(c,c.return);break;case 5:if(Ut(i,r),Zt(r),f&512&&c!==null&&Xr(c,c.return),r.flags&32){var g=r.stateNode;try{fs(g,"")}catch(fe){We(r,r.return,fe)}}if(f&4&&(g=r.stateNode,g!=null)){var x=r.memoizedProps,w=c!==null?c.memoizedProps:x,M=r.type,E=r.updateQueue;if(r.updateQueue=null,E!==null)try{M==="input"&&x.type==="radio"&&x.name!=null&&Cn(g,x),Lo(M,w);var V=Lo(M,x);for(w=0;w<E.length;w+=2){var te=E[w],re=E[w+1];te==="style"?Id(g,re):te==="dangerouslySetInnerHTML"?Fd(g,re):te==="children"?fs(g,re):P(g,te,re,V)}switch(M){case"input":us(g,x);break;case"textarea":Rd(g,x);break;case"select":var ee=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!x.multiple;var le=x.value;le!=null?ln(g,!!x.multiple,le,!1):ee!==!!x.multiple&&(x.defaultValue!=null?ln(g,!!x.multiple,x.defaultValue,!0):ln(g,!!x.multiple,x.multiple?[]:"",!1))}g[Os]=x}catch(fe){We(r,r.return,fe)}}break;case 6:if(Ut(i,r),Zt(r),f&4){if(r.stateNode===null)throw Error(t(162));g=r.stateNode,x=r.memoizedProps;try{g.nodeValue=x}catch(fe){We(r,r.return,fe)}}break;case 3:if(Ut(i,r),Zt(r),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Ss(i.containerInfo)}catch(fe){We(r,r.return,fe)}break;case 4:Ut(i,r),Zt(r);break;case 13:Ut(i,r),Zt(r),g=r.child,g.flags&8192&&(x=g.memoizedState!==null,g.stateNode.isHidden=x,!x||g.alternate!==null&&g.alternate.memoizedState!==null||(ac=Ye())),f&4&&tf(r);break;case 22:if(te=c!==null&&c.memoizedState!==null,r.mode&1?(ct=(V=ct)||te,Ut(i,r),ct=V):Ut(i,r),Zt(r),f&8192){if(V=r.memoizedState!==null,(r.stateNode.isHidden=V)&&!te&&(r.mode&1)!==0)for(de=r,te=r.child;te!==null;){for(re=de=te;de!==null;){switch(ee=de,le=ee.child,ee.tag){case 0:case 11:case 14:case 15:Ys(4,ee,ee.return);break;case 1:Xr(ee,ee.return);var he=ee.stateNode;if(typeof he.componentWillUnmount=="function"){f=ee,c=ee.return;try{i=f,he.props=i.memoizedProps,he.state=i.memoizedState,he.componentWillUnmount()}catch(fe){We(f,c,fe)}}break;case 5:Xr(ee,ee.return);break;case 22:if(ee.memoizedState!==null){af(re);continue}}le!==null?(le.return=ee,de=le):af(re)}te=te.sibling}e:for(te=null,re=r;;){if(re.tag===5){if(te===null){te=re;try{g=re.stateNode,V?(x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(M=re.stateNode,E=re.memoizedProps.style,w=E!=null&&E.hasOwnProperty("display")?E.display:null,M.style.display=Ad("display",w))}catch(fe){We(r,r.return,fe)}}}else if(re.tag===6){if(te===null)try{re.stateNode.nodeValue=V?"":re.memoizedProps}catch(fe){We(r,r.return,fe)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===r)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===r)break e;for(;re.sibling===null;){if(re.return===null||re.return===r)break e;te===re&&(te=null),re=re.return}te===re&&(te=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:Ut(i,r),Zt(r),f&4&&tf(r);break;case 21:break;default:Ut(i,r),Zt(r)}}function Zt(r){var i=r.flags;if(i&2){try{e:{for(var c=r.return;c!==null;){if(Qh(c)){var f=c;break e}c=c.return}throw Error(t(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(fs(g,""),f.flags&=-33);var x=Zh(r);rc(r,x,g);break;case 3:case 4:var w=f.stateNode.containerInfo,M=Zh(r);nc(r,M,w);break;default:throw Error(t(161))}}catch(E){We(r,r.return,E)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Dx(r,i,c){de=r,rf(r)}function rf(r,i,c){for(var f=(r.mode&1)!==0;de!==null;){var g=de,x=g.child;if(g.tag===22&&f){var w=g.memoizedState!==null||wa;if(!w){var M=g.alternate,E=M!==null&&M.memoizedState!==null||ct;M=wa;var V=ct;if(wa=w,(ct=E)&&!V)for(de=g;de!==null;)w=de,E=w.child,w.tag===22&&w.memoizedState!==null?of(g):E!==null?(E.return=w,de=E):of(g);for(;x!==null;)de=x,rf(x),x=x.sibling;de=g,wa=M,ct=V}sf(r)}else(g.subtreeFlags&8772)!==0&&x!==null?(x.return=g,de=x):sf(r)}}function sf(r){for(;de!==null;){var i=de;if((i.flags&8772)!==0){var c=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:ct||_a(5,i);break;case 1:var f=i.stateNode;if(i.flags&4&&!ct)if(c===null)f.componentDidMount();else{var g=i.elementType===i.type?c.memoizedProps:Vt(i.type,c.memoizedProps);f.componentDidUpdate(g,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var x=i.updateQueue;x!==null&&ih(i,x,f);break;case 3:var w=i.updateQueue;if(w!==null){if(c=null,i.child!==null)switch(i.child.tag){case 5:c=i.child.stateNode;break;case 1:c=i.child.stateNode}ih(i,w,c)}break;case 5:var M=i.stateNode;if(c===null&&i.flags&4){c=M;var E=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&c.focus();break;case"img":E.src&&(c.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var V=i.alternate;if(V!==null){var te=V.memoizedState;if(te!==null){var re=te.dehydrated;re!==null&&Ss(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ct||i.flags&512&&tc(i)}catch(ee){We(i,i.return,ee)}}if(i===r){de=null;break}if(c=i.sibling,c!==null){c.return=i.return,de=c;break}de=i.return}}function af(r){for(;de!==null;){var i=de;if(i===r){de=null;break}var c=i.sibling;if(c!==null){c.return=i.return,de=c;break}de=i.return}}function of(r){for(;de!==null;){var i=de;try{switch(i.tag){case 0:case 11:case 15:var c=i.return;try{_a(4,i)}catch(E){We(i,c,E)}break;case 1:var f=i.stateNode;if(typeof f.componentDidMount=="function"){var g=i.return;try{f.componentDidMount()}catch(E){We(i,g,E)}}var x=i.return;try{tc(i)}catch(E){We(i,x,E)}break;case 5:var w=i.return;try{tc(i)}catch(E){We(i,w,E)}}}catch(E){We(i,i.return,E)}if(i===r){de=null;break}var M=i.sibling;if(M!==null){M.return=i.return,de=M;break}de=i.return}}var Tx=Math.ceil,Sa=O.ReactCurrentDispatcher,sc=O.ReactCurrentOwner,Lt=O.ReactCurrentBatchConfig,je=0,tt=null,Xe=null,st=0,Nt=0,qr=On(0),Qe=0,Gs=null,cr=0,ja=0,ic=0,Ks=null,xt=null,ac=0,Jr=1/0,gn=null,Na=!1,oc=null,$n=null,Ca=!1,Hn=null,Ma=0,Xs=0,lc=null,Pa=-1,Ea=0;function ft(){return(je&6)!==0?Ye():Pa!==-1?Pa:Pa=Ye()}function Vn(r){return(r.mode&1)===0?1:(je&2)!==0&&st!==0?st&-st:mx.transition!==null?(Ea===0&&(Ea=Zd()),Ea):(r=Pe,r!==0||(r=window.event,r=r===void 0?16:lu(r.type)),r)}function Yt(r,i,c,f){if(50<Xs)throw Xs=0,lc=null,Error(t(185));vs(r,c,f),((je&2)===0||r!==tt)&&(r===tt&&((je&2)===0&&(ja|=c),Qe===4&&Wn(r,st)),yt(r,f),c===1&&je===0&&(i.mode&1)===0&&(Jr=Ye()+500,sa&&An()))}function yt(r,i){var c=r.callbackNode;m0(r,i);var f=zi(r,r===tt?st:0);if(f===0)c!==null&&qd(c),r.callbackNode=null,r.callbackPriority=0;else if(i=f&-f,r.callbackPriority!==i){if(c!=null&&qd(c),i===1)r.tag===0?px(cf.bind(null,r)):Gu(cf.bind(null,r)),dx(function(){(je&6)===0&&An()}),c=null;else{switch(eu(f)){case 1:c=$o;break;case 4:c=Jd;break;case 16:c=Oi;break;case 536870912:c=Qd;break;default:c=Oi}c=xf(c,lf.bind(null,r))}r.callbackPriority=i,r.callbackNode=c}}function lf(r,i){if(Pa=-1,Ea=0,(je&6)!==0)throw Error(t(327));var c=r.callbackNode;if(Qr()&&r.callbackNode!==c)return null;var f=zi(r,r===tt?st:0);if(f===0)return null;if((f&30)!==0||(f&r.expiredLanes)!==0||i)i=Da(r,f);else{i=f;var g=je;je|=2;var x=uf();(tt!==r||st!==i)&&(gn=null,Jr=Ye()+500,ur(r,i));do try{Ox();break}catch(M){df(r,M)}while(!0);Nl(),Sa.current=x,je=g,Xe!==null?i=0:(tt=null,st=0,i=Qe)}if(i!==0){if(i===2&&(g=Ho(r),g!==0&&(f=g,i=cc(r,g))),i===1)throw c=Gs,ur(r,0),Wn(r,f),yt(r,Ye()),c;if(i===6)Wn(r,f);else{if(g=r.current.alternate,(f&30)===0&&!Rx(g)&&(i=Da(r,f),i===2&&(x=Ho(r),x!==0&&(f=x,i=cc(r,x))),i===1))throw c=Gs,ur(r,0),Wn(r,f),yt(r,Ye()),c;switch(r.finishedWork=g,r.finishedLanes=f,i){case 0:case 1:throw Error(t(345));case 2:hr(r,xt,gn);break;case 3:if(Wn(r,f),(f&130023424)===f&&(i=ac+500-Ye(),10<i)){if(zi(r,0)!==0)break;if(g=r.suspendedLanes,(g&f)!==f){ft(),r.pingedLanes|=r.suspendedLanes&g;break}r.timeoutHandle=ml(hr.bind(null,r,xt,gn),i);break}hr(r,xt,gn);break;case 4:if(Wn(r,f),(f&4194240)===f)break;for(i=r.eventTimes,g=-1;0<f;){var w=31-Bt(f);x=1<<w,w=i[w],w>g&&(g=w),f&=~x}if(f=g,f=Ye()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*Tx(f/1960))-f,10<f){r.timeoutHandle=ml(hr.bind(null,r,xt,gn),f);break}hr(r,xt,gn);break;case 5:hr(r,xt,gn);break;default:throw Error(t(329))}}}return yt(r,Ye()),r.callbackNode===c?lf.bind(null,r):null}function cc(r,i){var c=Ks;return r.current.memoizedState.isDehydrated&&(ur(r,i).flags|=256),r=Da(r,i),r!==2&&(i=xt,xt=c,i!==null&&dc(i)),r}function dc(r){xt===null?xt=r:xt.push.apply(xt,r)}function Rx(r){for(var i=r;;){if(i.flags&16384){var c=i.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var g=c[f],x=g.getSnapshot;g=g.value;try{if(!$t(x(),g))return!1}catch{return!1}}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Wn(r,i){for(i&=~ic,i&=~ja,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var c=31-Bt(i),f=1<<c;r[c]=-1,i&=~f}}function cf(r){if((je&6)!==0)throw Error(t(327));Qr();var i=zi(r,0);if((i&1)===0)return yt(r,Ye()),null;var c=Da(r,i);if(r.tag!==0&&c===2){var f=Ho(r);f!==0&&(i=f,c=cc(r,f))}if(c===1)throw c=Gs,ur(r,0),Wn(r,i),yt(r,Ye()),c;if(c===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,hr(r,xt,gn),yt(r,Ye()),null}function uc(r,i){var c=je;je|=1;try{return r(i)}finally{je=c,je===0&&(Jr=Ye()+500,sa&&An())}}function dr(r){Hn!==null&&Hn.tag===0&&(je&6)===0&&Qr();var i=je;je|=1;var c=Lt.transition,f=Pe;try{if(Lt.transition=null,Pe=1,r)return r()}finally{Pe=f,Lt.transition=c,je=i,(je&6)===0&&An()}}function hc(){Nt=qr.current,Ae(qr)}function ur(r,i){r.finishedWork=null,r.finishedLanes=0;var c=r.timeoutHandle;if(c!==-1&&(r.timeoutHandle=-1,cx(c)),Xe!==null)for(c=Xe.return;c!==null;){var f=c;switch(kl(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&na();break;case 3:Gr(),Ae(pt),Ae(at),Ll();break;case 5:Tl(f);break;case 4:Gr();break;case 13:Ae(Be);break;case 19:Ae(Be);break;case 10:Cl(f.type._context);break;case 22:case 23:hc()}c=c.return}if(tt=r,Xe=r=Un(r.current,null),st=Nt=i,Qe=0,Gs=null,ic=ja=cr=0,xt=Ks=null,ar!==null){for(i=0;i<ar.length;i++)if(c=ar[i],f=c.interleaved,f!==null){c.interleaved=null;var g=f.next,x=c.pending;if(x!==null){var w=x.next;x.next=g,f.next=w}c.pending=f}ar=null}return r}function df(r,i){do{var c=Xe;try{if(Nl(),pa.current=ya,ma){for(var f=$e.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}ma=!1}if(lr=0,et=Je=$e=null,$s=!1,Hs=0,sc.current=null,c===null||c.return===null){Qe=1,Gs=i,Xe=null;break}e:{var x=r,w=c.return,M=c,E=i;if(i=st,M.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var V=E,te=M,re=te.tag;if((te.mode&1)===0&&(re===0||re===11||re===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var le=Lh(w);if(le!==null){le.flags&=-257,Oh(le,w,M,x,i),le.mode&1&&Rh(x,V,i),i=le,E=V;var he=i.updateQueue;if(he===null){var fe=new Set;fe.add(E),i.updateQueue=fe}else he.add(E);break e}else{if((i&1)===0){Rh(x,V,i),fc();break e}E=Error(t(426))}}else if(Ie&&M.mode&1){var Ge=Lh(w);if(Ge!==null){(Ge.flags&65536)===0&&(Ge.flags|=256),Oh(Ge,w,M,x,i),Sl(Kr(E,M));break e}}x=E=Kr(E,M),Qe!==4&&(Qe=2),Ks===null?Ks=[x]:Ks.push(x),x=w;do{switch(x.tag){case 3:x.flags|=65536,i&=-i,x.lanes|=i;var z=Dh(x,E,i);sh(x,z);break e;case 1:M=E;var L=x.type,H=x.stateNode;if((x.flags&128)===0&&(typeof L.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&($n===null||!$n.has(H)))){x.flags|=65536,i&=-i,x.lanes|=i;var se=Th(x,M,i);sh(x,se);break e}}x=x.return}while(x!==null)}ff(c)}catch(pe){i=pe,Xe===c&&c!==null&&(Xe=c=c.return);continue}break}while(!0)}function uf(){var r=Sa.current;return Sa.current=ya,r===null?ya:r}function fc(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),tt===null||(cr&268435455)===0&&(ja&268435455)===0||Wn(tt,st)}function Da(r,i){var c=je;je|=2;var f=uf();(tt!==r||st!==i)&&(gn=null,ur(r,i));do try{Lx();break}catch(g){df(r,g)}while(!0);if(Nl(),je=c,Sa.current=f,Xe!==null)throw Error(t(261));return tt=null,st=0,Qe}function Lx(){for(;Xe!==null;)hf(Xe)}function Ox(){for(;Xe!==null&&!a0();)hf(Xe)}function hf(r){var i=gf(r.alternate,r,Nt);r.memoizedProps=r.pendingProps,i===null?ff(r):Xe=i,sc.current=null}function ff(r){var i=r;do{var c=i.alternate;if(r=i.return,(i.flags&32768)===0){if(c=Cx(c,i,Nt),c!==null){Xe=c;return}}else{if(c=Mx(c,i),c!==null){c.flags&=32767,Xe=c;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Qe=6,Xe=null;return}}if(i=i.sibling,i!==null){Xe=i;return}Xe=i=r}while(i!==null);Qe===0&&(Qe=5)}function hr(r,i,c){var f=Pe,g=Lt.transition;try{Lt.transition=null,Pe=1,Fx(r,i,c,f)}finally{Lt.transition=g,Pe=f}return null}function Fx(r,i,c,f){do Qr();while(Hn!==null);if((je&6)!==0)throw Error(t(327));c=r.finishedWork;var g=r.finishedLanes;if(c===null)return null;if(r.finishedWork=null,r.finishedLanes=0,c===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var x=c.lanes|c.childLanes;if(g0(r,x),r===tt&&(Xe=tt=null,st=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Ca||(Ca=!0,xf(Oi,function(){return Qr(),null})),x=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||x){x=Lt.transition,Lt.transition=null;var w=Pe;Pe=1;var M=je;je|=4,sc.current=null,Ex(r,c),nf(c,r),nx(fl),Hi=!!hl,fl=hl=null,r.current=c,Dx(c),o0(),je=M,Pe=w,Lt.transition=x}else r.current=c;if(Ca&&(Ca=!1,Hn=r,Ma=g),x=r.pendingLanes,x===0&&($n=null),d0(c.stateNode),yt(r,Ye()),i!==null)for(f=r.onRecoverableError,c=0;c<i.length;c++)g=i[c],f(g.value,{componentStack:g.stack,digest:g.digest});if(Na)throw Na=!1,r=oc,oc=null,r;return(Ma&1)!==0&&r.tag!==0&&Qr(),x=r.pendingLanes,(x&1)!==0?r===lc?Xs++:(Xs=0,lc=r):Xs=0,An(),null}function Qr(){if(Hn!==null){var r=eu(Ma),i=Lt.transition,c=Pe;try{if(Lt.transition=null,Pe=16>r?16:r,Hn===null)var f=!1;else{if(r=Hn,Hn=null,Ma=0,(je&6)!==0)throw Error(t(331));var g=je;for(je|=4,de=r.current;de!==null;){var x=de,w=x.child;if((de.flags&16)!==0){var M=x.deletions;if(M!==null){for(var E=0;E<M.length;E++){var V=M[E];for(de=V;de!==null;){var te=de;switch(te.tag){case 0:case 11:case 15:Ys(8,te,x)}var re=te.child;if(re!==null)re.return=te,de=re;else for(;de!==null;){te=de;var ee=te.sibling,le=te.return;if(Jh(te),te===V){de=null;break}if(ee!==null){ee.return=le,de=ee;break}de=le}}}var he=x.alternate;if(he!==null){var fe=he.child;if(fe!==null){he.child=null;do{var Ge=fe.sibling;fe.sibling=null,fe=Ge}while(fe!==null)}}de=x}}if((x.subtreeFlags&2064)!==0&&w!==null)w.return=x,de=w;else e:for(;de!==null;){if(x=de,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:Ys(9,x,x.return)}var z=x.sibling;if(z!==null){z.return=x.return,de=z;break e}de=x.return}}var L=r.current;for(de=L;de!==null;){w=de;var H=w.child;if((w.subtreeFlags&2064)!==0&&H!==null)H.return=w,de=H;else e:for(w=L;de!==null;){if(M=de,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:_a(9,M)}}catch(pe){We(M,M.return,pe)}if(M===w){de=null;break e}var se=M.sibling;if(se!==null){se.return=M.return,de=se;break e}de=M.return}}if(je=g,An(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(Fi,r)}catch{}f=!0}return f}finally{Pe=c,Lt.transition=i}}return!1}function pf(r,i,c){i=Kr(c,i),i=Dh(r,i,1),r=zn(r,i,1),i=ft(),r!==null&&(vs(r,1,i),yt(r,i))}function We(r,i,c){if(r.tag===3)pf(r,r,c);else for(;i!==null;){if(i.tag===3){pf(i,r,c);break}else if(i.tag===1){var f=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&($n===null||!$n.has(f))){r=Kr(c,r),r=Th(i,r,1),i=zn(i,r,1),r=ft(),i!==null&&(vs(i,1,r),yt(i,r));break}}i=i.return}}function Ax(r,i,c){var f=r.pingCache;f!==null&&f.delete(i),i=ft(),r.pingedLanes|=r.suspendedLanes&c,tt===r&&(st&c)===c&&(Qe===4||Qe===3&&(st&130023424)===st&&500>Ye()-ac?ur(r,0):ic|=c),yt(r,i)}function mf(r,i){i===0&&((r.mode&1)===0?i=1:(i=Ii,Ii<<=1,(Ii&130023424)===0&&(Ii=4194304)));var c=ft();r=fn(r,i),r!==null&&(vs(r,i,c),yt(r,c))}function Ix(r){var i=r.memoizedState,c=0;i!==null&&(c=i.retryLane),mf(r,c)}function zx(r,i){var c=0;switch(r.tag){case 13:var f=r.stateNode,g=r.memoizedState;g!==null&&(c=g.retryLane);break;case 19:f=r.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(i),mf(r,c)}var gf;gf=function(r,i,c){if(r!==null)if(r.memoizedProps!==i.pendingProps||pt.current)gt=!0;else{if((r.lanes&c)===0&&(i.flags&128)===0)return gt=!1,Nx(r,i,c);gt=(r.flags&131072)!==0}else gt=!1,Ie&&(i.flags&1048576)!==0&&Ku(i,aa,i.index);switch(i.lanes=0,i.tag){case 2:var f=i.type;ka(r,i),r=i.pendingProps;var g=Br(i,at.current);Yr(i,c),g=Al(null,i,f,r,g,c);var x=Il();return i.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,mt(f)?(x=!0,ra(i)):x=!1,i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,El(i),g.updater=va,i.stateNode=g,g._reactInternals=i,Wl(i,f,r,c),i=Kl(null,i,f,!0,x,c)):(i.tag=0,Ie&&x&&bl(i),ht(null,i,g,c),i=i.child),i;case 16:f=i.elementType;e:{switch(ka(r,i),r=i.pendingProps,g=f._init,f=g(f._payload),i.type=f,g=i.tag=$x(f),r=Vt(f,r),g){case 0:i=Gl(null,i,f,r,c);break e;case 1:i=$h(null,i,f,r,c);break e;case 11:i=Fh(null,i,f,r,c);break e;case 14:i=Ah(null,i,f,Vt(f.type,r),c);break e}throw Error(t(306,f,""))}return i;case 0:return f=i.type,g=i.pendingProps,g=i.elementType===f?g:Vt(f,g),Gl(r,i,f,g,c);case 1:return f=i.type,g=i.pendingProps,g=i.elementType===f?g:Vt(f,g),$h(r,i,f,g,c);case 3:e:{if(Hh(i),r===null)throw Error(t(387));f=i.pendingProps,x=i.memoizedState,g=x.element,rh(r,i),ha(i,f,null,c);var w=i.memoizedState;if(f=w.element,x.isDehydrated)if(x={element:f,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},i.updateQueue.baseState=x,i.memoizedState=x,i.flags&256){g=Kr(Error(t(423)),i),i=Vh(r,i,f,c,g);break e}else if(f!==g){g=Kr(Error(t(424)),i),i=Vh(r,i,f,c,g);break e}else for(jt=Ln(i.stateNode.containerInfo.firstChild),St=i,Ie=!0,Ht=null,c=th(i,null,f,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Vr(),f===g){i=mn(r,i,c);break e}ht(r,i,f,c)}i=i.child}return i;case 5:return ah(i),r===null&&_l(i),f=i.type,g=i.pendingProps,x=r!==null?r.memoizedProps:null,w=g.children,pl(f,g)?w=null:x!==null&&pl(f,x)&&(i.flags|=32),Bh(r,i),ht(r,i,w,c),i.child;case 6:return r===null&&_l(i),null;case 13:return Wh(r,i,c);case 4:return Dl(i,i.stateNode.containerInfo),f=i.pendingProps,r===null?i.child=Wr(i,null,f,c):ht(r,i,f,c),i.child;case 11:return f=i.type,g=i.pendingProps,g=i.elementType===f?g:Vt(f,g),Fh(r,i,f,g,c);case 7:return ht(r,i,i.pendingProps,c),i.child;case 8:return ht(r,i,i.pendingProps.children,c),i.child;case 12:return ht(r,i,i.pendingProps.children,c),i.child;case 10:e:{if(f=i.type._context,g=i.pendingProps,x=i.memoizedProps,w=g.value,Oe(ca,f._currentValue),f._currentValue=w,x!==null)if($t(x.value,w)){if(x.children===g.children&&!pt.current){i=mn(r,i,c);break e}}else for(x=i.child,x!==null&&(x.return=i);x!==null;){var M=x.dependencies;if(M!==null){w=x.child;for(var E=M.firstContext;E!==null;){if(E.context===f){if(x.tag===1){E=pn(-1,c&-c),E.tag=2;var V=x.updateQueue;if(V!==null){V=V.shared;var te=V.pending;te===null?E.next=E:(E.next=te.next,te.next=E),V.pending=E}}x.lanes|=c,E=x.alternate,E!==null&&(E.lanes|=c),Ml(x.return,c,i),M.lanes|=c;break}E=E.next}}else if(x.tag===10)w=x.type===i.type?null:x.child;else if(x.tag===18){if(w=x.return,w===null)throw Error(t(341));w.lanes|=c,M=w.alternate,M!==null&&(M.lanes|=c),Ml(w,c,i),w=x.sibling}else w=x.child;if(w!==null)w.return=x;else for(w=x;w!==null;){if(w===i){w=null;break}if(x=w.sibling,x!==null){x.return=w.return,w=x;break}w=w.return}x=w}ht(r,i,g.children,c),i=i.child}return i;case 9:return g=i.type,f=i.pendingProps.children,Yr(i,c),g=Tt(g),f=f(g),i.flags|=1,ht(r,i,f,c),i.child;case 14:return f=i.type,g=Vt(f,i.pendingProps),g=Vt(f.type,g),Ah(r,i,f,g,c);case 15:return Ih(r,i,i.type,i.pendingProps,c);case 17:return f=i.type,g=i.pendingProps,g=i.elementType===f?g:Vt(f,g),ka(r,i),i.tag=1,mt(f)?(r=!0,ra(i)):r=!1,Yr(i,c),Ph(i,f,g),Wl(i,f,g,c),Kl(null,i,f,!0,r,c);case 19:return Yh(r,i,c);case 22:return zh(r,i,c)}throw Error(t(156,i.tag))};function xf(r,i){return Xd(r,i)}function Bx(r,i,c,f){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(r,i,c,f){return new Bx(r,i,c,f)}function pc(r){return r=r.prototype,!(!r||!r.isReactComponent)}function $x(r){if(typeof r=="function")return pc(r)?1:0;if(r!=null){if(r=r.$$typeof,r===R)return 11;if(r===Q)return 14}return 2}function Un(r,i){var c=r.alternate;return c===null?(c=Ot(r.tag,i,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=i,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&14680064,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,i=r.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c}function Ta(r,i,c,f,g,x){var w=2;if(f=r,typeof r=="function")pc(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case $:return fr(c.children,g,x,i);case I:w=8,g|=8;break;case G:return r=Ot(12,c,i,g|2),r.elementType=G,r.lanes=x,r;case F:return r=Ot(13,c,i,g),r.elementType=F,r.lanes=x,r;case B:return r=Ot(19,c,i,g),r.elementType=B,r.lanes=x,r;case ce:return Ra(c,g,x,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case U:w=10;break e;case T:w=9;break e;case R:w=11;break e;case Q:w=14;break e;case ie:w=16,f=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return i=Ot(w,c,i,g),i.elementType=r,i.type=f,i.lanes=x,i}function fr(r,i,c,f){return r=Ot(7,r,f,i),r.lanes=c,r}function Ra(r,i,c,f){return r=Ot(22,r,f,i),r.elementType=ce,r.lanes=c,r.stateNode={isHidden:!1},r}function mc(r,i,c){return r=Ot(6,r,null,i),r.lanes=c,r}function gc(r,i,c){return i=Ot(4,r.children!==null?r.children:[],r.key,i),i.lanes=c,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function Hx(r,i,c,f,g){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vo(0),this.expirationTimes=Vo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vo(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function xc(r,i,c,f,g,x,w,M,E){return r=new Hx(r,i,c,M,E),i===1?(i=1,x===!0&&(i|=8)):i=0,x=Ot(3,null,null,i),r.current=x,x.stateNode=r,x.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},El(x),r}function Vx(r,i,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Y,key:f==null?null:""+f,children:r,containerInfo:i,implementation:c}}function yf(r){if(!r)return Fn;r=r._reactInternals;e:{if(tr(r)!==r||r.tag!==1)throw Error(t(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(mt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(r.tag===1){var c=r.type;if(mt(c))return Uu(r,c,i)}return i}function vf(r,i,c,f,g,x,w,M,E){return r=xc(c,f,!0,r,g,x,w,M,E),r.context=yf(null),c=r.current,f=ft(),g=Vn(c),x=pn(f,g),x.callback=i??null,zn(c,x,g),r.current.lanes=g,vs(r,g,f),yt(r,f),r}function La(r,i,c,f){var g=i.current,x=ft(),w=Vn(g);return c=yf(c),i.context===null?i.context=c:i.pendingContext=c,i=pn(x,w),i.payload={element:r},f=f===void 0?null:f,f!==null&&(i.callback=f),r=zn(g,i,w),r!==null&&(Yt(r,g,w,x),ua(r,g,w)),w}function Oa(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function bf(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<i?c:i}}function yc(r,i){bf(r,i),(r=r.alternate)&&bf(r,i)}function Wx(){return null}var kf=typeof reportError=="function"?reportError:function(r){console.error(r)};function vc(r){this._internalRoot=r}Fa.prototype.render=vc.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(t(409));La(r,i,null,null)},Fa.prototype.unmount=vc.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;dr(function(){La(null,r,null,null)}),i[cn]=null}};function Fa(r){this._internalRoot=r}Fa.prototype.unstable_scheduleHydration=function(r){if(r){var i=ru();r={blockedOn:null,target:r,priority:i};for(var c=0;c<Dn.length&&i!==0&&i<Dn[c].priority;c++);Dn.splice(c,0,r),c===0&&au(r)}};function bc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Aa(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function wf(){}function Ux(r,i,c,f,g){if(g){if(typeof f=="function"){var x=f;f=function(){var V=Oa(w);x.call(V)}}var w=vf(i,f,r,0,null,!1,!1,"",wf);return r._reactRootContainer=w,r[cn]=w.current,Rs(r.nodeType===8?r.parentNode:r),dr(),w}for(;g=r.lastChild;)r.removeChild(g);if(typeof f=="function"){var M=f;f=function(){var V=Oa(E);M.call(V)}}var E=xc(r,0,!1,null,null,!1,!1,"",wf);return r._reactRootContainer=E,r[cn]=E.current,Rs(r.nodeType===8?r.parentNode:r),dr(function(){La(i,E,c,f)}),E}function Ia(r,i,c,f,g){var x=c._reactRootContainer;if(x){var w=x;if(typeof g=="function"){var M=g;g=function(){var E=Oa(w);M.call(E)}}La(i,w,r,g)}else w=Ux(c,i,r,g,f);return Oa(w)}tu=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var c=ys(i.pendingLanes);c!==0&&(Wo(i,c|1),yt(i,Ye()),(je&6)===0&&(Jr=Ye()+500,An()))}break;case 13:dr(function(){var f=fn(r,1);if(f!==null){var g=ft();Yt(f,r,1,g)}}),yc(r,1)}},Uo=function(r){if(r.tag===13){var i=fn(r,134217728);if(i!==null){var c=ft();Yt(i,r,134217728,c)}yc(r,134217728)}},nu=function(r){if(r.tag===13){var i=Vn(r),c=fn(r,i);if(c!==null){var f=ft();Yt(c,r,i,f)}yc(r,i)}},ru=function(){return Pe},su=function(r,i){var c=Pe;try{return Pe=r,i()}finally{Pe=c}},Ao=function(r,i,c){switch(i){case"input":if(us(r,c),i=c.name,c.type==="radio"&&i!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<c.length;i++){var f=c[i];if(f!==r&&f.form===r.form){var g=ta(f);if(!g)throw Error(t(90));Le(f),us(f,g)}}}break;case"textarea":Rd(r,c);break;case"select":i=c.value,i!=null&&ln(r,!!c.multiple,i,!1)}},Hd=uc,Vd=dr;var Yx={usingClientEntryPoint:!1,Events:[Fs,Ir,ta,Bd,$d,uc]},qs={findFiberByHostInstance:nr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Gx={bundleType:qs.bundleType,version:qs.version,rendererPackageName:qs.rendererPackageName,rendererConfig:qs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Gd(r),r===null?null:r.stateNode},findFiberByHostInstance:qs.findFiberByHostInstance||Wx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var za=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!za.isDisabled&&za.supportsFiber)try{Fi=za.inject(Gx),Xt=za}catch{}}return vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yx,vt.createPortal=function(r,i){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bc(i))throw Error(t(200));return Vx(r,i,null,c)},vt.createRoot=function(r,i){if(!bc(r))throw Error(t(299));var c=!1,f="",g=kf;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),i=xc(r,1,!1,null,null,c,!1,f,g),r[cn]=i.current,Rs(r.nodeType===8?r.parentNode:r),new vc(i)},vt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Gd(i),r=r===null?null:r.stateNode,r},vt.flushSync=function(r){return dr(r)},vt.hydrate=function(r,i,c){if(!Aa(i))throw Error(t(200));return Ia(null,r,i,!0,c)},vt.hydrateRoot=function(r,i,c){if(!bc(r))throw Error(t(405));var f=c!=null&&c.hydratedSources||null,g=!1,x="",w=kf;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(w=c.onRecoverableError)),i=vf(i,null,r,1,c??null,g,!1,x,w),r[cn]=i.current,Rs(r),f)for(r=0;r<f.length;r++)c=f[r],g=c._getVersion,g=g(c._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[c,g]:i.mutableSourceEagerHydrationData.push(c,g);return new Fa(i)},vt.render=function(r,i,c){if(!Aa(i))throw Error(t(200));return Ia(null,r,i,!1,c)},vt.unmountComponentAtNode=function(r){if(!Aa(r))throw Error(t(40));return r._reactRootContainer?(dr(function(){Ia(null,null,r,!1,function(){r._reactRootContainer=null,r[cn]=null})}),!0):!1},vt.unstable_batchedUpdates=uc,vt.unstable_renderSubtreeIntoContainer=function(r,i,c,f){if(!Aa(c))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Ia(r,i,c,!1,f)},vt.version="18.3.1-next-f1338f8080-20240426",vt}var Ef;function ty(){if(Ef)return _c.exports;Ef=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),_c.exports=ey(),_c.exports}var Df;function ny(){if(Df)return Ba;Df=1;var n=ty();return Ba.createRoot=n.createRoot,Ba.hydrateRoot=n.hydrateRoot,Ba}var ry=ny();const sy=gm(ry);/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Tf="popstate";function iy(n={}){function e(s,a){let{pathname:o,search:l,hash:u}=s.location;return Uc("",{pathname:o,search:l,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(s,a){return typeof a=="string"?a:pi(a)}return oy(e,t,null,n)}function Ve(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Gt(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ay(){return Math.random().toString(36).substring(2,10)}function Rf(n,e){return{usr:n.state,key:n.key,idx:e}}function Uc(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?cs(e):e,state:t,key:e&&e.key||s||ay()}}function pi({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function cs(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function oy(n,e,t,s={}){let{window:a=document.defaultView,v5Compat:o=!1}=s,l=a.history,u="POP",h=null,p=m();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function m(){return(l.state||{idx:null}).idx}function y(){u="POP";let _=m(),N=_==null?null:_-p;p=_,h&&h({action:u,location:k.location,delta:N})}function v(_,N){u="PUSH";let C=Uc(k.location,_,N);p=m()+1;let P=Rf(C,p),O=k.createHref(C);try{l.pushState(P,"",O)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;a.location.assign(O)}o&&h&&h({action:u,location:k.location,delta:1})}function b(_,N){u="REPLACE";let C=Uc(k.location,_,N);p=m();let P=Rf(C,p),O=k.createHref(C);l.replaceState(P,"",O),o&&h&&h({action:u,location:k.location,delta:0})}function S(_){return ly(_)}let k={get action(){return u},get location(){return n(a,l)},listen(_){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(Tf,y),h=_,()=>{a.removeEventListener(Tf,y),h=null}},createHref(_){return e(a,_)},createURL:S,encodeLocation(_){let N=S(_);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:v,replace:b,go(_){return l.go(_)}};return k}function ly(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ve(t,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:pi(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function xm(n,e,t="/"){return cy(n,e,t,!1)}function cy(n,e,t,s){let a=typeof e=="string"?cs(e):e,o=jn(a.pathname||"/",t);if(o==null)return null;let l=ym(n);dy(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let p=ky(o);u=vy(l[h],p,s)}return u}function ym(n,e=[],t=[],s="",a=!1){let o=(l,u,h=a,p)=>{let m={relativePath:p===void 0?l.path||"":p,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(s)&&h)return;Ve(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length)}let y=Sn([s,m.relativePath]),v=t.concat(m);l.children&&l.children.length>0&&(Ve(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),ym(l.children,e,v,y,h)),!(l.path==null&&!l.index)&&e.push({path:y,score:xy(y,l.index),routesMeta:v})};return n.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))o(l,u);else for(let h of vm(l.path))o(l,u,!0,h)}),e}function vm(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(s.length===0)return a?[o,""]:[o];let l=vm(s.join("/")),u=[];return u.push(...l.map(h=>h===""?o:[o,h].join("/"))),a&&u.push(...l),u.map(h=>n.startsWith("/")&&h===""?"/":h)}function dy(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:yy(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var uy=/^:[\w-]+$/,hy=3,fy=2,py=1,my=10,gy=-2,Lf=n=>n==="*";function xy(n,e){let t=n.split("/"),s=t.length;return t.some(Lf)&&(s+=gy),e&&(s+=fy),t.filter(a=>!Lf(a)).reduce((a,o)=>a+(uy.test(o)?hy:o===""?py:my),s)}function yy(n,e){return n.length===e.length&&n.slice(0,-1).every((s,a)=>s===e[a])?n[n.length-1]-e[e.length-1]:0}function vy(n,e,t=!1){let{routesMeta:s}=n,a={},o="/",l=[];for(let u=0;u<s.length;++u){let h=s[u],p=u===s.length-1,m=o==="/"?e:e.slice(o.length)||"/",y=fo({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},m),v=h.route;if(!y&&p&&t&&!s[s.length-1].route.index&&(y=fo({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!y)return null;Object.assign(a,y.params),l.push({params:a,pathname:Sn([o,y.pathname]),pathnameBase:jy(Sn([o,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(o=Sn([o,y.pathnameBase]))}return l}function fo(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=by(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],l=o.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:s.reduce((p,{paramName:m,isOptional:y},v)=>{if(m==="*"){let S=u[v]||"";l=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const b=u[v];return y&&!b?p[m]=void 0:p[m]=(b||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:l,pattern:n}}function by(n,e=!1,t=!0){Gt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(s.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(s.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function ky(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gt(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function jn(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function wy(n,e="/"){let{pathname:t,search:s="",hash:a=""}=typeof n=="string"?cs(n):n;return{pathname:t?t.startsWith("/")?t:_y(t,e):e,search:Ny(s),hash:Cy(a)}}function _y(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Nc(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Sy(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function bm(n){let e=Sy(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function km(n,e,t,s=!1){let a;typeof n=="string"?a=cs(n):(a={...n},Ve(!a.pathname||!a.pathname.includes("?"),Nc("?","pathname","search",a)),Ve(!a.pathname||!a.pathname.includes("#"),Nc("#","pathname","hash",a)),Ve(!a.search||!a.search.includes("#"),Nc("#","search","hash",a)));let o=n===""||a.pathname==="",l=o?"/":a.pathname,u;if(l==null)u=t;else{let y=e.length-1;if(!s&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),y-=1;a.pathname=v.join("/")}u=y>=0?e[y]:"/"}let h=wy(a,u),p=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||m)&&(h.pathname+="/"),h}var Sn=n=>n.join("/").replace(/\/\/+/g,"/"),jy=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Ny=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Cy=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function My(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var wm=["POST","PUT","PATCH","DELETE"];new Set(wm);var Py=["GET",...wm];new Set(Py);var ds=j.createContext(null);ds.displayName="DataRouter";var wo=j.createContext(null);wo.displayName="DataRouterState";j.createContext(!1);var _m=j.createContext({isTransitioning:!1});_m.displayName="ViewTransition";var Ey=j.createContext(new Map);Ey.displayName="Fetchers";var Dy=j.createContext(null);Dy.displayName="Await";var sn=j.createContext(null);sn.displayName="Navigation";var _i=j.createContext(null);_i.displayName="Location";var an=j.createContext({outlet:null,matches:[],isDataRoute:!1});an.displayName="Route";var ld=j.createContext(null);ld.displayName="RouteError";function Ty(n,{relative:e}={}){Ve(Si(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=j.useContext(sn),{hash:a,pathname:o,search:l}=ji(n,{relative:e}),u=o;return t!=="/"&&(u=o==="/"?t:Sn([t,o])),s.createHref({pathname:u,search:l,hash:a})}function Si(){return j.useContext(_i)!=null}function Qn(){return Ve(Si(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(_i).location}var Sm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jm(n){j.useContext(sn).static||j.useLayoutEffect(n)}function on(){let{isDataRoute:n}=j.useContext(an);return n?Yy():Ry()}function Ry(){Ve(Si(),"useNavigate() may be used only in the context of a <Router> component.");let n=j.useContext(ds),{basename:e,navigator:t}=j.useContext(sn),{matches:s}=j.useContext(an),{pathname:a}=Qn(),o=JSON.stringify(bm(s)),l=j.useRef(!1);return jm(()=>{l.current=!0}),j.useCallback((h,p={})=>{if(Gt(l.current,Sm),!l.current)return;if(typeof h=="number"){t.go(h);return}let m=km(h,JSON.parse(o),a,p.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Sn([e,m.pathname])),(p.replace?t.replace:t.push)(m,p.state,p)},[e,t,o,a,n])}j.createContext(null);function Ly(){let{matches:n}=j.useContext(an),e=n[n.length-1];return e?e.params:{}}function ji(n,{relative:e}={}){let{matches:t}=j.useContext(an),{pathname:s}=Qn(),a=JSON.stringify(bm(t));return j.useMemo(()=>km(n,JSON.parse(a),s,e==="path"),[n,a,s,e])}function Oy(n,e){return Nm(n,e)}function Nm(n,e,t,s,a){Ve(Si(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=j.useContext(sn),{matches:l}=j.useContext(an),u=l[l.length-1],h=u?u.params:{},p=u?u.pathname:"/",m=u?u.pathnameBase:"/",y=u&&u.route;{let C=y&&y.path||"";Cm(p,!y||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let v=Qn(),b;if(e){let C=typeof e=="string"?cs(e):e;Ve(m==="/"||C.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${C.pathname}" was given in the \`location\` prop.`),b=C}else b=v;let S=b.pathname||"/",k=S;if(m!=="/"){let C=m.replace(/^\//,"").split("/");k="/"+S.replace(/^\//,"").split("/").slice(C.length).join("/")}let _=xm(n,{pathname:k});Gt(y||_!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Gt(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=By(_&&_.map(C=>Object.assign({},C,{params:Object.assign({},h,C.params),pathname:Sn([m,o.encodeLocation?o.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?m:Sn([m,o.encodeLocation?o.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),l,t,s,a);return e&&N?j.createElement(_i.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},N):N}function Fy(){let n=Uy(),e=My(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:o},"ErrorBoundary")," or"," ",j.createElement("code",{style:o},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),t?j.createElement("pre",{style:a},t):null,l)}var Ay=j.createElement(Fy,null),Iy=class extends j.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?j.createElement(an.Provider,{value:this.props.routeContext},j.createElement(ld.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zy({routeContext:n,match:e,children:t}){let s=j.useContext(ds);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(an.Provider,{value:n},t)}function By(n,e=[],t=null,s=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=t?.errors;if(l!=null){let p=o.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);Ve(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,h=-1;if(t)for(let p=0;p<o.length;p++){let m=o[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.id){let{loaderData:y,errors:v}=t,b=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||b){u=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((p,m,y)=>{let v,b=!1,S=null,k=null;t&&(v=l&&m.route.id?l[m.route.id]:void 0,S=m.route.errorElement||Ay,u&&(h<0&&y===0?(Cm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,k=null):h===y&&(b=!0,k=m.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,y+1)),N=()=>{let C;return v?C=S:b?C=k:m.route.Component?C=j.createElement(m.route.Component,null):m.route.element?C=m.route.element:C=p,j.createElement(zy,{match:m,routeContext:{outlet:p,matches:_,isDataRoute:t!=null},children:C})};return t&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?j.createElement(Iy,{location:t.location,revalidation:t.revalidation,component:S,error:v,children:N(),routeContext:{outlet:null,matches:_,isDataRoute:!0},unstable_onError:s}):N()},null)}function cd(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $y(n){let e=j.useContext(ds);return Ve(e,cd(n)),e}function Hy(n){let e=j.useContext(wo);return Ve(e,cd(n)),e}function Vy(n){let e=j.useContext(an);return Ve(e,cd(n)),e}function dd(n){let e=Vy(n),t=e.matches[e.matches.length-1];return Ve(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Wy(){return dd("useRouteId")}function Uy(){let n=j.useContext(ld),e=Hy("useRouteError"),t=dd("useRouteError");return n!==void 0?n:e.errors?.[t]}function Yy(){let{router:n}=$y("useNavigate"),e=dd("useNavigate"),t=j.useRef(!1);return jm(()=>{t.current=!0}),j.useCallback(async(a,o={})=>{Gt(t.current,Sm),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var Of={};function Cm(n,e,t){!e&&!Of[n]&&(Of[n]=!0,Gt(!1,t))}j.memo(Gy);function Gy({routes:n,future:e,state:t,unstable_onError:s}){return Nm(n,void 0,t,s,e)}function At(n){Ve(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ky({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:a,static:o=!1}){Ve(!Si(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:l,navigator:a,static:o,future:{}}),[l,a,o]);typeof t=="string"&&(t=cs(t));let{pathname:h="/",search:p="",hash:m="",state:y=null,key:v="default"}=t,b=j.useMemo(()=>{let S=jn(h,l);return S==null?null:{location:{pathname:S,search:p,hash:m,state:y,key:v},navigationType:s}},[l,h,p,m,y,v,s]);return Gt(b!=null,`<Router basename="${l}"> is not able to match the URL "${h}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:j.createElement(sn.Provider,{value:u},j.createElement(_i.Provider,{children:e,value:b}))}function Xy({children:n,location:e}){return Oy(Yc(n),e)}function Yc(n,e=[]){let t=[];return j.Children.forEach(n,(s,a)=>{if(!j.isValidElement(s))return;let o=[...e,a];if(s.type===j.Fragment){t.push.apply(t,Yc(s.props.children,o));return}Ve(s.type===At,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ve(!s.props.index||!s.props.children,"An index route cannot have child routes.");let l={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(l.children=Yc(s.props.children,o)),t.push(l)}),t}var io="get",ao="application/x-www-form-urlencoded";function _o(n){return n!=null&&typeof n.tagName=="string"}function qy(n){return _o(n)&&n.tagName.toLowerCase()==="button"}function Jy(n){return _o(n)&&n.tagName.toLowerCase()==="form"}function Qy(n){return _o(n)&&n.tagName.toLowerCase()==="input"}function Zy(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function ev(n,e){return n.button===0&&(!e||e==="_self")&&!Zy(n)}function Gc(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let s=n[t];return e.concat(Array.isArray(s)?s.map(a=>[t,a]):[[t,s]])},[]))}function tv(n,e){let t=Gc(n);return e&&e.forEach((s,a)=>{t.has(a)||e.getAll(a).forEach(o=>{t.append(a,o)})}),t}var $a=null;function nv(){if($a===null)try{new FormData(document.createElement("form"),0),$a=!1}catch{$a=!0}return $a}var rv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cc(n){return n!=null&&!rv.has(n)?(Gt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ao}"`),null):n}function sv(n,e){let t,s,a,o,l;if(Jy(n)){let u=n.getAttribute("action");s=u?jn(u,e):null,t=n.getAttribute("method")||io,a=Cc(n.getAttribute("enctype"))||ao,o=new FormData(n)}else if(qy(n)||Qy(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||u.getAttribute("action");if(s=h?jn(h,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||io,a=Cc(n.getAttribute("formenctype"))||Cc(u.getAttribute("enctype"))||ao,o=new FormData(u,n),!nv()){let{name:p,type:m,value:y}=n;if(m==="image"){let v=p?`${p}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else p&&o.append(p,y)}}else{if(_o(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=io,s=null,a=ao,l=n}return o&&a==="text/plain"&&(l=o,o=void 0),{action:s,method:t.toLowerCase(),encType:a,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ud(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function iv(n,e,t){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&jn(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function av(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ov(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function lv(n,e,t){let s=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let l=await av(o,t);return l.links?l.links():[]}return[]}));return hv(s.flat(1).filter(ov).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Ff(n,e,t,s,a,o){let l=(h,p)=>t[p]?h.route.id!==t[p].route.id:!0,u=(h,p)=>t[p].pathname!==h.pathname||t[p].route.path?.endsWith("*")&&t[p].params["*"]!==h.params["*"];return o==="assets"?e.filter((h,p)=>l(h,p)||u(h,p)):o==="data"?e.filter((h,p)=>{let m=s.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(l(h,p)||u(h,p))return!0;if(h.route.shouldRevalidate){let y=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function cv(n,e,{includeHydrateFallback:t}={}){return dv(n.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function dv(n){return[...new Set(n)]}function uv(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function hv(n,e){let t=new Set;return new Set(e),n.reduce((s,a)=>{let o=JSON.stringify(uv(a));return t.has(o)||(t.add(o),s.push({key:o,link:a})),s},[])}function Mm(){let n=j.useContext(ds);return ud(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function fv(){let n=j.useContext(wo);return ud(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var hd=j.createContext(void 0);hd.displayName="FrameworkContext";function Pm(){let n=j.useContext(hd);return ud(n,"You must render this element inside a <HydratedRouter> element"),n}function pv(n,e){let t=j.useContext(hd),[s,a]=j.useState(!1),[o,l]=j.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:p,onMouseLeave:m,onTouchStart:y}=e,v=j.useRef(null);j.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let k=N=>{N.forEach(C=>{l(C.isIntersecting)})},_=new IntersectionObserver(k,{threshold:.5});return v.current&&_.observe(v.current),()=>{_.disconnect()}}},[n]),j.useEffect(()=>{if(s){let k=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(k)}}},[s]);let b=()=>{a(!0)},S=()=>{a(!1),l(!1)};return t?n!=="intent"?[o,v,{}]:[o,v,{onFocus:Qs(u,b),onBlur:Qs(h,S),onMouseEnter:Qs(p,b),onMouseLeave:Qs(m,S),onTouchStart:Qs(y,b)}]:[!1,v,{}]}function Qs(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function mv({page:n,...e}){let{router:t}=Mm(),s=j.useMemo(()=>xm(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?j.createElement(xv,{page:n,matches:s,...e}):null}function gv(n){let{manifest:e,routeModules:t}=Pm(),[s,a]=j.useState([]);return j.useEffect(()=>{let o=!1;return lv(n,e,t).then(l=>{o||a(l)}),()=>{o=!0}},[n,e,t]),s}function xv({page:n,matches:e,...t}){let s=Qn(),{manifest:a,routeModules:o}=Pm(),{basename:l}=Mm(),{loaderData:u,matches:h}=fv(),p=j.useMemo(()=>Ff(n,e,h,a,s,"data"),[n,e,h,a,s]),m=j.useMemo(()=>Ff(n,e,h,a,s,"assets"),[n,e,h,a,s]),y=j.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let S=new Set,k=!1;if(e.forEach(N=>{let C=a.routes[N.route.id];!C||!C.hasLoader||(!p.some(P=>P.route.id===N.route.id)&&N.route.id in u&&o[N.route.id]?.shouldRevalidate||C.hasClientLoader?k=!0:S.add(N.route.id))}),S.size===0)return[];let _=iv(n,l,"data");return k&&S.size>0&&_.searchParams.set("_routes",e.filter(N=>S.has(N.route.id)).map(N=>N.route.id).join(",")),[_.pathname+_.search]},[l,u,s,a,p,e,n,o]),v=j.useMemo(()=>cv(m,a),[m,a]),b=gv(m);return j.createElement(j.Fragment,null,y.map(S=>j.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),v.map(S=>j.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),b.map(({key:S,link:k})=>j.createElement("link",{key:S,nonce:t.nonce,...k})))}function yv(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Em=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Em&&(window.__reactRouterVersion="7.9.1")}catch{}function vv({basename:n,children:e,window:t}){let s=j.useRef();s.current==null&&(s.current=iy({window:t,v5Compat:!0}));let a=s.current,[o,l]=j.useState({action:a.action,location:a.location}),u=j.useCallback(h=>{j.startTransition(()=>l(h))},[l]);return j.useLayoutEffect(()=>a.listen(u),[a,u]),j.createElement(Ky,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:a})}var Dm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Te=j.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:a,reloadDocument:o,replace:l,state:u,target:h,to:p,preventScrollReset:m,viewTransition:y,...v},b){let{basename:S}=j.useContext(sn),k=typeof p=="string"&&Dm.test(p),_,N=!1;if(typeof p=="string"&&k&&(_=p,Em))try{let G=new URL(window.location.href),U=p.startsWith("//")?new URL(G.protocol+p):new URL(p),T=jn(U.pathname,S);U.origin===G.origin&&T!=null?p=T+U.search+U.hash:N=!0}catch{Gt(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=Ty(p,{relative:a}),[P,O,D]=pv(s,v),Y=_v(p,{replace:l,state:u,target:h,preventScrollReset:m,relative:a,viewTransition:y});function $(G){e&&e(G),G.defaultPrevented||Y(G)}let I=j.createElement("a",{...v,...D,href:_||C,onClick:N||o?e:$,ref:yv(b,O),target:h,"data-discover":!k&&t==="render"?"true":void 0});return P&&!k?j.createElement(j.Fragment,null,I,j.createElement(mv,{page:C})):I});Te.displayName="Link";var bv=j.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:a=!1,style:o,to:l,viewTransition:u,children:h,...p},m){let y=ji(l,{relative:p.relative}),v=Qn(),b=j.useContext(wo),{navigator:S,basename:k}=j.useContext(sn),_=b!=null&&Mv(y)&&u===!0,N=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,C=v.pathname,P=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(C=C.toLowerCase(),P=P?P.toLowerCase():null,N=N.toLowerCase()),P&&k&&(P=jn(P,k)||P);const O=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let D=C===N||!a&&C.startsWith(N)&&C.charAt(O)==="/",Y=P!=null&&(P===N||!a&&P.startsWith(N)&&P.charAt(N.length)==="/"),$={isActive:D,isPending:Y,isTransitioning:_},I=D?e:void 0,G;typeof s=="function"?G=s($):G=[s,D?"active":null,Y?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let U=typeof o=="function"?o($):o;return j.createElement(Te,{...p,"aria-current":I,className:G,ref:m,style:U,to:l,viewTransition:u},typeof h=="function"?h($):h)});bv.displayName="NavLink";var kv=j.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:a,state:o,method:l=io,action:u,onSubmit:h,relative:p,preventScrollReset:m,viewTransition:y,...v},b)=>{let S=Nv(),k=Cv(u,{relative:p}),_=l.toLowerCase()==="get"?"get":"post",N=typeof u=="string"&&Dm.test(u),C=P=>{if(h&&h(P),P.defaultPrevented)return;P.preventDefault();let O=P.nativeEvent.submitter,D=O?.getAttribute("formmethod")||l;S(O||P.currentTarget,{fetcherKey:e,method:D,navigate:t,replace:a,state:o,relative:p,preventScrollReset:m,viewTransition:y})};return j.createElement("form",{ref:b,method:_,action:k,onSubmit:s?h:C,...v,"data-discover":!N&&n==="render"?"true":void 0})});kv.displayName="Form";function wv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Tm(n){let e=j.useContext(ds);return Ve(e,wv(n)),e}function _v(n,{target:e,replace:t,state:s,preventScrollReset:a,relative:o,viewTransition:l}={}){let u=on(),h=Qn(),p=ji(n,{relative:o});return j.useCallback(m=>{if(ev(m,e)){m.preventDefault();let y=t!==void 0?t:pi(h)===pi(p);u(n,{replace:y,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[h,u,p,t,s,e,n,a,o,l])}function fd(n){Gt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=j.useRef(Gc(n)),t=j.useRef(!1),s=Qn(),a=j.useMemo(()=>tv(s.search,t.current?null:e.current),[s.search]),o=on(),l=j.useCallback((u,h)=>{const p=Gc(typeof u=="function"?u(new URLSearchParams(a)):u);t.current=!0,o("?"+p,h)},[o,a]);return[a,l]}var Sv=0,jv=()=>`__${String(++Sv)}__`;function Nv(){let{router:n}=Tm("useSubmit"),{basename:e}=j.useContext(sn),t=Wy();return j.useCallback(async(s,a={})=>{let{action:o,method:l,encType:u,formData:h,body:p}=sv(s,e);if(a.navigate===!1){let m=a.fetcherKey||jv();await n.fetch(m,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:h,body:p,formMethod:a.method||l,formEncType:a.encType||u,flushSync:a.flushSync})}else await n.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:h,body:p,formMethod:a.method||l,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function Cv(n,{relative:e}={}){let{basename:t}=j.useContext(sn),s=j.useContext(an);Ve(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),o={...ji(n||".",{relative:e})},l=Qn();if(n==null){o.search=l.search;let u=new URLSearchParams(o.search),h=u.getAll("index");if(h.some(m=>m==="")){u.delete("index"),h.filter(y=>y).forEach(y=>u.append("index",y));let m=u.toString();o.search=m?`?${m}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Sn([t,o.pathname])),pi(o)}function Mv(n,{relative:e}={}){let t=j.useContext(_m);Ve(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Tm("useViewTransitionState"),a=ji(n,{relative:e});if(!t.isTransitioning)return!1;let o=jn(t.currentLocation.pathname,s)||t.currentLocation.pathname,l=jn(t.nextLocation.pathname,s)||t.nextLocation.pathname;return fo(a.pathname,l)!=null||fo(a.pathname,o)!=null}const Pv=()=>{const n=new Date().getHours();return n>=5&&n<12?"morning":n>=12&&n<17?"afternoon":n>=17&&n<21?"evening":"night"},Ev=n=>n==="morning"?"Good morning":n==="afternoon"?"Good afternoon":n==="evening"?"Good evening":"Hello",Dv=()=>`Happy ${["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date().getDay()]}`,Tv=()=>{const n=["Welcome back","Good to see you","What's new","Nice to have you","How's it going","Hope you're well","Ready to get started","Let's make it a good one"];return n[Math.floor(Math.random()*n.length)]},Rv=()=>{const n=new Date().toISOString().slice(0,10),e=Pv(),t=localStorage.getItem("lastGreetingDay"),s=localStorage.getItem("lastGreetingPeriod");let a;return t!==n?(a=Dv(),localStorage.setItem("lastGreetingDay",n),localStorage.setItem("lastGreetingPeriod",e),a):s!==e?(a=Ev(e),localStorage.setItem("lastGreetingPeriod",e),a):(a=Tv(),a)};function Lv({title:n="Upload Data",hint:e="",accept:t="*/*",multiple:s=!1,files:a=[],setFiles:o=()=>{},onDrop:l=null,viewMode:u="grid",setViewMode:h=()=>{},onUploadClick:p=()=>{},primaryLabel:m="Upload & Process"}){const y=j.useRef(null),v=S=>{const k=Array.from(S.target.files||[]);k.length&&o(k)},b=S=>{S.preventDefault();const k=Array.from(S.dataTransfer.files||[]);l?l(S,k):k.length&&o(k)};return d.jsxs("section",{className:"rounded-2xl bg-white border border-gray-200 shadow-sm dark:bg-ink/80 dark:border-white/5 p-5 max-w-3xl mx-auto",children:[d.jsx("h3",{className:"font-display text-lg mb-1",children:n}),e&&d.jsx("p",{className:"text-sm text-gray-500 mb-4",children:e}),d.jsxs("div",{onDrop:b,onDragOver:S=>S.preventDefault(),className:"rounded-xl p-6 text-center transition bg-white border dark:bg-ink/80",style:{boxShadow:"0 6px 14px rgba(20,24,40,0.05)"},children:[d.jsx("p",{className:"mb-2 font-medium text-gray-700 dark:text-slate-300",children:"Drag & drop your file here"}),d.jsxs("p",{className:"text-xs mb-4 text-gray-500 dark:text-slate-400",children:["Accepted: ",t]}),d.jsxs("div",{className:"flex items-center justify-center gap-3",children:[d.jsx("button",{type:"button",onClick:()=>y.current?.click(),className:"px-4 py-2 rounded-xl border border-gray-300 text-gray-700 hover:text-black hover:border-neonBlue/60 transition",children:"Choose File"}),d.jsx("input",{ref:y,type:"file",accept:t,multiple:s,onChange:v,className:"hidden"}),d.jsx("div",{className:"text-xs text-gray-700 dark:text-slate-300 truncate max-w-[220px]",children:a.length?d.jsxs(d.Fragment,{children:["Selected:"," ",d.jsx("span",{className:"text-neonYellow",children:a.map(S=>S.name||S.filename).join(", ")})]}):d.jsx("span",{children:"No file chosen"})})]}),d.jsx("div",{className:"mt-4 flex items-center justify-center gap-2",children:["grid","details","list"].map(S=>d.jsx("button",{onClick:()=>h(S),className:`px-3 py-1 rounded ${u===S?"bg-gray-100":""}`,children:S.charAt(0).toUpperCase()+S.slice(1)},S))})]}),d.jsx("div",{className:"mt-4",children:d.jsx("button",{onClick:p,className:"w-full px-4 py-3 rounded-2xl bg-neonBlue text-white shadow transition font-medium",children:m})})]})}/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Fv=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),Af=n=>{const e=Fv(n);return e.charAt(0).toUpperCase()+e.slice(1)},Rm=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),Av=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Iv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=j.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:a="",children:o,iconNode:l,...u},h)=>j.createElement("svg",{ref:h,...Iv,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:Rm("lucide",a),...!o&&!Av(u)&&{"aria-hidden":"true"},...u},[...l.map(([p,m])=>j.createElement(p,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=(n,e)=>{const t=j.forwardRef(({className:s,...a},o)=>j.createElement(zv,{ref:o,iconNode:e,className:Rm(`lucide-${Ov(Af(n))}`,`lucide-${n}`,s),...a}));return t.displayName=Af(n),t};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],$v=me("arrow-left",Bv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Vv=me("bell",Hv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],oo=me("brain",Wv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],If=me("briefcase",Uv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Gv=me("building",Yv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Xv=me("camera",Kv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Jv=me("calendar",qv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 11.207a.5.5 0 0 1 .146-.353l2-2a.5.5 0 0 1 .708 0l3.292 3.292a.5.5 0 0 0 .708 0l4.292-4.292a.5.5 0 0 1 .854.353V16a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1z",key:"q0gr47"}]],Zv=me("chart-area",Qv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],tb=me("chart-column",eb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],rb=me("chart-line",nb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],Kc=me("chart-no-axes-column-increasing",sb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],ab=me("chart-no-axes-column",ib);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],lb=me("chart-pie",ob);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],zf=me("check",cb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ub=me("chevron-down",db);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],fb=me("chevron-up",hb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],mb=me("circle-question-mark",pb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],xb=me("circle",gb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],vb=me("clock",yb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],kb=me("cpu",bb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ss=me("download",wb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Bf=me("eye-off",_b);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],lo=me("eye",Sb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=[["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01",key:"gkbcor"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}]],Lm=me("file-archive",jb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],Cb=me("file-down",Nb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]],Mc=me("file-image",Mb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 15h10",key:"jfw4w8"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]],Eb=me("file-input",Pb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],Xc=me("file-plus",Db);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],mi=me("file-spreadsheet",Tb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],It=me("file-text",Rb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 13v-1h6v1",key:"1bb014"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"M11 18h2",key:"12mj7e"}]],Ob=me("file-type",Lb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],Ab=me("file-up",Fb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],zb=me("folder-open",Ib);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],$b=me("funnel",Bb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Vb=me("globe",Hb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Ub=me("grid-3x3",Wb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],Gb=me("languages",Yb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Xb=me("layout-dashboard",Kb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Jb=me("map-pin",qb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],Zb=me("menu",Qb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],t1=me("moon",e1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],pd=me("palette",n1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],s1=me("pen-line",r1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],a1=me("phone",i1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]],l1=me("redo-2",o1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],d1=me("refresh-cw",c1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],po=me("save",u1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],is=me("settings",h1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],p1=me("shield",f1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],g1=me("sun",m1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Om=me("trash-2",x1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Fm=me("trending-up",y1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Am=me("triangle-alert",v1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],k1=me("type",b1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],_1=me("undo-2",w1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],$f=me("upload",S1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ts=me("user",j1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],co=me("x",N1);function md({onClose:n,onExportImage:e,onExportCSV:t,onExportJSON:s,chartData:a=null,chartTitle:o="Chart",chartId:l=null}){const[u,h]=j.useState({format:"png",background:"#ffffff",dpi:300,filename:"",includeMetadata:!1,includeWatermark:!1,watermarkText:"Generated by Syla Analytics"}),[p,m]=j.useState(!1),[y,v]=j.useState(null),[b,S]=j.useState({x:0,y:0}),[k,_]=j.useState(!1),[N,C]=j.useState({x:0,y:0}),[P,O]=j.useState(!1),D=j.useRef(null);j.useEffect(()=>{if(!P&&D.current){const R=window.innerWidth,F=window.innerHeight,B=D.current.offsetWidth,Q=D.current.offsetHeight,ce=R-B-20,ne=(F-Q)/2;S({x:ce,y:ne}),O(!0)}},[P]),j.useEffect(()=>{if(!u.filename){const R=new Date().toISOString().slice(0,16).replace(/[:-]/g,""),F=(o||"chart").replace(/[^a-zA-Z0-9]/g,"_");h(B=>({...B,filename:`${F}_${R}`}))}},[o,u.filename]);const Y=R=>{if(R.target.closest(".drag-handle")){_(!0);const F=D.current.getBoundingClientRect();C({x:R.clientX-F.left,y:R.clientY-F.top}),R.preventDefault()}},$=R=>{if(k&&D.current){const F=window.innerWidth,B=window.innerHeight,Q=D.current.offsetWidth,ie=D.current.offsetHeight,ce=Math.max(0,Math.min(F-Q,R.clientX-N.x)),ne=Math.max(0,Math.min(B-ie,R.clientY-N.y));S({x:ce,y:ne})}},I=()=>{_(!1)};j.useEffect(()=>(k?(document.addEventListener("mousemove",$),document.addEventListener("mouseup",I),document.body.style.userSelect="none"):(document.removeEventListener("mousemove",$),document.removeEventListener("mouseup",I),document.body.style.userSelect=""),()=>{document.removeEventListener("mousemove",$),document.removeEventListener("mouseup",I),document.body.style.userSelect=""}),[k,N]);const G=(R,F)=>{h(B=>({...B,[R]:F}))},U=async()=>{try{m(!0),v({type:"loading",message:"Preparing export..."});const{format:R,background:F,dpi:B,filename:Q,includeMetadata:ie}=u,ce=Q.includes(".")?Q:`${Q}.${R}`;if(R==="csv")t&&(await t(),v({type:"success",message:"CSV data exported successfully!",action:"download"}));else if(R==="json")s&&(await s(),v({type:"success",message:"JSON data exported successfully!",action:"download"}));else if(e){const ne={format:R,background:F||"#ffffff",dpi:B,filename:ce,includeMetadata:ie,includeWatermark:u.includeWatermark,watermarkText:u.watermarkText};await e(R,ne),v({type:"success",message:`${R.toUpperCase()} exported successfully!`,action:"download"})}setTimeout(()=>{v(null)},3e3)}catch(R){console.error("Export failed:",R),v({type:"error",message:R.message||"Export failed. Please try again."}),setTimeout(()=>{v(null)},5e3)}finally{m(!1)}},T=[{value:"#ffffff",label:"White (Recommended)",preview:"#ffffff"},{value:"transparent",label:"Transparent",preview:"linear-gradient(45deg, #ccc 25%, transparent 25%), linear-gradient(-45deg, #ccc 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #ccc 75%), linear-gradient(-45deg, transparent 75%, #ccc 75%)"},{value:"#f8fafc",label:"Light Gray",preview:"#f8fafc"},{value:"#000000",label:"Black",preview:"#000000"}];return d.jsxs("div",{ref:D,className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl border border-gray-200 dark:border-slate-600 w-80 max-h-[85vh] overflow-hidden z-50",style:{position:"fixed",left:`${b.x}px`,top:`${b.y}px`,transform:k?"scale(1.02)":"scale(1)",transition:k?"none":"transform 0.2s ease-out",opacity:P?1:0},onMouseDown:Y,children:[d.jsx("div",{className:"drag-handle p-3 border-b border-gray-200 dark:border-slate-600 cursor-move bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"p-1.5 bg-blue-100 dark:bg-blue-900/40 rounded-lg",children:d.jsx(ss,{size:16,className:"text-blue-600 dark:text-blue-400"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-sm text-gray-800 dark:text-slate-200",children:"Export Chart"}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:"High-quality export"})]})]}),d.jsx("button",{onClick:n,className:"p-1.5 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:d.jsx(co,{size:16,className:"text-gray-500"})})]})}),d.jsxs("div",{className:"p-3 max-h-80 overflow-y-auto",children:[d.jsxs("div",{className:"mb-3",children:[d.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Export Format"}),d.jsx("div",{className:"grid grid-cols-2 gap-1.5",children:[{value:"png",label:"PNG",desc:"High quality",icon:Mc},{value:"jpeg",label:"JPEG",desc:"Compressed",icon:Mc},{value:"svg",label:"SVG",desc:"Vector",icon:Mc},{value:"pdf",label:"PDF",desc:"Print ready",icon:It},{value:"csv",label:"CSV",desc:"Raw data",icon:It},{value:"json",label:"JSON",desc:"Structured",icon:It}].map(R=>d.jsxs("button",{onClick:()=>G("format",R.value),className:`p-2 rounded-lg border-2 text-left transition-all ${u.format===R.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"border-gray-200 dark:border-slate-600 hover:border-gray-300 dark:hover:border-slate-500"}`,children:[d.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[d.jsx(R.icon,{size:14}),d.jsx("span",{className:"font-medium text-xs",children:R.label})]}),d.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400",children:R.desc})]},R.value))})]}),["png","jpeg","svg","pdf"].includes(u.format)&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"mb-3",children:[d.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Background"}),d.jsx("div",{className:"grid grid-cols-1 gap-1.5",children:T.map(R=>d.jsxs("button",{onClick:()=>G("background",R.value),className:`p-2 rounded-lg border-2 text-left transition-all flex items-center gap-2 ${u.background===R.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-slate-600 hover:border-gray-300 dark:hover:border-slate-500"}`,children:[d.jsx("div",{className:"w-6 h-6 rounded border border-gray-300 flex-shrink-0",style:{background:R.value==="transparent"?R.preview:R.value,backgroundSize:R.value==="transparent"?"6px 6px":void 0}}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-medium text-xs",children:R.label}),R.value==="#ffffff"&&d.jsx("div",{className:"text-xs text-green-600 dark:text-green-400",children:"Recommended"})]}),u.background===R.value&&d.jsx(zf,{size:14,className:"text-blue-600 dark:text-blue-400"})]},R.value))})]}),["png","jpeg","pdf"].includes(u.format)&&d.jsxs("div",{className:"mb-3",children:[d.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Resolution (DPI)"}),d.jsx("div",{className:"flex gap-1.5",children:[72,150,300,600].map(R=>d.jsx("button",{onClick:()=>G("dpi",R),className:`px-2 py-1.5 rounded-lg text-xs font-medium transition-all flex-1 ${u.dpi===R?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":"bg-gray-100 hover:bg-gray-200 dark:bg-slate-700 dark:hover:bg-slate-600"}`,children:R},R))}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"300 DPI recommended for print"})]})]}),d.jsxs("div",{className:"mb-3",children:[d.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Filename"}),d.jsx("input",{type:"text",value:u.filename,onChange:R=>G("filename",R.target.value),placeholder:"chart_export",className:"w-full rounded-lg border border-gray-300 dark:border-slate-600 px-2 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-slate-700"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",checked:u.includeMetadata,onChange:R=>G("includeMetadata",R.target.checked),className:"rounded w-3 h-3"}),d.jsx("span",{className:"text-xs",children:"Include metadata file"})]}),["png","jpeg","pdf"].includes(u.format)&&d.jsxs(d.Fragment,{children:[d.jsxs("label",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",checked:u.includeWatermark,onChange:R=>G("includeWatermark",R.target.checked),className:"rounded w-3 h-3"}),d.jsx("span",{className:"text-xs",children:"Add watermark"})]}),u.includeWatermark&&d.jsx("input",{type:"text",value:u.watermarkText,onChange:R=>G("watermarkText",R.target.value),placeholder:"Watermark text",className:"w-full ml-5 rounded border border-gray-300 dark:border-slate-600 px-2 py-1 text-xs dark:bg-slate-700"})]})]})]}),y&&d.jsxs("div",{className:`mx-3 mb-3 p-2.5 rounded-lg border ${y.type==="success"?"bg-green-50 border-green-200 text-green-800 dark:bg-green-900/20 dark:border-green-700 dark:text-green-300":y.type==="error"?"bg-red-50 border-red-200 text-red-800 dark:bg-red-900/20 dark:border-red-700 dark:text-red-300":"bg-blue-50 border-blue-200 text-blue-800 dark:bg-blue-900/20 dark:border-blue-700 dark:text-blue-300"}`,children:[d.jsxs("div",{className:"flex items-center gap-2",children:[y.type==="success"&&d.jsx(zf,{size:14}),y.type==="loading"&&d.jsx("div",{className:"w-3 h-3 border-2 border-current border-t-transparent rounded-full animate-spin"}),d.jsx("span",{className:"text-xs font-medium",children:y.message})]}),y.action==="download"&&d.jsx("p",{className:"text-xs mt-1 opacity-75",children:"Check your downloads folder."})]}),d.jsxs("div",{className:"p-3 border-t border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-800/50",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:U,disabled:p||!u.filename.trim(),className:`flex-1 px-3 py-2 rounded-lg font-medium text-white text-sm transition-all ${p||!u.filename.trim()?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 shadow-md hover:shadow-lg"}`,children:p?d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx("div",{className:"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Exporting..."]}):d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx(ss,{size:14}),"Export"]})}),d.jsx("button",{onClick:n,className:"px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors text-sm",children:"Cancel"})]}),d.jsx("div",{className:"mt-2 text-xs text-gray-500 dark:text-slate-400 text-center",children:d.jsxs("div",{className:"flex items-center justify-center gap-3",children:[d.jsx("span",{children:u.format.toUpperCase()}),["png","jpeg","pdf"].includes(u.format)&&d.jsxs("span",{children:[u.dpi," DPI"]}),d.jsx("span",{children:u.background==="#ffffff"?"White BG":"Custom BG"})]})})]})]})}function C1({action:n=null,accept:e=".csv,.xlsx,.xls",multiple:t=!1,maxFiles:s=10,onResult:a=()=>{},onData:o,onColumns:l,onTypes:u,onSummary:h,onChartTitle:p,onXAxis:m,onYAxis:y,initialFiles:v=null}){const[b,S]=j.useState(v?[].concat(v):[]),[k,_]=j.useState(0),[N,C]=j.useState(!1),[P,O]=j.useState("grid"),[D,Y]=j.useState(null),[$,I]=j.useState("");j.useRef(null),j.useEffect(()=>()=>b.forEach(R=>R.__previewUrl&&URL.revokeObjectURL(R.__previewUrl)),[b]);const G=R=>{if(!t&&R.length>1)return alert("Only one file allowed"),!1;if(R.length>s)return alert(`Max ${s}`),!1;const F=e.split(",").map(B=>B.trim().toLowerCase());for(const B of R){const Q="."+B.name.split(".").pop().toLowerCase();if(F[0]!=="*/*"&&!F.includes(Q))return alert(`Not allowed: ${B.name}`),!1}return!0},U=R=>R.map(F=>{try{F.__previewUrl=URL.createObjectURL(F)}catch{}return F}),T=()=>{if(!b.length)return alert("Select a file first");C(!0),_(0);const R=new FormData;t?b.forEach(B=>R.append("files",B)):R.append("file",b[0]);const F=new XMLHttpRequest;F.open("POST",n||"/api/upload",!0),F.upload.onprogress=B=>B.lengthComputable&&_(Math.round(B.loaded/B.total*100)),F.onload=()=>{if(C(!1),F.status>=200&&F.status<300)try{const B=JSON.parse(F.responseText);console.info("Backend response:",B);let Q=[],ie=[];B.data&&Array.isArray(B.data)?Q=B.data:B.rows&&Array.isArray(B.rows)?Q=B.rows:Q=[{Message:"Data processed but no structured data available"}],B.columns&&Array.isArray(B.columns)?ie=B.columns:Q.length>0?ie=Object.keys(Q[0]):ie=["Message"],console.info("Processed data:",{dataLength:Q.length,columns:ie}),Y(Q),I(B.chart_title||B.filename||"Processed Data"),o&&o(Q),l&&l(ie),u&&u(B.types||{}),h&&h(B.summary||{}),p&&p(B.chart_title||B.filename||""),m&&m(B.x_axis||ie[0]||""),y&&y(B.y_axis||ie[1]||ie[0]||"");const ce=B.message||`Processed: ${B.filename||"file"}`;alert(ce)}catch(B){console.error("Response parsing error:",B),alert("Upload successful but response parsing failed. Please try again.")}else console.warn("Upload failed:",F.status,F.responseText),alert("Upload failed. Please check your file and try again.")},F.onerror=()=>{C(!1),alert("Network error occurred during upload.")},F.send(R)};return d.jsxs("div",{className:"relative",children:[d.jsx(Lv,{accept:e,multiple:t,files:b,setFiles:R=>S(U(R)),onDrop:(R,F)=>G(F)&&S(U(F)),viewMode:P,setViewMode:O,onUploadClick:T,primaryLabel:N?`Uploading ${k}%`:"Upload & Process"}),d.jsx("div",{className:"mt-4",children:b.length===0?d.jsx("div",{className:"text-sm text-gray-500",children:"No files selected"}):P==="list"?d.jsx("ul",{children:b.map((R,F)=>d.jsx("li",{children:R.name},F))}):P==="details"?d.jsx("table",{children:d.jsx("tbody",{children:b.map((R,F)=>d.jsxs("tr",{children:[d.jsx("td",{children:R.name}),d.jsx("td",{children:R.size?`${Math.round(R.size/1024)} KB`:""})]},F))})}):d.jsx("div",{className:"grid grid-cols-2 gap-4",children:b.map((R,F)=>d.jsxs("div",{className:"p-2 border rounded text-center",children:[d.jsx("div",{className:"h-24 flex items-center justify-center",children:R.__previewUrl?d.jsx("img",{src:R.__previewUrl,alt:"",className:"max-h-24"}):R.name.split(".").pop()}),d.jsx("div",{className:"truncate text-sm",children:R.name})]},F))})}),N&&d.jsx("div",{className:"mt-2",children:d.jsx("div",{className:"w-full h-2 bg-gray-200",children:d.jsx("div",{className:"h-2 bg-blue-500",style:{width:`${k}%`}})})}),D&&D.length>0&&d.jsx(md,{chartData:D,chartTitle:$,onExportImage:R=>console.log("Export image",R),onExportCSV:()=>console.log("Export CSV"),onExportJSON:()=>console.log("Export JSON")})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ni(n){return n+.5|0}const Gn=(n,e,t)=>Math.max(Math.min(n,t),e);function ii(n){return Gn(Ni(n*2.55),0,255)}function qn(n){return Gn(Ni(n*255),0,255)}function bn(n){return Gn(Ni(n/2.55)/100,0,1)}function Hf(n){return Gn(Ni(n*100),0,100)}const Ft={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},qc=[..."0123456789ABCDEF"],M1=n=>qc[n&15],P1=n=>qc[(n&240)>>4]+qc[n&15],Ha=n=>(n&240)>>4===(n&15),E1=n=>Ha(n.r)&&Ha(n.g)&&Ha(n.b)&&Ha(n.a);function D1(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&Ft[n[1]]*17,g:255&Ft[n[2]]*17,b:255&Ft[n[3]]*17,a:e===5?Ft[n[4]]*17:255}:(e===7||e===9)&&(t={r:Ft[n[1]]<<4|Ft[n[2]],g:Ft[n[3]]<<4|Ft[n[4]],b:Ft[n[5]]<<4|Ft[n[6]],a:e===9?Ft[n[7]]<<4|Ft[n[8]]:255})),t}const T1=(n,e)=>n<255?e(n):"";function R1(n){var e=E1(n)?M1:P1;return n?"#"+e(n.r)+e(n.g)+e(n.b)+T1(n.a,e):void 0}const L1=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Im(n,e,t){const s=e*Math.min(t,1-t),a=(o,l=(o+n/30)%12)=>t-s*Math.max(Math.min(l-3,9-l,1),-1);return[a(0),a(8),a(4)]}function O1(n,e,t){const s=(a,o=(a+n/60)%6)=>t-t*e*Math.max(Math.min(o,4-o,1),0);return[s(5),s(3),s(1)]}function F1(n,e,t){const s=Im(n,1,.5);let a;for(e+t>1&&(a=1/(e+t),e*=a,t*=a),a=0;a<3;a++)s[a]*=1-e-t,s[a]+=e;return s}function A1(n,e,t,s,a){return n===a?(e-t)/s+(e<t?6:0):e===a?(t-n)/s+2:(n-e)/s+4}function gd(n){const t=n.r/255,s=n.g/255,a=n.b/255,o=Math.max(t,s,a),l=Math.min(t,s,a),u=(o+l)/2;let h,p,m;return o!==l&&(m=o-l,p=u>.5?m/(2-o-l):m/(o+l),h=A1(t,s,a,m,o),h=h*60+.5),[h|0,p||0,u]}function xd(n,e,t,s){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,s)).map(qn)}function yd(n,e,t){return xd(Im,n,e,t)}function I1(n,e,t){return xd(F1,n,e,t)}function z1(n,e,t){return xd(O1,n,e,t)}function zm(n){return(n%360+360)%360}function B1(n){const e=L1.exec(n);let t=255,s;if(!e)return;e[5]!==s&&(t=e[6]?ii(+e[5]):qn(+e[5]));const a=zm(+e[2]),o=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?s=I1(a,o,l):e[1]==="hsv"?s=z1(a,o,l):s=yd(a,o,l),{r:s[0],g:s[1],b:s[2],a:t}}function $1(n,e){var t=gd(n);t[0]=zm(t[0]+e),t=yd(t),n.r=t[0],n.g=t[1],n.b=t[2]}function H1(n){if(!n)return;const e=gd(n),t=e[0],s=Hf(e[1]),a=Hf(e[2]);return n.a<255?`hsla(${t}, ${s}%, ${a}%, ${bn(n.a)})`:`hsl(${t}, ${s}%, ${a}%)`}const Vf={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Wf={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function V1(){const n={},e=Object.keys(Wf),t=Object.keys(Vf);let s,a,o,l,u;for(s=0;s<e.length;s++){for(l=u=e[s],a=0;a<t.length;a++)o=t[a],u=u.replace(o,Vf[o]);o=parseInt(Wf[l],16),n[u]=[o>>16&255,o>>8&255,o&255]}return n}let Va;function W1(n){Va||(Va=V1(),Va.transparent=[0,0,0,0]);const e=Va[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const U1=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Y1(n){const e=U1.exec(n);let t=255,s,a,o;if(e){if(e[7]!==s){const l=+e[7];t=e[8]?ii(l):Gn(l*255,0,255)}return s=+e[1],a=+e[3],o=+e[5],s=255&(e[2]?ii(s):Gn(s,0,255)),a=255&(e[4]?ii(a):Gn(a,0,255)),o=255&(e[6]?ii(o):Gn(o,0,255)),{r:s,g:a,b:o,a:t}}}function G1(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${bn(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Pc=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Zr=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function K1(n,e,t){const s=Zr(bn(n.r)),a=Zr(bn(n.g)),o=Zr(bn(n.b));return{r:qn(Pc(s+t*(Zr(bn(e.r))-s))),g:qn(Pc(a+t*(Zr(bn(e.g))-a))),b:qn(Pc(o+t*(Zr(bn(e.b))-o))),a:n.a+t*(e.a-n.a)}}function Wa(n,e,t){if(n){let s=gd(n);s[e]=Math.max(0,Math.min(s[e]+s[e]*t,e===0?360:1)),s=yd(s),n.r=s[0],n.g=s[1],n.b=s[2]}}function Bm(n,e){return n&&Object.assign(e||{},n)}function Uf(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=qn(n[3]))):(e=Bm(n,{r:0,g:0,b:0,a:1}),e.a=qn(e.a)),e}function X1(n){return n.charAt(0)==="r"?Y1(n):B1(n)}class gi{constructor(e){if(e instanceof gi)return e;const t=typeof e;let s;t==="object"?s=Uf(e):t==="string"&&(s=D1(e)||W1(e)||X1(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=Bm(this._rgb);return e&&(e.a=bn(e.a)),e}set rgb(e){this._rgb=Uf(e)}rgbString(){return this._valid?G1(this._rgb):void 0}hexString(){return this._valid?R1(this._rgb):void 0}hslString(){return this._valid?H1(this._rgb):void 0}mix(e,t){if(e){const s=this.rgb,a=e.rgb;let o;const l=t===o?.5:t,u=2*l-1,h=s.a-a.a,p=((u*h===-1?u:(u+h)/(1+u*h))+1)/2;o=1-p,s.r=255&p*s.r+o*a.r+.5,s.g=255&p*s.g+o*a.g+.5,s.b=255&p*s.b+o*a.b+.5,s.a=l*s.a+(1-l)*a.a,this.rgb=s}return this}interpolate(e,t){return e&&(this._rgb=K1(this._rgb,e._rgb,t)),this}clone(){return new gi(this.rgb)}alpha(e){return this._rgb.a=qn(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Ni(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Wa(this._rgb,2,e),this}darken(e){return Wa(this._rgb,2,-e),this}saturate(e){return Wa(this._rgb,1,e),this}desaturate(e){return Wa(this._rgb,1,-e),this}rotate(e){return $1(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function xn(){}const q1=(()=>{let n=0;return()=>n++})();function Se(n){return n==null}function Ke(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function _e(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function qe(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Ct(n,e){return qe(n)?n:e}function ke(n,e){return typeof n>"u"?e:n}const J1=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,$m=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Re(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Ce(n,e,t,s){let a,o,l;if(Ke(n))for(o=n.length,a=0;a<o;a++)e.call(t,n[a],a);else if(_e(n))for(l=Object.keys(n),o=l.length,a=0;a<o;a++)e.call(t,n[l[a]],l[a])}function mo(n,e){let t,s,a,o;if(!n||!e||n.length!==e.length)return!1;for(t=0,s=n.length;t<s;++t)if(a=n[t],o=e[t],a.datasetIndex!==o.datasetIndex||a.index!==o.index)return!1;return!0}function go(n){if(Ke(n))return n.map(go);if(_e(n)){const e=Object.create(null),t=Object.keys(n),s=t.length;let a=0;for(;a<s;++a)e[t[a]]=go(n[t[a]]);return e}return n}function Hm(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function Q1(n,e,t,s){if(!Hm(n))return;const a=e[n],o=t[n];_e(a)&&_e(o)?rn(a,o,s):e[n]=go(o)}function rn(n,e,t){const s=Ke(e)?e:[e],a=s.length;if(!_e(n))return n;t=t||{};const o=t.merger||Q1;let l;for(let u=0;u<a;++u){if(l=s[u],!_e(l))continue;const h=Object.keys(l);for(let p=0,m=h.length;p<m;++p)o(h[p],n,l,t)}return n}function li(n,e){return rn(n,e,{merger:Z1})}function Z1(n,e,t){if(!Hm(n))return;const s=e[n],a=t[n];_e(s)&&_e(a)?li(s,a):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=go(a))}const Yf={"":n=>n,x:n=>n.x,y:n=>n.y};function ek(n){const e=n.split("."),t=[];let s="";for(const a of e)s+=a,s.endsWith("\\")?s=s.slice(0,-1)+".":(t.push(s),s="");return t}function tk(n){const e=ek(n);return t=>{for(const s of e){if(s==="")break;t=t&&t[s]}return t}}function Sr(n,e){return(Yf[e]||(Yf[e]=tk(e)))(n)}function vd(n){return n.charAt(0).toUpperCase()+n.slice(1)}const xi=n=>typeof n<"u",Jn=n=>typeof n=="function",Gf=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function nk(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Ee=Math.PI,He=2*Ee,rk=He+Ee,xo=Number.POSITIVE_INFINITY,sk=Ee/180,Ze=Ee/2,pr=Ee/4,Kf=Ee*2/3,Kn=Math.log10,nn=Math.sign;function ci(n,e,t){return Math.abs(n-e)<t}function Xf(n){const e=Math.round(n);n=ci(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(Kn(n))),s=n/t;return(s<=1?1:s<=2?2:s<=5?5:10)*t}function ik(n){const e=[],t=Math.sqrt(n);let s;for(s=1;s<t;s++)n%s===0&&(e.push(s),e.push(n/s));return t===(t|0)&&e.push(t),e.sort((a,o)=>a-o).pop(),e}function ak(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function as(n){return!ak(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function ok(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function Vm(n,e,t){let s,a,o;for(s=0,a=n.length;s<a;s++)o=n[s][t],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function kn(n){return n*(Ee/180)}function lk(n){return n*(180/Ee)}function qf(n){if(!qe(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function Wm(n,e){const t=e.x-n.x,s=e.y-n.y,a=Math.sqrt(t*t+s*s);let o=Math.atan2(s,t);return o<-.5*Ee&&(o+=He),{angle:o,distance:a}}function Jc(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function ck(n,e){return(n-e+rk)%He-Ee}function Mt(n){return(n%He+He)%He}function yi(n,e,t,s){const a=Mt(n),o=Mt(e),l=Mt(t),u=Mt(o-a),h=Mt(l-a),p=Mt(a-o),m=Mt(a-l);return a===o||a===l||s&&o===l||u>h&&p<m}function ut(n,e,t){return Math.max(e,Math.min(t,n))}function dk(n){return ut(n,-32768,32767)}function wn(n,e,t,s=1e-6){return n>=Math.min(e,t)-s&&n<=Math.max(e,t)+s}function bd(n,e,t){t=t||(l=>n[l]<e);let s=n.length-1,a=0,o;for(;s-a>1;)o=a+s>>1,t(o)?a=o:s=o;return{lo:a,hi:s}}const br=(n,e,t,s)=>bd(n,t,s?a=>{const o=n[a][e];return o<t||o===t&&n[a+1][e]===t}:a=>n[a][e]<t),uk=(n,e,t)=>bd(n,t,s=>n[s][e]>=t);function hk(n,e,t){let s=0,a=n.length;for(;s<a&&n[s]<e;)s++;for(;a>s&&n[a-1]>t;)a--;return s>0||a<n.length?n.slice(s,a):n}const Um=["push","pop","shift","splice","unshift"];function fk(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Um.forEach(t=>{const s="_onData"+vd(t),a=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...o){const l=a.apply(this,o);return n._chartjs.listeners.forEach(u=>{typeof u[s]=="function"&&u[s](...o)}),l}})})}function Jf(n,e){const t=n._chartjs;if(!t)return;const s=t.listeners,a=s.indexOf(e);a!==-1&&s.splice(a,1),!(s.length>0)&&(Um.forEach(o=>{delete n[o]}),delete n._chartjs)}function Ym(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const Gm=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function Km(n,e){let t=[],s=!1;return function(...a){t=a,s||(s=!0,Gm.call(window,()=>{s=!1,n.apply(e,t)}))}}function pk(n,e){let t;return function(...s){return e?(clearTimeout(t),t=setTimeout(n,e,s)):n.apply(this,s),e}}const kd=n=>n==="start"?"left":n==="end"?"right":"center",dt=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,mk=(n,e,t,s)=>n===(s?"left":"right")?t:n==="center"?(e+t)/2:e;function Xm(n,e,t){const s=e.length;let a=0,o=s;if(n._sorted){const{iScale:l,vScale:u,_parsed:h}=n,p=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,m=l.axis,{min:y,max:v,minDefined:b,maxDefined:S}=l.getUserBounds();if(b){if(a=Math.min(br(h,m,y).lo,t?s:br(e,m,l.getPixelForValue(y)).lo),p){const k=h.slice(0,a+1).reverse().findIndex(_=>!Se(_[u.axis]));a-=Math.max(0,k)}a=ut(a,0,s-1)}if(S){let k=Math.max(br(h,l.axis,v,!0).hi+1,t?0:br(e,m,l.getPixelForValue(v),!0).hi+1);if(p){const _=h.slice(k-1).findIndex(N=>!Se(N[u.axis]));k+=Math.max(0,_)}o=ut(k,a,s)-a}else o=s-a}return{start:a,count:o}}function qm(n){const{xScale:e,yScale:t,_scaleRanges:s}=n,a={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!s)return n._scaleRanges=a,!0;const o=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==t.min||s.ymax!==t.max;return Object.assign(s,a),o}const Ua=n=>n===0||n===1,Qf=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*He/t)),Zf=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*He/t)+1,di={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Ze)+1,easeOutSine:n=>Math.sin(n*Ze),easeInOutSine:n=>-.5*(Math.cos(Ee*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Ua(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Ua(n)?n:Qf(n,.075,.3),easeOutElastic:n=>Ua(n)?n:Zf(n,.075,.3),easeInOutElastic(n){return Ua(n)?n:n<.5?.5*Qf(n*2,.1125,.45):.5+.5*Zf(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-di.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?di.easeInBounce(n*2)*.5:di.easeOutBounce(n*2-1)*.5+.5};function wd(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function ep(n){return wd(n)?n:new gi(n)}function Ec(n){return wd(n)?n:new gi(n).saturate(.5).darken(.1).hexString()}const gk=["x","y","borderWidth","radius","tension"],xk=["color","borderColor","backgroundColor"];function yk(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:xk},numbers:{type:"number",properties:gk}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function vk(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const tp=new Map;function bk(n,e){e=e||{};const t=n+JSON.stringify(e);let s=tp.get(t);return s||(s=new Intl.NumberFormat(n,e),tp.set(t,s)),s}function So(n,e,t){return bk(e,t).format(n)}const Jm={values(n){return Ke(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const s=this.chart.options.locale;let a,o=n;if(t.length>1){const p=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(p<1e-4||p>1e15)&&(a="scientific"),o=kk(n,t)}const l=Kn(Math.abs(o)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:a,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(h,this.options.ticks.format),So(n,s,h)},logarithmic(n,e,t){if(n===0)return"0";const s=t[e].significand||n/Math.pow(10,Math.floor(Kn(n)));return[1,2,3,5,10,15].includes(s)||e>.8*t.length?Jm.numeric.call(this,n,e,t):""}};function kk(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var _d={formatters:Jm};function wk(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:_d.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const jr=Object.create(null),Qc=Object.create(null);function ui(n,e){if(!e)return n;const t=e.split(".");for(let s=0,a=t.length;s<a;++s){const o=t[s];n=n[o]||(n[o]=Object.create(null))}return n}function Dc(n,e,t){return typeof e=="string"?rn(ui(n,e),t):rn(ui(n,""),e)}class _k{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,a)=>Ec(a.backgroundColor),this.hoverBorderColor=(s,a)=>Ec(a.borderColor),this.hoverColor=(s,a)=>Ec(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Dc(this,e,t)}get(e){return ui(this,e)}describe(e,t){return Dc(Qc,e,t)}override(e,t){return Dc(jr,e,t)}route(e,t,s,a){const o=ui(this,e),l=ui(this,s),u="_"+t;Object.defineProperties(o,{[u]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){const h=this[u],p=l[a];return _e(h)?Object.assign({},p,h):ke(h,p)},set(h){this[u]=h}}})}apply(e){e.forEach(t=>t(this))}}var Ue=new _k({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[yk,vk,wk]);function Sk(n){return!n||Se(n.size)||Se(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function np(n,e,t,s,a){let o=e[a];return o||(o=e[a]=n.measureText(a).width,t.push(a)),o>s&&(s=o),s}function mr(n,e,t){const s=n.currentDevicePixelRatio,a=t!==0?Math.max(t/2,.5):0;return Math.round((e-a)*s)/s+a}function rp(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function Zc(n,e,t,s){Qm(n,e,t,s,null)}function Qm(n,e,t,s,a){let o,l,u,h,p,m,y,v;const b=e.pointStyle,S=e.rotation,k=e.radius;let _=(S||0)*sk;if(b&&typeof b=="object"&&(o=b.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(t,s),n.rotate(_),n.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),n.restore();return}if(!(isNaN(k)||k<=0)){switch(n.beginPath(),b){default:a?n.ellipse(t,s,a/2,k,0,0,He):n.arc(t,s,k,0,He),n.closePath();break;case"triangle":m=a?a/2:k,n.moveTo(t+Math.sin(_)*m,s-Math.cos(_)*k),_+=Kf,n.lineTo(t+Math.sin(_)*m,s-Math.cos(_)*k),_+=Kf,n.lineTo(t+Math.sin(_)*m,s-Math.cos(_)*k),n.closePath();break;case"rectRounded":p=k*.516,h=k-p,l=Math.cos(_+pr)*h,y=Math.cos(_+pr)*(a?a/2-p:h),u=Math.sin(_+pr)*h,v=Math.sin(_+pr)*(a?a/2-p:h),n.arc(t-y,s-u,p,_-Ee,_-Ze),n.arc(t+v,s-l,p,_-Ze,_),n.arc(t+y,s+u,p,_,_+Ze),n.arc(t-v,s+l,p,_+Ze,_+Ee),n.closePath();break;case"rect":if(!S){h=Math.SQRT1_2*k,m=a?a/2:h,n.rect(t-m,s-h,2*m,2*h);break}_+=pr;case"rectRot":y=Math.cos(_)*(a?a/2:k),l=Math.cos(_)*k,u=Math.sin(_)*k,v=Math.sin(_)*(a?a/2:k),n.moveTo(t-y,s-u),n.lineTo(t+v,s-l),n.lineTo(t+y,s+u),n.lineTo(t-v,s+l),n.closePath();break;case"crossRot":_+=pr;case"cross":y=Math.cos(_)*(a?a/2:k),l=Math.cos(_)*k,u=Math.sin(_)*k,v=Math.sin(_)*(a?a/2:k),n.moveTo(t-y,s-u),n.lineTo(t+y,s+u),n.moveTo(t+v,s-l),n.lineTo(t-v,s+l);break;case"star":y=Math.cos(_)*(a?a/2:k),l=Math.cos(_)*k,u=Math.sin(_)*k,v=Math.sin(_)*(a?a/2:k),n.moveTo(t-y,s-u),n.lineTo(t+y,s+u),n.moveTo(t+v,s-l),n.lineTo(t-v,s+l),_+=pr,y=Math.cos(_)*(a?a/2:k),l=Math.cos(_)*k,u=Math.sin(_)*k,v=Math.sin(_)*(a?a/2:k),n.moveTo(t-y,s-u),n.lineTo(t+y,s+u),n.moveTo(t+v,s-l),n.lineTo(t-v,s+l);break;case"line":l=a?a/2:Math.cos(_)*k,u=Math.sin(_)*k,n.moveTo(t-l,s-u),n.lineTo(t+l,s+u);break;case"dash":n.moveTo(t,s),n.lineTo(t+Math.cos(_)*(a?a/2:k),s+Math.sin(_)*k);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function vi(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function jo(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function No(n){n.restore()}function jk(n,e,t,s,a){if(!e)return n.lineTo(t.x,t.y);if(a==="middle"){const o=(e.x+t.x)/2;n.lineTo(o,e.y),n.lineTo(o,t.y)}else a==="after"!=!!s?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function Nk(n,e,t,s){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?t.cp2x:t.cp1x,s?t.cp2y:t.cp1y,t.x,t.y)}function Ck(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Se(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function Mk(n,e,t,s,a){if(a.strikethrough||a.underline){const o=n.measureText(s),l=e-o.actualBoundingBoxLeft,u=e+o.actualBoundingBoxRight,h=t-o.actualBoundingBoxAscent,p=t+o.actualBoundingBoxDescent,m=a.strikethrough?(h+p)/2:p;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=a.decorationWidth||2,n.moveTo(l,m),n.lineTo(u,m),n.stroke()}}function Pk(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function bi(n,e,t,s,a,o={}){const l=Ke(e)?e:[e],u=o.strokeWidth>0&&o.strokeColor!=="";let h,p;for(n.save(),n.font=a.string,Ck(n,o),h=0;h<l.length;++h)p=l[h],o.backdrop&&Pk(n,o.backdrop),u&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Se(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(p,t,s,o.maxWidth)),n.fillText(p,t,s,o.maxWidth),Mk(n,t,s,p,o),s+=Number(a.lineHeight);n.restore()}function yo(n,e){const{x:t,y:s,w:a,h:o,radius:l}=e;n.arc(t+l.topLeft,s+l.topLeft,l.topLeft,1.5*Ee,Ee,!0),n.lineTo(t,s+o-l.bottomLeft),n.arc(t+l.bottomLeft,s+o-l.bottomLeft,l.bottomLeft,Ee,Ze,!0),n.lineTo(t+a-l.bottomRight,s+o),n.arc(t+a-l.bottomRight,s+o-l.bottomRight,l.bottomRight,Ze,0,!0),n.lineTo(t+a,s+l.topRight),n.arc(t+a-l.topRight,s+l.topRight,l.topRight,0,-Ze,!0),n.lineTo(t+l.topLeft,s)}const Ek=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Dk=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Tk(n,e){const t=(""+n).match(Ek);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const Rk=n=>+n||0;function Sd(n,e){const t={},s=_e(e),a=s?Object.keys(e):e,o=_e(n)?s?l=>ke(n[l],n[e[l]]):l=>n[l]:()=>n;for(const l of a)t[l]=Rk(o(l));return t}function Zm(n){return Sd(n,{top:"y",right:"x",bottom:"y",left:"x"})}function ns(n){return Sd(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Pt(n){const e=Zm(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function it(n,e){n=n||{},e=e||Ue.font;let t=ke(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let s=ke(n.style,e.style);s&&!(""+s).match(Dk)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const a={family:ke(n.family,e.family),lineHeight:Tk(ke(n.lineHeight,e.lineHeight),t),size:t,style:s,weight:ke(n.weight,e.weight),string:""};return a.string=Sk(a),a}function ze(n,e,t,s){let a,o,l;for(a=0,o=n.length;a<o;++a)if(l=n[a],l!==void 0&&(e!==void 0&&typeof l=="function"&&(l=l(e)),t!==void 0&&Ke(l)&&(l=l[t%l.length]),l!==void 0))return l}function Lk(n,e,t){const{min:s,max:a}=n,o=$m(e,(a-s)/2),l=(u,h)=>t&&u===0?0:u+h;return{min:l(s,-Math.abs(o)),max:l(a,o)}}function Nr(n,e){return Object.assign(Object.create(n),e)}function jd(n,e=[""],t,s,a=()=>n[0]){const o=t||n;typeof s>"u"&&(s=rg("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:s,_getTarget:a,override:u=>jd([u,...n],e,o,s)};return new Proxy(l,{deleteProperty(u,h){return delete u[h],delete u._keys,delete n[0][h],!0},get(u,h){return tg(u,h,()=>Hk(h,e,n,u))},getOwnPropertyDescriptor(u,h){return Reflect.getOwnPropertyDescriptor(u._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,h){return ip(u).includes(h)},ownKeys(u){return ip(u)},set(u,h,p){const m=u._storage||(u._storage=a());return u[h]=m[h]=p,delete u._keys,!0}})}function os(n,e,t,s){const a={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:eg(n,s),setContext:o=>os(n,o,t,s),override:o=>os(n.override(o),e,t,s)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete n[l],!0},get(o,l,u){return tg(o,l,()=>Fk(o,l,u))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(o,l,u){return n[l]=u,delete o[l],!0}})}function eg(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:s=e.indexable,_allKeys:a=e.allKeys}=n;return{allKeys:a,scriptable:t,indexable:s,isScriptable:Jn(t)?t:()=>t,isIndexable:Jn(s)?s:()=>s}}const Ok=(n,e)=>n?n+vd(e):e,Nd=(n,e)=>_e(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function tg(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const s=t();return n[e]=s,s}function Fk(n,e,t){const{_proxy:s,_context:a,_subProxy:o,_descriptors:l}=n;let u=s[e];return Jn(u)&&l.isScriptable(e)&&(u=Ak(e,u,n,t)),Ke(u)&&u.length&&(u=Ik(e,u,n,l.isIndexable)),Nd(e,u)&&(u=os(u,a,o&&o[e],l)),u}function Ak(n,e,t,s){const{_proxy:a,_context:o,_subProxy:l,_stack:u}=t;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let h=e(o,l||s);return u.delete(n),Nd(n,h)&&(h=Cd(a._scopes,a,n,h)),h}function Ik(n,e,t,s){const{_proxy:a,_context:o,_subProxy:l,_descriptors:u}=t;if(typeof o.index<"u"&&s(n))return e[o.index%e.length];if(_e(e[0])){const h=e,p=a._scopes.filter(m=>m!==h);e=[];for(const m of h){const y=Cd(p,a,n,m);e.push(os(y,o,l&&l[n],u))}}return e}function ng(n,e,t){return Jn(n)?n(e,t):n}const zk=(n,e)=>n===!0?e:typeof n=="string"?Sr(e,n):void 0;function Bk(n,e,t,s,a){for(const o of e){const l=zk(t,o);if(l){n.add(l);const u=ng(l._fallback,t,a);if(typeof u<"u"&&u!==t&&u!==s)return u}else if(l===!1&&typeof s<"u"&&t!==s)return null}return!1}function Cd(n,e,t,s){const a=e._rootScopes,o=ng(e._fallback,t,s),l=[...n,...a],u=new Set;u.add(s);let h=sp(u,l,t,o||t,s);return h===null||typeof o<"u"&&o!==t&&(h=sp(u,l,o,h,s),h===null)?!1:jd(Array.from(u),[""],a,o,()=>$k(e,t,s))}function sp(n,e,t,s,a){for(;t;)t=Bk(n,e,t,s,a);return t}function $k(n,e,t){const s=n._getTarget();e in s||(s[e]={});const a=s[e];return Ke(a)&&_e(t)?t:a||{}}function Hk(n,e,t,s){let a;for(const o of e)if(a=rg(Ok(o,n),t),typeof a<"u")return Nd(n,a)?Cd(t,s,n,a):a}function rg(n,e){for(const t of e){if(!t)continue;const s=t[n];if(typeof s<"u")return s}}function ip(n){let e=n._keys;return e||(e=n._keys=Vk(n._scopes)),e}function Vk(n){const e=new Set;for(const t of n)for(const s of Object.keys(t).filter(a=>!a.startsWith("_")))e.add(s);return Array.from(e)}const Wk=Number.EPSILON||1e-14,ls=(n,e)=>e<n.length&&!n[e].skip&&n[e],sg=n=>n==="x"?"y":"x";function Uk(n,e,t,s){const a=n.skip?e:n,o=e,l=t.skip?e:t,u=Jc(o,a),h=Jc(l,o);let p=u/(u+h),m=h/(u+h);p=isNaN(p)?0:p,m=isNaN(m)?0:m;const y=s*p,v=s*m;return{previous:{x:o.x-y*(l.x-a.x),y:o.y-y*(l.y-a.y)},next:{x:o.x+v*(l.x-a.x),y:o.y+v*(l.y-a.y)}}}function Yk(n,e,t){const s=n.length;let a,o,l,u,h,p=ls(n,0);for(let m=0;m<s-1;++m)if(h=p,p=ls(n,m+1),!(!h||!p)){if(ci(e[m],0,Wk)){t[m]=t[m+1]=0;continue}a=t[m]/e[m],o=t[m+1]/e[m],u=Math.pow(a,2)+Math.pow(o,2),!(u<=9)&&(l=3/Math.sqrt(u),t[m]=a*l*e[m],t[m+1]=o*l*e[m])}}function Gk(n,e,t="x"){const s=sg(t),a=n.length;let o,l,u,h=ls(n,0);for(let p=0;p<a;++p){if(l=u,u=h,h=ls(n,p+1),!u)continue;const m=u[t],y=u[s];l&&(o=(m-l[t])/3,u[`cp1${t}`]=m-o,u[`cp1${s}`]=y-o*e[p]),h&&(o=(h[t]-m)/3,u[`cp2${t}`]=m+o,u[`cp2${s}`]=y+o*e[p])}}function Kk(n,e="x"){const t=sg(e),s=n.length,a=Array(s).fill(0),o=Array(s);let l,u,h,p=ls(n,0);for(l=0;l<s;++l)if(u=h,h=p,p=ls(n,l+1),!!h){if(p){const m=p[e]-h[e];a[l]=m!==0?(p[t]-h[t])/m:0}o[l]=u?p?nn(a[l-1])!==nn(a[l])?0:(a[l-1]+a[l])/2:a[l-1]:a[l]}Yk(n,a,o),Gk(n,o,e)}function Ya(n,e,t){return Math.max(Math.min(n,t),e)}function Xk(n,e){let t,s,a,o,l,u=vi(n[0],e);for(t=0,s=n.length;t<s;++t)l=o,o=u,u=t<s-1&&vi(n[t+1],e),o&&(a=n[t],l&&(a.cp1x=Ya(a.cp1x,e.left,e.right),a.cp1y=Ya(a.cp1y,e.top,e.bottom)),u&&(a.cp2x=Ya(a.cp2x,e.left,e.right),a.cp2y=Ya(a.cp2y,e.top,e.bottom)))}function qk(n,e,t,s,a){let o,l,u,h;if(e.spanGaps&&(n=n.filter(p=>!p.skip)),e.cubicInterpolationMode==="monotone")Kk(n,a);else{let p=s?n[n.length-1]:n[0];for(o=0,l=n.length;o<l;++o)u=n[o],h=Uk(p,u,n[Math.min(o+1,l-(s?0:1))%l],e.tension),u.cp1x=h.previous.x,u.cp1y=h.previous.y,u.cp2x=h.next.x,u.cp2y=h.next.y,p=u}e.capBezierPoints&&Xk(n,t)}function Md(){return typeof window<"u"&&typeof document<"u"}function Pd(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function vo(n,e,t){let s;return typeof n=="string"?(s=parseInt(n,10),n.indexOf("%")!==-1&&(s=s/100*e.parentNode[t])):s=n,s}const Co=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function Jk(n,e){return Co(n).getPropertyValue(e)}const Qk=["top","right","bottom","left"];function kr(n,e,t){const s={};t=t?"-"+t:"";for(let a=0;a<4;a++){const o=Qk[a];s[o]=parseFloat(n[e+"-"+o+t])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const Zk=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function ew(n,e){const t=n.touches,s=t&&t.length?t[0]:n,{offsetX:a,offsetY:o}=s;let l=!1,u,h;if(Zk(a,o,n.target))u=a,h=o;else{const p=e.getBoundingClientRect();u=s.clientX-p.left,h=s.clientY-p.top,l=!0}return{x:u,y:h,box:l}}function yr(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:s}=e,a=Co(t),o=a.boxSizing==="border-box",l=kr(a,"padding"),u=kr(a,"border","width"),{x:h,y:p,box:m}=ew(n,t),y=l.left+(m&&u.left),v=l.top+(m&&u.top);let{width:b,height:S}=e;return o&&(b-=l.width+u.width,S-=l.height+u.height),{x:Math.round((h-y)/b*t.width/s),y:Math.round((p-v)/S*t.height/s)}}function tw(n,e,t){let s,a;if(e===void 0||t===void 0){const o=n&&Pd(n);if(!o)e=n.clientWidth,t=n.clientHeight;else{const l=o.getBoundingClientRect(),u=Co(o),h=kr(u,"border","width"),p=kr(u,"padding");e=l.width-p.width-h.width,t=l.height-p.height-h.height,s=vo(u.maxWidth,o,"clientWidth"),a=vo(u.maxHeight,o,"clientHeight")}}return{width:e,height:t,maxWidth:s||xo,maxHeight:a||xo}}const Ga=n=>Math.round(n*10)/10;function nw(n,e,t,s){const a=Co(n),o=kr(a,"margin"),l=vo(a.maxWidth,n,"clientWidth")||xo,u=vo(a.maxHeight,n,"clientHeight")||xo,h=tw(n,e,t);let{width:p,height:m}=h;if(a.boxSizing==="content-box"){const v=kr(a,"border","width"),b=kr(a,"padding");p-=b.width+v.width,m-=b.height+v.height}return p=Math.max(0,p-o.width),m=Math.max(0,s?p/s:m-o.height),p=Ga(Math.min(p,l,h.maxWidth)),m=Ga(Math.min(m,u,h.maxHeight)),p&&!m&&(m=Ga(p/2)),(e!==void 0||t!==void 0)&&s&&h.height&&m>h.height&&(m=h.height,p=Ga(Math.floor(m*s))),{width:p,height:m}}function ap(n,e,t){const s=e||1,a=Math.floor(n.height*s),o=Math.floor(n.width*s);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const l=n.canvas;return l.style&&(t||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==s||l.height!==a||l.width!==o?(n.currentDevicePixelRatio=s,l.height=a,l.width=o,n.ctx.setTransform(s,0,0,s,0,0),!0):!1}const rw=(function(){let n=!1;try{const e={get passive(){return n=!0,!1}};Md()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n})();function op(n,e){const t=Jk(n,e),s=t&&t.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function vr(n,e,t,s){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function sw(n,e,t,s){return{x:n.x+t*(e.x-n.x),y:s==="middle"?t<.5?n.y:e.y:s==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function iw(n,e,t,s){const a={x:n.cp2x,y:n.cp2y},o={x:e.cp1x,y:e.cp1y},l=vr(n,a,t),u=vr(a,o,t),h=vr(o,e,t),p=vr(l,u,t),m=vr(u,h,t);return vr(p,m,t)}const aw=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,s){return t-s},leftForLtr(t,s){return t-s}}},ow=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function rs(n,e,t){return n?aw(e,t):ow()}function ig(n,e){let t,s;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,s=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=s)}function ag(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function og(n){return n==="angle"?{between:yi,compare:ck,normalize:Mt}:{between:wn,compare:(e,t)=>e-t,normalize:e=>e}}function lp({start:n,end:e,count:t,loop:s,style:a}){return{start:n%t,end:e%t,loop:s&&(e-n+1)%t===0,style:a}}function lw(n,e,t){const{property:s,start:a,end:o}=t,{between:l,normalize:u}=og(s),h=e.length;let{start:p,end:m,loop:y}=n,v,b;if(y){for(p+=h,m+=h,v=0,b=h;v<b&&l(u(e[p%h][s]),a,o);++v)p--,m--;p%=h,m%=h}return m<p&&(m+=h),{start:p,end:m,loop:y,style:n.style}}function lg(n,e,t){if(!t)return[n];const{property:s,start:a,end:o}=t,l=e.length,{compare:u,between:h,normalize:p}=og(s),{start:m,end:y,loop:v,style:b}=lw(n,e,t),S=[];let k=!1,_=null,N,C,P;const O=()=>h(a,P,N)&&u(a,P)!==0,D=()=>u(o,N)===0||h(o,P,N),Y=()=>k||O(),$=()=>!k||D();for(let I=m,G=m;I<=y;++I)C=e[I%l],!C.skip&&(N=p(C[s]),N!==P&&(k=h(N,a,o),_===null&&Y()&&(_=u(N,a)===0?I:G),_!==null&&$()&&(S.push(lp({start:_,end:I,loop:v,count:l,style:b})),_=null),G=I,P=N));return _!==null&&S.push(lp({start:_,end:y,loop:v,count:l,style:b})),S}function cg(n,e){const t=[],s=n.segments;for(let a=0;a<s.length;a++){const o=lg(s[a],n.points,e);o.length&&t.push(...o)}return t}function cw(n,e,t,s){let a=0,o=e-1;if(t&&!s)for(;a<e&&!n[a].skip;)a++;for(;a<e&&n[a].skip;)a++;for(a%=e,t&&(o+=a);o>a&&n[o%e].skip;)o--;return o%=e,{start:a,end:o}}function dw(n,e,t,s){const a=n.length,o=[];let l=e,u=n[e],h;for(h=e+1;h<=t;++h){const p=n[h%a];p.skip||p.stop?u.skip||(s=!1,o.push({start:e%a,end:(h-1)%a,loop:s}),e=l=p.stop?h:null):(l=h,u.skip&&(e=h)),u=p}return l!==null&&o.push({start:e%a,end:l%a,loop:s}),o}function uw(n,e){const t=n.points,s=n.options.spanGaps,a=t.length;if(!a)return[];const o=!!n._loop,{start:l,end:u}=cw(t,a,o,s);if(s===!0)return cp(n,[{start:l,end:u,loop:o}],t,e);const h=u<l?u+a:u,p=!!n._fullLoop&&l===0&&u===a-1;return cp(n,dw(t,l,h,p),t,e)}function cp(n,e,t,s){return!s||!s.setContext||!t?e:hw(n,e,t,s)}function hw(n,e,t,s){const a=n._chart.getContext(),o=dp(n.options),{_datasetIndex:l,options:{spanGaps:u}}=n,h=t.length,p=[];let m=o,y=e[0].start,v=y;function b(S,k,_,N){const C=u?-1:1;if(S!==k){for(S+=h;t[S%h].skip;)S-=C;for(;t[k%h].skip;)k+=C;S%h!==k%h&&(p.push({start:S%h,end:k%h,loop:_,style:N}),m=N,y=k%h)}}for(const S of e){y=u?y:S.start;let k=t[y%h],_;for(v=y+1;v<=S.end;v++){const N=t[v%h];_=dp(s.setContext(Nr(a,{type:"segment",p0:k,p1:N,p0DataIndex:(v-1)%h,p1DataIndex:v%h,datasetIndex:l}))),fw(_,m)&&b(y,v-1,S.loop,m),k=N,m=_}y<v-1&&b(y,v-1,S.loop,m)}return p}function dp(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function fw(n,e){if(!e)return!1;const t=[],s=function(a,o){return wd(o)?(t.includes(o)||t.push(o),t.indexOf(o)):o};return JSON.stringify(n,s)!==JSON.stringify(e,s)}function Ka(n,e,t){return n.options.clip?n[t]:e[t]}function pw(n,e){const{xScale:t,yScale:s}=n;return t&&s?{left:Ka(t,e,"left"),right:Ka(t,e,"right"),top:Ka(s,e,"top"),bottom:Ka(s,e,"bottom")}:e}function dg(n,e){const t=e._clip;if(t.disabled)return!1;const s=pw(e,n.chartArea);return{left:t.left===!1?0:s.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:s.right+(t.right===!0?0:t.right),top:t.top===!1?0:s.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:s.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class mw{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,s,a){const o=t.listeners[a],l=t.duration;o.forEach(u=>u({chart:e,initial:t.initial,numSteps:l,currentStep:Math.min(s-t.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=Gm.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((s,a)=>{if(!s.running||!s.items.length)return;const o=s.items;let l=o.length-1,u=!1,h;for(;l>=0;--l)h=o[l],h._active?(h._total>s.duration&&(s.duration=h._total),h.tick(e),u=!0):(o[l]=o[o.length-1],o.pop());u&&(a.draw(),this._notify(a,s,e,"progress")),o.length||(s.running=!1,this._notify(a,s,e,"complete"),s.initial=!1),t+=o.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let s=t.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,s)),s}listen(e,t,s){this._getAnims(e).listeners[t].push(s)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((s,a)=>Math.max(s,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const s=t.items;let a=s.length-1;for(;a>=0;--a)s[a].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var yn=new mw;const up="transparent",gw={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const s=ep(n||up),a=s.valid&&ep(e||up);return a&&a.valid?a.mix(s,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class xw{constructor(e,t,s,a){const o=t[s];a=ze([e.to,a,o,e.from]);const l=ze([e.from,o,a]);this._active=!0,this._fn=e.fn||gw[e.type||typeof l],this._easing=di[e.easing]||di.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=s,this._from=l,this._to=a,this._promises=void 0}active(){return this._active}update(e,t,s){if(this._active){this._notify(!1);const a=this._target[this._prop],o=s-this._start,l=this._duration-o;this._start=s,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=ze([e.to,t,a,e.from]),this._from=ze([e.from,a,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,s=this._duration,a=this._prop,o=this._from,l=this._loop,u=this._to;let h;if(this._active=o!==u&&(l||t<s),!this._active){this._target[a]=u,this._notify(!0);return}if(t<0){this._target[a]=o;return}h=t/s%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[a]=this._fn(o,u,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,s)=>{e.push({res:t,rej:s})})}_notify(e){const t=e?"res":"rej",s=this._promises||[];for(let a=0;a<s.length;a++)s[a][t]()}}class ug{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!_e(e))return;const t=Object.keys(Ue.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const o=e[a];if(!_e(o))return;const l={};for(const u of t)l[u]=o[u];(Ke(o.properties)&&o.properties||[a]).forEach(u=>{(u===a||!s.has(u))&&s.set(u,l)})})}_animateOptions(e,t){const s=t.options,a=vw(e,s);if(!a)return[];const o=this._createAnimations(a,s);return s.$shared&&yw(e.options.$animations,s).then(()=>{e.options=s},()=>{}),o}_createAnimations(e,t){const s=this._properties,a=[],o=e.$animations||(e.$animations={}),l=Object.keys(t),u=Date.now();let h;for(h=l.length-1;h>=0;--h){const p=l[h];if(p.charAt(0)==="$")continue;if(p==="options"){a.push(...this._animateOptions(e,t));continue}const m=t[p];let y=o[p];const v=s.get(p);if(y)if(v&&y.active()){y.update(v,m,u);continue}else y.cancel();if(!v||!v.duration){e[p]=m;continue}o[p]=y=new xw(v,e,p,m),a.push(y)}return a}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const s=this._createAnimations(e,t);if(s.length)return yn.add(this._chart,s),!0}}function yw(n,e){const t=[],s=Object.keys(e);for(let a=0;a<s.length;a++){const o=n[s[a]];o&&o.active()&&t.push(o.wait())}return Promise.all(t)}function vw(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function hp(n,e){const t=n&&n.options||{},s=t.reverse,a=t.min===void 0?e:0,o=t.max===void 0?e:0;return{start:s?o:a,end:s?a:o}}function bw(n,e,t){if(t===!1)return!1;const s=hp(n,t),a=hp(e,t);return{top:a.end,right:s.end,bottom:a.start,left:s.start}}function kw(n){let e,t,s,a;return _e(n)?(e=n.top,t=n.right,s=n.bottom,a=n.left):e=t=s=a=n,{top:e,right:t,bottom:s,left:a,disabled:n===!1}}function hg(n,e){const t=[],s=n._getSortedDatasetMetas(e);let a,o;for(a=0,o=s.length;a<o;++a)t.push(s[a].index);return t}function fp(n,e,t,s={}){const a=n.keys,o=s.mode==="single";let l,u,h,p;if(e===null)return;let m=!1;for(l=0,u=a.length;l<u;++l){if(h=+a[l],h===t){if(m=!0,s.all)continue;break}p=n.values[h],qe(p)&&(o||e===0||nn(e)===nn(p))&&(e+=p)}return!m&&!s.all?0:e}function ww(n,e){const{iScale:t,vScale:s}=e,a=t.axis==="x"?"x":"y",o=s.axis==="x"?"x":"y",l=Object.keys(n),u=new Array(l.length);let h,p,m;for(h=0,p=l.length;h<p;++h)m=l[h],u[h]={[a]:m,[o]:n[m]};return u}function Tc(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function _w(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function Sw(n){const{min:e,max:t,minDefined:s,maxDefined:a}=n.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:a?t:Number.POSITIVE_INFINITY}}function jw(n,e,t){const s=n[e]||(n[e]={});return s[t]||(s[t]={})}function pp(n,e,t,s){for(const a of e.getMatchingVisibleMetas(s).reverse()){const o=n[a.index];if(t&&o>0||!t&&o<0)return a.index}return null}function mp(n,e){const{chart:t,_cachedMeta:s}=n,a=t._stacks||(t._stacks={}),{iScale:o,vScale:l,index:u}=s,h=o.axis,p=l.axis,m=_w(o,l,s),y=e.length;let v;for(let b=0;b<y;++b){const S=e[b],{[h]:k,[p]:_}=S,N=S._stacks||(S._stacks={});v=N[p]=jw(a,m,k),v[u]=_,v._top=pp(v,l,!0,s.type),v._bottom=pp(v,l,!1,s.type);const C=v._visualValues||(v._visualValues={});C[u]=_}}function Rc(n,e){const t=n.scales;return Object.keys(t).filter(s=>t[s].axis===e).shift()}function Nw(n,e){return Nr(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Cw(n,e,t){return Nr(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Zs(n,e){const t=n.controller.index,s=n.vScale&&n.vScale.axis;if(s){e=e||n._parsed;for(const a of e){const o=a._stacks;if(!o||o[s]===void 0||o[s][t]===void 0)return;delete o[s][t],o[s]._visualValues!==void 0&&o[s]._visualValues[t]!==void 0&&delete o[s]._visualValues[t]}}}const Lc=n=>n==="reset"||n==="none",gp=(n,e)=>e?n:Object.assign({},n),Mw=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:hg(t,!0),values:null};class Ci{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Tc(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Zs(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,s=this.getDataset(),a=(y,v,b,S)=>y==="x"?v:y==="r"?S:b,o=t.xAxisID=ke(s.xAxisID,Rc(e,"x")),l=t.yAxisID=ke(s.yAxisID,Rc(e,"y")),u=t.rAxisID=ke(s.rAxisID,Rc(e,"r")),h=t.indexAxis,p=t.iAxisID=a(h,o,l,u),m=t.vAxisID=a(h,l,o,u);t.xScale=this.getScaleForId(o),t.yScale=this.getScaleForId(l),t.rScale=this.getScaleForId(u),t.iScale=this.getScaleForId(p),t.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Jf(this._data,this),e._stacked&&Zs(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),s=this._data;if(_e(t)){const a=this._cachedMeta;this._data=ww(t,a)}else if(s!==t){if(s){Jf(s,this);const a=this._cachedMeta;Zs(a),a._parsed=[]}t&&Object.isExtensible(t)&&fk(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,s=this.getDataset();let a=!1;this._dataCheck();const o=t._stacked;t._stacked=Tc(t.vScale,t),t.stack!==s.stack&&(a=!0,Zs(t),t.stack=s.stack),this._resyncElements(e),(a||o!==t._stacked)&&(mp(this,t._parsed),t._stacked=Tc(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:s,_data:a}=this,{iScale:o,_stacked:l}=s,u=o.axis;let h=e===0&&t===a.length?!0:s._sorted,p=e>0&&s._parsed[e-1],m,y,v;if(this._parsing===!1)s._parsed=a,s._sorted=!0,v=a;else{Ke(a[e])?v=this.parseArrayData(s,a,e,t):_e(a[e])?v=this.parseObjectData(s,a,e,t):v=this.parsePrimitiveData(s,a,e,t);const b=()=>y[u]===null||p&&y[u]<p[u];for(m=0;m<t;++m)s._parsed[m+e]=y=v[m],h&&(b()&&(h=!1),p=y);s._sorted=h}l&&mp(this,v)}parsePrimitiveData(e,t,s,a){const{iScale:o,vScale:l}=e,u=o.axis,h=l.axis,p=o.getLabels(),m=o===l,y=new Array(a);let v,b,S;for(v=0,b=a;v<b;++v)S=v+s,y[v]={[u]:m||o.parse(p[S],S),[h]:l.parse(t[S],S)};return y}parseArrayData(e,t,s,a){const{xScale:o,yScale:l}=e,u=new Array(a);let h,p,m,y;for(h=0,p=a;h<p;++h)m=h+s,y=t[m],u[h]={x:o.parse(y[0],m),y:l.parse(y[1],m)};return u}parseObjectData(e,t,s,a){const{xScale:o,yScale:l}=e,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,p=new Array(a);let m,y,v,b;for(m=0,y=a;m<y;++m)v=m+s,b=t[v],p[m]={x:o.parse(Sr(b,u),v),y:l.parse(Sr(b,h),v)};return p}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,s){const a=this.chart,o=this._cachedMeta,l=t[e.axis],u={keys:hg(a,!0),values:t._stacks[e.axis]._visualValues};return fp(u,l,o.index,{mode:s})}updateRangeFromParsed(e,t,s,a){const o=s[t.axis];let l=o===null?NaN:o;const u=a&&s._stacks[t.axis];a&&u&&(a.values=u,l=fp(a,o,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,t){const s=this._cachedMeta,a=s._parsed,o=s._sorted&&e===s.iScale,l=a.length,u=this._getOtherScale(e),h=Mw(t,s,this.chart),p={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:y}=Sw(u);let v,b;function S(){b=a[v];const k=b[u.axis];return!qe(b[e.axis])||m>k||y<k}for(v=0;v<l&&!(!S()&&(this.updateRangeFromParsed(p,e,b,h),o));++v);if(o){for(v=l-1;v>=0;--v)if(!S()){this.updateRangeFromParsed(p,e,b,h);break}}return p}getAllParsedValues(e){const t=this._cachedMeta._parsed,s=[];let a,o,l;for(a=0,o=t.length;a<o;++a)l=t[a][e.axis],qe(l)&&s.push(l);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,s=t.iScale,a=t.vScale,o=this.getParsed(e);return{label:s?""+s.getLabelForValue(o[s.axis]):"",value:a?""+a.getLabelForValue(o[a.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=kw(ke(this.options.clip,bw(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,s=this._cachedMeta,a=s.data||[],o=t.chartArea,l=[],u=this._drawStart||0,h=this._drawCount||a.length-u,p=this.options.drawActiveElementsOnTop;let m;for(s.dataset&&s.dataset.draw(e,o,u,h),m=u;m<u+h;++m){const y=a[m];y.hidden||(y.active&&p?l.push(y):y.draw(e,o))}for(m=0;m<l.length;++m)l[m].draw(e,o)}getStyle(e,t){const s=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,t,s){const a=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];o=l.$context||(l.$context=Cw(this.getContext(),e,l)),o.parsed=this.getParsed(e),o.raw=a.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=Nw(this.chart.getContext(),this.index)),o.dataset=a,o.index=o.datasetIndex=this.index;return o.active=!!t,o.mode=s,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",s){const a=t==="active",o=this._cachedDataOpts,l=e+"-"+t,u=o[l],h=this.enableOptionSharing&&xi(s);if(u)return gp(u,h);const p=this.chart.config,m=p.datasetElementScopeKeys(this._type,e),y=a?[`${e}Hover`,"hover",e,""]:[e,""],v=p.getOptionScopes(this.getDataset(),m),b=Object.keys(Ue.elements[e]),S=()=>this.getContext(s,a,t),k=p.resolveNamedOptions(v,b,S,y);return k.$shared&&(k.$shared=h,o[l]=Object.freeze(gp(k,h))),k}_resolveAnimations(e,t,s){const a=this.chart,o=this._cachedDataOpts,l=`animation-${t}`,u=o[l];if(u)return u;let h;if(a.options.animation!==!1){const m=this.chart.config,y=m.datasetAnimationScopeKeys(this._type,t),v=m.getOptionScopes(this.getDataset(),y);h=m.createResolver(v,this.getContext(e,s,t))}const p=new ug(a,h&&h.animations);return h&&h._cacheable&&(o[l]=Object.freeze(p)),p}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Lc(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const s=this.resolveDataElementOptions(e,t),a=this._sharedOptions,o=this.getSharedOptions(s),l=this.includeOptions(t,o)||o!==a;return this.updateSharedOptions(o,t,s),{sharedOptions:o,includeOptions:l}}updateElement(e,t,s,a){Lc(a)?Object.assign(e,s):this._resolveAnimations(t,a).update(e,s)}updateSharedOptions(e,t,s){e&&!Lc(t)&&this._resolveAnimations(void 0,t).update(e,s)}_setStyle(e,t,s,a){e.active=a;const o=this.getStyle(t,a);this._resolveAnimations(t,s,a).update(e,{options:!a&&this.getSharedOptions(o)||o})}removeHoverStyle(e,t,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,t,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,s=this._cachedMeta.data;for(const[u,h,p]of this._syncList)this[u](h,p);this._syncList=[];const a=s.length,o=t.length,l=Math.min(o,a);l&&this.parse(0,l),o>a?this._insertElements(a,o-a,e):o<a&&this._removeElements(o,a-o)}_insertElements(e,t,s=!0){const a=this._cachedMeta,o=a.data,l=e+t;let u;const h=p=>{for(p.length+=t,u=p.length-1;u>=l;u--)p[u]=p[u-t]};for(h(o),u=e;u<l;++u)o[u]=new this.dataElementType;this._parsing&&h(a._parsed),this.parse(e,t),s&&this.updateElements(o,e,t,"reset")}updateElements(e,t,s,a){}_removeElements(e,t){const s=this._cachedMeta;if(this._parsing){const a=s._parsed.splice(e,t);s._stacked&&Zs(s,a)}s.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,s,a]=e;this[t](s,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Pw(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let s=[];for(let a=0,o=t.length;a<o;a++)s=s.concat(t[a].controller.getAllParsedValues(n));n._cache.$bar=Ym(s.sort((a,o)=>a-o))}return n._cache.$bar}function Ew(n){const e=n.iScale,t=Pw(e,n.type);let s=e._length,a,o,l,u;const h=()=>{l===32767||l===-32768||(xi(u)&&(s=Math.min(s,Math.abs(l-u)||s)),u=l)};for(a=0,o=t.length;a<o;++a)l=e.getPixelForValue(t[a]),h();for(u=void 0,a=0,o=e.ticks.length;a<o;++a)l=e.getPixelForTick(a),h();return s}function Dw(n,e,t,s){const a=t.barThickness;let o,l;return Se(a)?(o=e.min*t.categoryPercentage,l=t.barPercentage):(o=a*s,l=1),{chunk:o/s,ratio:l,start:e.pixels[n]-o/2}}function Tw(n,e,t,s){const a=e.pixels,o=a[n];let l=n>0?a[n-1]:null,u=n<a.length-1?a[n+1]:null;const h=t.categoryPercentage;l===null&&(l=o-(u===null?e.end-e.start:u-o)),u===null&&(u=o+o-l);const p=o-(o-Math.min(l,u))/2*h;return{chunk:Math.abs(u-l)/2*h/s,ratio:t.barPercentage,start:p}}function Rw(n,e,t,s){const a=t.parse(n[0],s),o=t.parse(n[1],s),l=Math.min(a,o),u=Math.max(a,o);let h=l,p=u;Math.abs(l)>Math.abs(u)&&(h=u,p=l),e[t.axis]=p,e._custom={barStart:h,barEnd:p,start:a,end:o,min:l,max:u}}function fg(n,e,t,s){return Ke(n)?Rw(n,e,t,s):e[t.axis]=t.parse(n,s),e}function xp(n,e,t,s){const a=n.iScale,o=n.vScale,l=a.getLabels(),u=a===o,h=[];let p,m,y,v;for(p=t,m=t+s;p<m;++p)v=e[p],y={},y[a.axis]=u||a.parse(l[p],p),h.push(fg(v,y,o,p));return h}function Oc(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function Lw(n,e,t){return n!==0?nn(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function Ow(n){let e,t,s,a,o;return n.horizontal?(e=n.base>n.x,t="left",s="right"):(e=n.base<n.y,t="bottom",s="top"),e?(a="end",o="start"):(a="start",o="end"),{start:t,end:s,reverse:e,top:a,bottom:o}}function Fw(n,e,t,s){let a=e.borderSkipped;const o={};if(!a){n.borderSkipped=o;return}if(a===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:u,reverse:h,top:p,bottom:m}=Ow(n);a==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===s?a=p:(t._bottom||0)===s?a=m:(o[yp(m,l,u,h)]=!0,a=p)),o[yp(a,l,u,h)]=!0,n.borderSkipped=o}function yp(n,e,t,s){return s?(n=Aw(n,e,t),n=vp(n,t,e)):n=vp(n,e,t),n}function Aw(n,e,t){return n===e?t:n===t?e:n}function vp(n,e,t){return n==="start"?e:n==="end"?t:n}function Iw(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class zw extends Ci{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,s,a){return xp(e,t,s,a)}parseArrayData(e,t,s,a){return xp(e,t,s,a)}parseObjectData(e,t,s,a){const{iScale:o,vScale:l}=e,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,p=o.axis==="x"?u:h,m=l.axis==="x"?u:h,y=[];let v,b,S,k;for(v=s,b=s+a;v<b;++v)k=t[v],S={},S[o.axis]=o.parse(Sr(k,p),v),y.push(fg(Sr(k,m),S,l,v));return y}updateRangeFromParsed(e,t,s,a){super.updateRangeFromParsed(e,t,s,a);const o=s._custom;o&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:s,vScale:a}=t,o=this.getParsed(e),l=o._custom,u=Oc(l)?"["+l.start+", "+l.end+"]":""+a.getLabelForValue(o[a.axis]);return{label:""+s.getLabelForValue(o[s.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,s,a){const o=a==="reset",{index:l,_cachedMeta:{vScale:u}}=this,h=u.getBasePixel(),p=u.isHorizontal(),m=this._getRuler(),{sharedOptions:y,includeOptions:v}=this._getSharedOptions(t,a);for(let b=t;b<t+s;b++){const S=this.getParsed(b),k=o||Se(S[u.axis])?{base:h,head:h}:this._calculateBarValuePixels(b),_=this._calculateBarIndexPixels(b,m),N=(S._stacks||{})[u.axis],C={horizontal:p,base:k.base,enableBorderRadius:!N||Oc(S._custom)||l===N._top||l===N._bottom,x:p?k.head:_.center,y:p?_.center:k.head,height:p?_.size:Math.abs(k.size),width:p?Math.abs(k.size):_.size};v&&(C.options=y||this.resolveDataElementOptions(b,e[b].active?"active":a));const P=C.options||e[b].options;Fw(C,P,N,l),Iw(C,P,m.ratio),this.updateElement(e[b],b,C,a)}}_getStacks(e,t){const{iScale:s}=this._cachedMeta,a=s.getMatchingVisibleMetas(this._type).filter(m=>m.controller.options.grouped),o=s.options.stacked,l=[],u=this._cachedMeta.controller.getParsed(t),h=u&&u[s.axis],p=m=>{const y=m._parsed.find(b=>b[s.axis]===h),v=y&&y[m.vScale.axis];if(Se(v)||isNaN(v))return!0};for(const m of a)if(!(t!==void 0&&p(m))&&((o===!1||l.indexOf(m.stack)===-1||o===void 0&&m.stack===void 0)&&l.push(m.stack),m.index===e))break;return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[ke(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,s){const a=this._getStacks(e,s),o=t!==void 0?a.indexOf(t):-1;return o===-1?a.length-1:o}_getRuler(){const e=this.options,t=this._cachedMeta,s=t.iScale,a=[];let o,l;for(o=0,l=t.data.length;o<l;++o)a.push(s.getPixelForValue(this.getParsed(o)[s.axis],o));const u=e.barThickness;return{min:u||Ew(t),pixels:a,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:u?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:s,index:a},options:{base:o,minBarLength:l}}=this,u=o||0,h=this.getParsed(e),p=h._custom,m=Oc(p);let y=h[t.axis],v=0,b=s?this.applyStack(t,h,s):y,S,k;b!==y&&(v=b-y,b=y),m&&(y=p.barStart,b=p.barEnd-p.barStart,y!==0&&nn(y)!==nn(p.barEnd)&&(v=0),v+=y);const _=!Se(o)&&!m?o:v;let N=t.getPixelForValue(_);if(this.chart.getDataVisibility(e)?S=t.getPixelForValue(v+b):S=N,k=S-N,Math.abs(k)<l){k=Lw(k,t,u)*l,y===u&&(N-=k/2);const C=t.getPixelForDecimal(0),P=t.getPixelForDecimal(1),O=Math.min(C,P),D=Math.max(C,P);N=Math.max(Math.min(N,D),O),S=N+k,s&&!m&&(h._stacks[t.axis]._visualValues[a]=t.getValueForPixel(S)-t.getValueForPixel(N))}if(N===t.getPixelForValue(u)){const C=nn(k)*t.getLineWidthForValue(u)/2;N+=C,k-=C}return{size:k,base:N,head:S,center:S+k/2}}_calculateBarIndexPixels(e,t){const s=t.scale,a=this.options,o=a.skipNull,l=ke(a.maxBarThickness,1/0);let u,h;const p=this._getAxisCount();if(t.grouped){const m=o?this._getStackCount(e):t.stackCount,y=a.barThickness==="flex"?Tw(e,t,a,m*p):Dw(e,t,a,m*p),v=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,b=this._getAxis().indexOf(ke(v,this.getFirstScaleIdForIndexAxis())),S=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0)+b;u=y.start+y.chunk*S+y.chunk/2,h=Math.min(l,y.chunk*y.ratio)}else u=s.getPixelForValue(this.getParsed(e)[s.axis],e),h=Math.min(l,t.min*t.ratio);return{base:u-h/2,head:u+h/2,center:u,size:h}}draw(){const e=this._cachedMeta,t=e.vScale,s=e.data,a=s.length;let o=0;for(;o<a;++o)this.getParsed(o)[t.axis]!==null&&!s[o].hidden&&s[o].draw(this._ctx)}}function Bw(n,e,t){let s=1,a=1,o=0,l=0;if(e<He){const u=n,h=u+e,p=Math.cos(u),m=Math.sin(u),y=Math.cos(h),v=Math.sin(h),b=(P,O,D)=>yi(P,u,h,!0)?1:Math.max(O,O*t,D,D*t),S=(P,O,D)=>yi(P,u,h,!0)?-1:Math.min(O,O*t,D,D*t),k=b(0,p,y),_=b(Ze,m,v),N=S(Ee,p,y),C=S(Ee+Ze,m,v);s=(k-N)/2,a=(_-C)/2,o=-(k+N)/2,l=-(_+C)/2}return{ratioX:s,ratioY:a,offsetX:o,offsetY:l}}class $w extends Ci{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:s,color:a}}=e.legend.options;return t.labels.map((o,l)=>{const h=e.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:a,lineWidth:h.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(l),index:l}})}return[]}},onClick(e,t,s){s.chart.toggleDataVisibility(t.index),s.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const s=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=s;else{let o=h=>+s[h];if(_e(s[e])){const{key:h="value"}=this._parsing;o=p=>+Sr(s[p],h)}let l,u;for(l=e,u=e+t;l<u;++l)a._parsed[l]=o(l)}}_getRotation(){return kn(this.options.rotation-90)}_getCircumference(){return kn(this.options.circumference)}_getRotationExtents(){let e=He,t=-He;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const a=this.chart.getDatasetMeta(s).controller,o=a._getRotation(),l=a._getCircumference();e=Math.min(e,o),t=Math.max(t,o+l)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:s}=t,a=this._cachedMeta,o=a.data,l=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,u=Math.max((Math.min(s.width,s.height)-l)/2,0),h=Math.min(J1(this.options.cutout,u),1),p=this._getRingWeight(this.index),{circumference:m,rotation:y}=this._getRotationExtents(),{ratioX:v,ratioY:b,offsetX:S,offsetY:k}=Bw(y,m,h),_=(s.width-l)/v,N=(s.height-l)/b,C=Math.max(Math.min(_,N)/2,0),P=$m(this.options.radius,C),O=Math.max(P*h,0),D=(P-O)/this._getVisibleDatasetWeightTotal();this.offsetX=S*P,this.offsetY=k*P,a.total=this.calculateTotal(),this.outerRadius=P-D*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-D*p,0),this.updateElements(o,0,o.length,e)}_circumference(e,t){const s=this.options,a=this._cachedMeta,o=this._getCircumference();return t&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*o/He)}updateElements(e,t,s,a){const o=a==="reset",l=this.chart,u=l.chartArea,p=l.options.animation,m=(u.left+u.right)/2,y=(u.top+u.bottom)/2,v=o&&p.animateScale,b=v?0:this.innerRadius,S=v?0:this.outerRadius,{sharedOptions:k,includeOptions:_}=this._getSharedOptions(t,a);let N=this._getRotation(),C;for(C=0;C<t;++C)N+=this._circumference(C,o);for(C=t;C<t+s;++C){const P=this._circumference(C,o),O=e[C],D={x:m+this.offsetX,y:y+this.offsetY,startAngle:N,endAngle:N+P,circumference:P,outerRadius:S,innerRadius:b};_&&(D.options=k||this.resolveDataElementOptions(C,O.active?"active":a)),N+=P,this.updateElement(O,C,D,a)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let s=0,a;for(a=0;a<t.length;a++){const o=e._parsed[a];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(a)&&!t[a].hidden&&(s+=Math.abs(o))}return s}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?He*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,s=this.chart,a=s.data.labels||[],o=So(t._parsed[e],s.options.locale);return{label:a[e]||"",value:o}}getMaxBorderWidth(e){let t=0;const s=this.chart;let a,o,l,u,h;if(!e){for(a=0,o=s.data.datasets.length;a<o;++a)if(s.isDatasetVisible(a)){l=s.getDatasetMeta(a),e=l.data,u=l.controller;break}}if(!e)return 0;for(a=0,o=e.length;a<o;++a)h=u.resolveDataElementOptions(a),h.borderAlign!=="inner"&&(t=Math.max(t,h.borderWidth||0,h.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let s=0,a=e.length;s<a;++s){const o=this.resolveDataElementOptions(s);t=Math.max(t,o.offset||0,o.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(t+=this._getRingWeight(s));return t}_getRingWeight(e){return Math.max(ke(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class Hw extends Ci{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:s,data:a=[],_dataset:o}=t,l=this.chart._animationsDisabled;let{start:u,count:h}=Xm(t,a,l);this._drawStart=u,this._drawCount=h,qm(t)&&(u=0,h=a.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!o._decimated,s.points=a;const p=this.resolveDatasetElementOptions(e);this.options.showLine||(p.borderWidth=0),p.segment=this.options.segment,this.updateElement(s,void 0,{animated:!l,options:p},e),this.updateElements(a,u,h,e)}updateElements(e,t,s,a){const o=a==="reset",{iScale:l,vScale:u,_stacked:h,_dataset:p}=this._cachedMeta,{sharedOptions:m,includeOptions:y}=this._getSharedOptions(t,a),v=l.axis,b=u.axis,{spanGaps:S,segment:k}=this.options,_=as(S)?S:Number.POSITIVE_INFINITY,N=this.chart._animationsDisabled||o||a==="none",C=t+s,P=e.length;let O=t>0&&this.getParsed(t-1);for(let D=0;D<P;++D){const Y=e[D],$=N?Y:{};if(D<t||D>=C){$.skip=!0;continue}const I=this.getParsed(D),G=Se(I[b]),U=$[v]=l.getPixelForValue(I[v],D),T=$[b]=o||G?u.getBasePixel():u.getPixelForValue(h?this.applyStack(u,I,h):I[b],D);$.skip=isNaN(U)||isNaN(T)||G,$.stop=D>0&&Math.abs(I[v]-O[v])>_,k&&($.parsed=I,$.raw=p.data[D]),y&&($.options=m||this.resolveDataElementOptions(D,Y.active?"active":a)),N||this.updateElement(Y,D,$,a),O=I}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,s=t.options&&t.options.borderWidth||0,a=e.data||[];if(!a.length)return s;const o=a[0].size(this.resolveDataElementOptions(0)),l=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(s,o,l)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class Vw extends $w{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class Ww extends Ci{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const t=this._cachedMeta,s=this.chart.data.labels||[],{xScale:a,yScale:o}=t,l=this.getParsed(e),u=a.getLabelForValue(l.x),h=o.getLabelForValue(l.y);return{label:s[e]||"",value:"("+u+", "+h+")"}}update(e){const t=this._cachedMeta,{data:s=[]}=t,a=this.chart._animationsDisabled;let{start:o,count:l}=Xm(t,s,a);if(this._drawStart=o,this._drawCount=l,qm(t)&&(o=0,l=s.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:u,_dataset:h}=t;u._chart=this.chart,u._datasetIndex=this.index,u._decimated=!!h._decimated,u.points=s;const p=this.resolveDatasetElementOptions(e);p.segment=this.options.segment,this.updateElement(u,void 0,{animated:!a,options:p},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(s,o,l,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,s,a){const o=a==="reset",{iScale:l,vScale:u,_stacked:h,_dataset:p}=this._cachedMeta,m=this.resolveDataElementOptions(t,a),y=this.getSharedOptions(m),v=this.includeOptions(a,y),b=l.axis,S=u.axis,{spanGaps:k,segment:_}=this.options,N=as(k)?k:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||o||a==="none";let P=t>0&&this.getParsed(t-1);for(let O=t;O<t+s;++O){const D=e[O],Y=this.getParsed(O),$=C?D:{},I=Se(Y[S]),G=$[b]=l.getPixelForValue(Y[b],O),U=$[S]=o||I?u.getBasePixel():u.getPixelForValue(h?this.applyStack(u,Y,h):Y[S],O);$.skip=isNaN(G)||isNaN(U)||I,$.stop=O>0&&Math.abs(Y[b]-P[b])>N,_&&($.parsed=Y,$.raw=p.data[O]),v&&($.options=y||this.resolveDataElementOptions(O,D.active?"active":a)),C||this.updateElement(D,O,$,a),P=Y}this.updateSharedOptions(y,a,m)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let u=0;for(let h=t.length-1;h>=0;--h)u=Math.max(u,t[h].size(this.resolveDataElementOptions(h))/2);return u>0&&u}const s=e.dataset,a=s.options&&s.options.borderWidth||0;if(!t.length)return a;const o=t[0].size(this.resolveDataElementOptions(0)),l=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(a,o,l)/2}}function gr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ed{static override(e){Object.assign(Ed.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return gr()}parse(){return gr()}format(){return gr()}add(){return gr()}diff(){return gr()}startOf(){return gr()}endOf(){return gr()}}var Uw={_date:Ed};function Yw(n,e,t,s){const{controller:a,data:o,_sorted:l}=n,u=a._cachedMeta.iScale,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&l&&o.length){const p=u._reversePixels?uk:br;if(s){if(a._sharedOptions){const m=o[0],y=typeof m.getRange=="function"&&m.getRange(e);if(y){const v=p(o,e,t-y),b=p(o,e,t+y);return{lo:v.lo,hi:b.hi}}}}else{const m=p(o,e,t);if(h){const{vScale:y}=a._cachedMeta,{_parsed:v}=n,b=v.slice(0,m.lo+1).reverse().findIndex(k=>!Se(k[y.axis]));m.lo-=Math.max(0,b);const S=v.slice(m.hi).findIndex(k=>!Se(k[y.axis]));m.hi+=Math.max(0,S)}return m}}return{lo:0,hi:o.length-1}}function Mo(n,e,t,s,a){const o=n.getSortedVisibleDatasetMetas(),l=t[e];for(let u=0,h=o.length;u<h;++u){const{index:p,data:m}=o[u],{lo:y,hi:v}=Yw(o[u],e,l,a);for(let b=y;b<=v;++b){const S=m[b];S.skip||s(S,p,b)}}}function Gw(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(s,a){const o=e?Math.abs(s.x-a.x):0,l=t?Math.abs(s.y-a.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function Fc(n,e,t,s,a){const o=[];return!a&&!n.isPointInArea(e)||Mo(n,t,e,function(u,h,p){!a&&!vi(u,n.chartArea,0)||u.inRange(e.x,e.y,s)&&o.push({element:u,datasetIndex:h,index:p})},!0),o}function Kw(n,e,t,s){let a=[];function o(l,u,h){const{startAngle:p,endAngle:m}=l.getProps(["startAngle","endAngle"],s),{angle:y}=Wm(l,{x:e.x,y:e.y});yi(y,p,m)&&a.push({element:l,datasetIndex:u,index:h})}return Mo(n,t,e,o),a}function Xw(n,e,t,s,a,o){let l=[];const u=Gw(t);let h=Number.POSITIVE_INFINITY;function p(m,y,v){const b=m.inRange(e.x,e.y,a);if(s&&!b)return;const S=m.getCenterPoint(a);if(!(!!o||n.isPointInArea(S))&&!b)return;const _=u(e,S);_<h?(l=[{element:m,datasetIndex:y,index:v}],h=_):_===h&&l.push({element:m,datasetIndex:y,index:v})}return Mo(n,t,e,p),l}function Ac(n,e,t,s,a,o){return!o&&!n.isPointInArea(e)?[]:t==="r"&&!s?Kw(n,e,t,a):Xw(n,e,t,s,a,o)}function bp(n,e,t,s,a){const o=[],l=t==="x"?"inXRange":"inYRange";let u=!1;return Mo(n,t,e,(h,p,m)=>{h[l]&&h[l](e[t],a)&&(o.push({element:h,datasetIndex:p,index:m}),u=u||h.inRange(e.x,e.y,a))}),s&&!u?[]:o}var qw={modes:{index(n,e,t,s){const a=yr(e,n),o=t.axis||"x",l=t.includeInvisible||!1,u=t.intersect?Fc(n,a,o,s,l):Ac(n,a,o,!1,s,l),h=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(p=>{const m=u[0].index,y=p.data[m];y&&!y.skip&&h.push({element:y,datasetIndex:p.index,index:m})}),h):[]},dataset(n,e,t,s){const a=yr(e,n),o=t.axis||"xy",l=t.includeInvisible||!1;let u=t.intersect?Fc(n,a,o,s,l):Ac(n,a,o,!1,s,l);if(u.length>0){const h=u[0].datasetIndex,p=n.getDatasetMeta(h).data;u=[];for(let m=0;m<p.length;++m)u.push({element:p[m],datasetIndex:h,index:m})}return u},point(n,e,t,s){const a=yr(e,n),o=t.axis||"xy",l=t.includeInvisible||!1;return Fc(n,a,o,s,l)},nearest(n,e,t,s){const a=yr(e,n),o=t.axis||"xy",l=t.includeInvisible||!1;return Ac(n,a,o,t.intersect,s,l)},x(n,e,t,s){const a=yr(e,n);return bp(n,a,"x",t.intersect,s)},y(n,e,t,s){const a=yr(e,n);return bp(n,a,"y",t.intersect,s)}}};const pg=["left","top","right","bottom"];function ei(n,e){return n.filter(t=>t.pos===e)}function kp(n,e){return n.filter(t=>pg.indexOf(t.pos)===-1&&t.box.axis===e)}function ti(n,e){return n.sort((t,s)=>{const a=e?s:t,o=e?t:s;return a.weight===o.weight?a.index-o.index:a.weight-o.weight})}function Jw(n){const e=[];let t,s,a,o,l,u;for(t=0,s=(n||[]).length;t<s;++t)a=n[t],{position:o,options:{stack:l,stackWeight:u=1}}=a,e.push({index:t,box:a,pos:o,horizontal:a.isHorizontal(),weight:a.weight,stack:l&&o+l,stackWeight:u});return e}function Qw(n){const e={};for(const t of n){const{stack:s,pos:a,stackWeight:o}=t;if(!s||!pg.includes(a))continue;const l=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return e}function Zw(n,e){const t=Qw(n),{vBoxMaxWidth:s,hBoxMaxHeight:a}=e;let o,l,u;for(o=0,l=n.length;o<l;++o){u=n[o];const{fullSize:h}=u.box,p=t[u.stack],m=p&&u.stackWeight/p.weight;u.horizontal?(u.width=m?m*s:h&&e.availableWidth,u.height=a):(u.width=s,u.height=m?m*a:h&&e.availableHeight)}return t}function e2(n){const e=Jw(n),t=ti(e.filter(p=>p.box.fullSize),!0),s=ti(ei(e,"left"),!0),a=ti(ei(e,"right")),o=ti(ei(e,"top"),!0),l=ti(ei(e,"bottom")),u=kp(e,"x"),h=kp(e,"y");return{fullSize:t,leftAndTop:s.concat(o),rightAndBottom:a.concat(h).concat(l).concat(u),chartArea:ei(e,"chartArea"),vertical:s.concat(a).concat(h),horizontal:o.concat(l).concat(u)}}function wp(n,e,t,s){return Math.max(n[t],e[t])+Math.max(n[s],e[s])}function mg(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function t2(n,e,t,s){const{pos:a,box:o}=t,l=n.maxPadding;if(!_e(a)){t.size&&(n[a]-=t.size);const y=s[t.stack]||{size:0,count:1};y.size=Math.max(y.size,t.horizontal?o.height:o.width),t.size=y.size/y.count,n[a]+=t.size}o.getPadding&&mg(l,o.getPadding());const u=Math.max(0,e.outerWidth-wp(l,n,"left","right")),h=Math.max(0,e.outerHeight-wp(l,n,"top","bottom")),p=u!==n.w,m=h!==n.h;return n.w=u,n.h=h,t.horizontal?{same:p,other:m}:{same:m,other:p}}function n2(n){const e=n.maxPadding;function t(s){const a=Math.max(e[s]-n[s],0);return n[s]+=a,a}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function r2(n,e){const t=e.maxPadding;function s(a){const o={left:0,top:0,right:0,bottom:0};return a.forEach(l=>{o[l]=Math.max(e[l],t[l])}),o}return s(n?["left","right"]:["top","bottom"])}function ai(n,e,t,s){const a=[];let o,l,u,h,p,m;for(o=0,l=n.length,p=0;o<l;++o){u=n[o],h=u.box,h.update(u.width||e.w,u.height||e.h,r2(u.horizontal,e));const{same:y,other:v}=t2(e,t,u,s);p|=y&&a.length,m=m||v,h.fullSize||a.push(u)}return p&&ai(a,e,t,s)||m}function Xa(n,e,t,s,a){n.top=t,n.left=e,n.right=e+s,n.bottom=t+a,n.width=s,n.height=a}function _p(n,e,t,s){const a=t.padding;let{x:o,y:l}=e;for(const u of n){const h=u.box,p=s[u.stack]||{placed:0,weight:1},m=u.stackWeight/p.weight||1;if(u.horizontal){const y=e.w*m,v=p.size||h.height;xi(p.start)&&(l=p.start),h.fullSize?Xa(h,a.left,l,t.outerWidth-a.right-a.left,v):Xa(h,e.left+p.placed,l,y,v),p.start=l,p.placed+=y,l=h.bottom}else{const y=e.h*m,v=p.size||h.width;xi(p.start)&&(o=p.start),h.fullSize?Xa(h,o,a.top,v,t.outerHeight-a.bottom-a.top):Xa(h,o,e.top+p.placed,v,y),p.start=o,p.placed+=y,o=h.right}}e.x=o,e.y=l}var zt={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,s){if(!n)return;const a=Pt(n.options.layout.padding),o=Math.max(e-a.width,0),l=Math.max(t-a.height,0),u=e2(n.boxes),h=u.vertical,p=u.horizontal;Ce(n.boxes,k=>{typeof k.beforeLayout=="function"&&k.beforeLayout()});const m=h.reduce((k,_)=>_.box.options&&_.box.options.display===!1?k:k+1,0)||1,y=Object.freeze({outerWidth:e,outerHeight:t,padding:a,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/m,hBoxMaxHeight:l/2}),v=Object.assign({},a);mg(v,Pt(s));const b=Object.assign({maxPadding:v,w:o,h:l,x:a.left,y:a.top},a),S=Zw(h.concat(p),y);ai(u.fullSize,b,y,S),ai(h,b,y,S),ai(p,b,y,S)&&ai(h,b,y,S),n2(b),_p(u.leftAndTop,b,y,S),b.x+=b.w,b.y+=b.h,_p(u.rightAndBottom,b,y,S),n.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},Ce(u.chartArea,k=>{const _=k.box;Object.assign(_,n.chartArea),_.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class gg{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,s){}removeEventListener(e,t,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,s,a){return t=Math.max(0,t||e.width),s=s||e.height,{width:t,height:Math.max(0,a?Math.floor(t/a):s)}}isAttached(e){return!0}updateConfig(e){}}class s2 extends gg{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const uo="$chartjs",i2={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Sp=n=>n===null||n==="";function a2(n,e){const t=n.style,s=n.getAttribute("height"),a=n.getAttribute("width");if(n[uo]={initial:{height:s,width:a,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",Sp(a)){const o=op(n,"width");o!==void 0&&(n.width=o)}if(Sp(s))if(n.style.height==="")n.height=n.width/(e||2);else{const o=op(n,"height");o!==void 0&&(n.height=o)}return n}const xg=rw?{passive:!0}:!1;function o2(n,e,t){n&&n.addEventListener(e,t,xg)}function l2(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,xg)}function c2(n,e){const t=i2[n.type]||n.type,{x:s,y:a}=yr(n,e);return{type:t,chart:e,native:n,x:s!==void 0?s:null,y:a!==void 0?a:null}}function bo(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function d2(n,e,t){const s=n.canvas,a=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||bo(u.addedNodes,s),l=l&&!bo(u.removedNodes,s);l&&t()});return a.observe(document,{childList:!0,subtree:!0}),a}function u2(n,e,t){const s=n.canvas,a=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||bo(u.removedNodes,s),l=l&&!bo(u.addedNodes,s);l&&t()});return a.observe(document,{childList:!0,subtree:!0}),a}const ki=new Map;let jp=0;function yg(){const n=window.devicePixelRatio;n!==jp&&(jp=n,ki.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function h2(n,e){ki.size||window.addEventListener("resize",yg),ki.set(n,e)}function f2(n){ki.delete(n),ki.size||window.removeEventListener("resize",yg)}function p2(n,e,t){const s=n.canvas,a=s&&Pd(s);if(!a)return;const o=Km((u,h)=>{const p=a.clientWidth;t(u,h),p<a.clientWidth&&t()},window),l=new ResizeObserver(u=>{const h=u[0],p=h.contentRect.width,m=h.contentRect.height;p===0&&m===0||o(p,m)});return l.observe(a),h2(n,o),l}function Ic(n,e,t){t&&t.disconnect(),e==="resize"&&f2(n)}function m2(n,e,t){const s=n.canvas,a=Km(o=>{n.ctx!==null&&t(c2(o,n))},n);return o2(s,e,a),a}class g2 extends gg{acquireContext(e,t){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(a2(e,t),s):null}releaseContext(e){const t=e.canvas;if(!t[uo])return!1;const s=t[uo].initial;["height","width"].forEach(o=>{const l=s[o];Se(l)?t.removeAttribute(o):t.setAttribute(o,l)});const a=s.style||{};return Object.keys(a).forEach(o=>{t.style[o]=a[o]}),t.width=t.width,delete t[uo],!0}addEventListener(e,t,s){this.removeEventListener(e,t);const a=e.$proxies||(e.$proxies={}),l={attach:d2,detach:u2,resize:p2}[t]||m2;a[t]=l(e,t,s)}removeEventListener(e,t){const s=e.$proxies||(e.$proxies={}),a=s[t];if(!a)return;({attach:Ic,detach:Ic,resize:Ic}[t]||l2)(e,t,a),s[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,s,a){return nw(e,t,s,a)}isAttached(e){const t=e&&Pd(e);return!!(t&&t.isConnected)}}function x2(n){return!Md()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?s2:g2}class Nn{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}hasValue(){return as(this.x)&&as(this.y)}getProps(e,t){const s=this.$animations;if(!t||!s)return this;const a={};return e.forEach(o=>{a[o]=s[o]&&s[o].active()?s[o]._to:this[o]}),a}}function y2(n,e){const t=n.options.ticks,s=v2(n),a=Math.min(t.maxTicksLimit||s,s),o=t.major.enabled?k2(e):[],l=o.length,u=o[0],h=o[l-1],p=[];if(l>a)return w2(e,p,o,l/a),p;const m=b2(o,e,a);if(l>0){let y,v;const b=l>1?Math.round((h-u)/(l-1)):null;for(qa(e,p,m,Se(b)?0:u-b,u),y=0,v=l-1;y<v;y++)qa(e,p,m,o[y],o[y+1]);return qa(e,p,m,h,Se(b)?e.length:h+b),p}return qa(e,p,m),p}function v2(n){const e=n.options.offset,t=n._tickSize(),s=n._length/t+(e?0:1),a=n._maxLength/t;return Math.floor(Math.min(s,a))}function b2(n,e,t){const s=_2(n),a=e.length/t;if(!s)return Math.max(a,1);const o=ik(s);for(let l=0,u=o.length-1;l<u;l++){const h=o[l];if(h>a)return h}return Math.max(a,1)}function k2(n){const e=[];let t,s;for(t=0,s=n.length;t<s;t++)n[t].major&&e.push(t);return e}function w2(n,e,t,s){let a=0,o=t[0],l;for(s=Math.ceil(s),l=0;l<n.length;l++)l===o&&(e.push(n[l]),a++,o=t[a*s])}function qa(n,e,t,s,a){const o=ke(s,0),l=Math.min(ke(a,n.length),n.length);let u=0,h,p,m;for(t=Math.ceil(t),a&&(h=a-s,t=h/Math.floor(h/t)),m=o;m<0;)u++,m=Math.round(o+u*t);for(p=Math.max(o,0);p<l;p++)p===m&&(e.push(n[p]),u++,m=Math.round(o+u*t))}function _2(n){const e=n.length;let t,s;if(e<2)return!1;for(s=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==s)return!1;return s}const S2=n=>n==="left"?"right":n==="right"?"left":n,Np=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,Cp=(n,e)=>Math.min(e||n,n);function Mp(n,e){const t=[],s=n.length/e,a=n.length;let o=0;for(;o<a;o+=s)t.push(n[Math.floor(o)]);return t}function j2(n,e,t){const s=n.ticks.length,a=Math.min(e,s-1),o=n._startPixel,l=n._endPixel,u=1e-6;let h=n.getPixelForTick(a),p;if(!(t&&(s===1?p=Math.max(h-o,l-h):e===0?p=(n.getPixelForTick(1)-h)/2:p=(h-n.getPixelForTick(a-1))/2,h+=a<e?p:-p,h<o-u||h>l+u)))return h}function N2(n,e){Ce(n,t=>{const s=t.gc,a=s.length/2;let o;if(a>e){for(o=0;o<a;++o)delete t.data[s[o]];s.splice(0,a)}})}function ni(n){return n.drawTicks?n.tickLength:0}function Pp(n,e){if(!n.display)return 0;const t=it(n.font,e),s=Pt(n.padding);return(Ke(n.text)?n.text.length:1)*t.lineHeight+s.height}function C2(n,e){return Nr(n,{scale:e,type:"scale"})}function M2(n,e,t){return Nr(n,{tick:t,index:e,type:"tick"})}function P2(n,e,t){let s=kd(n);return(t&&e!=="right"||!t&&e==="right")&&(s=S2(s)),s}function E2(n,e,t,s){const{top:a,left:o,bottom:l,right:u,chart:h}=n,{chartArea:p,scales:m}=h;let y=0,v,b,S;const k=l-a,_=u-o;if(n.isHorizontal()){if(b=dt(s,o,u),_e(t)){const N=Object.keys(t)[0],C=t[N];S=m[N].getPixelForValue(C)+k-e}else t==="center"?S=(p.bottom+p.top)/2+k-e:S=Np(n,t,e);v=u-o}else{if(_e(t)){const N=Object.keys(t)[0],C=t[N];b=m[N].getPixelForValue(C)-_+e}else t==="center"?b=(p.left+p.right)/2-_+e:b=Np(n,t,e);S=dt(s,l,a),y=t==="left"?-Ze:Ze}return{titleX:b,titleY:S,maxWidth:v,rotation:y}}class Cr extends Nn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:s,_suggestedMax:a}=this;return e=Ct(e,Number.POSITIVE_INFINITY),t=Ct(t,Number.NEGATIVE_INFINITY),s=Ct(s,Number.POSITIVE_INFINITY),a=Ct(a,Number.NEGATIVE_INFINITY),{min:Ct(e,s),max:Ct(t,a),minDefined:qe(e),maxDefined:qe(t)}}getMinMax(e){let{min:t,max:s,minDefined:a,maxDefined:o}=this.getUserBounds(),l;if(a&&o)return{min:t,max:s};const u=this.getMatchingVisibleMetas();for(let h=0,p=u.length;h<p;++h)l=u[h].controller.getMinMax(this,e),a||(t=Math.min(t,l.min)),o||(s=Math.max(s,l.max));return t=o&&t>s?s:t,s=a&&t>s?t:s,{min:Ct(t,Ct(s,t)),max:Ct(s,Ct(t,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Re(this.options.beforeUpdate,[this])}update(e,t,s){const{beginAtZero:a,grace:o,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Lk(this,o,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=u<this.ticks.length;this._convertTicksToLabels(h?Mp(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=y2(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,s;this.isHorizontal()?(t=this.left,s=this.right):(t=this.top,s=this.bottom,e=!e),this._startPixel=t,this._endPixel=s,this._reversePixels=e,this._length=s-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Re(this.options.afterUpdate,[this])}beforeSetDimensions(){Re(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Re(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Re(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Re(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let s,a,o;for(s=0,a=e.length;s<a;s++)o=e[s],o.label=Re(t.callback,[o.value,s,e],this)}afterTickToLabelConversion(){Re(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Re(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,s=Cp(this.ticks.length,e.ticks.maxTicksLimit),a=t.minRotation||0,o=t.maxRotation;let l=a,u,h,p;if(!this._isVisible()||!t.display||a>=o||s<=1||!this.isHorizontal()){this.labelRotation=a;return}const m=this._getLabelSizes(),y=m.widest.width,v=m.highest.height,b=ut(this.chart.width-y,0,this.maxWidth);u=e.offset?this.maxWidth/s:b/(s-1),y+6>u&&(u=b/(s-(e.offset?.5:1)),h=this.maxHeight-ni(e.grid)-t.padding-Pp(e.title,this.chart.options.font),p=Math.sqrt(y*y+v*v),l=lk(Math.min(Math.asin(ut((m.highest.height+6)/u,-1,1)),Math.asin(ut(h/p,-1,1))-Math.asin(ut(v/p,-1,1)))),l=Math.max(a,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){Re(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Re(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:s,title:a,grid:o}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const h=Pp(a,t.options.font);if(u?(e.width=this.maxWidth,e.height=ni(o)+h):(e.height=this.maxHeight,e.width=ni(o)+h),s.display&&this.ticks.length){const{first:p,last:m,widest:y,highest:v}=this._getLabelSizes(),b=s.padding*2,S=kn(this.labelRotation),k=Math.cos(S),_=Math.sin(S);if(u){const N=s.mirror?0:_*y.width+k*v.height;e.height=Math.min(this.maxHeight,e.height+N+b)}else{const N=s.mirror?0:k*y.width+_*v.height;e.width=Math.min(this.maxWidth,e.width+N+b)}this._calculatePadding(p,m,_,k)}}this._handleMargins(),u?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,s,a){const{ticks:{align:o,padding:l},position:u}=this.options,h=this.labelRotation!==0,p=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,b=0;h?p?(v=a*e.width,b=s*t.height):(v=s*e.height,b=a*t.width):o==="start"?b=t.width:o==="end"?v=e.width:o!=="inner"&&(v=e.width/2,b=t.width/2),this.paddingLeft=Math.max((v-m+l)*this.width/(this.width-m),0),this.paddingRight=Math.max((b-y+l)*this.width/(this.width-y),0)}else{let m=t.height/2,y=e.height/2;o==="start"?(m=0,y=e.height):o==="end"&&(m=t.height,y=0),this.paddingTop=m+l,this.paddingBottom=y+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Re(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,s;for(t=0,s=e.length;t<s;t++)Se(e[t].label)&&(e.splice(t,1),s--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let s=this.ticks;t<s.length&&(s=Mp(s,t)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,s){const{ctx:a,_longestTextCache:o}=this,l=[],u=[],h=Math.floor(t/Cp(t,s));let p=0,m=0,y,v,b,S,k,_,N,C,P,O,D;for(y=0;y<t;y+=h){if(S=e[y].label,k=this._resolveTickFontOptions(y),a.font=_=k.string,N=o[_]=o[_]||{data:{},gc:[]},C=k.lineHeight,P=O=0,!Se(S)&&!Ke(S))P=np(a,N.data,N.gc,P,S),O=C;else if(Ke(S))for(v=0,b=S.length;v<b;++v)D=S[v],!Se(D)&&!Ke(D)&&(P=np(a,N.data,N.gc,P,D),O+=C);l.push(P),u.push(O),p=Math.max(P,p),m=Math.max(O,m)}N2(o,t);const Y=l.indexOf(p),$=u.indexOf(m),I=G=>({width:l[G]||0,height:u[G]||0});return{first:I(0),last:I(t-1),widest:I(Y),highest:I($),widths:l,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return dk(this._alignToPixels?mr(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const s=t[e];return s.$context||(s.$context=M2(this.getContext(),e,s))}return this.$context||(this.$context=C2(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=kn(this.labelRotation),s=Math.abs(Math.cos(t)),a=Math.abs(Math.sin(t)),o=this._getLabelSizes(),l=e.autoSkipPadding||0,u=o?o.widest.width+l:0,h=o?o.highest.height+l:0;return this.isHorizontal()?h*s>u*a?u/s:h/a:h*a<u*s?h/s:u/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,s=this.chart,a=this.options,{grid:o,position:l,border:u}=a,h=o.offset,p=this.isHorizontal(),y=this.ticks.length+(h?1:0),v=ni(o),b=[],S=u.setContext(this.getContext()),k=S.display?S.width:0,_=k/2,N=function(ie){return mr(s,ie,k)};let C,P,O,D,Y,$,I,G,U,T,R,F;if(l==="top")C=N(this.bottom),$=this.bottom-v,G=C-_,T=N(e.top)+_,F=e.bottom;else if(l==="bottom")C=N(this.top),T=e.top,F=N(e.bottom)-_,$=C+_,G=this.top+v;else if(l==="left")C=N(this.right),Y=this.right-v,I=C-_,U=N(e.left)+_,R=e.right;else if(l==="right")C=N(this.left),U=e.left,R=N(e.right)-_,Y=C+_,I=this.left+v;else if(t==="x"){if(l==="center")C=N((e.top+e.bottom)/2+.5);else if(_e(l)){const ie=Object.keys(l)[0],ce=l[ie];C=N(this.chart.scales[ie].getPixelForValue(ce))}T=e.top,F=e.bottom,$=C+_,G=$+v}else if(t==="y"){if(l==="center")C=N((e.left+e.right)/2);else if(_e(l)){const ie=Object.keys(l)[0],ce=l[ie];C=N(this.chart.scales[ie].getPixelForValue(ce))}Y=C-_,I=Y-v,U=e.left,R=e.right}const B=ke(a.ticks.maxTicksLimit,y),Q=Math.max(1,Math.ceil(y/B));for(P=0;P<y;P+=Q){const ie=this.getContext(P),ce=o.setContext(ie),ne=u.setContext(ie),ae=ce.lineWidth,q=ce.color,A=ne.dash||[],K=ne.dashOffset,Z=ce.tickWidth,ue=ce.tickColor,ge=ce.tickBorderDash||[],X=ce.tickBorderDashOffset;O=j2(this,P,h),O!==void 0&&(D=mr(s,O,ae),p?Y=I=U=R=D:$=G=T=F=D,b.push({tx1:Y,ty1:$,tx2:I,ty2:G,x1:U,y1:T,x2:R,y2:F,width:ae,color:q,borderDash:A,borderDashOffset:K,tickWidth:Z,tickColor:ue,tickBorderDash:ge,tickBorderDashOffset:X}))}return this._ticksLength=y,this._borderValue=C,b}_computeLabelItems(e){const t=this.axis,s=this.options,{position:a,ticks:o}=s,l=this.isHorizontal(),u=this.ticks,{align:h,crossAlign:p,padding:m,mirror:y}=o,v=ni(s.grid),b=v+m,S=y?-m:b,k=-kn(this.labelRotation),_=[];let N,C,P,O,D,Y,$,I,G,U,T,R,F="middle";if(a==="top")Y=this.bottom-S,$=this._getXAxisLabelAlignment();else if(a==="bottom")Y=this.top+S,$=this._getXAxisLabelAlignment();else if(a==="left"){const Q=this._getYAxisLabelAlignment(v);$=Q.textAlign,D=Q.x}else if(a==="right"){const Q=this._getYAxisLabelAlignment(v);$=Q.textAlign,D=Q.x}else if(t==="x"){if(a==="center")Y=(e.top+e.bottom)/2+b;else if(_e(a)){const Q=Object.keys(a)[0],ie=a[Q];Y=this.chart.scales[Q].getPixelForValue(ie)+b}$=this._getXAxisLabelAlignment()}else if(t==="y"){if(a==="center")D=(e.left+e.right)/2-b;else if(_e(a)){const Q=Object.keys(a)[0],ie=a[Q];D=this.chart.scales[Q].getPixelForValue(ie)}$=this._getYAxisLabelAlignment(v).textAlign}t==="y"&&(h==="start"?F="top":h==="end"&&(F="bottom"));const B=this._getLabelSizes();for(N=0,C=u.length;N<C;++N){P=u[N],O=P.label;const Q=o.setContext(this.getContext(N));I=this.getPixelForTick(N)+o.labelOffset,G=this._resolveTickFontOptions(N),U=G.lineHeight,T=Ke(O)?O.length:1;const ie=T/2,ce=Q.color,ne=Q.textStrokeColor,ae=Q.textStrokeWidth;let q=$;l?(D=I,$==="inner"&&(N===C-1?q=this.options.reverse?"left":"right":N===0?q=this.options.reverse?"right":"left":q="center"),a==="top"?p==="near"||k!==0?R=-T*U+U/2:p==="center"?R=-B.highest.height/2-ie*U+U:R=-B.highest.height+U/2:p==="near"||k!==0?R=U/2:p==="center"?R=B.highest.height/2-ie*U:R=B.highest.height-T*U,y&&(R*=-1),k!==0&&!Q.showLabelBackdrop&&(D+=U/2*Math.sin(k))):(Y=I,R=(1-T)*U/2);let A;if(Q.showLabelBackdrop){const K=Pt(Q.backdropPadding),Z=B.heights[N],ue=B.widths[N];let ge=R-K.top,X=0-K.left;switch(F){case"middle":ge-=Z/2;break;case"bottom":ge-=Z;break}switch($){case"center":X-=ue/2;break;case"right":X-=ue;break;case"inner":N===C-1?X-=ue:N>0&&(X-=ue/2);break}A={left:X,top:ge,width:ue+K.width,height:Z+K.height,color:Q.backdropColor}}_.push({label:O,font:G,textOffset:R,options:{rotation:k,color:ce,strokeColor:ne,strokeWidth:ae,textAlign:q,textBaseline:F,translation:[D,Y],backdrop:A}})}return _}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-kn(this.labelRotation))return e==="top"?"left":"right";let a="center";return t.align==="start"?a="left":t.align==="end"?a="right":t.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:s,mirror:a,padding:o}}=this.options,l=this._getLabelSizes(),u=e+o,h=l.widest.width;let p,m;return t==="left"?a?(m=this.right+o,s==="near"?p="left":s==="center"?(p="center",m+=h/2):(p="right",m+=h)):(m=this.right-u,s==="near"?p="right":s==="center"?(p="center",m-=h/2):(p="left",m=this.left)):t==="right"?a?(m=this.left+o,s==="near"?p="right":s==="center"?(p="center",m-=h/2):(p="left",m-=h)):(m=this.left+u,s==="near"?p="left":s==="center"?(p="center",m+=h/2):(p="right",m=this.right)):p="right",{textAlign:p,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:s,top:a,width:o,height:l}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(s,a,o,l),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const a=this.ticks.findIndex(o=>o.value===e);return a>=0?t.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const t=this.options.grid,s=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,l;const u=(h,p,m)=>{!m.width||!m.color||(s.save(),s.lineWidth=m.width,s.strokeStyle=m.color,s.setLineDash(m.borderDash||[]),s.lineDashOffset=m.borderDashOffset,s.beginPath(),s.moveTo(h.x,h.y),s.lineTo(p.x,p.y),s.stroke(),s.restore())};if(t.display)for(o=0,l=a.length;o<l;++o){const h=a[o];t.drawOnChartArea&&u({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),t.drawTicks&&u({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:s,grid:a}}=this,o=s.setContext(this.getContext()),l=s.display?o.width:0;if(!l)return;const u=a.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let p,m,y,v;this.isHorizontal()?(p=mr(e,this.left,l)-l/2,m=mr(e,this.right,u)+u/2,y=v=h):(y=mr(e,this.top,l)-l/2,v=mr(e,this.bottom,u)+u/2,p=m=h),t.save(),t.lineWidth=o.width,t.strokeStyle=o.color,t.beginPath(),t.moveTo(p,y),t.lineTo(m,v),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,a=this._computeLabelArea();a&&jo(s,a);const o=this.getLabelItems(e);for(const l of o){const u=l.options,h=l.font,p=l.label,m=l.textOffset;bi(s,p,0,m,h,u)}a&&No(s)}drawTitle(){const{ctx:e,options:{position:t,title:s,reverse:a}}=this;if(!s.display)return;const o=it(s.font),l=Pt(s.padding),u=s.align;let h=o.lineHeight/2;t==="bottom"||t==="center"||_e(t)?(h+=l.bottom,Ke(s.text)&&(h+=o.lineHeight*(s.text.length-1))):h+=l.top;const{titleX:p,titleY:m,maxWidth:y,rotation:v}=E2(this,h,t,u);bi(e,s.text,0,0,o,{color:s.color,maxWidth:y,rotation:v,textAlign:P2(u,t,a),textBaseline:"middle",translation:[p,m]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,s=ke(e.grid&&e.grid.z,-1),a=ke(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Cr.prototype.draw?[{z:t,draw:o=>{this.draw(o)}}]:[{z:s,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:t,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",a=[];let o,l;for(o=0,l=t.length;o<l;++o){const u=t[o];u[s]===this.id&&(!e||u.type===e)&&a.push(u)}return a}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return it(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ja{constructor(e,t,s){this.type=e,this.scope=t,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let s;R2(t)&&(s=this.register(t));const a=this.items,o=e.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in a||(a[o]=e,D2(e,l,s),this.override&&Ue.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const t=this.items,s=e.id,a=this.scope;s in t&&delete t[s],a&&s in Ue[a]&&(delete Ue[a][s],this.override&&delete jr[s])}}function D2(n,e,t){const s=rn(Object.create(null),[t?Ue.get(t):{},Ue.get(e),n.defaults]);Ue.set(e,s),n.defaultRoutes&&T2(e,n.defaultRoutes),n.descriptors&&Ue.describe(e,n.descriptors)}function T2(n,e){Object.keys(e).forEach(t=>{const s=t.split("."),a=s.pop(),o=[n].concat(s).join("."),l=e[t].split("."),u=l.pop(),h=l.join(".");Ue.route(o,a,h,u)})}function R2(n){return"id"in n&&"defaults"in n}class L2{constructor(){this.controllers=new Ja(Ci,"datasets",!0),this.elements=new Ja(Nn,"elements"),this.plugins=new Ja(Object,"plugins"),this.scales=new Ja(Cr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,s){[...t].forEach(a=>{const o=s||this._getRegistryForType(a);s||o.isForType(a)||o===this.plugins&&a.id?this._exec(e,o,a):Ce(a,l=>{const u=s||this._getRegistryForType(l);this._exec(e,u,l)})})}_exec(e,t,s){const a=vd(e);Re(s["before"+a],[],s),t[e](s),Re(s["after"+a],[],s)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const s=this._typedRegistries[t];if(s.isForType(e))return s}return this.plugins}_get(e,t,s){const a=t.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return a}}var tn=new L2;class O2{constructor(){this._init=[]}notify(e,t,s,a){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=a?this._descriptors(e).filter(a):this._descriptors(e),l=this._notify(o,e,t,s);return t==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),l}_notify(e,t,s,a){a=a||{};for(const o of e){const l=o.plugin,u=l[s],h=[t,a,o.options];if(Re(u,h,l)===!1&&a.cancelable)return!1}return!0}invalidate(){Se(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const s=e&&e.config,a=ke(s.options&&s.options.plugins,{}),o=F2(s);return a===!1&&!t?[]:I2(e,o,a,t)}_notifyStateChanges(e){const t=this._oldCache||[],s=this._cache,a=(o,l)=>o.filter(u=>!l.some(h=>u.plugin.id===h.plugin.id));this._notify(a(t,s),e,"stop"),this._notify(a(s,t),e,"start")}}function F2(n){const e={},t=[],s=Object.keys(tn.plugins.items);for(let o=0;o<s.length;o++)t.push(tn.getPlugin(s[o]));const a=n.plugins||[];for(let o=0;o<a.length;o++){const l=a[o];t.indexOf(l)===-1&&(t.push(l),e[l.id]=!0)}return{plugins:t,localIds:e}}function A2(n,e){return!e&&n===!1?null:n===!0?{}:n}function I2(n,{plugins:e,localIds:t},s,a){const o=[],l=n.getContext();for(const u of e){const h=u.id,p=A2(s[h],a);p!==null&&o.push({plugin:u,options:z2(n.config,{plugin:u,local:t[h]},p,l)})}return o}function z2(n,{plugin:e,local:t},s,a){const o=n.pluginScopeKeys(e),l=n.getOptionScopes(s,o);return t&&e.defaults&&l.push(e.defaults),n.createResolver(l,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ed(n,e){const t=Ue.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function B2(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function $2(n,e){return n===e?"_index_":"_value_"}function Ep(n){if(n==="x"||n==="y"||n==="r")return n}function H2(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function td(n,...e){if(Ep(n))return n;for(const t of e){const s=t.axis||H2(t.position)||n.length>1&&Ep(n[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Dp(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function V2(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(s=>s.xAxisID===n||s.yAxisID===n);if(t.length)return Dp(n,"x",t[0])||Dp(n,"y",t[0])}return{}}function W2(n,e){const t=jr[n.type]||{scales:{}},s=e.scales||{},a=ed(n.type,e),o=Object.create(null);return Object.keys(s).forEach(l=>{const u=s[l];if(!_e(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=td(l,u,V2(l,n),Ue.scales[u.type]),p=$2(h,a),m=t.scales||{};o[l]=li(Object.create(null),[{axis:h},u,m[h],m[p]])}),n.data.datasets.forEach(l=>{const u=l.type||n.type,h=l.indexAxis||ed(u,e),m=(jr[u]||{}).scales||{};Object.keys(m).forEach(y=>{const v=B2(y,h),b=l[v+"AxisID"]||v;o[b]=o[b]||Object.create(null),li(o[b],[{axis:v},s[b],m[y]])})}),Object.keys(o).forEach(l=>{const u=o[l];li(u,[Ue.scales[u.type],Ue.scale])}),o}function vg(n){const e=n.options||(n.options={});e.plugins=ke(e.plugins,{}),e.scales=W2(n,e)}function bg(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function U2(n){return n=n||{},n.data=bg(n.data),vg(n),n}const Tp=new Map,kg=new Set;function Qa(n,e){let t=Tp.get(n);return t||(t=e(),Tp.set(n,t),kg.add(t)),t}const ri=(n,e,t)=>{const s=Sr(e,t);s!==void 0&&n.add(s)};class Y2{constructor(e){this._config=U2(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=bg(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),vg(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Qa(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Qa(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Qa(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,s=this.type;return Qa(`${s}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const s=this._scopeCache;let a=s.get(e);return(!a||t)&&(a=new Map,s.set(e,a)),a}getOptionScopes(e,t,s){const{options:a,type:o}=this,l=this._cachedScopes(e,s),u=l.get(t);if(u)return u;const h=new Set;t.forEach(m=>{e&&(h.add(e),m.forEach(y=>ri(h,e,y))),m.forEach(y=>ri(h,a,y)),m.forEach(y=>ri(h,jr[o]||{},y)),m.forEach(y=>ri(h,Ue,y)),m.forEach(y=>ri(h,Qc,y))});const p=Array.from(h);return p.length===0&&p.push(Object.create(null)),kg.has(t)&&l.set(t,p),p}chartOptionScopes(){const{options:e,type:t}=this;return[e,jr[t]||{},Ue.datasets[t]||{},{type:t},Ue,Qc]}resolveNamedOptions(e,t,s,a=[""]){const o={$shared:!0},{resolver:l,subPrefixes:u}=Rp(this._resolverCache,e,a);let h=l;if(K2(l,t)){o.$shared=!1,s=Jn(s)?s():s;const p=this.createResolver(e,s,u);h=os(l,s,p)}for(const p of t)o[p]=h[p];return o}createResolver(e,t,s=[""],a){const{resolver:o}=Rp(this._resolverCache,e,s);return _e(t)?os(o,t,void 0,a):o}}function Rp(n,e,t){let s=n.get(e);s||(s=new Map,n.set(e,s));const a=t.join();let o=s.get(a);return o||(o={resolver:jd(e,t),subPrefixes:t.filter(u=>!u.toLowerCase().includes("hover"))},s.set(a,o)),o}const G2=n=>_e(n)&&Object.getOwnPropertyNames(n).some(e=>Jn(n[e]));function K2(n,e){const{isScriptable:t,isIndexable:s}=eg(n);for(const a of e){const o=t(a),l=s(a),u=(l||o)&&n[a];if(o&&(Jn(u)||G2(u))||l&&Ke(u))return!0}return!1}var X2="4.5.0";const q2=["top","bottom","left","right","chartArea"];function Lp(n,e){return n==="top"||n==="bottom"||q2.indexOf(n)===-1&&e==="x"}function Op(n,e){return function(t,s){return t[n]===s[n]?t[e]-s[e]:t[n]-s[n]}}function Fp(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Re(t&&t.onComplete,[n],e)}function J2(n){const e=n.chart,t=e.options.animation;Re(t&&t.onProgress,[n],e)}function wg(n){return Md()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const ho={},Ap=n=>{const e=wg(n);return Object.values(ho).filter(t=>t.canvas===e).pop()};function Q2(n,e,t){const s=Object.keys(n);for(const a of s){const o=+a;if(o>=e){const l=n[a];delete n[a],(t>0||o>e)&&(n[o+t]=l)}}}function Z2(n,e,t,s){return!t||n.type==="mouseout"?null:s?e:n}let Mi=class{static defaults=Ue;static instances=ho;static overrides=jr;static registry=tn;static version=X2;static getChart=Ap;static register(...e){tn.add(...e),Ip()}static unregister(...e){tn.remove(...e),Ip()}constructor(e,t){const s=this.config=new Y2(t),a=wg(e),o=Ap(a);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||x2(a)),this.platform.updateConfig(s);const u=this.platform.acquireContext(a,l.aspectRatio),h=u&&u.canvas,p=h&&h.height,m=h&&h.width;if(this.id=q1(),this.ctx=u,this.canvas=h,this.width=m,this.height=p,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new O2,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=pk(y=>this.update(y),l.resizeDelay||0),this._dataChanges=[],ho[this.id]=this,!u||!h){console.error("Failed to create chart: can't acquire context from the given item");return}yn.listen(this,"complete",Fp),yn.listen(this,"progress",J2),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:s,height:a,_aspectRatio:o}=this;return Se(e)?t&&o?o:a?s/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return tn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ap(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return rp(this.canvas,this.ctx),this}stop(){return yn.stop(this),this}resize(e,t){yn.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const s=this.options,a=this.canvas,o=s.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(a,e,t,o),u=s.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,ap(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),Re(s.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Ce(t,(s,a)=>{s.id=a})}buildOrUpdateScales(){const e=this.options,t=e.scales,s=this.scales,a=Object.keys(s).reduce((l,u)=>(l[u]=!1,l),{});let o=[];t&&(o=o.concat(Object.keys(t).map(l=>{const u=t[l],h=td(l,u),p=h==="r",m=h==="x";return{options:u,dposition:p?"chartArea":m?"bottom":"left",dtype:p?"radialLinear":m?"category":"linear"}}))),Ce(o,l=>{const u=l.options,h=u.id,p=td(h,u),m=ke(u.type,l.dtype);(u.position===void 0||Lp(u.position,p)!==Lp(l.dposition))&&(u.position=l.dposition),a[h]=!0;let y=null;if(h in s&&s[h].type===m)y=s[h];else{const v=tn.getScale(m);y=new v({id:h,type:m,ctx:this.ctx,chart:this}),s[y.id]=y}y.init(u,e)}),Ce(a,(l,u)=>{l||delete s[u]}),Ce(s,l=>{zt.configure(this,l,l.options),zt.addBox(this,l)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,s=e.length;if(e.sort((a,o)=>a.index-o.index),s>t){for(let a=t;a<s;++a)this._destroyDatasetMeta(a);e.splice(t,s-t)}this._sortedMetasets=e.slice(0).sort(Op("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((s,a)=>{t.filter(o=>o===s._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let s,a;for(this._removeUnreferencedMetasets(),s=0,a=t.length;s<a;s++){const o=t[s];let l=this.getDatasetMeta(s);const u=o.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(s),l=this.getDatasetMeta(s)),l.type=u,l.indexAxis=o.indexAxis||ed(u,this.options),l.order=o.order||0,l.index=s,l.label=""+o.label,l.visible=this.isDatasetVisible(s),l.controller)l.controller.updateIndex(s),l.controller.linkScales();else{const h=tn.getController(u),{datasetElementType:p,dataElementType:m}=Ue.datasets[u];Object.assign(h,{dataElementType:tn.getElement(m),datasetElementType:p&&tn.getElement(p)}),l.controller=new h(this,s),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){Ce(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const s=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let p=0,m=this.data.datasets.length;p<m;p++){const{controller:y}=this.getDatasetMeta(p),v=!a&&o.indexOf(y)===-1;y.buildOrUpdateElements(v),l=Math.max(+y.getMaxOverflow(),l)}l=this._minPadding=s.layout.autoPadding?l:0,this._updateLayout(l),a||Ce(o,p=>{p.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Op("z","_idx"));const{_active:u,_lastEvent:h}=this;h?this._eventHandler(h,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Ce(this.scales,e=>{zt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!Gf(t,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:s,start:a,count:o}of t){const l=s==="_removeElements"?-o:o;Q2(e,a,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,s=o=>new Set(e.filter(l=>l[0]===o).map((l,u)=>u+","+l.splice(1).join(","))),a=s(0);for(let o=1;o<t;o++)if(!Gf(a,s(o)))return;return Array.from(a).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;zt.update(this,this.width,this.height,e);const t=this.chartArea,s=t.width<=0||t.height<=0;this._layers=[],Ce(this.boxes,a=>{s&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,o)=>{a._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,s=this.data.datasets.length;t<s;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,s=this.data.datasets.length;t<s;++t)this._updateDataset(t,Jn(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const s=this.getDatasetMeta(e),a={meta:s,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(s.controller._update(t),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(yn.has(this)?this.attached&&!yn.running(this)&&yn.start(this):(this.draw(),Fp({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,s=[];let a,o;for(a=0,o=t.length;a<o;++a){const l=t[a];(!e||l.visible)&&s.push(l)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,s={meta:e,index:e.index,cancelable:!0},a=dg(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(a&&jo(t,a),e.controller.draw(),a&&No(t),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return vi(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,s,a){const o=qw.modes[t];return typeof o=="function"?o(this,e,s,a):[]}getDatasetMeta(e){const t=this.data.datasets[e],s=this._metasets;let a=s.filter(o=>o&&o._dataset===t).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},s.push(a)),a}getContext(){return this.$context||(this.$context=Nr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!t.hidden}setDatasetVisibility(e,t){const s=this.getDatasetMeta(e);s.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,s){const a=s?"show":"hide",o=this.getDatasetMeta(e),l=o.controller._resolveAnimations(void 0,a);xi(t)?(o.data[t].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),l.update(o,{visible:s}),this.update(u=>u.datasetIndex===e?a:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),yn.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),rp(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete ho[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,s=(o,l)=>{t.addEventListener(this,o,l),e[o]=l},a=(o,l,u)=>{o.offsetX=l,o.offsetY=u,this._eventHandler(o)};Ce(this.options.events,o=>s(o,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,s=(h,p)=>{t.addEventListener(this,h,p),e[h]=p},a=(h,p)=>{e[h]&&(t.removeEventListener(this,h,p),delete e[h])},o=(h,p)=>{this.canvas&&this.resize(h,p)};let l;const u=()=>{a("attach",u),this.attached=!0,this.resize(),s("resize",o),s("detach",l)};l=()=>{this.attached=!1,a("resize",o),this._stop(),this._resize(0,0),s("attach",u)},t.isAttached(this.canvas)?u():l()}unbindEvents(){Ce(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Ce(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,s){const a=s?"set":"remove";let o,l,u,h;for(t==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+a+"DatasetHoverStyle"]()),u=0,h=e.length;u<h;++u){l=e[u];const p=l&&this.getDatasetMeta(l.datasetIndex).controller;p&&p[a+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],s=e.map(({datasetIndex:o,index:l})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[l],index:l}});!mo(s,t)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,t))}notifyPlugins(e,t,s){return this._plugins.notify(this,e,t,s)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,s){const a=this.options.hover,o=(h,p)=>h.filter(m=>!p.some(y=>m.datasetIndex===y.datasetIndex&&m.index===y.index)),l=o(t,e),u=s?e:o(e,t);l.length&&this.updateHoverStyle(l,a.mode,!1),u.length&&a.mode&&this.updateHoverStyle(u,a.mode,!0)}_eventHandler(e,t){const s={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},a=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,a)===!1)return;const o=this._handleEvent(e,t,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,a),(o||s.changed)&&this.render(),this}_handleEvent(e,t,s){const{_active:a=[],options:o}=this,l=t,u=this._getActiveElements(e,a,s,l),h=nk(e),p=Z2(e,this._lastEvent,s,h);s&&(this._lastEvent=null,Re(o.onHover,[e,u,this],this),h&&Re(o.onClick,[e,u,this],this));const m=!mo(u,a);return(m||t)&&(this._active=u,this._updateHoverStyles(u,a,t)),this._lastEvent=p,m}_getActiveElements(e,t,s,a){if(e.type==="mouseout")return[];if(!s)return t;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,a)}};function Ip(){return Ce(Mi.instances,n=>n._plugins.invalidate())}function e_(n,e,t){const{startAngle:s,x:a,y:o,outerRadius:l,innerRadius:u,options:h}=e,{borderWidth:p,borderJoinStyle:m}=h,y=Math.min(p/l,Mt(s-t));if(n.beginPath(),n.arc(a,o,l-p/2,s+y/2,t-y/2),u>0){const v=Math.min(p/u,Mt(s-t));n.arc(a,o,u+p/2,t-v/2,s+v/2,!0)}else{const v=Math.min(p/2,l*Mt(s-t));if(m==="round")n.arc(a,o,v,t-Ee/2,s+Ee/2,!0);else if(m==="bevel"){const b=2*v*v,S=-b*Math.cos(t+Ee/2)+a,k=-b*Math.sin(t+Ee/2)+o,_=b*Math.cos(s+Ee/2)+a,N=b*Math.sin(s+Ee/2)+o;n.lineTo(S,k),n.lineTo(_,N)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function t_(n,e,t){const{startAngle:s,pixelMargin:a,x:o,y:l,outerRadius:u,innerRadius:h}=e;let p=a/u;n.beginPath(),n.arc(o,l,u,s-p,t+p),h>a?(p=a/h,n.arc(o,l,h,t+p,s-p,!0)):n.arc(o,l,a,t+Ze,s-Ze),n.closePath(),n.clip()}function n_(n){return Sd(n,["outerStart","outerEnd","innerStart","innerEnd"])}function r_(n,e,t,s){const a=n_(n.options.borderRadius),o=(t-e)/2,l=Math.min(o,s*e/2),u=h=>{const p=(t-Math.min(o,h))*s/2;return ut(h,0,Math.min(o,p))};return{outerStart:u(a.outerStart),outerEnd:u(a.outerEnd),innerStart:ut(a.innerStart,0,l),innerEnd:ut(a.innerEnd,0,l)}}function es(n,e,t,s){return{x:t+n*Math.cos(e),y:s+n*Math.sin(e)}}function ko(n,e,t,s,a,o){const{x:l,y:u,startAngle:h,pixelMargin:p,innerRadius:m}=e,y=Math.max(e.outerRadius+s+t-p,0),v=m>0?m+s+t+p:0;let b=0;const S=a-h;if(s){const Q=m>0?m-s:0,ie=y>0?y-s:0,ce=(Q+ie)/2,ne=ce!==0?S*ce/(ce+s):S;b=(S-ne)/2}const k=Math.max(.001,S*y-t/Ee)/y,_=(S-k)/2,N=h+_+b,C=a-_-b,{outerStart:P,outerEnd:O,innerStart:D,innerEnd:Y}=r_(e,v,y,C-N),$=y-P,I=y-O,G=N+P/$,U=C-O/I,T=v+D,R=v+Y,F=N+D/T,B=C-Y/R;if(n.beginPath(),o){const Q=(G+U)/2;if(n.arc(l,u,y,G,Q),n.arc(l,u,y,Q,U),O>0){const ae=es(I,U,l,u);n.arc(ae.x,ae.y,O,U,C+Ze)}const ie=es(R,C,l,u);if(n.lineTo(ie.x,ie.y),Y>0){const ae=es(R,B,l,u);n.arc(ae.x,ae.y,Y,C+Ze,B+Math.PI)}const ce=(C-Y/v+(N+D/v))/2;if(n.arc(l,u,v,C-Y/v,ce,!0),n.arc(l,u,v,ce,N+D/v,!0),D>0){const ae=es(T,F,l,u);n.arc(ae.x,ae.y,D,F+Math.PI,N-Ze)}const ne=es($,N,l,u);if(n.lineTo(ne.x,ne.y),P>0){const ae=es($,G,l,u);n.arc(ae.x,ae.y,P,N-Ze,G)}}else{n.moveTo(l,u);const Q=Math.cos(G)*y+l,ie=Math.sin(G)*y+u;n.lineTo(Q,ie);const ce=Math.cos(U)*y+l,ne=Math.sin(U)*y+u;n.lineTo(ce,ne)}n.closePath()}function s_(n,e,t,s,a){const{fullCircles:o,startAngle:l,circumference:u}=e;let h=e.endAngle;if(o){ko(n,e,t,s,h,a);for(let p=0;p<o;++p)n.fill();isNaN(u)||(h=l+(u%He||He))}return ko(n,e,t,s,h,a),n.fill(),h}function i_(n,e,t,s,a){const{fullCircles:o,startAngle:l,circumference:u,options:h}=e,{borderWidth:p,borderJoinStyle:m,borderDash:y,borderDashOffset:v,borderRadius:b}=h,S=h.borderAlign==="inner";if(!p)return;n.setLineDash(y||[]),n.lineDashOffset=v,S?(n.lineWidth=p*2,n.lineJoin=m||"round"):(n.lineWidth=p,n.lineJoin=m||"bevel");let k=e.endAngle;if(o){ko(n,e,t,s,k,a);for(let _=0;_<o;++_)n.stroke();isNaN(u)||(k=l+(u%He||He))}S&&t_(n,e,k),h.selfJoin&&k-l>=Ee&&b===0&&m!=="miter"&&e_(n,e,k),o||(ko(n,e,t,s,k,a),n.stroke())}class _g extends Nn{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,s){const a=this.getProps(["x","y"],s),{angle:o,distance:l}=Wm(a,{x:e,y:t}),{startAngle:u,endAngle:h,innerRadius:p,outerRadius:m,circumference:y}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),v=(this.options.spacing+this.options.borderWidth)/2,b=ke(y,h-u),S=yi(o,u,h)&&u!==h,k=b>=He||S,_=wn(l,p+v,m+v);return k&&_}getCenterPoint(e){const{x:t,y:s,startAngle:a,endAngle:o,innerRadius:l,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:h,spacing:p}=this.options,m=(a+o)/2,y=(l+u+p+h)/2;return{x:t+Math.cos(m)*y,y:s+Math.sin(m)*y}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:s}=this,a=(t.offset||0)/4,o=(t.spacing||0)/2,l=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=s>He?Math.floor(s/He):0,s===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const u=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(u)*a,Math.sin(u)*a);const h=1-Math.sin(Math.min(Ee,s||0)),p=a*h;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,s_(e,this,p,o,l),i_(e,this,p,o,l),e.restore()}}function Sg(n,e,t=e){n.lineCap=ke(t.borderCapStyle,e.borderCapStyle),n.setLineDash(ke(t.borderDash,e.borderDash)),n.lineDashOffset=ke(t.borderDashOffset,e.borderDashOffset),n.lineJoin=ke(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=ke(t.borderWidth,e.borderWidth),n.strokeStyle=ke(t.borderColor,e.borderColor)}function a_(n,e,t){n.lineTo(t.x,t.y)}function o_(n){return n.stepped?jk:n.tension||n.cubicInterpolationMode==="monotone"?Nk:a_}function jg(n,e,t={}){const s=n.length,{start:a=0,end:o=s-1}=t,{start:l,end:u}=e,h=Math.max(a,l),p=Math.min(o,u),m=a<l&&o<l||a>u&&o>u;return{count:s,start:h,loop:e.loop,ilen:p<h&&!m?s+p-h:p-h}}function l_(n,e,t,s){const{points:a,options:o}=e,{count:l,start:u,loop:h,ilen:p}=jg(a,t,s),m=o_(o);let{move:y=!0,reverse:v}=s||{},b,S,k;for(b=0;b<=p;++b)S=a[(u+(v?p-b:b))%l],!S.skip&&(y?(n.moveTo(S.x,S.y),y=!1):m(n,k,S,v,o.stepped),k=S);return h&&(S=a[(u+(v?p:0))%l],m(n,k,S,v,o.stepped)),!!h}function c_(n,e,t,s){const a=e.points,{count:o,start:l,ilen:u}=jg(a,t,s),{move:h=!0,reverse:p}=s||{};let m=0,y=0,v,b,S,k,_,N;const C=O=>(l+(p?u-O:O))%o,P=()=>{k!==_&&(n.lineTo(m,_),n.lineTo(m,k),n.lineTo(m,N))};for(h&&(b=a[C(0)],n.moveTo(b.x,b.y)),v=0;v<=u;++v){if(b=a[C(v)],b.skip)continue;const O=b.x,D=b.y,Y=O|0;Y===S?(D<k?k=D:D>_&&(_=D),m=(y*m+O)/++y):(P(),n.lineTo(O,D),S=Y,y=0,k=_=D),N=D}P()}function nd(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?c_:l_}function d_(n){return n.stepped?sw:n.tension||n.cubicInterpolationMode==="monotone"?iw:vr}function u_(n,e,t,s){let a=e._path;a||(a=e._path=new Path2D,e.path(a,t,s)&&a.closePath()),Sg(n,e.options),n.stroke(a)}function h_(n,e,t,s){const{segments:a,options:o}=e,l=nd(e);for(const u of a)Sg(n,o,u.style),n.beginPath(),l(n,e,u,{start:t,end:t+s-1})&&n.closePath(),n.stroke()}const f_=typeof Path2D=="function";function p_(n,e,t,s){f_&&!e.options.segment?u_(n,e,t,s):h_(n,e,t,s)}class Pi extends Nn{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const a=s.spanGaps?this._loop:this._fullLoop;qk(this._points,s,e,a,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=uw(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,s=e.length;return s&&t[e[s-1].end]}interpolate(e,t){const s=this.options,a=e[t],o=this.points,l=cg(this,{property:t,start:a,end:a});if(!l.length)return;const u=[],h=d_(s);let p,m;for(p=0,m=l.length;p<m;++p){const{start:y,end:v}=l[p],b=o[y],S=o[v];if(b===S){u.push(b);continue}const k=Math.abs((a-b[t])/(S[t]-b[t])),_=h(b,S,k,s.stepped);_[t]=e[t],u.push(_)}return u.length===1?u[0]:u}pathSegment(e,t,s){return nd(this)(e,this,t,s)}path(e,t,s){const a=this.segments,o=nd(this);let l=this._loop;t=t||0,s=s||this.points.length-t;for(const u of a)l&=o(e,this,u,{start:t,end:t+s-1});return!!l}draw(e,t,s,a){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),p_(e,this,s,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function zp(n,e,t,s){const a=n.options,{[t]:o}=n.getProps([t],s);return Math.abs(e-o)<a.radius+a.hitRadius}class Dd extends Nn{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,s){const a=this.options,{x:o,y:l}=this.getProps(["x","y"],s);return Math.pow(e-o,2)+Math.pow(t-l,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(e,t){return zp(this,e,"x",t)}inYRange(e,t){return zp(this,e,"y",t)}getCenterPoint(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);const s=t&&e.borderWidth||0;return(t+s)*2}draw(e,t){const s=this.options;this.skip||s.radius<.1||!vi(this,t,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,Zc(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function Ng(n,e){const{x:t,y:s,base:a,width:o,height:l}=n.getProps(["x","y","base","width","height"],e);let u,h,p,m,y;return n.horizontal?(y=l/2,u=Math.min(t,a),h=Math.max(t,a),p=s-y,m=s+y):(y=o/2,u=t-y,h=t+y,p=Math.min(s,a),m=Math.max(s,a)),{left:u,top:p,right:h,bottom:m}}function Xn(n,e,t,s){return n?0:ut(e,t,s)}function m_(n,e,t){const s=n.options.borderWidth,a=n.borderSkipped,o=Zm(s);return{t:Xn(a.top,o.top,0,t),r:Xn(a.right,o.right,0,e),b:Xn(a.bottom,o.bottom,0,t),l:Xn(a.left,o.left,0,e)}}function g_(n,e,t){const{enableBorderRadius:s}=n.getProps(["enableBorderRadius"]),a=n.options.borderRadius,o=ns(a),l=Math.min(e,t),u=n.borderSkipped,h=s||_e(a);return{topLeft:Xn(!h||u.top||u.left,o.topLeft,0,l),topRight:Xn(!h||u.top||u.right,o.topRight,0,l),bottomLeft:Xn(!h||u.bottom||u.left,o.bottomLeft,0,l),bottomRight:Xn(!h||u.bottom||u.right,o.bottomRight,0,l)}}function x_(n){const e=Ng(n),t=e.right-e.left,s=e.bottom-e.top,a=m_(n,t/2,s/2),o=g_(n,t/2,s/2);return{outer:{x:e.left,y:e.top,w:t,h:s,radius:o},inner:{x:e.left+a.l,y:e.top+a.t,w:t-a.l-a.r,h:s-a.t-a.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,o.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(a.b,a.r))}}}}function zc(n,e,t,s){const a=e===null,o=t===null,u=n&&!(a&&o)&&Ng(n,s);return u&&(a||wn(e,u.left,u.right))&&(o||wn(t,u.top,u.bottom))}function y_(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function v_(n,e){n.rect(e.x,e.y,e.w,e.h)}function Bc(n,e,t={}){const s=n.x!==t.x?-e:0,a=n.y!==t.y?-e:0,o=(n.x+n.w!==t.x+t.w?e:0)-s,l=(n.y+n.h!==t.y+t.h?e:0)-a;return{x:n.x+s,y:n.y+a,w:n.w+o,h:n.h+l,radius:n.radius}}class Cg extends Nn{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:s,backgroundColor:a}}=this,{inner:o,outer:l}=x_(this),u=y_(l.radius)?yo:v_;e.save(),(l.w!==o.w||l.h!==o.h)&&(e.beginPath(),u(e,Bc(l,t,o)),e.clip(),u(e,Bc(o,-t,l)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),u(e,Bc(o,t)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,t,s){return zc(this,e,t,s)}inXRange(e,t){return zc(this,e,null,t)}inYRange(e,t){return zc(this,null,e,t)}getCenterPoint(e){const{x:t,y:s,base:a,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(t+a)/2:t,y:o?s:(s+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}function b_(n,e,t){const s=n.segments,a=n.points,o=e.points,l=[];for(const u of s){let{start:h,end:p}=u;p=Po(h,p,a);const m=rd(t,a[h],a[p],u.loop);if(!e.segments){l.push({source:u,target:m,start:a[h],end:a[p]});continue}const y=cg(e,m);for(const v of y){const b=rd(t,o[v.start],o[v.end],v.loop),S=lg(u,a,b);for(const k of S)l.push({source:k,target:v,start:{[t]:Bp(m,b,"start",Math.max)},end:{[t]:Bp(m,b,"end",Math.min)}})}}return l}function rd(n,e,t,s){if(s)return;let a=e[n],o=t[n];return n==="angle"&&(a=Mt(a),o=Mt(o)),{property:n,start:a,end:o}}function k_(n,e){const{x:t=null,y:s=null}=n||{},a=e.points,o=[];return e.segments.forEach(({start:l,end:u})=>{u=Po(l,u,a);const h=a[l],p=a[u];s!==null?(o.push({x:h.x,y:s}),o.push({x:p.x,y:s})):t!==null&&(o.push({x:t,y:h.y}),o.push({x:t,y:p.y}))}),o}function Po(n,e,t){for(;e>n;e--){const s=t[e];if(!isNaN(s.x)&&!isNaN(s.y))break}return e}function Bp(n,e,t,s){return n&&e?s(n[t],e[t]):n?n[t]:e?e[t]:0}function Mg(n,e){let t=[],s=!1;return Ke(n)?(s=!0,t=n):t=k_(n,e),t.length?new Pi({points:t,options:{tension:0},_loop:s,_fullLoop:s}):null}function $p(n){return n&&n.fill!==!1}function w_(n,e,t){let a=n[e].fill;const o=[e];let l;if(!t)return a;for(;a!==!1&&o.indexOf(a)===-1;){if(!qe(a))return a;if(l=n[a],!l)return!1;if(l.visible)return a;o.push(a),a=l.fill}return!1}function __(n,e,t){const s=C_(n);if(_e(s))return isNaN(s.value)?!1:s;let a=parseFloat(s);return qe(a)&&Math.floor(a)===a?S_(s[0],e,a,t):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function S_(n,e,t,s){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=s?!1:t}function j_(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:_e(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function N_(n,e,t){let s;return n==="start"?s=t:n==="end"?s=e.options.reverse?e.min:e.max:_e(n)?s=n.value:s=e.getBaseValue(),s}function C_(n){const e=n.options,t=e.fill;let s=ke(t&&t.target,t);return s===void 0&&(s=!!e.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function M_(n){const{scale:e,index:t,line:s}=n,a=[],o=s.segments,l=s.points,u=P_(e,t);u.push(Mg({x:null,y:e.bottom},s));for(let h=0;h<o.length;h++){const p=o[h];for(let m=p.start;m<=p.end;m++)E_(a,l[m],u)}return new Pi({points:a,options:{}})}function P_(n,e){const t=[],s=n.getMatchingVisibleMetas("line");for(let a=0;a<s.length;a++){const o=s[a];if(o.index===e)break;o.hidden||t.unshift(o.dataset)}return t}function E_(n,e,t){const s=[];for(let a=0;a<t.length;a++){const o=t[a],{first:l,last:u,point:h}=D_(o,e,"x");if(!(!h||l&&u)){if(l)s.unshift(h);else if(n.push(h),!u)break}}n.push(...s)}function D_(n,e,t){const s=n.interpolate(e,t);if(!s)return{};const a=s[t],o=n.segments,l=n.points;let u=!1,h=!1;for(let p=0;p<o.length;p++){const m=o[p],y=l[m.start][t],v=l[m.end][t];if(wn(a,y,v)){u=a===y,h=a===v;break}}return{first:u,last:h,point:s}}class Pg{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,s){const{x:a,y:o,radius:l}=this;return t=t||{start:0,end:He},e.arc(a,o,l,t.end,t.start,!0),!s.bounds}interpolate(e){const{x:t,y:s,radius:a}=this,o=e.angle;return{x:t+Math.cos(o)*a,y:s+Math.sin(o)*a,angle:o}}}function T_(n){const{chart:e,fill:t,line:s}=n;if(qe(t))return R_(e,t);if(t==="stack")return M_(n);if(t==="shape")return!0;const a=L_(n);return a instanceof Pg?a:Mg(a,s)}function R_(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function L_(n){return(n.scale||{}).getPointPositionForValue?F_(n):O_(n)}function O_(n){const{scale:e={},fill:t}=n,s=j_(t,e);if(qe(s)){const a=e.isHorizontal();return{x:a?s:null,y:a?null:s}}return null}function F_(n){const{scale:e,fill:t}=n,s=e.options,a=e.getLabels().length,o=s.reverse?e.max:e.min,l=N_(t,e,o),u=[];if(s.grid.circular){const h=e.getPointPositionForValue(0,o);return new Pg({x:h.x,y:h.y,radius:e.getDistanceFromCenterForValue(l)})}for(let h=0;h<a;++h)u.push(e.getPointPositionForValue(h,l));return u}function $c(n,e,t){const s=T_(e),{chart:a,index:o,line:l,scale:u,axis:h}=e,p=l.options,m=p.fill,y=p.backgroundColor,{above:v=y,below:b=y}=m||{},S=a.getDatasetMeta(o),k=dg(a,S);s&&l.points.length&&(jo(n,t),A_(n,{line:l,target:s,above:v,below:b,area:t,scale:u,axis:h,clip:k}),No(n))}function A_(n,e){const{line:t,target:s,above:a,below:o,area:l,scale:u,clip:h}=e,p=t._loop?"angle":e.axis;n.save();let m=o;o!==a&&(p==="x"?(Hp(n,s,l.top),Hc(n,{line:t,target:s,color:a,scale:u,property:p,clip:h}),n.restore(),n.save(),Hp(n,s,l.bottom)):p==="y"&&(Vp(n,s,l.left),Hc(n,{line:t,target:s,color:o,scale:u,property:p,clip:h}),n.restore(),n.save(),Vp(n,s,l.right),m=a)),Hc(n,{line:t,target:s,color:m,scale:u,property:p,clip:h}),n.restore()}function Hp(n,e,t){const{segments:s,points:a}=e;let o=!0,l=!1;n.beginPath();for(const u of s){const{start:h,end:p}=u,m=a[h],y=a[Po(h,p,a)];o?(n.moveTo(m.x,m.y),o=!1):(n.lineTo(m.x,t),n.lineTo(m.x,m.y)),l=!!e.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(y.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function Vp(n,e,t){const{segments:s,points:a}=e;let o=!0,l=!1;n.beginPath();for(const u of s){const{start:h,end:p}=u,m=a[h],y=a[Po(h,p,a)];o?(n.moveTo(m.x,m.y),o=!1):(n.lineTo(t,m.y),n.lineTo(m.x,m.y)),l=!!e.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(t,y.y)}n.lineTo(t,e.first().y),n.closePath(),n.clip()}function Hc(n,e){const{line:t,target:s,property:a,color:o,scale:l,clip:u}=e,h=b_(t,s,a);for(const{source:p,target:m,start:y,end:v}of h){const{style:{backgroundColor:b=o}={}}=p,S=s!==!0;n.save(),n.fillStyle=b,I_(n,l,u,S&&rd(a,y,v)),n.beginPath();const k=!!t.pathSegment(n,p);let _;if(S){k?n.closePath():Wp(n,s,v,a);const N=!!s.pathSegment(n,m,{move:k,reverse:!0});_=k&&N,_||Wp(n,s,y,a)}n.closePath(),n.fill(_?"evenodd":"nonzero"),n.restore()}}function I_(n,e,t,s){const a=e.chart.chartArea,{property:o,start:l,end:u}=s||{};if(o==="x"||o==="y"){let h,p,m,y;o==="x"?(h=l,p=a.top,m=u,y=a.bottom):(h=a.left,p=l,m=a.right,y=u),n.beginPath(),t&&(h=Math.max(h,t.left),m=Math.min(m,t.right),p=Math.max(p,t.top),y=Math.min(y,t.bottom)),n.rect(h,p,m-h,y-p),n.clip()}}function Wp(n,e,t,s){const a=e.interpolate(t,s);a&&n.lineTo(a.x,a.y)}var Eg={id:"filler",afterDatasetsUpdate(n,e,t){const s=(n.data.datasets||[]).length,a=[];let o,l,u,h;for(l=0;l<s;++l)o=n.getDatasetMeta(l),u=o.dataset,h=null,u&&u.options&&u instanceof Pi&&(h={visible:n.isDatasetVisible(l),index:l,fill:__(u,l,s),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:u}),o.$filler=h,a.push(h);for(l=0;l<s;++l)h=a[l],!(!h||h.fill===!1)&&(h.fill=w_(a,l,t.propagate))},beforeDraw(n,e,t){const s=t.drawTime==="beforeDraw",a=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let l=a.length-1;l>=0;--l){const u=a[l].$filler;u&&(u.line.updateControlPoints(o,u.axis),s&&u.fill&&$c(n.ctx,u,o))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const s=n.getSortedVisibleDatasetMetas();for(let a=s.length-1;a>=0;--a){const o=s[a].$filler;$p(o)&&$c(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,e,t){const s=e.meta.$filler;!$p(s)||t.drawTime!=="beforeDatasetDraw"||$c(n.ctx,s,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Up=(n,e)=>{let{boxHeight:t=e,boxWidth:s=e}=n;return n.usePointStyle&&(t=Math.min(t,e),s=n.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:t,itemHeight:Math.max(e,t)}},z_=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class Yp extends Nn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,s){this.maxWidth=e,this.maxHeight=t,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Re(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(s=>e.filter(s,this.chart.data))),e.sort&&(t=t.sort((s,a)=>e.sort(s,a,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,a=it(s.font),o=a.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:h}=Up(s,o);let p,m;t.font=a.string,this.isHorizontal()?(p=this.maxWidth,m=this._fitRows(l,o,u,h)+10):(m=this.maxHeight,p=this._fitCols(l,a,u,h)+10),this.width=Math.min(p,e.maxWidth||this.maxWidth),this.height=Math.min(m,e.maxHeight||this.maxHeight)}_fitRows(e,t,s,a){const{ctx:o,maxWidth:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],p=this.lineWidths=[0],m=a+u;let y=e;o.textAlign="left",o.textBaseline="middle";let v=-1,b=-m;return this.legendItems.forEach((S,k)=>{const _=s+t/2+o.measureText(S.text).width;(k===0||p[p.length-1]+_+2*u>l)&&(y+=m,p[p.length-(k>0?0:1)]=0,b+=m,v++),h[k]={left:0,top:b,row:v,width:_,height:a},p[p.length-1]+=_+u}),y}_fitCols(e,t,s,a){const{ctx:o,maxHeight:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],p=this.columnSizes=[],m=l-e;let y=u,v=0,b=0,S=0,k=0;return this.legendItems.forEach((_,N)=>{const{itemWidth:C,itemHeight:P}=B_(s,t,o,_,a);N>0&&b+P+2*u>m&&(y+=v+u,p.push({width:v,height:b}),S+=v+u,k++,v=b=0),h[N]={left:S,top:b,col:k,width:C,height:P},v=Math.max(v,C),b+=P+u}),y+=v,p.push({width:v,height:b}),y}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:s,labels:{padding:a},rtl:o}}=this,l=rs(o,this.left,this.width);if(this.isHorizontal()){let u=0,h=dt(s,this.left+a,this.right-this.lineWidths[u]);for(const p of t)u!==p.row&&(u=p.row,h=dt(s,this.left+a,this.right-this.lineWidths[u])),p.top+=this.top+e+a,p.left=l.leftForLtr(l.x(h),p.width),h+=p.width+a}else{let u=0,h=dt(s,this.top+e+a,this.bottom-this.columnSizes[u].height);for(const p of t)p.col!==u&&(u=p.col,h=dt(s,this.top+e+a,this.bottom-this.columnSizes[u].height)),p.top=h,p.left+=this.left+a,p.left=l.leftForLtr(l.x(p.left),p.width),h+=p.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;jo(e,this),this._draw(),No(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:s,ctx:a}=this,{align:o,labels:l}=e,u=Ue.color,h=rs(e.rtl,this.left,this.width),p=it(l.font),{padding:m}=l,y=p.size,v=y/2;let b;this.drawTitle(),a.textAlign=h.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=p.string;const{boxWidth:S,boxHeight:k,itemHeight:_}=Up(l,y),N=function(Y,$,I){if(isNaN(S)||S<=0||isNaN(k)||k<0)return;a.save();const G=ke(I.lineWidth,1);if(a.fillStyle=ke(I.fillStyle,u),a.lineCap=ke(I.lineCap,"butt"),a.lineDashOffset=ke(I.lineDashOffset,0),a.lineJoin=ke(I.lineJoin,"miter"),a.lineWidth=G,a.strokeStyle=ke(I.strokeStyle,u),a.setLineDash(ke(I.lineDash,[])),l.usePointStyle){const U={radius:k*Math.SQRT2/2,pointStyle:I.pointStyle,rotation:I.rotation,borderWidth:G},T=h.xPlus(Y,S/2),R=$+v;Qm(a,U,T,R,l.pointStyleWidth&&S)}else{const U=$+Math.max((y-k)/2,0),T=h.leftForLtr(Y,S),R=ns(I.borderRadius);a.beginPath(),Object.values(R).some(F=>F!==0)?yo(a,{x:T,y:U,w:S,h:k,radius:R}):a.rect(T,U,S,k),a.fill(),G!==0&&a.stroke()}a.restore()},C=function(Y,$,I){bi(a,I.text,Y,$+_/2,p,{strikethrough:I.hidden,textAlign:h.textAlign(I.textAlign)})},P=this.isHorizontal(),O=this._computeTitleHeight();P?b={x:dt(o,this.left+m,this.right-s[0]),y:this.top+m+O,line:0}:b={x:this.left+m,y:dt(o,this.top+O+m,this.bottom-t[0].height),line:0},ig(this.ctx,e.textDirection);const D=_+m;this.legendItems.forEach((Y,$)=>{a.strokeStyle=Y.fontColor,a.fillStyle=Y.fontColor;const I=a.measureText(Y.text).width,G=h.textAlign(Y.textAlign||(Y.textAlign=l.textAlign)),U=S+v+I;let T=b.x,R=b.y;h.setWidth(this.width),P?$>0&&T+U+m>this.right&&(R=b.y+=D,b.line++,T=b.x=dt(o,this.left+m,this.right-s[b.line])):$>0&&R+D>this.bottom&&(T=b.x=T+t[b.line].width+m,b.line++,R=b.y=dt(o,this.top+O+m,this.bottom-t[b.line].height));const F=h.x(T);if(N(F,R,Y),T=mk(G,T+S+v,P?T+U:this.right,e.rtl),C(h.x(T),R,Y),P)b.x+=U+m;else if(typeof Y.text!="string"){const B=p.lineHeight;b.y+=Dg(Y,B)+m}else b.y+=D}),ag(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,s=it(t.font),a=Pt(t.padding);if(!t.display)return;const o=rs(e.rtl,this.left,this.width),l=this.ctx,u=t.position,h=s.size/2,p=a.top+h;let m,y=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),m=this.top+p,y=dt(e.align,y,this.right-v);else{const S=this.columnSizes.reduce((k,_)=>Math.max(k,_.height),0);m=p+dt(e.align,this.top,this.bottom-S-e.labels.padding-this._computeTitleHeight())}const b=dt(u,y,y+v);l.textAlign=o.textAlign(kd(u)),l.textBaseline="middle",l.strokeStyle=t.color,l.fillStyle=t.color,l.font=s.string,bi(l,t.text,b,m,s)}_computeTitleHeight(){const e=this.options.title,t=it(e.font),s=Pt(e.padding);return e.display?t.lineHeight+s.height:0}_getLegendItemAt(e,t){let s,a,o;if(wn(e,this.left,this.right)&&wn(t,this.top,this.bottom)){for(o=this.legendHitBoxes,s=0;s<o.length;++s)if(a=o[s],wn(e,a.left,a.left+a.width)&&wn(t,a.top,a.top+a.height))return this.legendItems[s]}return null}handleEvent(e){const t=this.options;if(!V_(e.type,t))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,o=z_(a,s);a&&!o&&Re(t.onLeave,[e,a,this],this),this._hoveredItem=s,s&&!o&&Re(t.onHover,[e,s,this],this)}else s&&Re(t.onClick,[e,s,this],this)}}function B_(n,e,t,s,a){const o=$_(s,n,e,t),l=H_(a,s,e.lineHeight);return{itemWidth:o,itemHeight:l}}function $_(n,e,t,s){let a=n.text;return a&&typeof a!="string"&&(a=a.reduce((o,l)=>o.length>l.length?o:l)),e+t.size/2+s.measureText(a).width}function H_(n,e,t){let s=n;return typeof e.text!="string"&&(s=Dg(e,t)),s}function Dg(n,e){const t=n.text?n.text.length:0;return e*t}function V_(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var Tg={id:"legend",_element:Yp,start(n,e,t){const s=n.legend=new Yp({ctx:n.ctx,options:t,chart:n});zt.configure(n,s,t),zt.addBox(n,s)},stop(n){zt.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const s=n.legend;zt.configure(n,s,t),s.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const s=e.datasetIndex,a=t.chart;a.isDatasetVisible(s)?(a.hide(s),e.hidden=!0):(a.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:s,textAlign:a,color:o,useBorderRadius:l,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const p=h.controller.getStyle(t?0:void 0),m=Pt(p.borderWidth);return{text:e[h.index].label,fillStyle:p.backgroundColor,fontColor:o,hidden:!h.visible,lineCap:p.borderCapStyle,lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:p.borderColor,pointStyle:s||p.pointStyle,rotation:p.rotation,textAlign:a||p.textAlign,borderRadius:l&&(u||p.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Rg extends Nn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const a=Ke(s.text)?s.text.length:1;this._padding=Pt(s.padding);const o=a*it(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:s,bottom:a,right:o,options:l}=this,u=l.align;let h=0,p,m,y;return this.isHorizontal()?(m=dt(u,s,o),y=t+e,p=o-s):(l.position==="left"?(m=s+e,y=dt(u,a,t),h=Ee*-.5):(m=o-e,y=dt(u,t,a),h=Ee*.5),p=a-t),{titleX:m,titleY:y,maxWidth:p,rotation:h}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const s=it(t.font),o=s.lineHeight/2+this._padding.top,{titleX:l,titleY:u,maxWidth:h,rotation:p}=this._drawArgs(o);bi(e,t.text,0,0,s,{color:t.color,maxWidth:h,rotation:p,textAlign:kd(t.align),textBaseline:"middle",translation:[l,u]})}}function W_(n,e){const t=new Rg({ctx:n.ctx,options:e,chart:n});zt.configure(n,t,e),zt.addBox(n,t),n.titleBlock=t}var Lg={id:"title",_element:Rg,start(n,e,t){W_(n,t)},stop(n){const e=n.titleBlock;zt.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const s=n.titleBlock;zt.configure(n,s,t),s.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const oi={average(n){if(!n.length)return!1;let e,t,s=new Set,a=0,o=0;for(e=0,t=n.length;e<t;++e){const u=n[e].element;if(u&&u.hasValue()){const h=u.tooltipPosition();s.add(h.x),a+=h.y,++o}}return o===0||s.size===0?!1:{x:[...s].reduce((u,h)=>u+h)/s.size,y:a/o}},nearest(n,e){if(!n.length)return!1;let t=e.x,s=e.y,a=Number.POSITIVE_INFINITY,o,l,u;for(o=0,l=n.length;o<l;++o){const h=n[o].element;if(h&&h.hasValue()){const p=h.getCenterPoint(),m=Jc(e,p);m<a&&(a=m,u=h)}}if(u){const h=u.tooltipPosition();t=h.x,s=h.y}return{x:t,y:s}}};function en(n,e){return e&&(Ke(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function vn(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function U_(n,e){const{element:t,datasetIndex:s,index:a}=e,o=n.getDatasetMeta(s).controller,{label:l,value:u}=o.getLabelAndValue(a);return{chart:n,label:l,parsed:o.getParsed(a),raw:n.data.datasets[s].data[a],formattedValue:u,dataset:o.getDataset(),dataIndex:a,datasetIndex:s,element:t}}function Gp(n,e){const t=n.chart.ctx,{body:s,footer:a,title:o}=n,{boxWidth:l,boxHeight:u}=e,h=it(e.bodyFont),p=it(e.titleFont),m=it(e.footerFont),y=o.length,v=a.length,b=s.length,S=Pt(e.padding);let k=S.height,_=0,N=s.reduce((O,D)=>O+D.before.length+D.lines.length+D.after.length,0);if(N+=n.beforeBody.length+n.afterBody.length,y&&(k+=y*p.lineHeight+(y-1)*e.titleSpacing+e.titleMarginBottom),N){const O=e.displayColors?Math.max(u,h.lineHeight):h.lineHeight;k+=b*O+(N-b)*h.lineHeight+(N-1)*e.bodySpacing}v&&(k+=e.footerMarginTop+v*m.lineHeight+(v-1)*e.footerSpacing);let C=0;const P=function(O){_=Math.max(_,t.measureText(O).width+C)};return t.save(),t.font=p.string,Ce(n.title,P),t.font=h.string,Ce(n.beforeBody.concat(n.afterBody),P),C=e.displayColors?l+2+e.boxPadding:0,Ce(s,O=>{Ce(O.before,P),Ce(O.lines,P),Ce(O.after,P)}),C=0,t.font=m.string,Ce(n.footer,P),t.restore(),_+=S.width,{width:_,height:k}}function Y_(n,e){const{y:t,height:s}=e;return t<s/2?"top":t>n.height-s/2?"bottom":"center"}function G_(n,e,t,s){const{x:a,width:o}=s,l=t.caretSize+t.caretPadding;if(n==="left"&&a+o+l>e.width||n==="right"&&a-o-l<0)return!0}function K_(n,e,t,s){const{x:a,width:o}=t,{width:l,chartArea:{left:u,right:h}}=n;let p="center";return s==="center"?p=a<=(u+h)/2?"left":"right":a<=o/2?p="left":a>=l-o/2&&(p="right"),G_(p,n,e,t)&&(p="center"),p}function Kp(n,e,t){const s=t.yAlign||e.yAlign||Y_(n,t);return{xAlign:t.xAlign||e.xAlign||K_(n,e,t,s),yAlign:s}}function X_(n,e){let{x:t,width:s}=n;return e==="right"?t-=s:e==="center"&&(t-=s/2),t}function q_(n,e,t){let{y:s,height:a}=n;return e==="top"?s+=t:e==="bottom"?s-=a+t:s-=a/2,s}function Xp(n,e,t,s){const{caretSize:a,caretPadding:o,cornerRadius:l}=n,{xAlign:u,yAlign:h}=t,p=a+o,{topLeft:m,topRight:y,bottomLeft:v,bottomRight:b}=ns(l);let S=X_(e,u);const k=q_(e,h,p);return h==="center"?u==="left"?S+=p:u==="right"&&(S-=p):u==="left"?S-=Math.max(m,v)+a:u==="right"&&(S+=Math.max(y,b)+a),{x:ut(S,0,s.width-e.width),y:ut(k,0,s.height-e.height)}}function Za(n,e,t){const s=Pt(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-s.right:n.x+s.left}function qp(n){return en([],vn(n))}function J_(n,e,t){return Nr(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Jp(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const Og={beforeTitle:xn,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,s=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return t[e.dataIndex]}return""},afterTitle:xn,beforeBody:xn,beforeLabel:xn,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Se(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:xn,afterBody:xn,beforeFooter:xn,footer:xn,afterFooter:xn};function bt(n,e,t,s){const a=n[e].call(t,s);return typeof a>"u"?Og[e].call(t,s):a}class Qp extends Nn{static positioners=oi;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,s=this.options.setContext(this.getContext()),a=s.enabled&&t.options.animation&&s.animations,o=new ug(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=J_(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:s}=t,a=bt(s,"beforeTitle",this,e),o=bt(s,"title",this,e),l=bt(s,"afterTitle",this,e);let u=[];return u=en(u,vn(a)),u=en(u,vn(o)),u=en(u,vn(l)),u}getBeforeBody(e,t){return qp(bt(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:s}=t,a=[];return Ce(e,o=>{const l={before:[],lines:[],after:[]},u=Jp(s,o);en(l.before,vn(bt(u,"beforeLabel",this,o))),en(l.lines,bt(u,"label",this,o)),en(l.after,vn(bt(u,"afterLabel",this,o))),a.push(l)}),a}getAfterBody(e,t){return qp(bt(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:s}=t,a=bt(s,"beforeFooter",this,e),o=bt(s,"footer",this,e),l=bt(s,"afterFooter",this,e);let u=[];return u=en(u,vn(a)),u=en(u,vn(o)),u=en(u,vn(l)),u}_createItems(e){const t=this._active,s=this.chart.data,a=[],o=[],l=[];let u=[],h,p;for(h=0,p=t.length;h<p;++h)u.push(U_(this.chart,t[h]));return e.filter&&(u=u.filter((m,y,v)=>e.filter(m,y,v,s))),e.itemSort&&(u=u.sort((m,y)=>e.itemSort(m,y,s))),Ce(u,m=>{const y=Jp(e.callbacks,m);a.push(bt(y,"labelColor",this,m)),o.push(bt(y,"labelPointStyle",this,m)),l.push(bt(y,"labelTextColor",this,m))}),this.labelColors=a,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=u,u}update(e,t){const s=this.options.setContext(this.getContext()),a=this._active;let o,l=[];if(!a.length)this.opacity!==0&&(o={opacity:0});else{const u=oi[s.position].call(this,a,this._eventPosition);l=this._createItems(s),this.title=this.getTitle(l,s),this.beforeBody=this.getBeforeBody(l,s),this.body=this.getBody(l,s),this.afterBody=this.getAfterBody(l,s),this.footer=this.getFooter(l,s);const h=this._size=Gp(this,s),p=Object.assign({},u,h),m=Kp(this.chart,s,p),y=Xp(s,p,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,o={opacity:1,x:y.x,y:y.y,width:h.width,height:h.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,s,a){const o=this.getCaretPosition(e,s,a);t.lineTo(o.x1,o.y1),t.lineTo(o.x2,o.y2),t.lineTo(o.x3,o.y3)}getCaretPosition(e,t,s){const{xAlign:a,yAlign:o}=this,{caretSize:l,cornerRadius:u}=s,{topLeft:h,topRight:p,bottomLeft:m,bottomRight:y}=ns(u),{x:v,y:b}=e,{width:S,height:k}=t;let _,N,C,P,O,D;return o==="center"?(O=b+k/2,a==="left"?(_=v,N=_-l,P=O+l,D=O-l):(_=v+S,N=_+l,P=O-l,D=O+l),C=_):(a==="left"?N=v+Math.max(h,m)+l:a==="right"?N=v+S-Math.max(p,y)-l:N=this.caretX,o==="top"?(P=b,O=P-l,_=N-l,C=N+l):(P=b+k,O=P+l,_=N+l,C=N-l),D=P),{x1:_,x2:N,x3:C,y1:P,y2:O,y3:D}}drawTitle(e,t,s){const a=this.title,o=a.length;let l,u,h;if(o){const p=rs(s.rtl,this.x,this.width);for(e.x=Za(this,s.titleAlign,s),t.textAlign=p.textAlign(s.titleAlign),t.textBaseline="middle",l=it(s.titleFont),u=s.titleSpacing,t.fillStyle=s.titleColor,t.font=l.string,h=0;h<o;++h)t.fillText(a[h],p.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+u,h+1===o&&(e.y+=s.titleMarginBottom-u)}}_drawColorBox(e,t,s,a,o){const l=this.labelColors[s],u=this.labelPointStyles[s],{boxHeight:h,boxWidth:p}=o,m=it(o.bodyFont),y=Za(this,"left",o),v=a.x(y),b=h<m.lineHeight?(m.lineHeight-h)/2:0,S=t.y+b;if(o.usePointStyle){const k={radius:Math.min(p,h)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},_=a.leftForLtr(v,p)+p/2,N=S+h/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,Zc(e,k,_,N),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,Zc(e,k,_,N)}else{e.lineWidth=_e(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const k=a.leftForLtr(v,p),_=a.leftForLtr(a.xPlus(v,1),p-2),N=ns(l.borderRadius);Object.values(N).some(C=>C!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,yo(e,{x:k,y:S,w:p,h,radius:N}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),yo(e,{x:_,y:S+1,w:p-2,h:h-2,radius:N}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(k,S,p,h),e.strokeRect(k,S,p,h),e.fillStyle=l.backgroundColor,e.fillRect(_,S+1,p-2,h-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,t,s){const{body:a}=this,{bodySpacing:o,bodyAlign:l,displayColors:u,boxHeight:h,boxWidth:p,boxPadding:m}=s,y=it(s.bodyFont);let v=y.lineHeight,b=0;const S=rs(s.rtl,this.x,this.width),k=function(I){t.fillText(I,S.x(e.x+b),e.y+v/2),e.y+=v+o},_=S.textAlign(l);let N,C,P,O,D,Y,$;for(t.textAlign=l,t.textBaseline="middle",t.font=y.string,e.x=Za(this,_,s),t.fillStyle=s.bodyColor,Ce(this.beforeBody,k),b=u&&_!=="right"?l==="center"?p/2+m:p+2+m:0,O=0,Y=a.length;O<Y;++O){for(N=a[O],C=this.labelTextColors[O],t.fillStyle=C,Ce(N.before,k),P=N.lines,u&&P.length&&(this._drawColorBox(t,e,O,S,s),v=Math.max(y.lineHeight,h)),D=0,$=P.length;D<$;++D)k(P[D]),v=y.lineHeight;Ce(N.after,k)}b=0,v=y.lineHeight,Ce(this.afterBody,k),e.y-=o}drawFooter(e,t,s){const a=this.footer,o=a.length;let l,u;if(o){const h=rs(s.rtl,this.x,this.width);for(e.x=Za(this,s.footerAlign,s),e.y+=s.footerMarginTop,t.textAlign=h.textAlign(s.footerAlign),t.textBaseline="middle",l=it(s.footerFont),t.fillStyle=s.footerColor,t.font=l.string,u=0;u<o;++u)t.fillText(a[u],h.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+s.footerSpacing}}drawBackground(e,t,s,a){const{xAlign:o,yAlign:l}=this,{x:u,y:h}=e,{width:p,height:m}=s,{topLeft:y,topRight:v,bottomLeft:b,bottomRight:S}=ns(a.cornerRadius);t.fillStyle=a.backgroundColor,t.strokeStyle=a.borderColor,t.lineWidth=a.borderWidth,t.beginPath(),t.moveTo(u+y,h),l==="top"&&this.drawCaret(e,t,s,a),t.lineTo(u+p-v,h),t.quadraticCurveTo(u+p,h,u+p,h+v),l==="center"&&o==="right"&&this.drawCaret(e,t,s,a),t.lineTo(u+p,h+m-S),t.quadraticCurveTo(u+p,h+m,u+p-S,h+m),l==="bottom"&&this.drawCaret(e,t,s,a),t.lineTo(u+b,h+m),t.quadraticCurveTo(u,h+m,u,h+m-b),l==="center"&&o==="left"&&this.drawCaret(e,t,s,a),t.lineTo(u,h+y),t.quadraticCurveTo(u,h,u+y,h),t.closePath(),t.fill(),a.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,s=this.$animations,a=s&&s.x,o=s&&s.y;if(a||o){const l=oi[e.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=Gp(this,e),h=Object.assign({},l,this._size),p=Kp(t,e,h),m=Xp(e,h,p,t);(a._to!==m.x||o._to!==m.y)&&(this.xAlign=p.xAlign,this.yAlign=p.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(t);const a={width:this.width,height:this.height},o={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const l=Pt(t.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&u&&(e.save(),e.globalAlpha=s,this.drawBackground(o,e,a,t),ig(e,t.textDirection),o.y+=l.top,this.drawTitle(o,e,t),this.drawBody(o,e,t),this.drawFooter(o,e,t),ag(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const s=this._active,a=e.map(({datasetIndex:u,index:h})=>{const p=this.chart.getDatasetMeta(u);if(!p)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:p.data[h],index:h}}),o=!mo(s,a),l=this._positionChanged(a,t);(o||l)&&(this._active=a,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,s=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,o=this._active||[],l=this._getActiveElements(e,o,t,s),u=this._positionChanged(l,e),h=t||!mo(l,o)||u;return h&&(this._active=l,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),h}_getActiveElements(e,t,s,a){const o=this.options;if(e.type==="mouseout")return[];if(!a)return t.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,o.mode,o,s);return o.reverse&&l.reverse(),l}_positionChanged(e,t){const{caretX:s,caretY:a,options:o}=this,l=oi[o.position].call(this,e,t);return l!==!1&&(s!==l.x||a!==l.y)}}var Fg={id:"tooltip",_element:Qp,positioners:oi,afterInit(n,e,t){t&&(n.tooltip=new Qp({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Og},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Q_=(n,e,t,s)=>(typeof e=="string"?(t=n.push(e)-1,s.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function Z_(n,e,t,s){const a=n.indexOf(e);if(a===-1)return Q_(n,e,t,s);const o=n.lastIndexOf(e);return a!==o?t:a}const eS=(n,e)=>n===null?null:ut(Math.round(n),0,e);function Zp(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class Ag extends Cr{static id="category";static defaults={ticks:{callback:Zp}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const s=this.getLabels();for(const{index:a,label:o}of t)s[a]===o&&s.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Se(e))return null;const s=this.getLabels();return t=isFinite(t)&&s[t]===e?t:Z_(s,e,ke(t,e),this._addedLabels),eS(t,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:s,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),t||(a=this.getLabels().length-1)),this.min=s,this.max=a}buildTicks(){const e=this.min,t=this.max,s=this.options.offset,a=[];let o=this.getLabels();o=e===0&&t===o.length-1?o:o.slice(e,t+1),this._valueRange=Math.max(o.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let l=e;l<=t;l++)a.push({value:l});return a}getLabelForValue(e){return Zp.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function tS(n,e){const t=[],{bounds:a,step:o,min:l,max:u,precision:h,count:p,maxTicks:m,maxDigits:y,includeBounds:v}=n,b=o||1,S=m-1,{min:k,max:_}=e,N=!Se(l),C=!Se(u),P=!Se(p),O=(_-k)/(y+1);let D=Xf((_-k)/S/b)*b,Y,$,I,G;if(D<1e-14&&!N&&!C)return[{value:k},{value:_}];G=Math.ceil(_/D)-Math.floor(k/D),G>S&&(D=Xf(G*D/S/b)*b),Se(h)||(Y=Math.pow(10,h),D=Math.ceil(D*Y)/Y),a==="ticks"?($=Math.floor(k/D)*D,I=Math.ceil(_/D)*D):($=k,I=_),N&&C&&o&&ok((u-l)/o,D/1e3)?(G=Math.round(Math.min((u-l)/D,m)),D=(u-l)/G,$=l,I=u):P?($=N?l:$,I=C?u:I,G=p-1,D=(I-$)/G):(G=(I-$)/D,ci(G,Math.round(G),D/1e3)?G=Math.round(G):G=Math.ceil(G));const U=Math.max(qf(D),qf($));Y=Math.pow(10,Se(h)?U:h),$=Math.round($*Y)/Y,I=Math.round(I*Y)/Y;let T=0;for(N&&(v&&$!==l?(t.push({value:l}),$<l&&T++,ci(Math.round(($+T*D)*Y)/Y,l,em(l,O,n))&&T++):$<l&&T++);T<G;++T){const R=Math.round(($+T*D)*Y)/Y;if(C&&R>u)break;t.push({value:R})}return C&&v&&I!==u?t.length&&ci(t[t.length-1].value,u,em(u,O,n))?t[t.length-1].value=u:t.push({value:u}):(!C||I===u)&&t.push({value:I}),t}function em(n,e,{horizontal:t,minRotation:s}){const a=kn(s),o=(t?Math.sin(a):Math.cos(a))||.001,l=.75*e*(""+n).length;return Math.min(e/o,l)}class Ig extends Cr{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Se(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:a,max:o}=this;const l=h=>a=t?a:h,u=h=>o=s?o:h;if(e){const h=nn(a),p=nn(o);h<0&&p<0?u(0):h>0&&p>0&&l(0)}if(a===o){let h=o===0?1:Math.abs(o*.05);u(o+h),e||l(a-h)}this.min=a,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:s}=e,a;return s?(a=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),t=t||11),t&&(a=Math.min(t,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const a={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},o=this._range||this,l=tS(a,o);return e.bounds==="ticks"&&Vm(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let t=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const a=(s-t)/Math.max(e.length-1,1)/2;t-=a,s+=a}this._startValue=t,this._endValue=s,this._valueRange=s-t}getLabelForValue(e){return So(e,this.chart.options.locale,this.options.ticks.format)}}class zg extends Ig{static id="linear";static defaults={ticks:{callback:_d.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=qe(e)?e:0,this.max=qe(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,s=kn(this.options.ticks.minRotation),a=(e?Math.sin(s):Math.cos(s))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,o.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const wi=n=>Math.floor(Kn(n)),xr=(n,e)=>Math.pow(10,wi(n)+e);function tm(n){return n/Math.pow(10,wi(n))===1}function nm(n,e,t){const s=Math.pow(10,t),a=Math.floor(n/s);return Math.ceil(e/s)-a}function nS(n,e){const t=e-n;let s=wi(t);for(;nm(n,e,s)>10;)s++;for(;nm(n,e,s)<10;)s--;return Math.min(s,wi(n))}function rS(n,{min:e,max:t}){e=Ct(n.min,e);const s=[],a=wi(e);let o=nS(e,t),l=o<0?Math.pow(10,Math.abs(o)):1;const u=Math.pow(10,o),h=a>o?Math.pow(10,a):0,p=Math.round((e-h)*l)/l,m=Math.floor((e-h)/u/10)*u*10;let y=Math.floor((p-m)/Math.pow(10,o)),v=Ct(n.min,Math.round((h+m+y*Math.pow(10,o))*l)/l);for(;v<t;)s.push({value:v,major:tm(v),significand:y}),y>=10?y=y<15?15:20:y++,y>=20&&(o++,y=2,l=o>=0?1:l),v=Math.round((h+m+y*Math.pow(10,o))*l)/l;const b=Ct(n.max,v);return s.push({value:b,major:tm(b),significand:y}),s}class sS extends Cr{static id="logarithmic";static defaults={ticks:{callback:_d.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const s=Ig.prototype.parse.apply(this,[e,t]);if(s===0){this._zero=!0;return}return qe(s)&&s>0?s:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=qe(e)?Math.max(0,e):null,this.max=qe(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!qe(this._userMin)&&(this.min=e===xr(this.min,0)?xr(this.min,-1):xr(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let s=this.min,a=this.max;const o=u=>s=e?s:u,l=u=>a=t?a:u;s===a&&(s<=0?(o(1),l(10)):(o(xr(s,-1)),l(xr(a,1)))),s<=0&&o(xr(a,-1)),a<=0&&l(xr(s,1)),this.min=s,this.max=a}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},s=rS(t,this);return e.bounds==="ticks"&&Vm(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(e){return e===void 0?"0":So(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Kn(e),this._valueRange=Kn(this.max)-Kn(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Kn(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}const Eo={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},wt=Object.keys(Eo);function rm(n,e){return n-e}function sm(n,e){if(Se(e))return null;const t=n._adapter,{parser:s,round:a,isoWeekday:o}=n._parseOpts;let l=e;return typeof s=="function"&&(l=s(l)),qe(l)||(l=typeof s=="string"?t.parse(l,s):t.parse(l)),l===null?null:(a&&(l=a==="week"&&(as(o)||o===!0)?t.startOf(l,"isoWeek",o):t.startOf(l,a)),+l)}function im(n,e,t,s){const a=wt.length;for(let o=wt.indexOf(n);o<a-1;++o){const l=Eo[wt[o]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((t-e)/(u*l.size))<=s)return wt[o]}return wt[a-1]}function iS(n,e,t,s,a){for(let o=wt.length-1;o>=wt.indexOf(t);o--){const l=wt[o];if(Eo[l].common&&n._adapter.diff(a,s,l)>=e-1)return l}return wt[t?wt.indexOf(t):0]}function aS(n){for(let e=wt.indexOf(n)+1,t=wt.length;e<t;++e)if(Eo[wt[e]].common)return wt[e]}function am(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:s,hi:a}=bd(t,e),o=t[s]>=e?t[s]:t[a];n[o]=!0}}function oS(n,e,t,s){const a=n._adapter,o=+a.startOf(e[0].value,s),l=e[e.length-1].value;let u,h;for(u=o;u<=l;u=+a.add(u,1,s))h=t[u],h>=0&&(e[h].major=!0);return e}function om(n,e,t){const s=[],a={},o=e.length;let l,u;for(l=0;l<o;++l)u=e[l],a[u]=l,s.push({value:u,major:!1});return o===0||!t?s:oS(n,s,a,t)}class lm extends Cr{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const s=e.time||(e.time={}),a=this._adapter=new Uw._date(e.adapters.date);a.init(t),li(s.displayFormats,a.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:sm(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,s=e.time.unit||"day";let{min:a,max:o,minDefined:l,maxDefined:u}=this.getUserBounds();function h(p){!l&&!isNaN(p.min)&&(a=Math.min(a,p.min)),!u&&!isNaN(p.max)&&(o=Math.max(o,p.max))}(!l||!u)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),a=qe(a)&&!isNaN(a)?a:+t.startOf(Date.now(),s),o=qe(o)&&!isNaN(o)?o:+t.endOf(Date.now(),s)+1,this.min=Math.min(a,o-1),this.max=Math.max(a+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],s=e[e.length-1]),{min:t,max:s}}buildTicks(){const e=this.options,t=e.time,s=e.ticks,a=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const o=this.min,l=this.max,u=hk(a,o,l);return this._unit=t.unit||(s.autoSkip?im(t.minUnit,this.min,this.max,this._getLabelCapacity(o)):iS(this,u.length,t.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:aS(this._unit),this.initOffsets(a),e.reverse&&u.reverse(),om(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,s=0,a,o;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?t=1-a:t=(this.getDecimalForValue(e[1])-a)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?s=o:s=(o-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;t=ut(t,0,l),s=ut(s,0,l),this._offsets={start:t,end:s,factor:1/(t+1+s)}}_generate(){const e=this._adapter,t=this.min,s=this.max,a=this.options,o=a.time,l=o.unit||im(o.minUnit,t,s,this._getLabelCapacity(t)),u=ke(a.ticks.stepSize,1),h=l==="week"?o.isoWeekday:!1,p=as(h)||h===!0,m={};let y=t,v,b;if(p&&(y=+e.startOf(y,"isoWeek",h)),y=+e.startOf(y,p?"day":l),e.diff(s,t,l)>1e5*u)throw new Error(t+" and "+s+" are too far apart with stepSize of "+u+" "+l);const S=a.ticks.source==="data"&&this.getDataTimestamps();for(v=y,b=0;v<s;v=+e.add(v,u,l),b++)am(m,v,S);return(v===s||a.bounds==="ticks"||b===1)&&am(m,v,S),Object.keys(m).sort(rm).map(k=>+k)}getLabelForValue(e){const t=this._adapter,s=this.options.time;return s.tooltipFormat?t.format(e,s.tooltipFormat):t.format(e,s.displayFormats.datetime)}format(e,t){const a=this.options.time.displayFormats,o=this._unit,l=t||a[o];return this._adapter.format(e,l)}_tickFormatFunction(e,t,s,a){const o=this.options,l=o.ticks.callback;if(l)return Re(l,[e,t,s],this);const u=o.time.displayFormats,h=this._unit,p=this._majorUnit,m=h&&u[h],y=p&&u[p],v=s[t],b=p&&y&&v&&v.major;return this._adapter.format(e,a||(b?y:m))}generateTickLabels(e){let t,s,a;for(t=0,s=e.length;t<s;++t)a=e[t],a.label=this._tickFormatFunction(a.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+s)*t.factor)}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,s=this.ctx.measureText(e).width,a=kn(this.isHorizontal()?t.maxRotation:t.minRotation),o=Math.cos(a),l=Math.sin(a),u=this._resolveTickFontOptions(0).size;return{w:s*o+u*l,h:s*l+u*o}}_getLabelCapacity(e){const t=this.options.time,s=t.displayFormats,a=s[t.unit]||s.millisecond,o=this._tickFormatFunction(e,0,om(this,[e],this._majorUnit),a),l=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],t,s;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(t=0,s=a.length;t<s;++t)e=e.concat(a[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,s;if(e.length)return e;const a=this.getLabels();for(t=0,s=a.length;t<s;++t)e.push(sm(this,a[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Ym(e.sort(rm))}}function eo(n,e,t){let s=0,a=n.length-1,o,l,u,h;t?(e>=n[s].pos&&e<=n[a].pos&&({lo:s,hi:a}=br(n,"pos",e)),{pos:o,time:u}=n[s],{pos:l,time:h}=n[a]):(e>=n[s].time&&e<=n[a].time&&({lo:s,hi:a}=br(n,"time",e)),{time:o,pos:u}=n[s],{time:l,pos:h}=n[a]);const p=l-o;return p?u+(h-u)*(e-o)/p:u}class gj extends lm{static id="timeseries";static defaults=lm.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=eo(t,this.min),this._tableRange=eo(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:s}=this,a=[],o=[];let l,u,h,p,m;for(l=0,u=e.length;l<u;++l)p=e[l],p>=t&&p<=s&&a.push(p);if(a.length<2)return[{time:t,pos:0},{time:s,pos:1}];for(l=0,u=a.length;l<u;++l)m=a[l+1],h=a[l-1],p=a[l],Math.round((m+h)/2)!==p&&o.push({time:p,pos:l/(u-1)});return o}_generate(){const e=this.min,t=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(t)||s.length===1)&&s.push(t),s.sort((a,o)=>a-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),s=this.getLabelTimestamps();return t.length&&s.length?e=this.normalize(t.concat(s)):e=t.length?t:s,e=this._cache.all=e,e}getDecimalForValue(e){return(eo(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return eo(this._table,s*this._tableRange+this._minPos,!0)}}const Bg="label";function cm(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function lS(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function $g(n,e){n.labels=e}function Hg(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Bg;const s=[];n.datasets=e.map(a=>{const o=n.datasets.find(l=>l[t]===a[t]);return!o||!a.data||s.includes(o)?{...a}:(s.push(o),Object.assign(o,a),o)})}function cS(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bg;const t={labels:[],datasets:[]};return $g(t,n.labels),Hg(t,n.datasets,e),t}function dS(n,e){const{height:t=150,width:s=300,redraw:a=!1,datasetIdKey:o,type:l,data:u,options:h,plugins:p=[],fallbackContent:m,updateMode:y,...v}=n,b=j.useRef(null),S=j.useRef(null),k=()=>{b.current&&(S.current=new Mi(b.current,{type:l,data:cS(u,o),options:h&&{...h},plugins:p}),cm(e,S.current))},_=()=>{cm(e,null),S.current&&(S.current.destroy(),S.current=null)};return j.useEffect(()=>{!a&&S.current&&h&&lS(S.current,h)},[a,h]),j.useEffect(()=>{!a&&S.current&&$g(S.current.config.data,u.labels)},[a,u.labels]),j.useEffect(()=>{!a&&S.current&&u.datasets&&Hg(S.current.config.data,u.datasets,o)},[a,u.datasets]),j.useEffect(()=>{S.current&&(a?(_(),setTimeout(k)):S.current.update(y))},[a,h,u.labels,u.datasets,y]),j.useEffect(()=>{S.current&&(_(),setTimeout(k))},[l]),j.useEffect(()=>(k(),()=>_()),[]),od.createElement("canvas",{ref:b,role:"img",height:t,width:s,...v},m)}const uS=j.forwardRef(dS);function Do(n,e){return Mi.register(e),j.forwardRef((t,s)=>od.createElement(uS,{...t,ref:s,type:n}))}const Vg=Do("line",Hw),hS=Do("bar",zw),fS=Do("pie",Vw),pS=Do("scatter",Ww);/*!
 * chartjs-plugin-datalabels v2.2.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2022 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */var dm=(function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var n=window.screen;if(n)return(n.deviceXDPI||1)/(n.logicalXDPI||1)}return 1})(),hi={toTextLines:function(n){var e=[],t;for(n=[].concat(n);n.length;)t=n.pop(),typeof t=="string"?e.unshift.apply(e,t.split(`
`)):Array.isArray(t)?n.push.apply(n,t):Se(n)||e.unshift(""+t);return e},textSize:function(n,e,t){var s=[].concat(e),a=s.length,o=n.font,l=0,u;for(n.font=t.string,u=0;u<a;++u)l=Math.max(n.measureText(s[u]).width,l);return n.font=o,{height:a*t.lineHeight,width:l}},bound:function(n,e,t){return Math.max(n,Math.min(e,t))},arrayDiff:function(n,e){var t=n.slice(),s=[],a,o,l,u;for(a=0,l=e.length;a<l;++a)u=e[a],o=t.indexOf(u),o===-1?s.push([u,1]):t.splice(o,1);for(a=0,l=t.length;a<l;++a)s.push([t[a],-1]);return s},rasterize:function(n){return Math.round(n*dm)/dm}};function Vc(n,e){var t=e.x,s=e.y;if(t===null)return{x:0,y:-1};if(s===null)return{x:1,y:0};var a=n.x-t,o=n.y-s,l=Math.sqrt(a*a+o*o);return{x:l?a/l:0,y:l?o/l:-1}}function mS(n,e,t,s,a){switch(a){case"center":t=s=0;break;case"bottom":t=0,s=1;break;case"right":t=1,s=0;break;case"left":t=-1,s=0;break;case"top":t=0,s=-1;break;case"start":t=-t,s=-s;break;case"end":break;default:a*=Math.PI/180,t=Math.cos(a),s=Math.sin(a);break}return{x:n,y:e,vx:t,vy:s}}var gS=0,Wg=1,Ug=2,Yg=4,Gg=8;function to(n,e,t){var s=gS;return n<t.left?s|=Wg:n>t.right&&(s|=Ug),e<t.top?s|=Gg:e>t.bottom&&(s|=Yg),s}function xS(n,e){for(var t=n.x0,s=n.y0,a=n.x1,o=n.y1,l=to(t,s,e),u=to(a,o,e),h,p,m;!(!(l|u)||l&u);)h=l||u,h&Gg?(p=t+(a-t)*(e.top-s)/(o-s),m=e.top):h&Yg?(p=t+(a-t)*(e.bottom-s)/(o-s),m=e.bottom):h&Ug?(m=s+(o-s)*(e.right-t)/(a-t),p=e.right):h&Wg&&(m=s+(o-s)*(e.left-t)/(a-t),p=e.left),h===l?(t=p,s=m,l=to(t,s,e)):(a=p,o=m,u=to(a,o,e));return{x0:t,x1:a,y0:s,y1:o}}function no(n,e){var t=e.anchor,s=n,a,o;return e.clamp&&(s=xS(s,e.area)),t==="start"?(a=s.x0,o=s.y0):t==="end"?(a=s.x1,o=s.y1):(a=(s.x0+s.x1)/2,o=(s.y0+s.y1)/2),mS(a,o,n.vx,n.vy,e.align)}var ro={arc:function(n,e){var t=(n.startAngle+n.endAngle)/2,s=Math.cos(t),a=Math.sin(t),o=n.innerRadius,l=n.outerRadius;return no({x0:n.x+s*o,y0:n.y+a*o,x1:n.x+s*l,y1:n.y+a*l,vx:s,vy:a},e)},point:function(n,e){var t=Vc(n,e.origin),s=t.x*n.options.radius,a=t.y*n.options.radius;return no({x0:n.x-s,y0:n.y-a,x1:n.x+s,y1:n.y+a,vx:t.x,vy:t.y},e)},bar:function(n,e){var t=Vc(n,e.origin),s=n.x,a=n.y,o=0,l=0;return n.horizontal?(s=Math.min(n.x,n.base),o=Math.abs(n.base-n.x)):(a=Math.min(n.y,n.base),l=Math.abs(n.base-n.y)),no({x0:s,y0:a+l,x1:s+o,y1:a,vx:t.x,vy:t.y},e)},fallback:function(n,e){var t=Vc(n,e.origin);return no({x0:n.x,y0:n.y,x1:n.x+(n.width||0),y1:n.y+(n.height||0),vx:t.x,vy:t.y},e)}},_n=hi.rasterize;function yS(n){var e=n.borderWidth||0,t=n.padding,s=n.size.height,a=n.size.width,o=-a/2,l=-s/2;return{frame:{x:o-t.left-e,y:l-t.top-e,w:a+t.width+e*2,h:s+t.height+e*2},text:{x:o,y:l,w:a,h:s}}}function vS(n,e){var t=e.chart.getDatasetMeta(e.datasetIndex).vScale;if(!t)return null;if(t.xCenter!==void 0&&t.yCenter!==void 0)return{x:t.xCenter,y:t.yCenter};var s=t.getBasePixel();return n.horizontal?{x:s,y:null}:{x:null,y:s}}function bS(n){return n instanceof _g?ro.arc:n instanceof Dd?ro.point:n instanceof Cg?ro.bar:ro.fallback}function kS(n,e,t,s,a,o){var l=Math.PI/2;if(o){var u=Math.min(o,a/2,s/2),h=e+u,p=t+u,m=e+s-u,y=t+a-u;n.moveTo(e,p),h<m&&p<y?(n.arc(h,p,u,-Math.PI,-l),n.arc(m,p,u,-l,0),n.arc(m,y,u,0,l),n.arc(h,y,u,l,Math.PI)):h<m?(n.moveTo(h,t),n.arc(m,p,u,-l,l),n.arc(h,p,u,l,Math.PI+l)):p<y?(n.arc(h,p,u,-Math.PI,0),n.arc(h,y,u,0,Math.PI)):n.arc(h,p,u,-Math.PI,Math.PI),n.closePath(),n.moveTo(e,t)}else n.rect(e,t,s,a)}function wS(n,e,t){var s=t.backgroundColor,a=t.borderColor,o=t.borderWidth;!s&&(!a||!o)||(n.beginPath(),kS(n,_n(e.x)+o/2,_n(e.y)+o/2,_n(e.w)-o,_n(e.h)-o,t.borderRadius),n.closePath(),s&&(n.fillStyle=s,n.fill()),a&&o&&(n.strokeStyle=a,n.lineWidth=o,n.lineJoin="miter",n.stroke()))}function _S(n,e,t){var s=t.lineHeight,a=n.w,o=n.x,l=n.y+s/2;return e==="center"?o+=a/2:(e==="end"||e==="right")&&(o+=a),{h:s,w:a,x:o,y:l}}function SS(n,e,t){var s=n.shadowBlur,a=t.stroked,o=_n(t.x),l=_n(t.y),u=_n(t.w);a&&n.strokeText(e,o,l,u),t.filled&&(s&&a&&(n.shadowBlur=0),n.fillText(e,o,l,u),s&&a&&(n.shadowBlur=s))}function jS(n,e,t,s){var a=s.textAlign,o=s.color,l=!!o,u=s.font,h=e.length,p=s.textStrokeColor,m=s.textStrokeWidth,y=p&&m,v;if(!(!h||!l&&!y))for(t=_S(t,a,u),n.font=u.string,n.textAlign=a,n.textBaseline="middle",n.shadowBlur=s.textShadowBlur,n.shadowColor=s.textShadowColor,l&&(n.fillStyle=o),y&&(n.lineJoin="round",n.lineWidth=m,n.strokeStyle=p),v=0,h=e.length;v<h;++v)SS(n,e[v],{stroked:y,filled:l,w:t.w,x:t.x,y:t.y+t.h*v})}var Kg=function(n,e,t,s){var a=this;a._config=n,a._index=s,a._model=null,a._rects=null,a._ctx=e,a._el=t};rn(Kg.prototype,{_modelize:function(n,e,t,s){var a=this,o=a._index,l=it(ze([t.font,{}],s,o)),u=ze([t.color,Ue.color],s,o);return{align:ze([t.align,"center"],s,o),anchor:ze([t.anchor,"center"],s,o),area:s.chart.chartArea,backgroundColor:ze([t.backgroundColor,null],s,o),borderColor:ze([t.borderColor,null],s,o),borderRadius:ze([t.borderRadius,0],s,o),borderWidth:ze([t.borderWidth,0],s,o),clamp:ze([t.clamp,!1],s,o),clip:ze([t.clip,!1],s,o),color:u,display:n,font:l,lines:e,offset:ze([t.offset,4],s,o),opacity:ze([t.opacity,1],s,o),origin:vS(a._el,s),padding:Pt(ze([t.padding,4],s,o)),positioner:bS(a._el),rotation:ze([t.rotation,0],s,o)*(Math.PI/180),size:hi.textSize(a._ctx,e,l),textAlign:ze([t.textAlign,"start"],s,o),textShadowBlur:ze([t.textShadowBlur,0],s,o),textShadowColor:ze([t.textShadowColor,u],s,o),textStrokeColor:ze([t.textStrokeColor,u],s,o),textStrokeWidth:ze([t.textStrokeWidth,0],s,o)}},update:function(n){var e=this,t=null,s=null,a=e._index,o=e._config,l,u,h,p=ze([o.display,!0],n,a);p&&(l=n.dataset.data[a],u=ke(Re(o.formatter,[l,n]),l),h=Se(u)?[]:hi.toTextLines(u),h.length&&(t=e._modelize(p,h,o,n),s=yS(t))),e._model=t,e._rects=s},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(n,e){var t=this,s=n.ctx,a=t._model,o=t._rects,l;this.visible()&&(s.save(),a.clip&&(l=a.area,s.beginPath(),s.rect(l.left,l.top,l.right-l.left,l.bottom-l.top),s.clip()),s.globalAlpha=hi.bound(0,a.opacity,1),s.translate(_n(e.x),_n(e.y)),s.rotate(a.rotation),wS(s,o.frame,a),jS(s,a.lines,o.text,a),s.restore())}});var NS=Number.MIN_SAFE_INTEGER||-9007199254740991,CS=Number.MAX_SAFE_INTEGER||9007199254740991;function si(n,e,t){var s=Math.cos(t),a=Math.sin(t),o=e.x,l=e.y;return{x:o+s*(n.x-o)-a*(n.y-l),y:l+a*(n.x-o)+s*(n.y-l)}}function um(n,e){var t=CS,s=NS,a=e.origin,o,l,u,h,p;for(o=0;o<n.length;++o)l=n[o],u=l.x-a.x,h=l.y-a.y,p=e.vx*u+e.vy*h,t=Math.min(t,p),s=Math.max(s,p);return{min:t,max:s}}function so(n,e){var t=e.x-n.x,s=e.y-n.y,a=Math.sqrt(t*t+s*s);return{vx:(e.x-n.x)/a,vy:(e.y-n.y)/a,origin:n,ln:a}}var Xg=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};rn(Xg.prototype,{center:function(){var n=this._rect;return{x:n.x+n.w/2,y:n.y+n.h/2}},update:function(n,e,t){this._rotation=t,this._rect={x:e.x+n.x,y:e.y+n.y,w:e.w,h:e.h}},contains:function(n){var e=this,t=1,s=e._rect;return n=si(n,e.center(),-e._rotation),!(n.x<s.x-t||n.y<s.y-t||n.x>s.x+s.w+t*2||n.y>s.y+s.h+t*2)},intersects:function(n){var e=this._points(),t=n._points(),s=[so(e[0],e[1]),so(e[0],e[3])],a,o,l;for(this._rotation!==n._rotation&&s.push(so(t[0],t[1]),so(t[0],t[3])),a=0;a<s.length;++a)if(o=um(e,s[a]),l=um(t,s[a]),o.max<l.min||l.max<o.min)return!1;return!0},_points:function(){var n=this,e=n._rect,t=n._rotation,s=n.center();return[si({x:e.x,y:e.y},s,t),si({x:e.x+e.w,y:e.y},s,t),si({x:e.x+e.w,y:e.y+e.h},s,t),si({x:e.x,y:e.y+e.h},s,t)]}});function qg(n,e,t){var s=e.positioner(n,e),a=s.vx,o=s.vy;if(!a&&!o)return{x:s.x,y:s.y};var l=t.w,u=t.h,h=e.rotation,p=Math.abs(l/2*Math.cos(h))+Math.abs(u/2*Math.sin(h)),m=Math.abs(l/2*Math.sin(h))+Math.abs(u/2*Math.cos(h)),y=1/Math.max(Math.abs(a),Math.abs(o));return p*=a*y,m*=o*y,p+=e.offset*a,m+=e.offset*o,{x:s.x+p,y:s.y+m}}function MS(n,e){var t,s,a,o;for(t=n.length-1;t>=0;--t)for(a=n[t].$layout,s=t-1;s>=0&&a._visible;--s)o=n[s].$layout,o._visible&&a._box.intersects(o._box)&&e(a,o);return n}function PS(n){var e,t,s,a,o,l,u;for(e=0,t=n.length;e<t;++e)s=n[e],a=s.$layout,a._visible&&(u=new Proxy(s._el,{get:(h,p)=>h.getProps([p],!0)[p]}),o=s.geometry(),l=qg(u,s.model(),o),a._box.update(l,o,s.rotation()));return MS(n,function(h,p){var m=h._hidable,y=p._hidable;m&&y||y?p._visible=!1:m&&(h._visible=!1)})}var fi={prepare:function(n){var e=[],t,s,a,o,l;for(t=0,a=n.length;t<a;++t)for(s=0,o=n[t].length;s<o;++s)l=n[t][s],e.push(l),l.$layout={_box:new Xg,_hidable:!1,_visible:!0,_set:t,_idx:l._index};return e.sort(function(u,h){var p=u.$layout,m=h.$layout;return p._idx===m._idx?m._set-p._set:m._idx-p._idx}),this.update(e),e},update:function(n){var e=!1,t,s,a,o,l;for(t=0,s=n.length;t<s;++t)a=n[t],o=a.model(),l=a.$layout,l._hidable=o&&o.display==="auto",l._visible=a.visible(),e|=l._hidable;e&&PS(n)},lookup:function(n,e){var t,s;for(t=n.length-1;t>=0;--t)if(s=n[t].$layout,s&&s._visible&&s._box.contains(e))return n[t];return null},draw:function(n,e){var t,s,a,o,l,u;for(t=0,s=e.length;t<s;++t)a=e[t],o=a.$layout,o._visible&&(l=a.geometry(),u=qg(a._el,a.model(),l),o._box.update(u,l,a.rotation()),a.draw(n,u))}},ES=function(n){if(Se(n))return null;var e=n,t,s,a;if(_e(n))if(!Se(n.label))e=n.label;else if(!Se(n.r))e=n.r;else for(e="",t=Object.keys(n),a=0,s=t.length;a<s;++a)e+=(a!==0?", ":"")+t[a]+": "+n[t[a]];return""+e},DS={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:ES,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},kt="$datalabels",Jg="$default";function TS(n,e){var t=n.datalabels,s={},a=[],o,l;return t===!1?null:(t===!0&&(t={}),e=rn({},[e,t]),o=e.labels||{},l=Object.keys(o),delete e.labels,l.length?l.forEach(function(u){o[u]&&a.push(rn({},[e,o[u],{_key:u}]))}):a.push(e),s=a.reduce(function(u,h){return Ce(h.listeners||{},function(p,m){u[m]=u[m]||{},u[m][h._key||Jg]=p}),delete h.listeners,u},{}),{labels:a,listeners:s})}function sd(n,e,t,s){if(e){var a=t.$context,o=t.$groups,l;e[o._set]&&(l=e[o._set][o._key],l&&Re(l,[a,s])===!0&&(n[kt]._dirty=!0,t.update(a)))}}function RS(n,e,t,s,a){var o,l;!t&&!s||(t?s?t!==s&&(l=o=!0):l=!0:o=!0,l&&sd(n,e.leave,t,a),o&&sd(n,e.enter,s,a))}function LS(n,e){var t=n[kt],s=t._listeners,a,o;if(!(!s.enter&&!s.leave)){if(e.type==="mousemove")o=fi.lookup(t._labels,e);else if(e.type!=="mouseout")return;a=t._hovered,t._hovered=o,RS(n,s,a,o,e)}}function OS(n,e){var t=n[kt],s=t._listeners.click,a=s&&fi.lookup(t._labels,e);a&&sd(n,s,a,e)}var FS={id:"datalabels",defaults:DS,beforeInit:function(n){n[kt]={_actives:[]}},beforeUpdate:function(n){var e=n[kt];e._listened=!1,e._listeners={},e._datasets=[],e._labels=[]},afterDatasetUpdate:function(n,e,t){var s=e.index,a=n[kt],o=a._datasets[s]=[],l=n.isDatasetVisible(s),u=n.data.datasets[s],h=TS(u,t),p=e.meta.data||[],m=n.ctx,y,v,b,S,k,_,N,C;for(m.save(),y=0,b=p.length;y<b;++y)if(N=p[y],N[kt]=[],l&&N&&n.getDataVisibility(y)&&!N.skip)for(v=0,S=h.labels.length;v<S;++v)k=h.labels[v],_=k._key,C=new Kg(k,m,N,y),C.$groups={_set:s,_key:_||Jg},C.$context={active:!1,chart:n,dataIndex:y,dataset:u,datasetIndex:s},C.update(C.$context),N[kt].push(C),o.push(C);m.restore(),rn(a._listeners,h.listeners,{merger:function(P,O,D){O[P]=O[P]||{},O[P][e.index]=D[P],a._listened=!0}})},afterUpdate:function(n){n[kt]._labels=fi.prepare(n[kt]._datasets)},afterDatasetsDraw:function(n){fi.draw(n,n[kt]._labels)},beforeEvent:function(n,e){if(n[kt]._listened){var t=e.event;switch(t.type){case"mousemove":case"mouseout":LS(n,t);break;case"click":OS(n,t);break}}},afterEvent:function(n){var e=n[kt],t=e._actives,s=e._actives=n.getActiveElements(),a=hi.arrayDiff(t,s),o,l,u,h,p,m,y;for(o=0,l=a.length;o<l;++o)if(p=a[o],p[1])for(y=p[0].element[kt]||[],u=0,h=y.length;u<h;++u)m=y[u],m.$context.active=p[1]===1,m.update(m.$context);(e._dirty||a.length)&&(fi.update(e._labels),n.render()),delete e._dirty}};Mi.register(Ag,zg,sS,Cg,Dd,Pi,_g,Lg,Fg,Tg,Eg,FS);const hm=n=>n==null||n===""?0:+String(n).replace(/,/g,"")||0,Wc=(n,e,t)=>n+(e-n)*t,fm=n=>{if(!n)return null;const e=n.replace("#",""),t=parseInt(e.length===3?e.split("").map(s=>s+s).join(""):e,16);return{r:t>>16&255,g:t>>8&255,b:t&255}},AS=({r:n,g:e,b:t})=>"#"+[n,e,t].map(s=>s.toString(16).padStart(2,"0")).join(""),IS=(n,e)=>{if(n.length<2)return n[0]||"#999";const t=(n.length-1)*e,s=Math.min(Math.floor(t),n.length-2),a=fm(n[s]),o=fm(n[s+1]);return AS({r:Math.round(Wc(a.r,o.r,t-s)),g:Math.round(Wc(a.g,o.g,t-s)),b:Math.round(Wc(a.b,o.b,t-s))})},zS=n=>{const e=n.length;if(e<2)return n.map(()=>null);const t=n.map((m,y)=>y),s=n,a=t.reduce((m,y)=>m+y,0)/e,o=s.reduce((m,y)=>m+y,0)/e;let l=0,u=0;for(let m=0;m<e;m++)l+=(t[m]-a)*(s[m]-o),u+=(t[m]-a)**2;const h=u?l/u:0,p=o-h*a;return t.map(m=>h*m+p)},BS=()=>document?.body?.classList.contains("dark")?"#E6EEF8":"#0f172a";function Qg({data:n=[],columns:e=[],types:t={},options:s={},chartTitle:a="",xAxis:o="",yAxis:l="",setXAxis:u=()=>{},setYAxis:h=()=>{},onBarClick:p=()=>{},onLegendToggle:m=()=>{},selectedBars:y=[],dataPayload:v=null}){const b=on(),S=j.useRef(null),[k,_]=j.useState([]),[N,C]=j.useState(null),[P,O]=j.useState(!1),[D,Y]=j.useState(!1);j.useEffect(()=>{n&&n.length>0&&(localStorage.setItem("uploadedData",JSON.stringify(n)),localStorage.setItem("uploadedColumns",JSON.stringify(e)),_(new Array(n.length).fill(null)))},[n,e]),j.useEffect(()=>{!o&&e[0]&&u(e[0]),!l&&e[1]&&h(e[1])},[e,o,l,u,h]);const $=j.useMemo(()=>n.map((X,oe)=>X?.[o]??`Row ${oe+1}`),[n,o]),I=j.useMemo(()=>n.map(X=>hm(X?.[l])),[n,l]),G=j.useMemo(()=>s.compareField?n.map(X=>hm(X?.[s.compareField])):null,[n,s.compareField]),U=$.map((X,oe)=>({l:X,v:I[oe],c:G?G[oe]:null,raw:n[oe],i:oe}));s.sort==="asc"&&U.sort((X,oe)=>X.v-oe.v),s.sort==="desc"&&U.sort((X,oe)=>oe.v-X.v);const T=U.map(X=>X.l),R=U.map(X=>X.v),F=G?U.map(X=>X.c):null,B=U.map(X=>X.i),Q=Math.max(1e-6,Math.min(...[...R,...F||[]].filter(X=>X>0))||1),ie=s.logScale?R.map(X=>X>0?X:Q*.01):R,ce=F?s.logScale?F.map(X=>X>0?X:Q*.01):F:null,ne=j.useMemo(()=>{const X=s.color||"#2563eb",oe=s.gradientStops?.length?s.gradientStops:[X,X],W=T.length||1,J=Le=>{const Me=B[Le];return k[Me]||(s.gradient?IS(oe,W===1?0:Le/(W-1)):X)};if(s.type==="pie")return{labels:T,datasets:[{label:l||"Value",data:R,backgroundColor:R.map((Le,Me)=>J(Me)),borderColor:"#fff",borderWidth:2}]};if(s.type==="scatter")return{labels:T,datasets:[{label:l||"Value",data:ie.map((Le,Me)=>({x:Me,y:Le})),backgroundColor:ie.map((Le,Me)=>J(Me)),showLine:!1,pointRadius:6,pointHoverRadius:8}]};const ve={label:l||"Value",type:s.type==="line"?"line":"bar",data:ie,originalData:R,backgroundColor:R.map((Le,Me)=>J(Me)),borderColor:X,borderWidth:s.type==="line"?3:1,tension:s.type==="line"?.4:void 0,fill:s.type==="area"},De=[ve];return ce&&De.push({label:s.compareField,type:ve.type,data:ce,originalData:F,backgroundColor:F.map((Le,Me)=>J(Me)),borderColor:"#dc2626",yAxisID:"y1"}),s.trendline&&s.type!=="pie"&&De.push({label:`${l} Trend`,type:"line",data:zS(ie),borderColor:"#059669",backgroundColor:"transparent",fill:!1,pointRadius:0,pointHoverRadius:0,borderWidth:2,borderDash:[5,5]}),{labels:T,datasets:De}},[s,T,R,ie,k,l,B,ce,F]),ae=j.useMemo(()=>{const X=BS(),oe=s.logScale?"logarithmic":"linear",W={maintainAspectRatio:!1,responsive:!0,interaction:{intersect:!1,mode:"index"},onClick:(J,ve)=>{if(ve.length>0){const De=ve[0],Le=De.index,Me=De.datasetIndex;p(Me,T[Le])}},plugins:{legend:{labels:{color:X,usePointStyle:!0},onClick:(J,ve,De)=>{const Le=ve.datasetIndex,Me=De.chart,Kt=Me.getDatasetMeta(Le);Kt.hidden=Kt.hidden===null?!Me.data.datasets[Le].hidden:null,Me.update(),m(Le)}},datalabels:{color:X,display:J=>J.dataset?.datalabels?.display??!!s.showLabels,formatter:(J,ve)=>{if(s.type==="pie"){const De=ve.dataset.data.reduce((Me,Kt)=>Me+Kt,0);return`${(J/De*100).toFixed(1)}%`}return ve.dataset.originalData?ve.dataset.originalData[ve.dataIndex]:J}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff",borderColor:"#2563eb",borderWidth:1,callbacks:{label:J=>{const ve=J.dataset.originalData?J.dataset.originalData[J.dataIndex]:J.formattedValue;return`${J.dataset.label}: ${ve?.toLocaleString()||ve}`}}}},scales:s.type==="pie"?{}:{x:{ticks:{color:X,maxRotation:45,minRotation:0},grid:{color:"rgba(0,0,0,0.1)"}},y:{type:oe,ticks:{color:X,callback:function(J){return J.toLocaleString()}},grid:{color:"rgba(0,0,0,0.1)"}}}};return s.compareField&&s.type!=="pie"&&s.type!=="scatter"&&(W.scales.y1={type:oe,position:"right",grid:{drawOnChartArea:!1},ticks:{color:X,callback:function(J){return J.toLocaleString()}}}),s.type==="scatter"&&(W.scales.x={type:"linear",ticks:{color:X,callback:J=>Number.isInteger(J)&&T[J]?T[J]:"",stepSize:1},min:-.5,max:T.length-.5}),W},[s,T,l,p,m]),q=s.type==="line"||s.type==="area"?Vg:s.type==="pie"?fS:s.type==="scatter"?pS:hS,A=X=>{const oe=S.current;if(!oe?.toBase64Image){alert("Chart not ready for export");return}const W=oe.toBase64Image(X==="jpeg"?"image/jpeg":"image/png"),J=document.createElement("a");J.href=W,J.download=`${a||"chart"}.${X}`,J.click()},K=X=>{if(n.length){if(X==="csv"){const oe=Object.keys(n[0]),W=[oe.join(","),...n.map(Le=>oe.map(Me=>`"${Le[Me]??""}"`).join(","))].join(`
`),J=new Blob([W],{type:"text/csv"}),ve=URL.createObjectURL(J),De=document.createElement("a");De.href=ve,De.download=`${a||"data"}.csv`,De.click(),URL.revokeObjectURL(ve)}else if(X==="json"){const oe=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),W=URL.createObjectURL(oe),J=document.createElement("a");J.href=W,J.download=`${a||"data"}.json`,J.click(),URL.revokeObjectURL(W)}}},Z=()=>{localStorage.setItem("chartTitle",a),localStorage.setItem("currentXAxis",o),localStorage.setItem("currentYAxis",l),b("/forecast")},ue=(X,oe)=>{const W=T.indexOf(oe);if(W!==-1){const J=B[W];C({index:J,label:oe})}p(X,oe)},ge=X=>{if(N){const oe=[...k];oe[N.index]=X,_(oe),C(null)}};return!n||n.length===0?d.jsx("div",{className:"rounded-2xl bg-white border shadow-sm dark:bg-ink/80 dark:border-white/5 p-8 text-center",children:d.jsx("div",{className:"text-gray-500 dark:text-slate-400",children:"No data available for visualization"})}):d.jsxs("div",{className:"rounded-2xl bg-white border shadow-sm dark:bg-ink/80 dark:border-white/5 p-5",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"font-display text-lg font-medium mb-2 text-gray-800 dark:text-slate-200",children:a||"Data Visualization"}),d.jsxs("div",{className:"flex flex-wrap gap-3 text-sm",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("label",{className:"text-gray-600 dark:text-slate-400 font-medium",children:"X-Axis:"}),d.jsx("select",{value:o,onChange:X=>u(X.target.value),className:"border rounded-lg px-3 py-1 bg-white dark:bg-slate-800 dark:border-slate-600 min-w-[120px]",children:e.map(X=>d.jsx("option",{value:X,children:X},X))})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("label",{className:"text-gray-600 dark:text-slate-400 font-medium",children:"Y-Axis:"}),d.jsx("select",{value:l,onChange:X=>h(X.target.value),className:"border rounded-lg px-3 py-1 bg-white dark:bg-slate-800 dark:border-slate-600 min-w-[120px]",children:e.map(X=>d.jsx("option",{value:X,children:X},X))})]})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{onClick:()=>b("/editing"),className:"flex items-center gap-2 px-2.5 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all duration-200 shadow-md hover:shadow-lg text-sm font-medium",title:"Edit Chart",children:[d.jsx(Edit3,{size:16}),"Edit Chart"]}),d.jsxs("button",{onClick:Z,className:"flex items-center gap-2 px-2.5 py-1.5 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-lg hover:from-blue-600 hover:to-indigo-700 transition-all duration-200 shadow-md hover:shadow-lg text-sm font-medium",title:"Generate AI Forecast",children:[d.jsx(Fm,{size:16}),"Forecast"]}),d.jsxs("button",{onClick:()=>O(!P),className:"flex items-center gap-2 px-2.5 py-1.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 dark:border-white/20 dark:text-slate-300 dark:hover:bg-slate-800 transition-colors text-sm font-medium",title:"Export Chart",children:[d.jsx(ss,{size:16}),"Export"]})]})]}),d.jsx("div",{className:"mt-4 rounded-xl p-4 bg-gradient-to-b from-gray-50 to-white border dark:from-black/20 dark:to-black/10 dark:border-white/10",children:d.jsx("div",{style:{height:400,position:"relative"},children:d.jsx(q,{ref:S,data:ne,options:{...ae,onClick:(X,oe)=>{if(oe.length>0){const W=oe[0],J=W.index,ve=W.datasetIndex;ue(ve,T[J])}}}})})}),N&&d.jsx("div",{className:"mt-4 p-4 border rounded-xl bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700",children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("span",{className:"text-sm font-medium",children:["Edit color for: ",d.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:N.label})]}),d.jsx("input",{type:"color",onChange:X=>ge(X.target.value),className:"w-10 h-8 rounded border"}),d.jsx("button",{onClick:()=>C(null),className:"px-3 py-1 text-sm border rounded-lg hover:bg-white dark:hover:bg-slate-800 transition-colors",children:"Done"})]})}),P&&d.jsx(md,{isOpen:P,onClose:()=>O(!1),onExportImage:A,onExportCSV:()=>K("csv"),onExportJSON:()=>K("json"),chartData:n,chartTitle:a}),n.length>0&&d.jsxs("div",{className:"mt-4 text-xs text-gray-500 dark:text-slate-400 flex items-center justify-between",children:[d.jsxs("span",{children:[n.length.toLocaleString()," data points visualized"]}),y.length>0&&d.jsxs("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-full",children:[y.length," selected"]})]})]})}function wr({onReportChange:n,theme:e,setTheme:t}){const[s,a]=j.useState(!0),[o,l]=j.useState("Bar"),[u,h]=j.useState(!1),p=[{title:"PDF  Word",path:"/tools/pdf-to-word",icon:It},{title:"PDF  Excel",path:"/tools/pdf-to-excel",icon:mi},{title:"Merge PDF",path:"/tools/merge",icon:Xc},{title:"Compress PDF",path:"/tools/compress",icon:Lm},{title:"CSV  Excel",path:"/tools/csv-to-excel",icon:mi},{title:"Excel  CSV",path:"/tools/excel-to-csv",icon:It},{title:"CSV  PDF",path:"/tools/csv-to-pdf",icon:It},{title:"Excel  PDF",path:"/tools/excel-to-pdf",icon:It},{title:"PDF  CSV",path:"/tools/pdf-to-csv",icon:It}],m=()=>{const y=e==="dark"?"light":"dark";t(y),localStorage.setItem("theme",y)};return d.jsxs("aside",{className:`${s?"w-16":"w-64"} flex flex-col transition-all duration-300 relative
      bg-white text-gray-900 border-r border-gray-200
      dark:bg-ink/80 dark:text-slate-200 dark:border-white/5 rounded-r-2xl shadow-soft neon-border`,children:[d.jsx("button",{onClick:()=>a(!s),className:`absolute top-4 -right-3 z-10 p-1.5 rounded-full\r
        bg-gray-200 dark:bg-black/50 border border-gray-300 dark:border-white/10\r
        hover:bg-gray-300 dark:hover:bg-white/10 transition`,children:s?d.jsx("svg",{className:"w-4 h-4 text-gray-700 dark:text-slate-300",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M8 5v14l11-7z"})}):d.jsx("svg",{className:"w-4 h-4 text-gray-700 dark:text-slate-300",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M16 19V5L5 12z"})})}),d.jsxs("div",{className:"flex-1 px-3 py-5 space-y-2 overflow-y-auto",children:[d.jsxs(Te,{to:"/",className:"flex items-center px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-white/5 group",children:[d.jsx(Xb,{className:"w-4 h-4 mr-2 text-gray-600 dark:text-slate-300"}),!s&&d.jsx("span",{children:"Overview"})]}),d.jsxs("div",{className:"flex items-center px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-white/5 group",children:[d.jsx(zb,{className:"w-4 h-4 mr-2 text-gray-600 dark:text-slate-300"}),!s&&d.jsx("span",{children:"Data Source"})]}),d.jsxs(Te,{to:"/forecast",className:"flex items-center px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-white/5 group",children:[d.jsx(kb,{className:"w-4 h-4 mr-2 text-gray-600 dark:text-slate-300"}),!s&&d.jsx("span",{children:"AI Forecast"})]}),d.jsxs("div",{className:"px-3",children:[d.jsxs("div",{className:"flex items-center rounded-lg cursor-pointer mb-2 hover:bg-gray-100 dark:hover:bg-white/5 group",children:[d.jsx(Kc,{className:"w-4 h-4 mr-2 text-gray-600 dark:text-slate-300"}),!s&&d.jsx("span",{children:"Reports"})]}),!s&&d.jsxs("select",{value:o,onChange:y=>{l(y.target.value),n?.(y.target.value)},className:"w-full mt-1 rounded-lg px-2 py-1 text-sm bg-gray-100 border border-gray-300 text-gray-800 dark:bg-black/40 dark:border-white/10 dark:text-slate-200",children:[d.jsx("option",{children:"Bar"}),d.jsx("option",{children:"Line"}),d.jsx("option",{children:"Pie"}),d.jsx("option",{children:"Map"})]})]}),d.jsxs("div",{className:"mt-3 px-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(Xc,{className:"w-4 h-4 mr-2 text-gray-600 dark:text-slate-300"}),!s&&d.jsx("span",{className:"font-medium",children:"File Tools"})]}),!s&&d.jsx("button",{onClick:()=>h(!u),className:"text-xs px-2 py-1 rounded border",children:u?"Hide":"Show"})]}),!s&&u&&d.jsx("div",{className:"mt-2 space-y-1",children:p.map((y,v)=>d.jsxs(Te,{to:y.path,className:"flex items-center gap-2 px-2 py-1 rounded hover:bg-gray-100 dark:hover:bg-white/5",children:[d.jsx(y.icon,{className:"w-4 h-4 text-gray-600"}),d.jsx("span",{className:"text-sm",children:y.title})]},v))})]}),d.jsxs("div",{className:"mt-4 px-3",children:[d.jsxs(Te,{to:"/settings",className:"flex items-center px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-white/5 group",children:[d.jsx(is,{className:"w-4 h-4 mr-2 text-gray-600 dark:text-slate-300"}),!s&&d.jsx("span",{children:"Settings"})]}),d.jsxs("div",{className:"flex items-center px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-white/5 group cursor-pointer",children:[d.jsx(mb,{className:"w-4 h-4 mr-2 text-gray-600 dark:text-slate-300"}),!s&&d.jsx("span",{children:"Help"})]})]})]}),d.jsxs("div",{className:"px-3 py-4 border-t border-gray-200 dark:border-white/10 space-y-2",children:[d.jsx("button",{onClick:m,className:"w-full flex items-center justify-center px-3 py-2 rounded-lg bg-gray-100 hover:bg-gray-200 text-sm text-gray-800 dark:bg-black/40 dark:hover:bg-white/5 dark:text-slate-200 transition",children:e==="dark"?d.jsxs(d.Fragment,{children:[d.jsx(t1,{className:"w-4 h-4 mr-2"}),!s&&"Dark Mode"]}):d.jsxs(d.Fragment,{children:[d.jsx(g1,{className:"w-4 h-4 mr-2 text-yellow-500"}),!s&&"Light Mode"]})}),d.jsxs(Te,{to:"/login",className:"w-full flex items-center justify-center px-3 py-2 rounded-lg bg-gray-100 hover:bg-gray-200 text-sm text-gray-800 dark:bg-black/40 dark:hover:bg-white/5 dark:text-slate-200 transition",children:[d.jsx("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),!s&&"Log in"]}),d.jsxs(Te,{to:"/signup",className:"w-full flex items-center justify-center px-3 py-2 rounded-lg bg-neonBlue text-white shadow-neon hover:animate-glow text-sm transition",children:[d.jsx("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),!s&&"Sign up"]})]})]})}const $S=[{title:"PDF  Word",description:"Convert PDF to editable Word document.",icon:It,link:"/tools/pdf-to-word"},{title:"PDF  Excel",description:"Convert PDF to Excel.",icon:mi,link:"/tools/pdf-to-excel"},{title:"Merge PDF",description:"Combine multiple PDFs.",icon:Xc,link:"/tools/merge"},{title:"Compress File",description:"Reduce PDF/Excel/CSV size.",icon:Lm,link:"/tools/compress"},{title:"CSV  Excel",description:"Convert CSV to Excel.",icon:Ab,link:"/tools/csv-to-excel"},{title:"Excel  CSV",description:"Export Excel to CSV.",icon:Cb,link:"/tools/excel-to-csv"},{title:"CSV  PDF",description:"Convert CSV into PDF.",icon:It,link:"/tools/csv-to-pdf"},{title:"Excel  PDF",description:"Turn Excel into PDF.",icon:Ob,link:"/tools/excel-to-pdf"},{title:"PDF  CSV",description:"Extract tables from PDF into CSV.",icon:Eb,link:"/tools/pdf-to-csv"},{title:"PDF  Excel (alt)",description:"Alternative conversion route (if needed).",icon:mi,link:"/tools/pdf-to-excel"}];function HS(){return d.jsx("section",{className:"py-6 bg-transparent",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:[d.jsx("h2",{className:"text-3xl font-display text-center mb-8 text-primary",children:"Our File Tools"}),d.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:$S.map((n,e)=>{const t=n.icon;return d.jsxs(Te,{to:n.link,className:`group p-6 flex flex-col items-center text-center \r
                           rounded-full bg-gradient-to-br from-blue-400/40 to-blue-600/40 \r
                           border border-blue-200/30 shadow-lg shadow-blue-300/40\r
                           hover:scale-105 active:scale-95 transition-all duration-200`,title:n.title,children:[d.jsxs("div",{className:"relative w-20 h-20 flex items-center justify-center",children:[d.jsx(t,{size:32,className:"text-white drop-shadow-lg"}),d.jsx("span",{className:"absolute top-2 left-2 w-3 h-3 rounded-full bg-white/30 blur-sm"})]}),d.jsx("h3",{className:"mt-4 font-display font-semibold text-white",children:n.title}),d.jsx("p",{className:"mt-2 text-sm text-white/80",children:n.description})]},e)})})]})})}function VS(){const n=[{title:"PDF  Word",path:"/tools/pdf-to-word"},{title:"PDF  Excel",path:"/tools/pdf-to-excel"},{title:"Merge PDF",path:"/tools/merge"},{title:"Compress PDF",path:"/tools/compress"},{title:"CSV  Excel",path:"/tools/csv-to-excel"},{title:"Excel  CSV",path:"/tools/excel-to-csv"},{title:"CSV  PDF",path:"/tools/csv-to-pdf"},{title:"Excel  PDF",path:"/tools/excel-to-pdf"},{title:"PDF  CSV",path:"/tools/pdf-to-csv"}];return d.jsxs("footer",{className:"mt-16 border-t border-gray-300 bg-gray-700 dark:bg-slate-900 py-10",children:[d.jsxs("div",{className:"mx-auto max-w-7xl px-4 flex flex-col md:flex-row items-start justify-between gap-10",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:"/favicon.png",alt:"Syla logo",className:"w-8 h-8"}),d.jsxs("span",{className:"font-display text-lg tracking-wide text-white",children:["Syla ",d.jsx("span",{className:"text-neonBlue",children:"Analytics"})]})]}),d.jsxs("div",{className:"flex-1 grid grid-cols-2 md:grid-cols-4 gap-8 text-sm",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-gray-200 mb-3",children:"General"}),d.jsxs("ul",{className:"space-y-2",children:[d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-300 hover:text-neonYellow transition-colors duration-200",children:"Help"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-300 hover:text-neonYellow transition-colors duration-200",children:"Pricing"})})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-gray-200 mb-3",children:"Account"}),d.jsxs("ul",{className:"space-y-2",children:[d.jsx("li",{children:d.jsx(Te,{to:"/settings",className:"text-gray-300 hover:text-neonYellow transition-colors duration-200",children:"Settings"})}),d.jsx("li",{children:d.jsx(Te,{to:"/login",className:"text-gray-300 hover:text-neonYellow transition-colors duration-200",children:"Log in"})}),d.jsx("li",{children:d.jsx(Te,{to:"/signup",className:"text-gray-300 hover:text-neonYellow transition-colors duration-200",children:"Sign up"})})]})]}),d.jsxs("div",{className:"col-span-2",children:[d.jsx("h3",{className:"font-semibold text-gray-200 mb-3",children:"File Tools"}),d.jsx("ul",{className:"grid grid-cols-2 gap-y-2 gap-x-6",children:n.map((e,t)=>d.jsx("li",{children:d.jsx(Te,{to:e.path,className:"text-gray-300 hover:text-neonYellow transition-colors duration-200",children:e.title})},t))})]})]})]}),d.jsxs("div",{className:"mt-10 text-center text-xs text-gray-400",children:[" ",new Date().getFullYear()," Syla Analytics. All rights reserved."]})]})}const Ei=j.createContext();function WS({children:n}){const[e,t]=j.useState(null),[s,a]=j.useState("light"),[o,l]=j.useState(!0);j.useEffect(()=>{const k=localStorage.getItem("theme")||"light";a(k),document.body.classList.remove("dark","light"),document.body.classList.add(k),u()},[]),j.useEffect(()=>{localStorage.setItem("theme",s),document.body.classList.remove("dark","light"),document.body.classList.add(s)},[s]);const u=async()=>{try{l(!0);const k=localStorage.getItem("user");if(k)try{t(JSON.parse(k))}catch{localStorage.removeItem("user")}const _=await fetch("/api/auth/me",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(_.ok){const N=await _.json();t(N),localStorage.setItem("user",JSON.stringify(N))}else t(null),localStorage.removeItem("user"),localStorage.removeItem("token")}catch(k){console.error("Auth check failed:",k),t(null),localStorage.removeItem("user"),localStorage.removeItem("token")}finally{l(!1)}},S={user:e,setUser:k=>{t(k),localStorage.setItem("user",JSON.stringify(k))},theme:s,setTheme:a,loading:o,login:async(k,_)=>{try{const N=new FormData;N.append("contact",k),N.append("password",_);const C=await fetch("/api/auth/login",{method:"POST",credentials:"include",body:N});if(!C.ok){const O=await C.json().catch(()=>({}));throw new Error(O.detail||"Login failed")}const P=await C.json();return t(P.user),localStorage.setItem("user",JSON.stringify(P.user)),P.access_token&&localStorage.setItem("token",P.access_token),P}catch(N){throw console.error("Login error:",N),N}},signup:async(k,_,N,C)=>{try{const P=new FormData;P.append("name",k),_&&P.append("email",_),N&&P.append("phone",N),P.append("password",C);const O=await fetch("/api/auth/signup",{method:"POST",credentials:"include",body:P});if(!O.ok){const Y=await O.json().catch(()=>({}));throw new Error(Y.detail||"Signup failed")}const D=await O.json();return t(D.user),localStorage.setItem("user",JSON.stringify(D.user)),D.access_token&&localStorage.setItem("token",D.access_token),D}catch(P){throw console.error("Signup error:",P),P}},googleSignIn:async k=>{try{const _=new FormData;_.append("token",k);const N=await fetch("/api/auth/google",{method:"POST",credentials:"include",body:_});if(!N.ok){const P=await N.json().catch(()=>({}));throw new Error(P.detail||"Google sign-in failed")}const C=await N.json();return t(C.user),localStorage.setItem("user",JSON.stringify(C.user)),C.access_token&&localStorage.setItem("token",C.access_token),C}catch(_){throw console.error("Google sign-in error:",_),_}},logout:async()=>{try{await fetch("/api/auth/logout",{method:"POST",credentials:"include"}).catch(()=>{})}catch(k){console.error("Logout error:",k)}finally{t(null),localStorage.removeItem("user"),localStorage.removeItem("token")}},checkAuthStatus:u,refreshAuth:async()=>{try{const k=await fetch("/api/auth/refresh",{method:"POST",credentials:"include"});if(k.ok){const _=await k.json();return _.access_token&&localStorage.setItem("token",_.access_token),!0}return!1}catch(k){return console.error("Token refresh failed:",k),!1}}};return d.jsx(Ei.Provider,{value:S,children:n})}function _r(){const{user:n}=j.useContext(Ei);return d.jsx("nav",{className:"sticky top-0 z-20 backdrop-blur bg-white/80 border-b border-gray-200 shadow-sm dark:bg-ink/80 dark:border-white/5 dark:shadow-soft",children:d.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-3 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:"/favicon.png",alt:"Syla logo",className:"w-8 h-8 animate-float"}),d.jsxs("div",{className:"flex flex-col leading-none",children:[d.jsxs("span",{className:"font-display text-lg tracking-wide",children:["Syla ",d.jsx("span",{className:"text-neonBlue",children:"Analytics"})]}),d.jsx("span",{className:"text-xs text-gray-500 dark:text-slate-400 -mt-0.5",children:"Futuristic Data Intelligence"})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("a",{href:"#",className:"text-gray-700 hover:text-neonYellow dark:text-slate-300 dark:hover:text-neonYellow hidden md:block",children:"Pricing"}),n?d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:n.avatar_url||"/default-avatar.png",alt:"User avatar",className:"w-8 h-8 rounded-full border border-gray-300 dark:border-white/10 object-cover"}),d.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-slate-200",children:n.name||"Profile"})]}):d.jsxs(d.Fragment,{children:[d.jsx(Te,{to:"/login",className:"px-3 py-1.5 rounded-xl border border-gray-300 text-gray-700 hover:text-black hover:border-neonBlue/60 dark:border-white/10 dark:text-slate-200 dark:hover:text-white",children:"Log in"}),d.jsx(Te,{to:"/signup",className:"px-4 py-1.5 rounded-xl bg-neonBlue text-white shadow-neon hover:animate-glow transition",children:"Sign up"})]})]})]})})}function id({options:n={},setOptions:e=()=>{},columns:t=[],data:s=[],onSaveChart:a=()=>{},onLoadPreset:o=()=>{}}){const[l,u]=j.useState({...n}),[h,p]=j.useState("display"),[m,y]=j.useState({filters:!0,display:!0,colors:!1,advanced:!1});j.useEffect(()=>u({...n}),[n]);const v=T=>{const R={...l,...T};u(R),e(F=>({...F,...T}))},b=t.filter(T=>s.length?s.slice(0,100).some(F=>typeof F[T]=="number"||!isNaN(Number(F[T]))):!0),S=t.filter(T=>!b.includes(T)),k=T=>s.length?[...new Set(s.map(F=>F[col]).filter(F=>F!=null))].slice(0,50):[],_=()=>{if(!l.gradientStops||l.gradientStops.length>=5)return;const T=[...l.gradientStops||[l.color||"#2563eb"],"#ffffff"];v({gradientStops:T,gradient:!0})},N=()=>{if(!l.gradientStops||l.gradientStops.length<=2)return;const T=l.gradientStops.slice(0,-1);v({gradientStops:T})},C=(T,R)=>{const F=[...l.gradientStops||[]];F[T]=R,v({gradientStops:F,gradient:!0})},P=[{name:"Blue",colors:["#2563eb","#3b82f6","#60a5fa"]},{name:"Green",colors:["#059669","#10b981","#34d399"]},{name:"Purple",colors:["#7c3aed","#8b5cf6","#a78bfa"]},{name:"Orange",colors:["#ea580c","#f97316","#fb923c"]},{name:"Pink",colors:["#db2777","#ec4899","#f472b6"]},{name:"Teal",colors:["#0d9488","#14b8a6","#5eead4"]}],O=T=>{v({color:T.colors[0],gradientStops:T.colors,gradient:T.colors.length>1})},D=l.type||"bar",Y=!["pie","scatter"].includes(D),$=["bar","line"].includes(D),I=["bar","line","scatter"].includes(D),G=()=>{v({type:"bar",color:"#2563eb",gradient:!1,gradientStops:["#2563eb","#ff6b6b"],showLabels:!1,trendline:!1,sort:"none",logScale:!1,compareField:"",topN:0,groupOthers:!1})},U=[{id:"filters",label:"Filters",icon:$b},{id:"display",label:"Display",icon:Kc},{id:"colors",label:"Colors",icon:pd},{id:"advanced",label:"Advanced",icon:is}];return d.jsxs("div",{className:"mt-4 rounded-2xl bg-white border border-gray-200 shadow-sm dark:bg-ink/80 dark:border-white/5",children:[d.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200 dark:border-white/10",children:[d.jsxs("h3",{className:"font-display text-sm flex items-center gap-2 font-medium",children:[d.jsx(is,{size:16,className:"text-neonBlue"}),"Chart Options"]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:G,className:"p-1.5 text-gray-500 hover:text-gray-700 dark:hover:text-slate-300 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Reset to defaults",children:d.jsx(d1,{size:14})}),d.jsx("button",{onClick:()=>a(l),className:"p-1.5 text-blue-500 hover:text-blue-700 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",title:"Save configuration",children:d.jsx(po,{size:14})})]})]}),d.jsx("div",{className:"flex border-b border-gray-200 dark:border-white/10",children:U.map(T=>d.jsxs("button",{onClick:()=>p(T.id),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium transition-colors ${h===T.id?"text-blue-600 border-b-2 border-blue-600 bg-blue-50/50 dark:bg-blue-900/20 dark:text-blue-400":"text-gray-600 hover:text-gray-900 dark:text-slate-400 dark:hover:text-slate-200 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:[d.jsx(T.icon,{size:16}),T.label]},T.id))}),d.jsxs("div",{className:"p-4",children:[h==="filters"&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Dataset Source"}),d.jsxs("select",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm dark:border-slate-600 dark:bg-slate-800",children:[d.jsx("option",{children:"Current uploaded data"}),d.jsx("option",{children:"Load from saved dataset..."})]})]}),S.includes("Country")&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Country Filter"}),d.jsx("select",{multiple:!0,className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm dark:border-slate-600 dark:bg-slate-800",style:{minHeight:"80px"},children:k().map(T=>d.jsx("option",{value:T,children:T},T))}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Hold Ctrl/Cmd to select multiple"})]}),S.includes("Company")&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Company Filter"}),d.jsx("select",{multiple:!0,className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm dark:border-slate-600 dark:bg-slate-800",style:{minHeight:"80px"},children:k().map(T=>d.jsx("option",{value:T,children:T},T))})]}),S.includes("Campaign")&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Campaign Filter"}),d.jsx("input",{type:"text",placeholder:"Search campaigns...",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm mb-2 dark:border-slate-600 dark:bg-slate-800"}),d.jsx("div",{className:"max-h-32 overflow-y-auto border rounded-lg p-2 bg-gray-50 dark:bg-slate-700",children:k().map(T=>d.jsxs("label",{className:"flex items-center gap-2 py-1 text-sm",children:[d.jsx("input",{type:"checkbox",className:"rounded"}),d.jsx("span",{children:T}),d.jsxs("span",{className:"text-xs text-gray-500 ml-auto",children:["(",s.filter(R=>R.Campaign===T).length,")"]})]},T))})]}),t.includes("Date")&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Date Range"}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Start Date"}),d.jsx("input",{type:"date",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm dark:border-slate-600 dark:bg-slate-800"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"End Date"}),d.jsx("input",{type:"date",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm dark:border-slate-600 dark:bg-slate-800"})]})]})]}),b.length>0&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Numeric Filters"}),b.slice(0,2).map(T=>d.jsxs("div",{className:"mb-3",children:[d.jsxs("label",{className:"block text-xs text-gray-500 mb-1",children:[T," Range"]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx("input",{type:"number",placeholder:"Min",className:"rounded-lg border border-gray-300 px-3 py-2 text-sm dark:border-slate-600 dark:bg-slate-800"}),d.jsx("input",{type:"number",placeholder:"Max",className:"rounded-lg border border-gray-300 px-3 py-2 text-sm dark:border-slate-600 dark:bg-slate-800"})]})]},T))]})]}),h==="display"&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Group By"}),d.jsxs("select",{value:l.aggregateBy||"",onChange:T=>v({aggregateBy:T.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm dark:border-slate-600 dark:bg-slate-800",children:[d.jsx("option",{value:"",children:"No grouping"}),S.map(T=>d.jsx("option",{value:T,children:T},T))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Metric"}),d.jsx("select",{value:l.metric||"",onChange:T=>v({metric:T.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm dark:border-slate-600 dark:bg-slate-800",children:b.map(T=>d.jsx("option",{value:T,children:T},T))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Function"}),d.jsxs("select",{value:l.aggregateFunction||"sum",onChange:T=>v({aggregateFunction:T.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm dark:border-slate-600 dark:bg-slate-800",children:[d.jsx("option",{value:"sum",children:"Sum"}),d.jsx("option",{value:"mean",children:"Average"}),d.jsx("option",{value:"median",children:"Median"}),d.jsx("option",{value:"count",children:"Count"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Chart Type"}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[{value:"bar",label:"Bar",icon:ab},{value:"line",label:"Line",icon:rb},{value:"area",label:"Area",icon:Zv},{value:"pie",label:"Pie",icon:lb},{value:"scatter",label:"Scatter",icon:xb},{value:"stacked_bar",label:"Stacked",icon:Kc}].map(T=>{const R=T.icon;return d.jsxs("button",{onClick:()=>v({type:T.value}),className:`flex flex-col items-center p-4 rounded-2xl text-sm font-medium transition-all ${l.type===T.value?"border-blue-500 bg-gradient-to-br from-blue-500 to-blue-700 text-white shadow-lg":"border-gray-200 hover:border-gray-300 dark:border-slate-600 dark:hover:border-slate-500 bg-gradient-to-br from-blue-400/40 to-blue-600/40 text-white shadow-md"}`,children:[d.jsx(R,{size:24,className:"mb-1 drop-shadow-lg"}),T.label]},T.value)})})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Orientation"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>v({orientation:"horizontal"}),className:`flex-1 py-2 px-3 rounded-lg text-sm ${l.orientation==="horizontal"?"bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-400":"bg-gray-100 hover:bg-gray-200 dark:bg-slate-700"}`,children:"Horizontal"}),d.jsx("button",{onClick:()=>v({orientation:"vertical"}),className:`flex-1 py-2 px-3 rounded-lg text-sm ${l.orientation!=="horizontal"?"bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-400":"bg-gray-100 hover:bg-gray-200 dark:bg-slate-700"}`,children:"Vertical"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Sort By"}),d.jsxs("select",{value:l.sort||"none",onChange:T=>v({sort:T.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm dark:border-slate-600 dark:bg-slate-800",children:[d.jsx("option",{value:"none",children:"None"}),d.jsx("option",{value:"asc",children:"Ascending"}),d.jsx("option",{value:"desc",children:"Descending"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Show Top N Groups"}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("input",{type:"number",min:"0",max:"50",value:l.topN||0,onChange:T=>v({topN:parseInt(T.target.value)||0}),className:"w-24 rounded-lg border border-gray-300 px-3 py-2 text-sm dark:border-slate-600 dark:bg-slate-800",placeholder:"All"}),d.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[d.jsx("input",{type:"checkbox",checked:l.groupOthers||!1,onChange:T=>v({groupOthers:T.target.checked}),className:"rounded"}),'Group remainder as "Others"']})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"0 = show all groups"})]})]}),h==="colors"&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Color Presets"}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:P.map(T=>d.jsxs("button",{onClick:()=>O(T),className:"p-3 rounded-lg border border-gray-200 hover:border-gray-300 dark:border-slate-600 dark:hover:border-slate-500 transition-colors",children:[d.jsx("div",{className:"flex gap-1 justify-center mb-2",children:T.colors.map((R,F)=>d.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:R}},F))}),d.jsx("div",{className:"text-xs font-medium",children:T.name})]},T.name))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Primary Color"}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("input",{type:"color",value:l.color||"#2563eb",onChange:T=>v({color:T.target.value}),className:"w-12 h-10 rounded-lg border border-gray-300"}),d.jsx("input",{type:"text",value:l.color||"#2563eb",onChange:T=>v({color:T.target.value}),className:"flex-1 rounded-lg border border-gray-300 px-3 py-2 text-sm font-mono dark:border-slate-600 dark:bg-slate-800",placeholder:"#2563eb"})]})]}),d.jsx("div",{children:d.jsxs("label",{className:"flex items-center gap-3",children:[d.jsx("input",{type:"checkbox",checked:l.gradient||!1,onChange:T=>v({gradient:T.target.checked}),className:"rounded"}),d.jsx("span",{className:"text-sm font-medium",children:"Enable Gradient"})]})}),l.gradient&&d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Gradient Stops"}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx("button",{onClick:_,disabled:!l.gradientStops||l.gradientStops.length>=5,className:"px-2 py-1 text-xs bg-blue-500 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed",children:"+ Add"}),d.jsx("button",{onClick:N,disabled:!l.gradientStops||l.gradientStops.length<=2,className:"px-2 py-1 text-xs bg-red-500 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed",children:"Remove"})]})]}),d.jsx("div",{className:"flex gap-2 flex-wrap",children:(l.gradientStops||[l.color||"#2563eb"]).map((T,R)=>d.jsxs("div",{className:"flex flex-col items-center gap-1",children:[d.jsx("input",{type:"color",value:T,onChange:F=>C(R,F.target.value),className:"w-8 h-8 rounded border"}),d.jsx("span",{className:"text-xs text-gray-500",children:R+1})]},R))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Series Colors"}),d.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Click on chart elements to customize individual colors"}),d.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[d.jsx("div",{className:"text-sm",children:"Interactive color editing:"}),d.jsxs("ul",{className:"text-xs text-gray-600 dark:text-slate-400 mt-1 space-y-1",children:[d.jsx("li",{children:" Click any bar/point to open color picker"}),d.jsx("li",{children:' Use "Apply to all" to extend color to similar items'}),d.jsx("li",{children:" Save color profiles for reuse"})]})]})]})]}),h==="advanced"&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-700 dark:text-slate-300 mb-3",children:"Interactivity"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("label",{className:"flex items-center gap-3",children:[d.jsx("input",{type:"checkbox",checked:l.showLabels||!1,onChange:T=>v({showLabels:T.target.checked}),className:"rounded"}),d.jsx("span",{className:"text-sm",children:"Show Data Labels"})]}),$&&d.jsxs("label",{className:"flex items-center gap-3",children:[d.jsx("input",{type:"checkbox",checked:l.trendline||!1,onChange:T=>v({trendline:T.target.checked}),className:"rounded"}),d.jsx("span",{className:"text-sm",children:"Show Trendline"})]}),I&&d.jsxs("div",{children:[d.jsxs("label",{className:"flex items-center gap-3 mb-2",children:[d.jsx("input",{type:"checkbox",checked:l.logScale||!1,onChange:T=>v({logScale:T.target.checked}),className:"rounded"}),d.jsx("span",{className:"text-sm",children:"Logarithmic Scale"})]}),l.logScale&&d.jsx("input",{type:"number",min:"0.001",step:"0.001",value:l.logMin||"",onChange:T=>v({logMin:parseFloat(T.target.value)||void 0}),placeholder:"Min value (auto)",className:"ml-6 w-32 rounded border px-2 py-1 text-xs dark:border-slate-600 dark:bg-slate-800"})]})]})]}),Y&&d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-700 dark:text-slate-300 mb-3",children:"Comparison"}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Compare with Second Metric"}),d.jsxs("select",{value:l.compareField||"",onChange:T=>v({compareField:T.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm dark:border-slate-600 dark:bg-slate-800",children:[d.jsx("option",{value:"",children:"None"}),b.map(T=>d.jsx("option",{value:T,children:T},T))]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Second metric will be displayed on a secondary axis"})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-700 dark:text-slate-300 mb-3",children:"Export Settings"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Default Format"}),d.jsxs("select",{value:l.exportFormat||"png",onChange:T=>v({exportFormat:T.target.value}),className:"w-full rounded border px-2 py-1 text-sm dark:border-slate-600 dark:bg-slate-800",children:[d.jsx("option",{value:"png",children:"PNG"}),d.jsx("option",{value:"svg",children:"SVG"}),d.jsx("option",{value:"pdf",children:"PDF"}),d.jsx("option",{value:"csv",children:"CSV (data)"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"DPI"}),d.jsx("input",{type:"number",min:"72",max:"600",value:l.exportDPI||300,onChange:T=>v({exportDPI:parseInt(T.target.value)||300}),className:"w-full rounded border px-2 py-1 text-sm dark:border-slate-600 dark:bg-slate-800"})]})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-700 dark:text-slate-300 mb-3",children:"Performance"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:"flex items-center gap-3",children:[d.jsx("input",{type:"checkbox",checked:l.enableAnimations!==!1,onChange:T=>v({enableAnimations:T.target.checked}),className:"rounded"}),d.jsx("span",{className:"text-sm",children:"Enable Animations"})]}),d.jsxs("label",{className:"flex items-center gap-3",children:[d.jsx("input",{type:"checkbox",checked:l.enableTooltips!==!1,onChange:T=>v({enableTooltips:T.target.checked}),className:"rounded"}),d.jsx("span",{className:"text-sm",children:"Enable Tooltips"})]})]})]})]}),d.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-white/10 flex items-center justify-between",children:[d.jsx("div",{className:"text-xs text-gray-500",children:s.length>0&&`${s.length.toLocaleString()} data points`}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>window.dispatchEvent(new CustomEvent("exportChart",{detail:{format:"png"}})),className:"px-3 py-1.5 text-xs bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Export PNG"}),d.jsx("button",{onClick:()=>window.dispatchEvent(new CustomEvent("exportData",{detail:{format:"csv"}})),className:"px-3 py-1.5 text-xs border border-gray-300 rounded-lg hover:bg-gray-50 dark:border-slate-600 dark:hover:bg-slate-700 transition-colors",children:"Export CSV"})]})]})]})]})}const US=({onClose:n,onSignup:e,onLogin:t})=>d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white dark:bg-ink rounded-2xl p-6 max-w-md w-full border-2 border-neonBlue/20 shadow-xl",children:[d.jsx("h2",{className:"text-xl font-display font-bold text-gray-800 dark:text-slate-200 mb-3",children:"Sign In Required"}),d.jsx("p",{className:"text-gray-600 dark:text-slate-400 mb-6",children:"You need to create an account or sign in to use the visualization features."}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:e,className:"flex-1 px-4 py-2 bg-neonBlue text-white rounded-lg hover:bg-blue-600 font-medium",children:"Sign Up"}),d.jsx("button",{onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 dark:border-white/20 dark:text-slate-300 dark:hover:bg-slate-800",children:"Log In"})]}),d.jsx("button",{onClick:n,className:"mt-3 w-full text-sm text-gray-500 hover:text-gray-700 dark:text-slate-400 dark:hover:text-slate-200",children:"Cancel"})]})});function YS(){const n=on(),[e,t]=j.useState(null),[s,a]=j.useState(!1),[o,l]=j.useState(""),[u,h]=j.useState([]),[p,m]=j.useState([]),[y,v]=j.useState({}),[b,S]=j.useState({}),[k,_]=j.useState(""),[N,C]=j.useState(""),[P,O]=j.useState(""),[D,Y]=j.useState("light"),[$,I]=j.useState({type:"bar",color:"#2563eb",gradient:!1,gradientStops:["#2563eb","#ff6b6b"],showLabels:!1,trendline:!1,sort:"none",logScale:!1,logMin:1,compareField:""});j.useEffect(()=>{const F=()=>{if(!e){l("");return}l(Rv())};F();const B=setInterval(F,6e4);return()=>clearInterval(B)},[e]);const[G,U]=j.useState(!1);j.useEffect(()=>{const F=localStorage.getItem("user");if(F)try{t(JSON.parse(F))}catch{localStorage.removeItem("user"),localStorage.removeItem("token")}const B=localStorage.getItem("theme")||"light";Y(B)},[]),j.useEffect(()=>{document.body.classList.remove("dark","light"),document.body.classList.add(D==="light"?"light":"dark")},[D]);const T=()=>{n("/signup"),a(!1)},R=()=>{n("/login"),a(!1)};return d.jsxs("div",{className:"flex min-h-screen overflow-x-hidden relative",children:[d.jsx(wr,{theme:D,setTheme:Y,onReportChange:()=>{}}),d.jsxs("div",{className:"flex-1 transition-all duration-300",children:[d.jsx(_r,{user:e}),d.jsxs("main",{className:"mx-auto max-w-7xl px-4 pb-16 pt-8",children:[d.jsxs("div",{className:"hero-section w-screen -mx-4 relative",children:[d.jsx("div",{className:"hero-gradient-bg"}),d.jsx("div",{className:"hero-content",children:e?d.jsxs(d.Fragment,{children:[d.jsxs("h1",{className:"font-body text-4xl md:text-5xl tracking-wide mb-6 text-gray-800 dark:text-slate-200",children:[o,/[!?.]$/.test(o)?" ":", ",d.jsx("span",{className:"text-neonYellow font-bold",children:e.name})]}),d.jsx("p",{className:"text-lg text-gray-700 dark:text-slate-300 max-w-3xl mx-auto",children:"Ready to dive into your data? Upload files for cleaning and visualization, or use our powerful file conversion tools."}),d.jsxs("div",{className:"flex flex-wrap gap-4 justify-center mt-8",children:[d.jsxs(Te,{to:"/forecast",className:`relative flex items-center justify-center p-5 rounded-full\r
                                       bg-gradient-to-br from-red-400/40 to-red-600/40\r
                                       border border-red-200/30 shadow-lg shadow-blue-300/40\r
                                       hover:scale-105 active:scale-95 transition-all duration-200`,children:[d.jsx("span",{className:"absolute top-2 left-2 w-2 h-2 bg-blue-300 rounded-full animate-dot1"}),d.jsx("span",{className:"absolute bottom-3 right-3 w-2 h-2 bg-blue-400 rounded-full animate-dot2"}),d.jsx("span",{className:"absolute bottom-2 left-2 w-2 h-2 bg-yellow-300 rounded-full animate-dot5"}),d.jsx("span",{className:"absolute top-1 right-4 w-1.5 h-1.5 bg-blue-500 rounded-full animate-dot3"}),d.jsx(oo,{size:28,className:"text-white drop-shadow-lg z-10"}),d.jsx("span",{className:"ml-2 text-white font-semibold z-10",children:"AI Forecasting"})]}),d.jsx("button",{className:"px-6 py-3 rounded-full border-2 border-neonBlue text-neonBlue font-semibold hover:bg-neonBlue hover:text-white transition-all duration-300",children:"Price Listing"})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("h1",{className:"font-body text-4xl md:text-5xl tracking-wide mb-6 text-gray-800 dark:text-slate-200",children:["From raw data to ",d.jsx("span",{className:"text-red-500 font-semibold",children:"smart decisions"}),d.jsx("br",{}),"all powered by ",d.jsx("span",{className:"text-neonYellow font-semibold",children:"Syla"}),"."]}),d.jsx("p",{className:"text-xl text-gray-700 dark:text-slate-300 mb-8 max-w-4xl mx-auto",children:"Clean, visualize, and convert your data with intelligent automation."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[d.jsx("button",{onClick:T,className:"px-8 py-3 bg-neonBlue text-white rounded-xl font-semibold hover:bg-blue-600 shadow-lg hover:shadow-neon transition-all duration-300",children:"Get Started - Sign Up"}),d.jsx("button",{onClick:R,className:"px-8 py-3 border-2 border-neonBlue text-neonBlue rounded-xl font-semibold hover:bg-neonBlue hover:text-white transition-all duration-300",children:"Already have an account? Log In"})]})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mt-6",children:[d.jsx("section",{className:"lg:col-span-1 rounded-2xl bg-white border border-gray-200 shadow-sm dark:bg-ink/80 dark:border-white/5 dark:shadow-soft neon-border",children:d.jsxs("div",{className:"p-5",children:[d.jsx("h2",{className:"font-display text-lg mb-1",children:"Upload Data"}),d.jsx("p",{className:"text-gray-500 text-sm mb-4 dark:text-slate-400",children:"CSV / Excel only. Preview & progress included."}),d.jsx(C1,{onData:F=>{if(!e){a(!0);return}h(F)},onColumns:m,onTypes:v,onSummary:S,onChartTitle:_,onXAxis:C,onYAxis:O})]})}),d.jsx("section",{className:"lg:col-span-2 rounded-2xl bg-white border border-gray-200 shadow-sm dark:bg-ink/80 dark:border-white/5 dark:shadow-soft neon-border",children:d.jsxs("div",{className:"p-5",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("h2",{className:"font-display text-lg",children:"Visualization"}),d.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-black/30 transition",onClick:()=>U(F=>!F),children:d.jsx(is,{size:18,className:"text-gray-600 dark:text-slate-400"})})]}),G&&d.jsx("div",{className:"mb-4",children:d.jsx(id,{options:$,setOptions:I,columns:p})}),e&&u.length>0?d.jsx(Qg,{data:u,columns:p,types:y,options:$,chartTitle:k,xAxis:N,yAxis:P,setXAxis:C,setYAxis:O}):e?d.jsxs("div",{className:"rounded-2xl p-8 bg-gray-50 dark:bg-black/20 text-center text-gray-500",children:[d.jsx("div",{className:"text-lg font-medium",children:"Upload to visualize"}),d.jsx("div",{className:"text-sm mt-2",children:"Upload a CSV / Excel file on the left to enable the visualization tools."})]}):d.jsxs("div",{className:"rounded-2xl p-8 bg-gray-50 dark:bg-black/20 text-center text-gray-500",children:[d.jsx("div",{className:"text-lg font-medium mb-2",children:"Sign in to visualize"}),d.jsx("div",{className:"text-sm",children:"Create an account or sign in to unlock visualization features."}),d.jsx("div",{className:"mt-4",children:d.jsx("button",{onClick:()=>a(!0),className:"px-6 py-2 bg-neonBlue text-white rounded-lg hover:bg-blue-600 transition-colors duration-200",children:"Sign In"})})]})]})})]}),Object.keys(b).length>0&&e&&d.jsx("section",{className:"mt-6 rounded-2xl bg-white border border-gray-200 shadow-sm dark:bg-ink/80 dark:border-white/5 dark:shadow-soft neon-border",children:d.jsxs("div",{className:"p-5",children:[d.jsx("h2",{className:"font-display text-lg mb-4",children:"Summary"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full border-collapse",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-100 dark:bg-black/30",children:[d.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold text-gray-700 dark:text-slate-200",children:"Column"}),d.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold text-gray-700 dark:text-slate-200",children:"Details"})]})}),d.jsx("tbody",{children:Object.entries(b).map(([F,B],Q)=>d.jsxs("tr",{className:"odd:bg-gray-50 dark:odd:bg-black/20 border-b border-gray-200 dark:border-white/5 align-top",children:[d.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-800 dark:text-slate-200",children:F}),d.jsx("td",{className:"px-4 py-2 text-sm text-gray-600 dark:text-slate-300",children:B&&typeof B=="object"?d.jsx("table",{className:"min-w-[200px] border border-gray-200 dark:border-white/10 rounded-lg overflow-hidden",children:d.jsx("tbody",{children:Object.entries(B).map(([ie,ce],ne)=>d.jsxs("tr",{className:"odd:bg-gray-100 dark:odd:bg-black/30",children:[d.jsx("td",{className:"px-3 py-1.5 text-xs font-medium text-gray-700 dark:text-slate-200 border-r border-gray-200 dark:border-white/10",children:ie}),d.jsx("td",{className:"px-3 py-1.5 text-xs text-gray-600 dark:text-slate-300",children:String(ce)})]},ne))})}):String(B)})]},Q))})]})})]})}),d.jsx("div",{className:"mt-12",children:d.jsx(HS,{})})]}),d.jsx(VS,{})]}),s&&d.jsx(US,{onClose:()=>a(!1),onSignup:T,onLogin:R})]})}function GS({title:n="Upload File",hint:e="",accept:t="",multiple:s=!1,files:a=[],setFiles:o=()=>{},onUpload:l=null,viewMode:u="grid",setViewMode:h=()=>{},uploadLabel:p="Upload & Process",loading:m=!1,toolType:y="convert"}){const v=j.useRef(null),[b,S]=j.useState(!1),[k,_]=j.useState("");j.useEffect(()=>{_("")},[a]);const N=I=>{const G=Array.from(I.target.files||[]);G.length&&(o(s?G:[G[0]]),I.target.value="")},C=I=>{I.preventDefault();const G=Array.from(I.dataTransfer.files||[]);G.length&&o(s?G:[G[0]])},P=I=>{const G=[...a];G.splice(I,1),o(G)},O=()=>{switch(y){case"compress":return"Upload File to Compress";case"merge":return"Upload PDF Files to Merge";case"csv-to-excel":return"Upload CSV to convert to Excel";case"excel-to-csv":return"Upload Excel to convert to CSV";case"pdf-to-csv":return"Upload PDF to extract to CSV";case"csv-to-pdf":return"Upload CSV to convert to PDF";case"pdf-to-excel":return"Upload PDF to convert to Excel";case"excel-to-pdf":return"Upload Excel to convert to PDF";case"pdf-to-word":return"Upload PDF to convert to Word";default:return n}},D=()=>{if(t)return t;switch(y){case"compress":return"*/*";case"merge":return".pdf,application/pdf";case"csv-to-excel":case"csv-to-pdf":return".csv,text/csv";case"excel-to-csv":case"excel-to-pdf":return".xls,.xlsx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel";case"pdf-to-csv":case"pdf-to-excel":case"pdf-to-word":return".pdf,application/pdf";default:return"*/*"}},Y=async()=>{_(""),S(!0);try{if(!a||a.length===0)throw new Error("No file selected");const I={compress:{url:"/api/filetools/pdf/compress",multi:!1,formFileKey:"file"},"compress-any":{url:"/api/filetools/file/compress",multi:!1,formFileKey:"file"},merge:{url:"/api/filetools/pdf/merge",multi:!0,formFileKey:"files"},"csv-to-excel":{url:"/api/filetools/convert/csv-to-excel",multi:!1,formFileKey:"file"},"excel-to-csv":{url:"/api/filetools/convert/excel-to-csv",multi:!1,formFileKey:"file"},"pdf-to-csv":{url:"/api/filetools/convert/pdf-to-csv",multi:!1,formFileKey:"file"},"csv-to-pdf":{url:"/api/filetools/convert/csv-to-pdf",multi:!1,formFileKey:"file"},"pdf-to-excel":{url:"/api/filetools/convert/pdf-to-excel",multi:!1,formFileKey:"file"},"excel-to-pdf":{url:"/api/filetools/convert/excel-to-pdf",multi:!1,formFileKey:"file"},"pdf-to-word":{url:"/api/filetools/convert/pdf-to-word",multi:!1,formFileKey:"file"}};let G=I[y]||I.compress;const U=new FormData;G.multi?a.forEach(F=>{U.append(G.formFileKey,F)}):U.append(G.formFileKey,a[0]);const T=await fetch(G.url,{method:"POST",body:U}),R=await T.json();if(!T.ok)throw new Error(R.detail||R.error||JSON.stringify(R));if(typeof l=="function")try{await l(a,{result:R,toolType:y})}catch{}return S(!1),R}catch(I){return S(!1),_(I.message||String(I)),Promise.reject(I)}},$=async()=>{if(typeof l=="function")try{const I=l(a);I&&typeof I.then=="function"&&await I}catch(I){_(I.message||String(I))}else await Y()};return d.jsxs("section",{className:"rounded-2xl bg-white dark:bg-slate-900 border-2 shadow-lg p-6 max-w-6xl fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-50",style:{borderColor:"rgba(14,165,233,0.35)"},children:[d.jsx("h3",{className:"font-display text-lg mb-2 text-gray-800 dark:text-slate-200",children:O()}),e&&d.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mb-6",children:e}),d.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 items-center",children:[d.jsxs("div",{onDrop:C,onDragOver:I=>I.preventDefault(),className:"flex-1 rounded-xl p-6 text-center transition-all duration-300 bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-dashed hover:border-sky-400",style:{minHeight:"140px",display:"flex",flexDirection:"column",justifyContent:"center",boxShadow:"0 8px 32px rgba(59, 130, 246, 0.08)"},children:[d.jsx("div",{className:"mb-3",children:d.jsx("svg",{className:"mx-auto h-10 w-10 text-sky-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:d.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),d.jsx("p",{className:"mb-2 font-medium text-gray-700 dark:text-slate-300",children:"Drag & drop your file here"}),d.jsxs("p",{className:"text-xs mb-4 text-gray-500 dark:text-slate-400",children:["Accepted: ",d.jsx("span",{className:"font-mono text-sky-500",children:D()})]}),d.jsx("button",{type:"button",onClick:()=>v.current?.click(),className:"px-4 py-2 rounded-lg border-2 bg-white text-sky-500 hover:bg-sky-500 hover:text-white transition-all duration-300 font-medium shadow-md",children:"Choose File"}),d.jsx("input",{ref:v,type:"file",accept:D(),multiple:s,onChange:N,className:"hidden"})]}),d.jsxs("div",{className:"lg:w-80 w-full space-y-4",children:[d.jsxs("div",{className:"p-4 rounded-lg bg-gray-50 dark:bg-slate-800/50 border border-gray-200",children:[d.jsx("div",{className:"text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Selected Files:"}),a.length?d.jsx("div",{className:"space-y-1",children:a.map((I,G)=>d.jsxs("div",{className:"flex items-center justify-between p-2 bg-white dark:bg-slate-700 rounded border",children:[d.jsx("span",{className:"truncate flex-1 mr-2",children:I.name||I.filename}),I.size&&d.jsxs("span",{className:"text-xs text-gray-500 dark:text-slate-400",children:[Math.round(I.size/1024)," KB"]}),d.jsx("button",{onClick:()=>P(G),className:"ml-2 px-2 py-1 text-xs rounded bg-red-100 text-red-700",children:"X"})]},G))}):d.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"No file selected"})]}),a.length>0&&d.jsx("button",{onClick:$,disabled:m||b,className:`w-full px-6 py-3 rounded-lg font-medium transition-all duration-300 ${m||b?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-sky-500 text-white hover:bg-sky-600 shadow-lg"}`,children:m||b?"Processing...":p}),a.length>0&&d.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2",children:[d.jsx("span",{className:"text-xs text-gray-600 dark:text-slate-400 mr-2",children:"View:"}),["grid","details","list"].map(I=>d.jsx("button",{onClick:()=>h(I),className:`px-3 py-1.5 rounded text-xs font-medium transition-all duration-200 ${u===I?"bg-sky-500 text-white shadow-sm":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:I.charAt(0).toUpperCase()+I.slice(1)},I))]}),k&&d.jsx("div",{className:"mt-2 p-2 text-xs text-red-600 bg-red-50 rounded border border-red-200",children:k})]})]})]})}function KS({files:n=[],onUpload:e=null,uploadLabel:t="Process",downloadUrl:s="",onDownload:a=null,error:o="",loading:l=!1,showPanel:u=!1,conversionComplete:h=!1,fileName:p="",toolType:m="convert",onCompressionLevelChange:y=()=>{}}){const[v,b]=j.useState("medium"),[S,k]=j.useState(340),[_,N]=j.useState(null),[C,P]=j.useState(!1),[O,D]=j.useState({x:0,y:0}),Y=j.useRef(null),[$,I]=j.useState(!1),[G,U]=j.useState("");j.useEffect(()=>{m!=="compress"&&b("medium")},[m]),j.useEffect(()=>{k(m==="compress"&&!h?420:m==="merge"?380:340)},[m,h]);const T=q=>{if(!Y.current)return;P(!0);const A=Y.current.getBoundingClientRect();D({x:q.clientX-A.left,y:q.clientY-A.top})},R=q=>{C&&N({x:q.clientX-O.x,y:q.clientY-O.y})},F=()=>P(!1);if(j.useEffect(()=>(C?(window.addEventListener("mousemove",R),window.addEventListener("mouseup",F)):(window.removeEventListener("mousemove",R),window.removeEventListener("mouseup",F)),()=>{window.removeEventListener("mousemove",R),window.removeEventListener("mouseup",F)}),[C,O]),!u)return null;const B=()=>{switch(m){case"compress":return"File Compression";case"merge":return"File Merging";case"csv-to-excel":case"excel-to-csv":case"pdf-to-csv":case"csv-to-pdf":case"pdf-to-excel":case"excel-to-pdf":case"pdf-to-word":return"File Conversion";case"pdf":return"PDF Export";case"csv":return"CSV Export";default:return"File Processing"}},Q=q=>{b(q),y(q)},ie=async(q=n,A={})=>{U(""),I(!0);try{if(!q||q.length===0)throw new Error("No file provided for processing.");const K={compress:{url:"/api/filetools/pdf/compress",method:"POST",form:(W,J)=>{W.append("file",J),W.append("level",v)}},"compress-any":{url:"/api/filetools/file/compress",method:"POST",form:(W,J)=>{W.append("file",J),W.append("level",v)}},merge:{url:"/api/filetools/pdf/merge",method:"POST-multi",form:(W,J)=>W.append("files",J)},"csv-to-excel":{url:"/api/filetools/convert/csv-to-excel",method:"POST",form:(W,J)=>W.append("file",J)},"excel-to-csv":{url:"/api/filetools/convert/excel-to-csv",method:"POST",form:(W,J)=>W.append("file",J)},"pdf-to-csv":{url:"/api/filetools/convert/pdf-to-csv",method:"POST",form:(W,J)=>W.append("file",J)},"csv-to-pdf":{url:"/api/filetools/convert/csv-to-pdf",method:"POST",form:(W,J)=>W.append("file",J)},"pdf-to-excel":{url:"/api/filetools/convert/pdf-to-excel",method:"POST",form:(W,J)=>W.append("file",J)},"excel-to-pdf":{url:"/api/filetools/convert/excel-to-pdf",method:"POST",form:(W,J)=>W.append("file",J)},"pdf-to-word":{url:"/api/filetools/convert/pdf-to-word",method:"POST",form:(W,J)=>W.append("file",J)}};let Z=K[m];if(!Z&&m==="compress"&&(Z=K.compress),!Z)throw new Error("Unsupported tool type for built-in processing: "+m);const ue=new FormData;Z.method==="POST-multi"||m==="merge"?q.forEach(W=>{Z.form(ue,W)}):Z.form(ue,q[0]);const ge=await fetch(Z.url,{method:"POST",body:ue}),X=await ge.json();if(!ge.ok)throw new Error(X.detail||X.error||JSON.stringify(X));try{typeof e=="function"&&e(q,{result:X,toolType:m,level:v})}catch{}const oe=X.download_url||X.url||"";if(oe)if(typeof a=="function")a(oe);else{const W=oe.startsWith("/")?window.location.origin+oe:oe;window.open(W,"_blank")}return I(!1),X}catch(K){return I(!1),U(K.message||String(K)),Promise.reject(K)}},ce=async()=>{if(typeof e=="function")try{const q=e(n,{level:v});if(q&&typeof q.then=="function"){const K=(await q)?.download_url;K&&(typeof a=="function"?a(K):window.open(K.startsWith("/")?window.location.origin+K:K,"_blank"))}}catch(q){U(q.message||String(q))}else await ie(n,{})},ne=()=>{if(typeof a=="function")a(s);else if(s){const q=s.startsWith("/")?window.location.origin+s:s;window.open(q,"_blank")}},ae=()=>{if(l||$)return`${B().split(" ")[0]} Processing...`;switch(m){case"compress":return`Compress File (${v})`;case"merge":return"Merge Files";case"csv-to-excel":return"Convert CSV  Excel";case"excel-to-csv":return"Convert Excel  CSV";case"pdf-to-csv":return"Convert PDF  CSV";case"csv-to-pdf":return"Convert CSV  PDF";case"pdf-to-excel":return"Convert PDF  Excel";case"excel-to-pdf":return"Convert Excel  PDF";case"pdf-to-word":return"Convert PDF  Word";default:return t||"Process"}};return d.jsxs("div",{ref:Y,style:{position:"fixed",right:_?"auto":24,top:_?"auto":"50%",left:_?_.x:"auto",transform:_?"none":"translateY(-50%)",..._&&{top:_.y},width:S,maxHeight:"calc(100vh - 72px)",zIndex:1e3,display:"flex",flexDirection:"column",backgroundColor:"white",borderRadius:"1rem",boxShadow:"0 10px 30px rgba(0,0,0,0.08)",overflow:"hidden",border:"2px solid rgba(14,165,233,0.35)"},children:[d.jsx("div",{onMouseDown:T,className:"p-3 border-b border-gray-200 bg-sky-50 cursor-grab",children:d.jsx("div",{className:"text-sm font-semibold text-gray-800 flex items-center",children:B()})}),d.jsxs("div",{className:"flex-1 overflow-y-auto px-5 py-4",children:[m==="compress"&&!h&&d.jsx("div",{className:"mb-4 flex gap-2",children:[{value:"light",label:"Light",reduction:"~25%"},{value:"medium",label:"Medium",reduction:"~50%"},{value:"strong",label:"Strong",reduction:"~75%"}].map(q=>d.jsxs("button",{onClick:()=>Q(q.value),className:`flex-1 px-3 py-2 text-xs rounded border transition-all duration-150 ${v===q.value?"border-sky-500 bg-sky-100 text-sky-700":"border-gray-300 text-gray-700 hover:border-gray-400"}`,children:[q.label," ",q.reduction]},q.value))}),d.jsxs("div",{className:`mb-4 p-3 rounded-lg ${h?"bg-green-50 border border-green-200 text-green-700":"bg-sky-50 border border-sky-200 text-sky-700"}`,children:[d.jsx("span",{className:"text-sm font-medium",children:h?`${B()} Complete!`:"Ready to process"}),p&&h&&d.jsx("p",{className:"text-xs mt-1 break-all",children:p})]}),d.jsx("div",{children:d.jsx("button",{onClick:ce,disabled:l||$,className:`w-full px-4 py-2 rounded-lg text-sm font-semibold mb-3 transition-all duration-300 ${l||$?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-sky-500 text-white hover:bg-sky-600 shadow-md"}`,children:ae()})}),h&&d.jsx("button",{onClick:ne,disabled:!s,className:`w-full px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 ${s?"bg-green-500 text-white hover:bg-green-600":"bg-gray-100 text-gray-500 cursor-not-allowed"}`,children:s?"Download Result":"Preparing file..."}),(G||o)&&d.jsx("div",{className:"mt-3 p-3 text-xs text-red-600 bg-red-50 rounded-lg border border-red-200",children:G||o})]})]})}function XS({theme:n,setTheme:e}){const{action:t}=Ly(),[s]=fd(),[a,o]=j.useState([]),[l,u]=j.useState(""),[h,p]=j.useState(""),[m,y]=j.useState(!1),[v,b]=j.useState(!1),[S,k]=j.useState(""),[_,N]=j.useState(null),[C,P]=j.useState("medium"),[O,D]=j.useState("grid");j.useEffect(()=>{const T=s.get("token");T&&fetch(`/api/filetools/retrieve/${T}`).then(R=>R.blob()).then(R=>{const F=new File([R],"stashed_file",{type:R.type||"application/octet-stream"});N(F),o([F])}).catch(console.warn)},[s]),j.useEffect(()=>{u(""),p(""),y(!1),b(!1),k(""),P("medium"),o([])},[t]);const $={compress:{type:"compress",label:"File  Compressed File",accept:".pdf,.docx,.xlsx,.csv,.txt",endpoint:"/api/filetools/pdf/compress"},merge:{type:"merge",label:"Merge PDFs",accept:".pdf",endpoint:"/api/filetools/pdf/merge"},"pdf-to-word":{type:"convert",label:"PDF  Word",accept:".pdf",endpoint:"/api/filetools/pdf-to-word"},"pdf-to-excel":{type:"convert",label:"PDF  Excel",accept:".pdf",endpoint:"/api/filetools/pdf-to-excel"},"excel-to-pdf":{type:"convert",label:"Excel  PDF",accept:".xls,.xlsx",endpoint:"/api/filetools/excel-to-pdf"},"csv-to-excel":{type:"convert",label:"CSV  Excel",accept:".csv",endpoint:"/api/filetools/csv-to-excel"},"excel-to-csv":{type:"convert",label:"Excel  CSV",accept:".xls,.xlsx",endpoint:"/api/filetools/excel-to-csv"},"pdf-to-csv":{type:"convert",label:"PDF  CSV",accept:".pdf",endpoint:"/api/filetools/pdf-to-csv"},"csv-to-pdf":{type:"convert",label:"CSV  PDF",accept:".csv",endpoint:"/api/filetools/csv-to-pdf"}}[t]||null,I=async(T=null)=>{if(!a.length){p("Please select a file first.");return}y(!0),p(""),b(!1);try{const R=new FormData;$.type==="merge"?a.forEach(ie=>R.append("files",ie)):R.append("file",a[0]),$.type==="compress"&&R.append("level",T||C);const F=$.endpoint,B=await fetch(F,{method:"POST",body:R}),Q=await B.json();if(!B.ok)throw new Error(Q.detail||Q.error||"Conversion failed");u(Q.download_url),k(Q.filename||"converted_file"),b(!0)}catch(R){p(R.message||"Conversion failed"),b(!1)}finally{y(!1)}},G=()=>{l&&window.open(l,"_blank")},U=T=>{P(T),v&&(b(!1),u(""),k(""),p(""))};return d.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-slate-950",children:[d.jsx(wr,{theme:n,setTheme:e,onReportChange:()=>{}}),d.jsxs("div",{className:"flex-1 transition-all duration-300",children:[d.jsx(_r,{}),d.jsx("div",{className:"flex-1 flex flex-col p-6 space-y-6",children:$?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:`${$.type==="merge"?"max-w-6xl mx-auto":"max-w-4xl mx-auto"}`,children:d.jsx(GS,{title:$.type==="compress"?"Select file to Compress":$.type==="merge"?"Select PDFs to Merge":`Select file for ${$.label}`,hint:$.type==="compress"?"Choose a file and select your preferred compression level":$.type==="merge"?"You can select up to 15 PDF files to merge into one document":`Upload ${$.accept.replace(/\./g,"").toUpperCase()} file for conversion`,accept:$.accept,multiple:$.type==="merge",files:a,setFiles:o,viewMode:O,setViewMode:D,onUpload:I,uploadLabel:$.type==="compress"?`Compress (${C})`:$.type==="merge"?"Merge PDFs":"Convert",loading:m,borderColor:"sky-400"})}),d.jsx(KS,{showPanel:a.length>0,downloadUrl:l,onDownload:G,onUpload:I,uploadLabel:$.type==="compress"?`Compress (${C})`:$.type==="merge"?"Merge PDFs":"Convert",error:h,loading:m,conversionComplete:v,fileName:S,toolType:t,compressionLevel:C,onCompressionLevelChange:U,borderColor:"sky-400"})]}):d.jsx("div",{className:"text-center text-gray-600 dark:text-gray-300",children:d.jsxs("div",{className:"max-w-md mx-auto p-8 bg-white dark:bg-ink/80 rounded-2xl border border-gray-200 dark:border-white/5 shadow-soft",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-slate-200 mb-2",children:"Tool Not Found"}),d.jsxs("p",{className:"text-gray-600 dark:text-slate-400",children:['The requested tool "',t,'" is not available.']})]})})})]})]})}var qS={};const pm=qS.REACT_APP_GOOGLE_CLIENT_ID||"618939207673-gbevo0aok0bqufjch9mmr4sc9ma86qtm.apps.googleusercontent.com",JS=[{code:"+1",name:"USA"},{code:"+44",name:"UK"},{code:"+91",name:"India"},{code:"+61",name:"Australia"},{code:"+81",name:"Japan"},{code:"+49",name:"Germany"},{code:"+33",name:"France"},{code:"+55",name:"Brazil"},{code:"+7",name:"Russia"},{code:"+86",name:"China"},{code:"+27",name:"South Africa"},{code:"+39",name:"Italy"},{code:"+34",name:"Spain"},{code:"+82",name:"South Korea"},{code:"+64",name:"New Zealand"},{code:"+65",name:"Singapore"},{code:"+90",name:"Turkey"},{code:"+31",name:"Netherlands"},{code:"+46",name:"Sweden"},{code:"+41",name:"Switzerland"},{code:"+351",name:"Portugal"},{code:"+352",name:"Luxembourg"},{code:"+353",name:"Ireland"},{code:"+358",name:"Finland"},{code:"+420",name:"Czech Republic"},{code:"+421",name:"Slovakia"},{code:"+48",name:"Poland"},{code:"+36",name:"Hungary"},{code:"+971",name:"UAE"},{code:"+972",name:"Israel"},{code:"+966",name:"Saudi Arabia"},{code:"+20",name:"Egypt"},{code:"+212",name:"Morocco"},{code:"+92",name:"Pakistan"},{code:"+880",name:"Bangladesh"},{code:"+974",name:"Qatar"},{code:"+965",name:"Kuwait"}];function QS(){const n=on(),[e,t]=j.useState(""),[s,a]=j.useState(""),[o,l]=j.useState("email"),[u,h]=j.useState(!1),[p,m]=j.useState(!1),[y,v]=j.useState(""),[b,S]=j.useState("+1"),[k,_]=j.useState(!1),[N,C]=j.useState(""),P=j.useRef(null),O=JS.filter(U=>U.name.toLowerCase().includes(N.toLowerCase())||U.code.includes(N));window.handleCredentialResponse=async U=>{m(!0),v("");try{const T=await fetch("/api/auth/google",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({credential:U.credential})}),R=await T.json();if(!T.ok)throw new Error(R.detail||"Google sign-in failed");localStorage.setItem("token",R.access_token),localStorage.setItem("user",JSON.stringify(R.user)),n("/")}catch(T){v(T.message)}finally{m(!1)}};const D=()=>{m(!0),v("");try{if(typeof google>"u")throw new Error("Google Sign-In not loaded. Please refresh the page.");const U=document.getElementById("google-signin-button");U&&(U.innerHTML="",google.accounts.id.renderButton(U,{theme:"outline",size:"large",width:"100%",text:"signin_with"})),m(!1)}catch(U){v(U.message),m(!1)}},Y=async U=>{U.preventDefault(),m(!0),v("");try{const T=o==="phone"?b+e:e,R=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({contact:T,password:s})}),F=await R.json();if(!R.ok)throw new Error(F.detail||"Invalid credentials");localStorage.setItem("token",F.access_token),localStorage.setItem("user",JSON.stringify(F.user)),n("/")}catch(T){v(T.message)}finally{m(!1)}},$=()=>{l("phone"),h(!0)},I=U=>{S(U.code),_(!1),C("")},G=U=>{U.key==="Enter"&&O.length>0?I(O[0]):U.key==="Escape"&&(_(!1),C(""))};return j.useEffect(()=>{const U=T=>{P.current&&!P.current.contains(T.target)&&(_(!1),C(""))};return document.addEventListener("mousedown",U),()=>document.removeEventListener("mousedown",U)},[]),j.useEffect(()=>{const U=document.createElement("script");return U.src="https://accounts.google.com/gsi/client",U.async=!0,U.defer=!0,U.onload=()=>{typeof google<"u"&&google.accounts.id.initialize({client_id:pm,callback:window.handleCredentialResponse,auto_select:!1,cancel_on_tap_outside:!1})},document.body.appendChild(U),()=>{document.body.contains(U)&&document.body.removeChild(U)}},[]),d.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-slate-950 dark:to-slate-900 p-4 relative",children:[d.jsxs("div",{className:"absolute top-6 left-6 flex items-center space-x-2 z-10",children:[d.jsx("img",{src:"/favicon.png",alt:"Syla logo",className:"w-8 h-8 animate-float"}),d.jsx("span",{className:"font-inter font-bold text-xl text-gray-800 dark:text-slate-200",children:"Syla Analytics"})]}),d.jsxs("div",{className:"w-full max-w-md h-[85vh] bg-white dark:bg-ink/90 rounded-2xl shadow-2xl border-2 border-blue-500 dark:border-yellow-400 transform transition-all duration-300 hover:scale-[1.02] hover:shadow-3xl hover:border-blue-600 dark:hover:border-yellow-300 flex flex-col",children:[d.jsxs("div",{className:"text-center p-6 pb-0 flex-shrink-0",children:[d.jsx("h1",{className:"text-3xl font-display font-bold text-gray-800 dark:text-slate-200 mb-1",children:"Welcome Back"}),d.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Sign in to your Syla Analytics account"}),d.jsx("div",{className:"mt-3 w-16 h-1 bg-blue-500 dark:bg-yellow-400 rounded-full mx-auto"})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:[y&&d.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 dark:bg-red-900/20 dark:border-red-800 dark:text-red-400 text-sm",children:y}),u?d.jsxs("div",{className:"space-y-4",children:[d.jsx("button",{onClick:()=>h(!1),className:"mb-4 flex items-center text-sm text-gray-600 dark:text-slate-400 hover:text-gray-800 dark:hover:text-slate-200 transition-colors duration-200",children:" Back to options"}),d.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[o==="phone"&&d.jsxs("div",{className:"flex space-x-2 relative",ref:P,children:[d.jsxs("div",{className:"relative",children:[d.jsxs("button",{type:"button",onClick:()=>_(!k),className:"border border-gray-300 dark:border-slate-600 rounded-lg px-3 py-3 bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 hover:border-blue-400 min-w-[100px] flex items-center justify-between",children:[d.jsx("span",{className:"text-sm",children:b}),d.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),k&&d.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg shadow-lg z-20 max-h-60 overflow-hidden",children:[d.jsx("div",{className:"p-2 border-b border-gray-200 dark:border-slate-600",children:d.jsx("input",{type:"text",value:N,onChange:U=>C(U.target.value),onKeyDown:G,placeholder:"Search country...",className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 focus:outline-none focus:ring-1 focus:ring-blue-500",autoFocus:!0})}),d.jsxs("div",{className:"max-h-40 overflow-y-auto",children:[O.map(U=>d.jsxs("button",{type:"button",onClick:()=>I(U),className:"w-full px-3 py-2 text-left text-sm hover:bg-blue-50 dark:hover:bg-slate-700 transition-colors duration-150 flex justify-between items-center",children:[d.jsx("span",{className:"text-gray-900 dark:text-slate-100",children:U.name}),d.jsx("span",{className:"text-gray-500 dark:text-slate-400",children:U.code})]},U.code)),O.length===0&&d.jsx("div",{className:"px-3 py-2 text-sm text-gray-500 dark:text-slate-400",children:"No countries found"})]})]})]}),d.jsx("input",{type:"tel",value:e,onChange:U=>t(U.target.value),placeholder:"Phone Number",required:!0,className:"flex-1 border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-3 bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),o==="email"&&d.jsx("input",{type:"email",value:e,onChange:U=>t(U.target.value),placeholder:"Email",required:!0,className:"w-full border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-3 bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"}),d.jsx("input",{type:"password",value:s,onChange:U=>a(U.target.value),placeholder:"Password",required:!0,className:"w-full border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-3 bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"}),d.jsx("button",{type:"submit",disabled:p,className:`w-full py-3 rounded-lg font-semibold text-white transition-all duration-200 transform ${p?"bg-gray-400 cursor-not-allowed":"bg-blue-500 dark:bg-yellow-400 dark:text-gray-900 hover:bg-blue-600 dark:hover:bg-yellow-300 hover:shadow-lg hover:scale-[1.02] shadow-md"}`,children:p?"Signing In...":"Sign In"}),d.jsx("div",{className:"text-center",children:d.jsx(Te,{to:"/forgot-password",className:"text-sm text-blue-500 dark:text-yellow-400 hover:underline transition-colors duration-200",children:"Forgot your password?"})})]})]}):d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"w-full",children:[d.jsx("div",{id:"g_id_onload","data-client_id":pm,"data-auto_prompt":"false"}),d.jsx("div",{id:"google-signin-button",className:"w-full flex justify-center"}),d.jsxs("button",{onClick:D,disabled:p,className:"w-full flex items-center justify-center px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-gray-700 dark:text-slate-200 font-medium transition-all duration-200 hover:bg-gray-50 dark:hover:bg-slate-700 hover:border-blue-400 hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed mt-2",children:[d.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[d.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),d.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),d.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),d.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),p?"Please wait...":"Continue with Google"]})]}),d.jsxs("div",{className:"flex items-center my-4",children:[d.jsx("div",{className:"flex-1 border-t border-gray-300 dark:border-white/20"}),d.jsx("span",{className:"px-4 text-sm text-gray-500 dark:text-slate-400",children:"or"}),d.jsx("div",{className:"flex-1 border-t border-gray-300 dark:border-white/20"})]}),d.jsx("button",{onClick:()=>{l("email"),h(!0)},className:"w-full px-4 py-3 rounded-lg font-medium bg-blue-500 text-white transition-all duration-200 hover:bg-blue-600 hover:shadow-lg hover:scale-[1.02] transform shadow-md",children:"Continue with Email"}),d.jsx("button",{onClick:$,className:"w-full px-4 py-3 rounded-lg font-medium bg-blue-50 dark:bg-slate-800 border-2 border-blue-300 dark:border-blue-400 text-blue-600 dark:text-blue-300 transition-all duration-200 hover:border-blue-500 dark:hover:border-blue-300 hover:bg-blue-100 dark:hover:bg-slate-700 hover:shadow-lg hover:scale-[1.02] transform",children:"Continue with Phone"})]})]}),d.jsxs("div",{className:"p-6 pt-0 flex-shrink-0 text-center text-sm text-gray-600 dark:text-slate-400 border-t border-gray-200 dark:border-slate-700",children:["Don't have an account?"," ",d.jsx(Te,{to:"/signup",className:"text-blue-500 dark:text-yellow-400 font-semibold hover:underline transition-colors duration-200",children:"Create one here"})]})]})]})}var ZS={};const mm=ZS.REACT_APP_GOOGLE_CLIENT_ID||"618939207673-gbevo0aok0bqufjch9mmr4sc9ma86qtm.apps.googleusercontent.com",ej=[{code:"+1",name:"USA"},{code:"+44",name:"UK"},{code:"+91",name:"India"},{code:"+61",name:"Australia"},{code:"+81",name:"Japan"},{code:"+49",name:"Germany"},{code:"+33",name:"France"},{code:"+55",name:"Brazil"},{code:"+7",name:"Russia"},{code:"+86",name:"China"},{code:"+27",name:"South Africa"},{code:"+39",name:"Italy"},{code:"+34",name:"Spain"},{code:"+82",name:"South Korea"},{code:"+64",name:"New Zealand"},{code:"+65",name:"Singapore"},{code:"+90",name:"Turkey"},{code:"+31",name:"Netherlands"},{code:"+46",name:"Sweden"},{code:"+41",name:"Switzerland"},{code:"+351",name:"Portugal"},{code:"+352",name:"Luxembourg"},{code:"+353",name:"Ireland"},{code:"+358",name:"Finland"},{code:"+420",name:"Czech Republic"},{code:"+421",name:"Slovakia"},{code:"+48",name:"Poland"},{code:"+36",name:"Hungary"},{code:"+971",name:"UAE"},{code:"+972",name:"Israel"},{code:"+966",name:"Saudi Arabia"},{code:"+20",name:"Egypt"},{code:"+212",name:"Morocco"},{code:"+92",name:"Pakistan"},{code:"+880",name:"Bangladesh"},{code:"+974",name:"Qatar"},{code:"+965",name:"Kuwait"}];function tj(){const n=on(),[e,t]=j.useState(""),[s,a]=j.useState(""),[o,l]=j.useState("+1"),[u,h]=j.useState(""),[p,m]=j.useState(""),[y,v]=j.useState("email"),[b,S]=j.useState(!1),[k,_]=j.useState(""),[N,C]=j.useState(!1),[P,O]=j.useState(!1),[D,Y]=j.useState(""),$=j.useRef(null),I=ej.filter(B=>B.name.toLowerCase().includes(D.toLowerCase())||B.code.includes(D));window.handleCredentialResponse=async B=>{C(!0),_("");try{const Q=await fetch("/api/auth/google",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({credential:B.credential})}),ie=await Q.json();if(!Q.ok)throw new Error(ie.detail||"Google sign-in failed");localStorage.setItem("token",ie.access_token),localStorage.setItem("user",JSON.stringify(ie.user)),n("/")}catch(Q){_(Q.message)}finally{C(!1)}};const G=()=>{C(!0),_("");try{if(typeof google>"u")throw new Error("Google Sign-In not loaded. Please refresh the page.");const B=document.getElementById("google-signin-button");B&&(B.innerHTML="",google.accounts.id.renderButton(B,{theme:"outline",size:"large",width:"100%",text:"signup_with"})),C(!1)}catch(B){_(B.message),C(!1)}},U=()=>S(!0),T=async B=>{if(B.preventDefault(),_(""),C(!0),u!==p)return _("Passwords do not match"),C(!1);if(u.length<6)return _("Password must be at least 6 characters long"),C(!1);try{const Q=await fetch("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:e,contact:y==="phone"?o+s:s,password:u,confirm_password:p,contact_type:y})}),ie=await Q.json();if(!Q.ok)throw new Error(ie.detail||"Signup failed");localStorage.setItem("token",ie.access_token),localStorage.setItem("user",JSON.stringify(ie.user)),n("/")}catch(Q){_(Q.message)}finally{C(!1)}},R=B=>{l(B.code),O(!1),Y("")},F=B=>{B.key==="Enter"&&I.length>0?R(I[0]):B.key==="Escape"&&(O(!1),Y(""))};return j.useEffect(()=>{const B=Q=>{$.current&&!$.current.contains(Q.target)&&(O(!1),Y(""))};return document.addEventListener("mousedown",B),()=>document.removeEventListener("mousedown",B)},[]),j.useEffect(()=>{const B=document.createElement("script");return B.src="https://accounts.google.com/gsi/client",B.async=!0,B.defer=!0,B.onload=()=>{typeof google<"u"&&google.accounts.id.initialize({client_id:mm,callback:window.handleCredentialResponse,auto_select:!1,cancel_on_tap_outside:!1})},document.body.appendChild(B),()=>{document.body.contains(B)&&document.body.removeChild(B)}},[]),d.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-slate-950 dark:to-slate-900 p-4 relative",children:[d.jsxs("div",{className:"absolute top-6 left-6 flex items-center space-x-2 z-10",children:[d.jsx("img",{src:"/favicon.png",alt:"Syla logo",className:"w-8 h-8 animate-float"}),d.jsx("span",{className:"font-inter font-bold text-xl text-gray-800 dark:text-slate-200",children:"Syla Analytics"})]}),d.jsxs("div",{className:"w-full max-w-md h-[85vh] bg-white dark:bg-ink/90 rounded-2xl shadow-2xl border-2 border-blue-500 dark:border-yellow-400 transform transition-all duration-300 hover:scale-[1.02] hover:shadow-3xl hover:border-blue-600 dark:hover:border-yellow-300 flex flex-col",children:[d.jsxs("div",{className:"text-center p-6 pb-0 flex-shrink-0",children:[d.jsx("h1",{className:"text-3xl font-display font-bold text-gray-800 dark:text-slate-200 mb-1",children:"Create Account"}),d.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Join Syla Analytics today"}),d.jsx("div",{className:"mt-3 w-16 h-1 bg-blue-500 dark:bg-yellow-400 rounded-full mx-auto"})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:[k&&d.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 dark:bg-red-900/20 dark:border-red-800 dark:text-red-400 text-sm",children:k}),b?d.jsxs("div",{className:"space-y-4",children:[d.jsx("button",{onClick:()=>S(!1),className:"mb-4 flex items-center text-sm text-gray-600 dark:text-slate-400 hover:text-gray-800 dark:hover:text-slate-200 transition-colors duration-200",children:" Back to options"}),d.jsxs("form",{onSubmit:T,className:"space-y-4",children:[d.jsx("input",{type:"text",value:e,onChange:B=>t(B.target.value),placeholder:"Full Name",required:!0,className:"w-full border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-3 bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"}),y==="phone"&&d.jsxs("div",{className:"flex space-x-2 relative",ref:$,children:[d.jsxs("div",{className:"relative",children:[d.jsxs("button",{type:"button",onClick:()=>O(!P),className:"border border-gray-300 dark:border-slate-600 rounded-lg px-3 py-3 bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 hover:border-blue-400 min-w-[100px] flex items-center justify-between",children:[d.jsx("span",{className:"text-sm",children:o}),d.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),P&&d.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg shadow-lg z-20 max-h-60 overflow-hidden",children:[d.jsx("div",{className:"p-2 border-b border-gray-200 dark:border-slate-600",children:d.jsx("input",{type:"text",value:D,onChange:B=>Y(B.target.value),onKeyDown:F,placeholder:"Search country...",className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 focus:outline-none focus:ring-1 focus:ring-blue-500",autoFocus:!0})}),d.jsxs("div",{className:"max-h-40 overflow-y-auto",children:[I.map(B=>d.jsxs("button",{type:"button",onClick:()=>R(B),className:"w-full px-3 py-2 text-left text-sm hover:bg-blue-50 dark:hover:bg-slate-700 transition-colors duration-150 flex justify-between items-center",children:[d.jsx("span",{className:"text-gray-900 dark:text-slate-100",children:B.name}),d.jsx("span",{className:"text-gray-500 dark:text-slate-400",children:B.code})]},B.code)),I.length===0&&d.jsx("div",{className:"px-3 py-2 text-sm text-gray-500 dark:text-slate-400",children:"No countries found"})]})]})]}),d.jsx("input",{type:"tel",value:s,onChange:B=>a(B.target.value),placeholder:"Phone Number",required:!0,className:"flex-1 border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-3 bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),y==="email"&&d.jsx("input",{type:"email",value:s,onChange:B=>a(B.target.value),placeholder:"Email",required:!0,className:"w-full border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-3 bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"}),d.jsx("input",{type:"password",value:u,onChange:B=>h(B.target.value),placeholder:"Password",required:!0,className:"w-full border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-3 bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"}),d.jsx("input",{type:"password",value:p,onChange:B=>m(B.target.value),placeholder:"Confirm Password",required:!0,className:"w-full border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-3 bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"}),d.jsx("button",{type:"submit",disabled:N,className:`w-full py-3 rounded-lg font-semibold text-white transition-all duration-200 transform ${N?"bg-gray-400 cursor-not-allowed":"bg-blue-500 dark:bg-yellow-400 dark:text-gray-900 hover:bg-blue-600 dark:hover:bg-yellow-300 hover:shadow-lg hover:scale-[1.02] shadow-md"}`,children:N?"Creating...":"Create Account"})]})]}):d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"w-full",children:[d.jsx("div",{id:"g_id_onload","data-client_id":mm,"data-auto_prompt":"false"}),d.jsx("div",{id:"google-signin-button",className:"w-full flex justify-center"}),d.jsxs("button",{onClick:G,disabled:N,className:"w-full flex items-center justify-center px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-gray-700 dark:text-slate-200 font-medium transition-all duration-200 hover:bg-gray-50 dark:hover:bg-slate-700 hover:border-blue-400 hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed mt-2",children:[d.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[d.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),d.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),d.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),d.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),N?"Please wait...":"Continue with Google"]})]}),d.jsxs("div",{className:"flex items-center my-4",children:[d.jsx("div",{className:"flex-1 border-t border-gray-300 dark:border-white/20"}),d.jsx("span",{className:"px-4 text-sm text-gray-500 dark:text-slate-400",children:"or"}),d.jsx("div",{className:"flex-1 border-t border-gray-300 dark:border-white/20"})]}),d.jsx("button",{onClick:()=>{v("email"),S(!0)},className:"w-full px-4 py-3 rounded-lg font-medium bg-blue-500 text-white transition-all duration-200 hover:bg-blue-600 hover:shadow-lg hover:scale-[1.02] transform shadow-md",children:"Continue with Email"}),d.jsx("button",{onClick:()=>{v("phone"),U()},className:"w-full px-4 py-3 rounded-lg font-medium bg-blue-50 dark:bg-slate-800 border-2 border-blue-300 dark:border-blue-400 text-blue-600 dark:text-blue-300 transition-all duration-200 hover:border-blue-500 dark:hover:border-blue-300 hover:bg-blue-100 dark:hover:bg-slate-700 hover:shadow-lg hover:scale-[1.02] transform",children:"Continue with Mobile"})]})]}),d.jsxs("div",{className:"p-6 pt-0 flex-shrink-0 text-center text-sm text-gray-600 dark:text-slate-400 border-t border-gray-200 dark:border-slate-700",children:["Already have an account?"," ",d.jsx(Te,{to:"/login",className:"text-blue-500 dark:text-yellow-400 font-semibold hover:underline transition-colors duration-200",children:"Log in"})]})]})]})}function nj(){const[n,e]=j.useState(""),[t,s]=j.useState(!1),[a,o]=j.useState(""),[l,u]=j.useState(""),[h,p]=j.useState(!1),m=async y=>{y.preventDefault(),s(!0),u(""),o("");try{const v=await fetch("/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({contact:n})}),b=await v.json();if(!v.ok)throw new Error(b.detail||"Request failed");o(b.message),p(!0)}catch(v){u(v.message)}finally{s(!1)}};return d.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-slate-950 dark:to-slate-900 p-4 relative",children:[d.jsxs("div",{className:"absolute top-6 left-6 flex items-center space-x-2 z-10",children:[d.jsx("img",{src:"/favicon.png",alt:"Syla logo",className:"w-8 h-8 animate-float"}),d.jsx("span",{className:"font-inter font-bold text-xl text-gray-800 dark:text-slate-200",children:"Syla Analytics"})]}),d.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-ink/90 rounded-2xl shadow-2xl border-2 border-blue-500 dark:border-yellow-400 transform transition-all duration-300 hover:scale-[1.02] hover:shadow-3xl hover:border-blue-600 dark:hover:border-yellow-300",children:[d.jsxs("div",{className:"text-center p-6 pb-4",children:[d.jsx("h1",{className:"text-3xl font-display font-bold text-gray-800 dark:text-slate-200 mb-1",children:"Forgot Password?"}),d.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Enter your email or phone to reset your password"}),d.jsx("div",{className:"mt-3 w-16 h-1 bg-blue-500 dark:bg-yellow-400 rounded-full mx-auto"})]}),d.jsxs("div",{className:"px-6 pb-6",children:[h&&a&&d.jsxs("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg text-green-700 dark:bg-green-900/20 dark:border-green-800 dark:text-green-400 text-sm",children:[d.jsx("div",{className:"font-medium mb-1",children:"Instructions Sent!"}),d.jsx("div",{children:a}),d.jsx("div",{className:"mt-3 pt-3 border-t border-green-200 dark:border-green-800",children:d.jsx(Te,{to:"/login",className:"text-green-600 dark:text-green-400 hover:underline font-medium",children:"Back to Login"})})]}),l&&d.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 dark:bg-red-900/20 dark:border-red-800 dark:text-red-400 text-sm",children:l}),!h&&d.jsxs("form",{onSubmit:m,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Email or Phone Number"}),d.jsx("input",{type:"text",value:n,onChange:y=>e(y.target.value),placeholder:"Enter your email or phone number",required:!0,className:"w-full border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-3 bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),d.jsx("button",{type:"submit",disabled:t||!n.trim(),className:`w-full py-3 rounded-lg font-semibold text-white transition-all duration-200 transform ${t||!n.trim()?"bg-gray-400 cursor-not-allowed":"bg-blue-500 dark:bg-yellow-400 dark:text-gray-900 hover:bg-blue-600 dark:hover:bg-yellow-300 hover:shadow-lg hover:scale-[1.02] shadow-md"}`,children:t?"Sending...":"Send Reset Instructions"})]}),d.jsxs("div",{className:"mt-6 text-center text-sm text-gray-600 dark:text-slate-400 border-t border-gray-200 dark:border-slate-700 pt-4",children:["Remember your password?"," ",d.jsx(Te,{to:"/login",className:"text-blue-500 dark:text-yellow-400 font-semibold hover:underline transition-colors duration-200",children:"Back to Login"})]})]})]})]})}function rj(){const n=on(),[e]=fd(),t=e.get("token"),[s,a]=j.useState(""),[o,l]=j.useState(""),[u,h]=j.useState(!1),[p,m]=j.useState(!0),[y,v]=j.useState(""),[b,S]=j.useState(!1),[k,_]=j.useState("");j.useEffect(()=>{if(!t){v("Invalid reset link. Please request a new password reset."),m(!1);return}N()},[t]);const N=async()=>{try{const P=await fetch(`/api/auth/validate-reset-token/${t}`,{credentials:"include"});if(P.ok){const O=await P.json();S(!0),_(O.contact)}else v("This reset link has expired or is invalid. Please request a new password reset.")}catch{v("Unable to validate reset link. Please try again.")}finally{m(!1)}},C=async P=>{if(P.preventDefault(),h(!0),v(""),s!==o){v("Passwords do not match"),h(!1);return}if(s.length<6){v("Password must be at least 6 characters long"),h(!1);return}try{const O=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({token:t,new_password:s,confirm_password:o})}),D=await O.json();if(!O.ok)throw new Error(D.detail||"Password reset failed");localStorage.setItem("token",D.access_token),localStorage.setItem("user",JSON.stringify(D.user)),n("/")}catch(O){v(O.message)}finally{h(!1)}};return d.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-slate-950 dark:to-slate-900 p-4 relative",children:[d.jsxs("div",{className:"absolute top-6 left-6 flex items-center space-x-2 z-10",children:[d.jsx("img",{src:"/favicon.png",alt:"Syla logo",className:"w-8 h-8 animate-float"}),d.jsx("span",{className:"font-inter font-bold text-xl text-gray-800 dark:text-slate-200",children:"Syla Analytics"})]}),d.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-ink/90 rounded-2xl shadow-2xl border-2 border-blue-500 dark:border-yellow-400 transform transition-all duration-300 hover:scale-[1.02] hover:shadow-3xl hover:border-blue-600 dark:hover:border-yellow-300",children:[d.jsxs("div",{className:"text-center p-6 pb-4",children:[d.jsx("h1",{className:"text-3xl font-display font-bold text-gray-800 dark:text-slate-200 mb-1",children:"Reset Password"}),k&&d.jsxs("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:["Reset password for ",k]}),d.jsx("div",{className:"mt-3 w-16 h-1 bg-blue-500 dark:bg-yellow-400 rounded-full mx-auto"})]}),d.jsxs("div",{className:"px-6 pb-6",children:[p&&d.jsxs("div",{className:"text-center py-8",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Validating reset link..."})]}),!p&&!b&&d.jsxs("div",{className:"text-center py-4",children:[d.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700 dark:bg-red-900/20 dark:border-red-800 dark:text-red-400 text-sm",children:y}),d.jsxs("div",{className:"space-y-3",children:[d.jsx(Te,{to:"/forgot-password",className:"block w-full px-4 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors duration-200 font-medium",children:"Request New Reset Link"}),d.jsx(Te,{to:"/login",className:"block text-blue-500 dark:text-yellow-400 hover:underline font-medium",children:"Back to Login"})]})]}),!p&&b&&d.jsxs(d.Fragment,{children:[y&&d.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 dark:bg-red-900/20 dark:border-red-800 dark:text-red-400 text-sm",children:y}),d.jsxs("form",{onSubmit:C,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"New Password"}),d.jsx("input",{type:"password",value:s,onChange:P=>a(P.target.value),placeholder:"Enter new password",required:!0,className:"w-full border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-3 bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Confirm New Password"}),d.jsx("input",{type:"password",value:o,onChange:P=>l(P.target.value),placeholder:"Confirm new password",required:!0,className:"w-full border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-3 bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),d.jsx("button",{type:"submit",disabled:u||!s||!o,className:`w-full py-3 rounded-lg font-semibold text-white transition-all duration-200 transform ${u||!s||!o?"bg-gray-400 cursor-not-allowed":"bg-blue-500 dark:bg-yellow-400 dark:text-gray-900 hover:bg-blue-600 dark:hover:bg-yellow-300 hover:shadow-lg hover:scale-[1.02] shadow-md"}`,children:u?"Resetting...":"Reset Password"})]})]}),d.jsxs("div",{className:"mt-6 text-center text-sm text-gray-600 dark:text-slate-400 border-t border-gray-200 dark:border-slate-700 pt-4",children:["Remember your password?"," ",d.jsx(Te,{to:"/login",className:"text-blue-500 dark:text-yellow-400 font-semibold hover:underline transition-colors duration-200",children:"Back to Login"})]})]})]})]})}function sj(){const[n,e]=j.useState("dark"),[t,s]=j.useState(null),[a,o]=j.useState(!1),[l,u]=j.useState(""),[h,p]=j.useState("appearance"),m=on();j.useEffect(()=>{const k=localStorage.getItem("theme")||"dark";e(k),document.body.classList.remove("dark","light"),document.body.classList.add(k);const _=localStorage.getItem("user");if(_){const N=JSON.parse(_);s(N)}},[]);const y=k=>{e(k),localStorage.setItem("theme",k),document.body.classList.remove("dark","light"),document.body.classList.add(k)},v=async(k,_)=>{o(!0),u("");try{const N=localStorage.getItem("token");if(!N)throw new Error("Please log in to change password");const C=new FormData;C.append("current_password",k),C.append("new_password",_);const P=await fetch("/api/profile/change-password",{method:"POST",headers:{Authorization:`Bearer ${N}`},body:C});if(!P.ok){const O=await P.json();throw new Error(O.detail||"Failed to change password")}u("Password changed successfully!"),setTimeout(()=>u(""),3e3)}catch(N){u(N.message)}finally{o(!1)}},b=async()=>{try{const k=localStorage.getItem("token");if(!k)throw new Error("Please log in to clear files");if(!(await fetch("/api/filetools/clear-user-files",{method:"DELETE",headers:{Authorization:`Bearer ${k}`}})).ok)throw new Error("Failed to clear files");u("All files cleared successfully!"),setTimeout(()=>u(""),3e3)}catch(k){u(k.message)}},S=[{id:"appearance",label:"Appearance",icon:pd},{id:"profile",label:"Profile",icon:ts},{id:"account",label:"Account",icon:is},{id:"privacy",label:"Privacy",icon:p1},{id:"notifications",label:"Notifications",icon:Vv}];return d.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-slate-950",children:[d.jsx(wr,{theme:n,setTheme:e,onReportChange:()=>{}}),d.jsxs("div",{className:"flex-1 transition-all duration-300",children:[d.jsx(_r,{user:t}),d.jsxs("main",{className:"mx-auto max-w-6xl px-6 py-8",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"font-display text-3xl text-gray-800 dark:text-slate-200 mb-2",children:"Settings"}),d.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Manage your account preferences and application settings"})]}),l&&d.jsx("div",{className:`mb-6 p-4 rounded-lg border ${l.includes("successfully")?"bg-green-50 border-green-200 text-green-700 dark:bg-green-900/20 dark:border-green-800 dark:text-green-400":"bg-red-50 border-red-200 text-red-700 dark:bg-red-900/20 dark:border-red-800 dark:text-red-400"}`,children:l}),d.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[d.jsx("div",{className:"lg:w-64",children:d.jsx("nav",{className:"bg-white dark:bg-ink/80 rounded-2xl border border-gray-200 dark:border-white/5 p-2 shadow-soft",children:S.map(k=>{const _=k.icon;return d.jsxs("button",{onClick:()=>p(k.id),className:`w-full text-left px-4 py-3 rounded-lg font-medium transition-all duration-200 flex items-center gap-3 ${h===k.id?"bg-neonBlue text-white shadow-lg":"text-gray-700 dark:text-slate-300 hover:bg-gray-50 dark:hover:bg-white/5"}`,children:[d.jsx(_,{className:"w-5 h-5"}),k.label]},k.id)})})}),d.jsxs("div",{className:"flex-1",children:[h==="appearance"&&d.jsxs("section",{className:"bg-white dark:bg-ink/80 rounded-2xl border border-gray-200 dark:border-white/5 p-6 shadow-soft",children:[d.jsx("h2",{className:"font-display text-xl text-gray-800 dark:text-slate-200 mb-6",children:"Appearance Preferences"}),d.jsx("div",{className:"space-y-6",children:d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-4",children:"Theme Preference"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx("button",{onClick:()=>y("light"),className:`p-6 rounded-xl border-2 transition-all duration-200 ${n==="light"?"border-neonBlue bg-neonBlue/10 text-neonBlue ring-2 ring-neonBlue/20":"border-gray-200 hover:border-gray-300 text-gray-700 dark:border-white/10 dark:hover:border-white/20 dark:text-slate-300"}`,children:d.jsxs("div",{className:"flex flex-col items-center text-center",children:[d.jsx("div",{className:"flex items-center justify-center mb-3 p-3 rounded-full bg-white dark:bg-slate-800 shadow-sm",children:d.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})}),d.jsx("div",{className:"font-semibold text-lg mb-1",children:"Light Mode"}),d.jsx("div",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Clean and bright interface"})]})}),d.jsx("button",{onClick:()=>y("dark"),className:`p-6 rounded-xl border-2 transition-all duration-200 ${n==="dark"?"border-neonBlue bg-neonBlue/10 text-neonBlue ring-2 ring-neonBlue/20":"border-gray-200 hover:border-gray-300 text-gray-700 dark:border-white/10 dark:hover:border-white/20 dark:text-slate-300"}`,children:d.jsxs("div",{className:"flex flex-col items-center text-center",children:[d.jsx("div",{className:"flex items-center justify-center mb-3 p-3 rounded-full bg-white dark:bg-slate-800 shadow-sm",children:d.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})}),d.jsx("div",{className:"font-semibold text-lg mb-1",children:"Dark Mode"}),d.jsx("div",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Easy on the eyes"})]})})]})]})})]}),h==="profile"&&d.jsxs("div",{className:"bg-white dark:bg-ink/80 rounded-2xl border border-gray-200 dark:border-white/5 p-6 shadow-soft",children:[d.jsx("h2",{className:"font-display text-xl text-gray-800 dark:text-slate-200 mb-6",children:"Profile Information"}),t?d.jsxs("div",{className:"text-center py-8",children:[d.jsx(ts,{className:"w-16 h-16 mx-auto text-neonBlue mb-4"}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-slate-200 mb-2",children:"Manage Your Profile"}),d.jsx("p",{className:"text-gray-600 dark:text-slate-400 mb-6",children:"Update your profile information, avatar, and personal details"}),d.jsx("button",{onClick:()=>m("/profile"),className:"px-6 py-3 bg-neonBlue text-white rounded-lg hover:bg-blue-600 transition-colors duration-200 font-medium shadow-lg hover:shadow-neon",children:"Go to Profile Settings"})]}):d.jsxs("div",{className:"text-center py-8",children:[d.jsx(ts,{className:"w-16 h-16 mx-auto text-gray-400 dark:text-slate-500 mb-4"}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-slate-200 mb-2",children:"Sign in to access your profile"}),d.jsx("p",{className:"text-gray-600 dark:text-slate-400 mb-6",children:"Create an account or sign in to manage your profile information"}),d.jsxs("div",{className:"flex justify-center gap-4",children:[d.jsx(Te,{to:"/login",className:"px-6 py-3 bg-neonBlue text-white rounded-lg hover:bg-blue-600 transition-colors duration-200 font-medium",children:"Sign In"}),d.jsx(Te,{to:"/signup",className:"px-6 py-3 border border-neonBlue text-neonBlue rounded-lg hover:bg-neonBlue hover:text-white transition-colors duration-200 font-medium",children:"Create Account"})]})]})]}),h==="account"&&d.jsxs("section",{className:"bg-white dark:bg-ink/80 rounded-2xl border border-gray-200 dark:border-white/5 p-6 shadow-soft",children:[d.jsx("h2",{className:"font-display text-xl text-gray-800 dark:text-slate-200 mb-6",children:"Account Management"}),d.jsx("div",{className:"space-y-6",children:t?d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[d.jsx("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-400 mb-2",children:"Account Status"}),d.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["Signed in as ",d.jsx("strong",{children:t.email||t.phone})]})]}),d.jsxs("div",{className:"border-t border-gray-200 dark:border-white/10 pt-4",children:[d.jsx("h3",{className:"font-medium text-gray-900 dark:text-slate-200 mb-3",children:"Password & Security"}),d.jsx("button",{onClick:()=>{const k=prompt("Enter your current password:"),_=prompt("Enter your new password:");if(k&&_){if(_.length<6){alert("New password must be at least 6 characters long");return}v(k,_)}},disabled:a,className:`px-4 py-2 rounded-lg font-medium transition-colors duration-200 ${a?"bg-gray-400 text-gray-600 cursor-not-allowed":"bg-gray-500 text-white hover:bg-gray-600"}`,children:a?"Changing...":"Change Password"})]}),d.jsxs("div",{className:"border-t border-gray-200 dark:border-white/10 pt-4",children:[d.jsx("h3",{className:"font-medium text-gray-900 dark:text-slate-200 mb-3",children:"Account Actions"}),d.jsx("button",{onClick:()=>{confirm("Are you sure you want to sign out?")&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/")},className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors duration-200 font-medium",children:"Sign Out"})]})]}):d.jsxs("div",{className:"text-center py-8",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-400 dark:text-slate-500 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-slate-200 mb-2",children:"Sign in to access account features"}),d.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Create an account or sign in to manage your profile and preferences"})]}),d.jsxs("div",{className:"flex justify-center gap-4",children:[d.jsx(Te,{to:"/login",className:"px-6 py-3 bg-neonBlue text-white rounded-lg hover:bg-blue-600 transition-colors duration-200 font-medium shadow-lg hover:shadow-neon",children:"Sign In"}),d.jsx(Te,{to:"/signup",className:"px-6 py-3 border border-neonBlue text-neonBlue rounded-lg hover:bg-neonBlue hover:text-white transition-colors duration-200 font-medium",children:"Create Account"})]})]})})]}),h==="privacy"&&d.jsxs("section",{className:"bg-white dark:bg-ink/80 rounded-2xl border border-gray-200 dark:border-white/5 p-6 shadow-soft",children:[d.jsx("h2",{className:"font-display text-xl text-gray-800 dark:text-slate-200 mb-6",children:"Data & Privacy"}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[d.jsxs("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-400 mb-2",children:[d.jsx("svg",{className:"w-5 h-5 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Data Usage Policy"]}),d.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Your uploaded files are processed securely and are automatically deleted after processing. We don't store your data permanently and use industry-standard encryption."})]}),d.jsxs("div",{className:"border-t border-gray-200 dark:border-white/10 pt-4",children:[d.jsx("h3",{className:"font-medium text-gray-900 dark:text-slate-200 mb-3",children:"File Management"}),d.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 mb-4",children:"Remove all your uploaded files from our servers. This action cannot be undone."}),d.jsx("button",{onClick:()=>{confirm("Are you sure you want to clear all your uploaded files? This cannot be undone.")&&b()},className:"px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 dark:border-red-600 dark:text-red-400 dark:hover:bg-red-900/20 transition-colors duration-200 font-medium",children:"Clear All Uploaded Files"})]}),d.jsxs("div",{className:"border-t border-gray-200 dark:border-white/10 pt-4",children:[d.jsx("h3",{className:"font-medium text-gray-900 dark:text-slate-200 mb-3",children:"Data Export"}),d.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 mb-4",children:"Request a copy of your personal data stored on our platform."}),d.jsx("button",{className:"px-4 py-2 border border-gray-300 text-gray-600 rounded-lg hover:bg-gray-50 dark:border-white/20 dark:text-slate-300 dark:hover:bg-white/5 transition-colors duration-200 font-medium",onClick:()=>alert("Data export functionality will be available soon."),children:"Request Data Export"})]})]})]}),h==="notifications"&&d.jsxs("section",{className:"bg-white dark:bg-ink/80 rounded-2xl border border-gray-200 dark:border-white/5 p-6 shadow-soft",children:[d.jsx("h2",{className:"font-display text-xl text-gray-800 dark:text-slate-200 mb-6",children:"Notification Preferences"}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 dark:border-white/10 rounded-lg",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("h3",{className:"text-sm font-medium text-gray-700 dark:text-slate-300 flex items-center",children:[d.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Email Notifications"]}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1",children:"Receive updates about your account and new features"})]}),d.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[d.jsx("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),d.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),d.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 dark:border-white/10 rounded-lg",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("h3",{className:"text-sm font-medium text-gray-700 dark:text-slate-300 flex items-center",children:[d.jsx("svg",{className:"w-5 h-5 mr-2 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Processing Notifications"]}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1",children:"Get notified when file processing is complete"})]}),d.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[d.jsx("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),d.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),d.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 dark:border-white/10 rounded-lg",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("h3",{className:"text-sm font-medium text-gray-700 dark:text-slate-300 flex items-center",children:[d.jsx("svg",{className:"w-5 h-5 mr-2 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16c-.77.833.192 2.5 1.732 2.5z"})}),"Security Alerts"]}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1",children:"Receive notifications about security events"})]}),d.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[d.jsx("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),d.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})]})]})]})]})]})]})]})}function ij(){const{user:n,setUser:e,loading:t}=j.useContext(Ei),[s,a]=j.useState("dark"),[o,l]=j.useState({name:"",email:"",phone:"",bio:"",location:"",website:"",company:"",job_title:"",birth_date:"",gender:"",language:"en",timezone:"UTC"}),[u,h]=j.useState(null),[p,m]=j.useState(null),[y,v]=j.useState(!1),[b,S]=j.useState(""),[k,_]=j.useState("personal"),[N,C]=j.useState(!1),[P,O]=j.useState(!1),[D,Y]=j.useState({currentPassword:"",newPassword:"",confirmPassword:""}),$=j.useRef(null);j.useEffect(()=>{const F=localStorage.getItem("theme")||"dark";a(F),n&&l({name:n.name||"",email:n.email||"",phone:n.phone||"",bio:n.bio||"",location:n.location||"",website:n.website||"",company:n.company||"",job_title:n.job_title||"",birth_date:n.birth_date||"",gender:n.gender||"",language:n.language||"en",timezone:n.timezone||"UTC"})},[n]),j.useEffect(()=>{const F=setTimeout(()=>{setInitialLoading(!1)},500);return()=>clearTimeout(F)},[]);const I=(F,B)=>{l(Q=>({...Q,[F]:B}))},G=F=>{const B=F.target.files[0];if(B){if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(B.type)){S("Invalid file type. Please select an image file (JPEG, PNG, GIF, WebP).");return}if(B.size>5*1024*1024){S("File too large. Please select an image smaller than 5MB.");return}h(B);const ie=new FileReader;ie.onload=ce=>{m(ce.target.result)},ie.readAsDataURL(B)}},U=async()=>{try{const F=await fetch("/api/profile/avatar",{method:"DELETE",credentials:"include"});if(!F.ok){const Q=await F.json().catch(()=>({}));throw new Error(Q.detail||"Failed to remove avatar")}const B=await F.json();e(B),h(null),m(null),S("Avatar removed successfully!"),setTimeout(()=>S(""),3e3)}catch(F){S(`Failed to remove avatar: ${F.message}`)}},T=async()=>{v(!0),S("");try{const F=new FormData;Object.entries(o).forEach(([ie,ce])=>{F.append(ie,ce||"")}),u&&F.append("avatar",u);const B=await fetch("/api/profile",{method:"PUT",body:F,credentials:"include"});if(!B.ok){const ie=await B.json().catch(()=>({}));throw new Error(ie.detail||"Failed to update profile")}const Q=await B.json();e(Q),S("Profile updated successfully!"),h(null),m(null),setTimeout(()=>S(""),3e3)}catch(F){S(`Failed to update profile: ${F.message}`)}finally{v(!1)}},R=async()=>{if(D.newPassword!==D.confirmPassword){S("New passwords don't match!");return}if(D.newPassword.length<6){S("New password must be at least 6 characters long!");return}v(!0),S("");try{const F=new FormData;F.append("current_password",D.currentPassword),F.append("new_password",D.newPassword);const B=await fetch("/api/profile/change-password",{method:"POST",body:F,credentials:"include"});if(!B.ok){const Q=await B.json().catch(()=>({}));throw new Error(Q.detail||"Failed to change password")}S("Password changed successfully!"),Y({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>S(""),3e3)}catch(F){S(`Failed to change password: ${F.message}`)}finally{v(!1)}};return t?d.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-slate-950",children:[d.jsx(wr,{theme:s,setTheme:a,onReportChange:()=>{}}),d.jsxs("div",{className:"flex-1 transition-all duration-300",children:[d.jsx(_r,{user:n}),d.jsx("main",{className:"mx-auto max-w-6xl px-6 py-8",children:d.jsxs("div",{className:"text-center py-16",children:[d.jsx("div",{className:"w-16 h-16 mx-auto border-4 border-neonBlue border-t-transparent rounded-full animate-spin mb-4"}),d.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Loading profile..."})]})})]})]}):n?d.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-slate-950",children:[d.jsx(wr,{theme:s,setTheme:a,onReportChange:()=>{}}),d.jsxs("div",{className:"flex-1 transition-all duration-300",children:[d.jsx(_r,{user:n}),d.jsxs("main",{className:"mx-auto max-w-6xl px-6 py-8",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"font-display text-3xl text-gray-800 dark:text-slate-200 mb-2",children:"Profile Settings"}),d.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Manage your personal information and account preferences"})]}),b&&d.jsx("div",{className:`mb-6 p-4 rounded-lg border ${b.includes("successfully")||b.includes("Success")?"bg-green-50 border-green-200 text-green-700 dark:bg-green-900/20 dark:border-green-800 dark:text-green-400":"bg-red-50 border-red-200 text-red-700 dark:bg-red-900/20 dark:border-red-800 dark:text-red-400"}`,children:b}),d.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[d.jsx("div",{className:"lg:w-64",children:d.jsxs("nav",{className:"bg-white dark:bg-ink/80 rounded-2xl border border-gray-200 dark:border-white/5 p-2 shadow-soft sticky top-8",children:[d.jsxs("button",{onClick:()=>_("personal"),className:`w-full text-left px-4 py-3 rounded-lg font-medium transition-all duration-200 flex items-center gap-3 mb-2 ${k==="personal"?"bg-neonBlue text-white shadow-lg":"text-gray-700 dark:text-slate-300 hover:bg-gray-50 dark:hover:bg-white/5"}`,children:[d.jsx(ts,{className:"w-5 h-5"}),"Personal Info"]}),d.jsxs("button",{onClick:()=>_("professional"),className:`w-full text-left px-4 py-3 rounded-lg font-medium transition-all duration-200 flex items-center gap-3 mb-2 ${k==="professional"?"bg-neonBlue text-white shadow-lg":"text-gray-700 dark:text-slate-300 hover:bg-gray-50 dark:hover:bg-white/5"}`,children:[d.jsx(If,{className:"w-5 h-5"}),"Professional"]}),d.jsxs("button",{onClick:()=>_("security"),className:`w-full text-left px-4 py-3 rounded-lg font-medium transition-all duration-200 flex items-center gap-3 ${k==="security"?"bg-neonBlue text-white shadow-lg":"text-gray-700 dark:text-slate-300 hover:bg-gray-50 dark:hover:bg-white/5"}`,children:[d.jsx(lo,{className:"w-5 h-5"}),"Security"]})]})}),d.jsxs("div",{className:"flex-1",children:[k==="personal"&&d.jsxs("div",{className:"space-y-8",children:[d.jsxs("section",{className:"bg-white dark:bg-ink/80 rounded-2xl border border-gray-200 dark:border-white/5 p-6 shadow-soft",children:[d.jsx("h2",{className:"font-display text-xl text-gray-800 dark:text-slate-200 mb-6",children:"Profile Photo"}),d.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-gray-100 dark:border-white/10 shadow-lg",children:d.jsx("img",{src:p||n.avatar_url||"/default-avatar.png",alt:"Profile",className:"w-full h-full object-cover"})}),d.jsx("button",{onClick:()=>$.current?.click(),className:"absolute bottom-0 right-0 p-2 bg-neonBlue text-white rounded-full shadow-lg hover:bg-blue-600 transition-colors duration-200",children:d.jsx(Xv,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"flex-1 text-center md:text-left",children:[d.jsx("h3",{className:"font-medium text-gray-900 dark:text-slate-200 mb-2",children:"Update your photo"}),d.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 mb-4",children:"Choose a photo that represents you well. Max file size: 5MB"}),d.jsxs("div",{className:"flex flex-wrap gap-2 justify-center md:justify-start",children:[d.jsx("button",{onClick:()=>$.current?.click(),className:"px-4 py-2 bg-gray-100 dark:bg-white/5 text-gray-700 dark:text-slate-300 rounded-lg hover:bg-gray-200 dark:hover:bg-white/10 transition-colors duration-200 font-medium",children:"Choose File"}),(n.avatar_url||p)&&d.jsxs("button",{onClick:U,className:"px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 dark:border-red-600 dark:text-red-400 dark:hover:bg-red-900/20 transition-colors duration-200 font-medium flex items-center gap-2",children:[d.jsx(Om,{className:"w-4 h-4"}),"Remove"]})]}),d.jsx("input",{ref:$,type:"file",accept:"image/*",onChange:G,className:"hidden"})]})]})]}),d.jsxs("section",{className:"bg-white dark:bg-ink/80 rounded-2xl border border-gray-200 dark:border-white/5 p-6 shadow-soft",children:[d.jsx("h2",{className:"font-display text-xl text-gray-800 dark:text-slate-200 mb-6",children:"Basic Information"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:[d.jsx(ts,{className:"w-4 h-4 inline mr-2"}),"Full Name"]}),d.jsx("input",{type:"text",value:o.name,onChange:F=>I("name",F.target.value),className:"w-full px-4 py-3 border border-gray-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-neonBlue focus:border-transparent bg-white dark:bg-white/5 text-gray-900 dark:text-slate-200 transition-colors duration-200",placeholder:"Enter your email address"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:[d.jsx(a1,{className:"w-4 h-4 inline mr-2"}),"Phone Number"]}),d.jsx("input",{type:"tel",value:o.phone,onChange:F=>I("phone",F.target.value),className:"w-full px-4 py-3 border border-gray-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-neonBlue focus:border-transparent bg-white dark:bg-white/5 text-gray-900 dark:text-slate-200 transition-colors duration-200",placeholder:"Enter your phone number"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:[d.jsx(Jb,{className:"w-4 h-4 inline mr-2"}),"Location"]}),d.jsx("input",{type:"text",value:o.location,onChange:F=>I("location",F.target.value),className:"w-full px-4 py-3 border border-gray-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-neonBlue focus:border-transparent bg-white dark:bg-white/5 text-gray-900 dark:text-slate-200 transition-colors duration-200",placeholder:"City, Country"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:[d.jsx(Jv,{className:"w-4 h-4 inline mr-2"}),"Date of Birth"]}),d.jsx("input",{type:"date",value:o.birth_date,onChange:F=>I("birth_date",F.target.value),className:"w-full px-4 py-3 border border-gray-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-neonBlue focus:border-transparent bg-white dark:bg-white/5 text-gray-900 dark:text-slate-200 transition-colors duration-200"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Gender"}),d.jsxs("select",{value:o.gender,onChange:F=>I("gender",F.target.value),className:"w-full px-4 py-3 border border-gray-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-neonBlue focus:border-transparent bg-white dark:bg-white/5 text-gray-900 dark:text-slate-200 transition-colors duration-200",children:[d.jsx("option",{value:"",children:"Select Gender"}),d.jsx("option",{value:"male",children:"Male"}),d.jsx("option",{value:"female",children:"Female"}),d.jsx("option",{value:"non-binary",children:"Non-binary"}),d.jsx("option",{value:"prefer-not-to-say",children:"Prefer not to say"})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:[d.jsx(Vb,{className:"w-4 h-4 inline mr-2"}),"Website"]}),d.jsx("input",{type:"url",value:o.website,onChange:F=>I("website",F.target.value),className:"w-full px-4 py-3 border border-gray-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-neonBlue focus:border-transparent bg-white dark:bg-white/5 text-gray-900 dark:text-slate-200 transition-colors duration-200",placeholder:"https://yourwebsite.com"})]})]}),d.jsxs("div",{className:"mt-6",children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:[d.jsx(It,{className:"w-4 h-4 inline mr-2"}),"Bio"]}),d.jsx("textarea",{value:o.bio,onChange:F=>I("bio",F.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-neonBlue focus:border-transparent bg-white dark:bg-white/5 text-gray-900 dark:text-slate-200 transition-colors duration-200 resize-none",placeholder:"Tell us about yourself..."})]})]}),d.jsxs("section",{className:"bg-white dark:bg-ink/80 rounded-2xl border border-gray-200 dark:border-white/5 p-6 shadow-soft",children:[d.jsx("h2",{className:"font-display text-xl text-gray-800 dark:text-slate-200 mb-6",children:"Preferences"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:[d.jsx(Gb,{className:"w-4 h-4 inline mr-2"}),"Language"]}),d.jsxs("select",{value:o.language,onChange:F=>I("language",F.target.value),className:"w-full px-4 py-3 border border-gray-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-neonBlue focus:border-transparent bg-white dark:bg-white/5 text-gray-900 dark:text-slate-200 transition-colors duration-200",children:[d.jsx("option",{value:"en",children:"English"}),d.jsx("option",{value:"es",children:"Spanish"}),d.jsx("option",{value:"fr",children:"French"}),d.jsx("option",{value:"de",children:"German"}),d.jsx("option",{value:"it",children:"Italian"}),d.jsx("option",{value:"pt",children:"Portuguese"}),d.jsx("option",{value:"zh",children:"Chinese"}),d.jsx("option",{value:"ja",children:"Japanese"}),d.jsx("option",{value:"ko",children:"Korean"})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:[d.jsx(vb,{className:"w-4 h-4 inline mr-2"}),"Timezone"]}),d.jsxs("select",{value:o.timezone,onChange:F=>I("timezone",F.target.value),className:"w-full px-4 py-3 border border-gray-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-neonBlue focus:border-transparent bg-white dark:bg-white/5 text-gray-900 dark:text-slate-200 transition-colors duration-200",children:[d.jsx("option",{value:"UTC",children:"UTC"}),d.jsx("option",{value:"America/New_York",children:"Eastern Time (ET)"}),d.jsx("option",{value:"America/Chicago",children:"Central Time (CT)"}),d.jsx("option",{value:"America/Denver",children:"Mountain Time (MT)"}),d.jsx("option",{value:"America/Los_Angeles",children:"Pacific Time (PT)"}),d.jsx("option",{value:"Europe/London",children:"London (GMT)"}),d.jsx("option",{value:"Europe/Paris",children:"Paris (CET)"}),d.jsx("option",{value:"Asia/Tokyo",children:"Tokyo (JST)"}),d.jsx("option",{value:"Asia/Shanghai",children:"Shanghai (CST)"}),d.jsx("option",{value:"Australia/Sydney",children:"Sydney (AEDT)"})]})]})]})]})]}),k==="professional"&&d.jsxs("section",{className:"bg-white dark:bg-ink/80 rounded-2xl border border-gray-200 dark:border-white/5 p-6 shadow-soft",children:[d.jsx("h2",{className:"font-display text-xl text-gray-800 dark:text-slate-200 mb-6",children:"Professional Information"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:[d.jsx(Gv,{className:"w-4 h-4 inline mr-2"}),"Company"]}),d.jsx("input",{type:"text",value:o.company,onChange:F=>I("company",F.target.value),className:"w-full px-4 py-3 border border-gray-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-neonBlue focus:border-transparent bg-white dark:bg-white/5 text-gray-900 dark:text-slate-200 transition-colors duration-200",placeholder:"Your company name"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:[d.jsx(If,{className:"w-4 h-4 inline mr-2"}),"Job Title"]}),d.jsx("input",{type:"text",value:o.job_title,onChange:F=>I("job_title",F.target.value),className:"w-full px-4 py-3 border border-gray-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-neonBlue focus:border-transparent bg-white dark:bg-white/5 text-gray-900 dark:text-slate-200 transition-colors duration-200",placeholder:"Your job title"})]})]})]}),k==="security"&&d.jsxs("section",{className:"bg-white dark:bg-ink/80 rounded-2xl border border-gray-200 dark:border-white/5 p-6 shadow-soft",children:[d.jsx("h2",{className:"font-display text-xl text-gray-800 dark:text-slate-200 mb-6",children:"Security Settings"}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[d.jsx("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-400 mb-1",children:"Password Security"}),d.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Keep your account secure by using a strong password and changing it regularly."})]}),d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Current Password"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:N?"text":"password",value:D.currentPassword,onChange:F=>Y(B=>({...B,currentPassword:F.target.value})),className:"w-full px-4 py-3 pr-12 border border-gray-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-neonBlue focus:border-transparent bg-white dark:bg-white/5 text-gray-900 dark:text-slate-200 transition-colors duration-200",placeholder:"Enter your current password"}),d.jsx("button",{type:"button",onClick:()=>C(!N),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-slate-300",children:N?d.jsx(Bf,{className:"w-5 h-5"}):d.jsx(lo,{className:"w-5 h-5"})})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"New Password"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:P?"text":"password",value:D.newPassword,onChange:F=>Y(B=>({...B,newPassword:F.target.value})),className:"w-full px-4 py-3 pr-12 border border-gray-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-neonBlue focus:border-transparent bg-white dark:bg-white/5 text-gray-900 dark:text-slate-200 transition-colors duration-200",placeholder:"Enter your new password"}),d.jsx("button",{type:"button",onClick:()=>O(!P),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-slate-300",children:P?d.jsx(Bf,{className:"w-5 h-5"}):d.jsx(lo,{className:"w-5 h-5"})})]}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1",children:"Password must be at least 6 characters long"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Confirm New Password"}),d.jsx("input",{type:"password",value:D.confirmPassword,onChange:F=>Y(B=>({...B,confirmPassword:F.target.value})),className:"w-full px-4 py-3 border border-gray-200 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-neonBlue focus:border-transparent bg-white dark:bg-white/5 text-gray-900 dark:text-slate-200 transition-colors duration-200",placeholder:"Confirm your new password"})]}),d.jsxs("button",{onClick:R,disabled:y||!D.currentPassword||!D.newPassword||!D.confirmPassword,className:`px-6 py-3 rounded-lg font-medium transition-all duration-200 flex items-center justify-center gap-2 ${y||!D.currentPassword||!D.newPassword||!D.confirmPassword?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700 shadow-lg hover:shadow-xl"}`,children:[y?d.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):d.jsx(po,{className:"w-5 h-5"}),y?"Changing Password...":"Change Password"]})]})]})]}),(k==="personal"||k==="professional")&&d.jsx("div",{className:"mt-8 flex justify-end",children:d.jsxs("button",{onClick:T,disabled:y,className:`px-8 py-3 rounded-lg font-medium transition-all duration-200 flex items-center justify-center gap-2 ${y?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-neonBlue text-white hover:bg-blue-600 shadow-lg hover:shadow-neon"}`,children:[y?d.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):d.jsx(po,{className:"w-5 h-5"}),y?"Saving...":"Save Changes"]})})]})]})]})]})]}):d.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-slate-950",children:[d.jsx(wr,{theme:s,setTheme:a,onReportChange:()=>{}}),d.jsxs("div",{className:"flex-1 transition-all duration-300",children:[d.jsx(_r,{user:n}),d.jsx("main",{className:"mx-auto max-w-6xl px-6 py-8",children:d.jsxs("div",{className:"text-center py-16",children:[d.jsx(ts,{className:"w-16 h-16 mx-auto text-gray-400 dark:text-slate-500 mb-4"}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-slate-200 mb-2",children:"Sign in to access your profile"}),d.jsx("p",{className:"text-gray-600 dark:text-slate-400 mb-6",children:"Please sign in to view and manage your profile settings"})]})})]})]})}Mi.register(Ag,zg,Dd,Pi,Eg,Lg,Fg,Tg);function aj({result:n={},targetColumn:e="",onExport:t=()=>{}}){const s=j.useRef(null),[a,o]=j.useState(!1),{forecast:l={}}=n||{},u=Array.isArray(l?.forecast)?l.forecast:[],h=Array.isArray(l?.lower)?l.lower:null,p=Array.isArray(l?.upper)?l.upper:null,m=Array.isArray(l?.timestamps)?l.timestamps:null,y=j.useMemo(()=>m&&m.length===u.length?m:u.map((N,C)=>`P${C+1}`),[m,u]),v=j.useMemo(()=>{if(!u.length)return{};const N=u.map(Number).filter($=>!Number.isNaN($)),C=N.reduce(($,I)=>$+I,0),P=N.length?C/N.length:0,O=Math.min(...N),D=Math.max(...N);return{next:N[0]??null,average:P,min:O,max:D,range:D-O,count:N.length}},[u]),b=j.useMemo(()=>{const C={label:`${e||"Forecast"}`,data:u,borderColor:"#2563eb",backgroundColor:"rgba(37,99,235,0.08)",tension:.35,pointRadius:3,fill:!1},P=h&&p&&h.length===u.length&&p.length===u.length?[{label:"Upper Bound",data:p,borderColor:"rgba(59,130,246,0.28)",backgroundColor:"rgba(59,130,246,0.06)",tension:.35,pointRadius:0,fill:"+1"},{label:"Lower Bound",data:h,borderColor:"rgba(59,130,246,0.28)",backgroundColor:"rgba(59,130,246,0.06)",tension:.35,pointRadius:0,fill:!1}]:[],O=[C,...P];return{labels:y,datasets:O}},[y,u,h,p,e]),S=j.useMemo(()=>{const N=document?.body?.classList?.contains("dark")?"#E6EEF8":"#0f172a";return{maintainAspectRatio:!1,responsive:!0,plugins:{legend:{labels:{color:N,boxWidth:12}},tooltip:{mode:"index",intersect:!1,callbacks:{label:C=>{const P=C.parsed.y,O=C.dataIndex,D=[`${C.dataset.label}: ${typeof P=="number"?P.toFixed(2):P}`];return h&&p&&h[O]!=null&&p[O]!=null&&D.push(`CI: ${h[O].toFixed(2)}  ${p[O].toFixed(2)}`),D}}}},scales:{x:{ticks:{color:N},grid:{display:!1}},y:{ticks:{color:N},grid:{color:"rgba(15,23,42,0.06)"}}}}},[h,p]),k=(N="png")=>{try{const C=s.current;if(!C||typeof C.toBase64Image!="function"){alert("Chart not ready for export.");return}const P=N==="jpeg"?"image/jpeg":"image/png",O=C.toBase64Image(P),D=document.createElement("a");D.href=O,D.download=`forecast_${e||"series"}.${N}`,D.click(),t(`image:${N}`)}catch(C){console.error("Export chart failed",C),alert("Export failed.")}},_=(N=`forecast_${e||"series"}.csv`)=>{if(!u.length)return;const C=[],P=["Date","Forecast"];h&&p&&P.push("Lower","Upper"),C.push(P.join(","));for(let $=0;$<u.length;$++){const I=[y[$]??`P${$+1}`,typeof u[$]=="number"?u[$].toFixed(2):String(u[$])];h&&p&&I.push(typeof h[$]=="number"?h[$].toFixed(2):"",typeof p[$]=="number"?p[$].toFixed(2):""),C.push(I.join(","))}const O=new Blob([C.join(`
`)],{type:"text/csv;charset=utf-8;"}),D=URL.createObjectURL(O),Y=document.createElement("a");Y.href=D,Y.download=N,Y.click(),URL.revokeObjectURL(D),t("csv")};return u.length?d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"rounded-2xl bg-white dark:bg-ink/80 border dark:border-white/5 p-4 shadow-sm",children:[d.jsxs("div",{className:"flex items-start justify-between gap-4",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium",children:e||"Forecast"}),d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-300",children:"Interactive forecast chart"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:()=>k("png"),className:"flex items-center gap-2 px-3 py-1.5 rounded border hover:bg-gray-50 dark:hover:bg-white/5",children:[d.jsx(ss,{size:14})," PNG"]}),d.jsxs("button",{onClick:()=>k("jpeg"),className:"flex items-center gap-2 px-3 py-1.5 rounded border hover:bg-gray-50 dark:hover:bg-white/5",children:[d.jsx(ss,{size:14})," JPEG"]}),d.jsxs("button",{onClick:()=>_(),className:"flex items-center gap-2 px-3 py-1.5 rounded border hover:bg-gray-50 dark:hover:bg-white/5",children:[d.jsx(It,{size:14})," CSV"]})]})]}),d.jsx("div",{className:"mt-3",style:{height:264},children:d.jsx(Vg,{ref:s,data:b,options:S})})]}),d.jsxs("div",{className:"rounded-2xl p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-700",children:[d.jsx("h5",{className:"font-medium text-blue-700 dark:text-blue-200",children:"AI analysis"}),d.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-200 mt-2",children:n?.explanation||n?.analysis||"The AI provided this forecast based on your scenario and historical data. Key insights will appear here when available."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"rounded-2xl p-4 border bg-white dark:bg-ink/80",children:[d.jsx("h6",{className:"font-medium mb-2",children:"Key forecast metrics"}),d.jsxs("div",{className:"text-sm space-y-1",children:[d.jsxs("div",{children:["Next period: ",d.jsx("strong",{children:v.next!=null?v.next.toFixed(2):""})]}),d.jsxs("div",{children:["Average (forecast): ",d.jsx("strong",{children:v.average!=null?v.average.toFixed(2):""})]}),d.jsxs("div",{children:["Range: ",d.jsx("strong",{children:v.range!=null?v.range.toFixed(2):""})]}),d.jsxs("div",{children:["Min / Max: ",d.jsxs("strong",{children:[v.min!=null?v.min.toFixed(2):""," / ",v.max!=null?v.max.toFixed(2):""]})]})]})]}),d.jsxs("div",{className:"rounded-2xl p-4 border bg-white dark:bg-ink/80",children:[d.jsx("h6",{className:"font-medium mb-2",children:"Scenario applied"}),d.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-300",children:[d.jsxs("div",{children:[d.jsx("strong",{children:"Horizon:"})," ",u.length," periods"]}),d.jsxs("div",{className:"mt-1",children:[d.jsx("strong",{children:"Confidence provided:"})," ",n?.meta?.confidence_level??"n/a"]}),d.jsxs("div",{className:"mt-2",children:[d.jsx("strong",{children:"Notes:"})," ",n?.meta?.notes||"No technical notes provided by model."]})]})]})]}),d.jsxs("div",{className:"rounded-2xl p-3 border bg-white dark:bg-ink/80",children:[d.jsxs("button",{onClick:()=>o(N=>!N),className:"w-full flex items-center justify-between",children:[d.jsx("span",{className:"font-medium",children:"Technical details"}),d.jsx("span",{children:a?d.jsx(lj,{}):d.jsx(oj,{})})]}),a&&d.jsxs("div",{className:"mt-3 text-sm text-slate-600 dark:text-slate-300 space-y-2",children:[d.jsx("pre",{className:"whitespace-pre-wrap text-xs bg-gray-50 dark:bg-black/20 p-3 rounded",children:JSON.stringify(n?.meta||{},null,2)}),d.jsxs("div",{children:["Historical rows used: ",n?.meta?.historical_rows??"unknown"]}),d.jsxs("div",{children:["Model used: ",n?.meta?.model_used??"unknown"]})]})]})]}):d.jsx("div",{className:"rounded-lg p-4 bg-yellow-50 dark:bg-amber-900/10 border dark:border-amber-700/20",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Am,{className:"text-amber-600"}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:"No forecast data"}),d.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-300",children:"The AI returned no forecast array. Check the server response or try a different scenario."})]})]})})}function oj(){return d.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",children:d.jsx("path",{d:"M6 8l4 4 4-4",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}function lj(){return d.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",children:d.jsx("path",{d:"M6 12l4-4 4 4",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}const cj="/api";class dj{constructor(){this.baseURL=cj}async makeRequest(e,t={}){const s=`${this.baseURL}${e}`,a={headers:{"Content-Type":"application/json",...t.headers},credentials:"include",...t};try{const o=await fetch(s,a);if(!o.ok){let u="Request failed";try{const h=await o.json();u=h.detail||h.message||u}catch{u=`HTTP ${o.status}: ${o.statusText}`}throw new Error(u)}const l=o.headers.get("content-type");return l&&l.includes("application/json")?await o.json():await o.text()}catch(o){throw console.error(`API request failed: ${e}`,o),o}}async createWhatIfForecast(e){return await this.makeRequest("/forecast/whatif",{method:"POST",body:JSON.stringify(e)})}async parseScenario(e,t){return await this.makeRequest("/forecast/scenario/parse",{method:"POST",body:JSON.stringify({scenario_text:e,available_columns:t})})}async getAvailableModels(){return await this.makeRequest("/forecast/models",{method:"GET"})}async getUserUsage(e){return await this.makeRequest(`/forecast/usage/${e}`,{method:"GET"})}async clearCache(){return await this.makeRequest("/forecast/cache/clear",{method:"DELETE"})}async generateChartPayload(e){return await this.makeRequest("/chart/payload",{method:"POST",body:JSON.stringify(e)})}async saveChart(e,t="",s=null){return await this.makeRequest("/charts/save",{method:"POST",body:JSON.stringify({chart_payload:e,description:t,owner_id:s})})}async exportChart(e){return await this.makeRequest("/charts/export",{method:"POST",body:JSON.stringify(e)})}async getExportStatus(e){return await this.makeRequest(`/export/status/${e}`,{method:"GET"})}async getDatasets(){return await this.makeRequest("/datasets",{method:"GET"})}async getDataPreview(e,t=10){return await this.makeRequest(`/preview?file_id=${e}&n=${t}`,{method:"GET"})}async uploadFile(e,t=null){const s=new FormData;s.append("file",e);try{return await new Promise((a,o)=>{const l=new XMLHttpRequest;t&&(l.upload.onprogress=u=>{if(u.lengthComputable){const h=u.loaded/u.total*100;t(Math.round(h))}}),l.onload=()=>{if(l.status>=200&&l.status<300)try{const u=JSON.parse(l.responseText);a(u)}catch{o(new Error("Invalid JSON response"))}else try{const u=JSON.parse(l.responseText);o(new Error(u.detail||"Upload failed"))}catch{o(new Error(`HTTP ${l.status}: ${l.statusText}`))}},l.onerror=()=>o(new Error("Network error during upload")),l.ontimeout=()=>o(new Error("Upload timeout")),l.open("POST",`${this.baseURL}/upload`),l.withCredentials=!0,l.timeout=3e5,l.send(s)})}catch(a){throw console.error("File upload failed:",a),a}}async createForecast(e){return await this.makeRequest("/forecast",{method:"POST",body:JSON.stringify(e)})}async getForecastStatus(e){return await this.makeRequest(`/forecast/${e}`,{method:"GET"})}async getModelMetadata(e){return await this.makeRequest(`/models/${e}`,{method:"GET"})}async checkAuth(){try{return await this.makeRequest("/auth/me",{method:"GET"})}catch{return null}}async healthCheck(){return await this.makeRequest("/health",{method:"GET"})}async retryRequest(e,t=3,s=1e3){let a;for(let o=0;o<t;o++)try{return await e()}catch(l){if(a=l,l.message.includes("401")||l.message.includes("403")||l.message.includes("400"))throw l;o<t-1&&await new Promise(u=>setTimeout(u,s*Math.pow(2,o)))}throw a}async batchOperation(e,t=5){const s=[],a=[];for(let o=0;o<e.length;o+=t){const u=e.slice(o,o+t).map(async(p,m)=>{try{const y=await p();return{index:o+m,result:y,error:null}}catch(y){return{index:o+m,result:null,error:y}}}),h=await Promise.all(u);for(const p of h)p.error?a.push({index:p.index,error:p.error}):s.push({index:p.index,result:p.result})}return{results:s,errors:a}}getFromCache(e){try{const t=localStorage.getItem(`aiApi_cache_${e}`);if(t){const{data:s,timestamp:a,ttl:o}=JSON.parse(t);if(Date.now()-a<o)return s;localStorage.removeItem(`aiApi_cache_${e}`)}}catch(t){console.warn("Cache read error:",t)}return null}setCache(e,t,s=30){try{const a={data:t,timestamp:Date.now(),ttl:s*60*1e3};localStorage.setItem(`aiApi_cache_${e}`,JSON.stringify(a))}catch(a){console.warn("Cache write error:",a)}}clearCache(){try{Object.keys(localStorage).filter(t=>t.startsWith("aiApi_cache_")).forEach(t=>localStorage.removeItem(t))}catch(e){console.warn("Cache clear error:",e)}}}const uj=new dj;function hj(){const n=on(),{user:e,theme:t,setTheme:s}=j.useContext(Ei),[a,o]=j.useState([]),[l,u]=j.useState([]),[h,p]=j.useState(""),[m,y]=j.useState(""),[v,b]=j.useState(""),[S,k]=j.useState("hybrid"),[_,N]=j.useState(12),[C,P]=j.useState(.95),[O,D]=j.useState(!1),[Y,$]=j.useState(null),[I,G]=j.useState(!1),[U,T]=j.useState(""),[R,F]=j.useState("localStorage"),B=["Assume a 10% month-over-month promotional uplift for the next 6 months due to increased marketing spend.","Reduce marketing budget by 20% starting month 3; estimate revenue impact over next 12 months with cost optimization.","Introduce a loyalty discount program from next quarter expected to increase repeat purchases by 15% but reduce margins by 5%.","Economic recession scenario: assume 15% decrease in customer spending power starting in 6 months.","Market expansion: enter 2 new countries with 25% revenue uplift expectation in months 8-12."];j.useEffect(()=>{Q()},[]);const Q=()=>{try{const Z=JSON.parse(localStorage.getItem("uploadedData")||"null"),ue=JSON.parse(localStorage.getItem("uploadedColumns")||"null"),ge=localStorage.getItem("chartTitle")||"",X=localStorage.getItem("currentYAxis")||"";if(Array.isArray(Z)&&Z.length>0){if(o(Z),u(ue||[]),X&&ue?.includes(X))p(X);else if(ue?.includes("Revenue"))p("Revenue");else{const W=ue?.filter(J=>Z.slice(0,5).some(ve=>typeof ve[J]=="number"||!isNaN(Number(ve[J]))));p(W?.[0]||ue?.[0]||"")}const oe=ue?.filter(W=>W.toLowerCase().includes("date")||W.toLowerCase().includes("time")||W.toLowerCase().includes("month"));y(oe?.[0]||""),F("localStorage");return}}catch(Z){console.warn("Failed to load data from localStorage:",Z)}o([]),u([]),F("none")},ie=()=>{const Z=[];return(!a||!Array.isArray(a)||a.length===0)&&Z.push("No data available. Please upload a CSV file first."),h||Z.push("Please select a target column to forecast."),(!v||v.trim().length===0)&&Z.push("Please enter a scenario description."),v.length>500&&Z.push("Scenario description must be 500 characters or less."),["hybrid","prophet","gpt","auto"].includes(S)||Z.push("Invalid model selection."),(_<1||_>365)&&Z.push("Periods ahead must be between 1 and 365."),(C<.5||C>.99)&&Z.push("Confidence level must be between 0.5 and 0.99."),Z},ce=async()=>{if(!e){T("Please sign in to use forecasting features.");return}T("");const Z=ie();if(Z.length){T(Z.join("  "));return}const ue={csv_data:a,scenario_text:v,target_column:h,date_column:m||void 0,model_preference:S==="auto"?void 0:S,periods_ahead:_,confidence_level:C};try{G(!0),$(null);const ge=await uj.createWhatIfForecast(ue);$(ge),localStorage.setItem("lastForecast",JSON.stringify({result:ge,timestamp:new Date().toISOString(),scenario:v,targetColumn:h}))}catch(ge){console.error("Forecast error:",ge),T(ge.message||"Forecast generation failed. Please try again.")}finally{G(!1)}},ne=Z=>{b(Z)},ae=()=>n("/"),q=()=>n("/"),A=a&&a.length>0&&!I&&e,K=a&&a.length>0;return d.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-slate-950",children:[d.jsx(wr,{theme:t,setTheme:s,onReportChange:()=>{}}),d.jsxs("div",{className:"flex-1 transition-all duration-300",children:[d.jsx(_r,{user:e}),d.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[d.jsx("button",{onClick:()=>n(-1),className:"p-2 rounded-lg border border-gray-200 hover:bg-gray-50 dark:border-white/10 dark:hover:bg-slate-800 transition-colors",children:d.jsx($v,{size:20})}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-3 rounded-2xl bg-gradient-to-br from-blue-500 to-blue-700 text-white",children:d.jsx(oo,{size:28})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-display font-bold text-gray-800 dark:text-slate-200",children:"AI-Powered Forecasting"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Create natural-language what-if forecasts from your data"})]})]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-600 dark:text-slate-400",children:[d.jsxs("span",{children:["Data: ",d.jsx("strong",{children:a.length.toLocaleString()})," rows"]}),d.jsxs("span",{children:["Columns: ",d.jsx("strong",{children:l.length})]}),h&&d.jsxs("span",{children:["Target: ",d.jsx("strong",{className:"text-blue-600 dark:text-blue-400",children:h})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{onClick:ae,className:"flex items-center gap-2 px-3 py-2 text-sm border border-gray-200 rounded-lg hover:bg-gray-50 dark:border-white/10 dark:hover:bg-slate-800 transition-colors",children:[d.jsx($f,{size:16}),"Upload Data"]}),d.jsxs("button",{onClick:q,className:"flex items-center gap-2 px-3 py-2 text-sm border border-gray-200 rounded-lg hover:bg-gray-50 dark:border-white/10 dark:hover:bg-slate-800 transition-colors",children:[d.jsx(tb,{size:16}),"View Charts"]})]})]})]}),e?K?d.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[d.jsx("div",{className:"lg:w-1/3",children:d.jsxs("div",{className:"rounded-2xl bg-white dark:bg-ink/80 border dark:border-white/5 p-6 shadow-sm",children:[d.jsx("h2",{className:"font-semibold text-lg mb-4 text-gray-800 dark:text-slate-200",children:"Forecast Configuration"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Target Column to Forecast"}),d.jsxs("select",{value:h,onChange:Z=>p(Z.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-slate-600 dark:bg-slate-800",children:[d.jsx("option",{value:"",children:"-- Select target column --"}),l.map(Z=>d.jsx("option",{value:Z,children:Z},Z))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Date Column (Optional)"}),d.jsxs("select",{value:m,onChange:Z=>y(Z.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-slate-600 dark:bg-slate-800",children:[d.jsx("option",{value:"",children:"-- Auto-generate dates --"}),l.map(Z=>d.jsx("option",{value:Z,children:Z},Z))]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"If not selected, we'll create synthetic monthly periods"})]})]}),d.jsxs("div",{className:"mt-6",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Scenario Description"}),d.jsx("textarea",{value:v,onChange:Z=>b(Z.target.value),maxLength:500,rows:6,placeholder:"Describe your what-if scenario in natural language. E.g., 'Increase marketing budget by 15% starting next month and expect 10% revenue boost...'",className:"w-full rounded-lg border border-gray-300 p-3 text-sm min-h-[120px] resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-slate-600 dark:bg-slate-800"}),d.jsxs("div",{className:"flex items-center justify-between mt-2",children:[d.jsxs("span",{className:"text-xs text-gray-500",children:[v.length,"/500 characters"]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-xs text-gray-400",children:"Examples:"}),d.jsx("div",{className:"flex gap-1",children:B.slice(0,3).map((Z,ue)=>d.jsx("button",{onClick:()=>ne(Z),className:"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 dark:bg-blue-900/30 dark:text-blue-300 dark:hover:bg-blue-800/40 transition-colors",title:Z,children:ue+1},ue))})]})]})]}),d.jsxs("div",{className:"mt-6",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"AI Model"}),d.jsxs("select",{value:S,onChange:Z=>k(Z.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-slate-600 dark:bg-slate-800",children:[d.jsx("option",{value:"hybrid",children:"Hybrid (Recommended) - Combines statistical and AI models"}),d.jsx("option",{value:"prophet",children:"Prophet - Statistical time series model"}),d.jsx("option",{value:"gpt",children:"GPT - Pure language model forecasting"}),d.jsx("option",{value:"auto",children:"Auto - Let the system choose best model"})]})]}),d.jsxs("div",{className:"mt-6",children:[d.jsxs("button",{onClick:()=>D(!O),className:"flex items-center justify-between w-full py-2 text-sm font-medium text-gray-700 dark:text-slate-300",children:[d.jsx("span",{children:"Advanced Settings"}),O?d.jsx(fb,{size:16}):d.jsx(ub,{size:16})]}),O&&d.jsxs("div",{className:"mt-4 space-y-4 p-4 bg-gray-50 dark:bg-slate-800/50 rounded-lg",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Periods Ahead"}),d.jsx("input",{type:"number",min:1,max:365,value:_,onChange:Z=>N(Number(Z.target.value)),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-slate-600 dark:bg-slate-700"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Number of periods to forecast (1-365)"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Confidence Level"}),d.jsx("input",{type:"range",min:.5,max:.99,step:.01,value:C,onChange:Z=>P(Number(Z.target.value)),className:"w-full"}),d.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[d.jsx("span",{children:"50%"}),d.jsxs("span",{className:"font-medium",children:[Math.round(C*100),"%"]}),d.jsx("span",{children:"99%"})]})]})]})]}),d.jsx("div",{className:"mt-6",children:d.jsx("button",{onClick:ce,disabled:!A,className:`w-full px-4 py-3 rounded-xl font-medium text-white transition-all duration-200 ${A?"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 shadow-md hover:shadow-lg":"bg-gray-300 cursor-not-allowed dark:bg-slate-600"}`,children:I?d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Generating Forecast..."]}):"Generate AI Forecast"})}),U&&d.jsx("div",{className:"mt-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700/50 rounded-lg",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Am,{className:"text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5",size:16}),d.jsx("div",{className:"text-sm text-red-700 dark:text-red-300",children:U})]})}),d.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700/50 rounded-lg",children:[d.jsx("h4",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-2",children:" Tips"}),d.jsxs("ul",{className:"text-xs text-blue-700 dark:text-blue-300 space-y-1",children:[d.jsx("li",{children:" Be specific about percentages, timeframes, and business context"}),d.jsx("li",{children:" Mention external factors like seasonality, marketing campaigns, or market conditions"}),d.jsx("li",{children:" Include assumptions about customer behavior or competitive landscape"}),d.jsx("li",{children:" For best results, have at least 12 months of historical data"})]})]})]})}),d.jsx("div",{className:"lg:w-2/3",children:d.jsxs("div",{className:"rounded-2xl bg-white dark:bg-ink/80 border dark:border-white/5 shadow-sm min-h-[500px]",children:[d.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-white/10",children:[d.jsx("h3",{className:"font-semibold text-lg text-gray-800 dark:text-slate-200",children:"Forecast Results"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1",children:"AI-generated predictions based on your scenario"})]}),d.jsxs("div",{className:"p-6",children:[I&&d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-12 h-12 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Analyzing your scenario and generating forecast..."})]})}),!I&&!Y&&d.jsxs("div",{className:"text-center py-20 text-gray-500 dark:text-slate-400",children:[d.jsx(oo,{size:48,className:"mx-auto mb-4 opacity-50"}),d.jsx("p",{className:"text-lg mb-2",children:"Ready to Generate Forecast"}),d.jsx("p",{className:"text-sm",children:'Configure your scenario on the left and click "Generate AI Forecast"'})]}),!I&&Y&&d.jsx(aj,{result:Y,targetColumn:h,onExport:Z=>{console.log("Forecast exported:",Z)}})]})]})})]}):d.jsxs("div",{className:"rounded-2xl bg-white dark:bg-ink/80 border dark:border-white/5 p-8 text-center shadow-sm",children:[d.jsx($f,{size:48,className:"mx-auto text-gray-400 mb-4"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-slate-200 mb-2",children:"No Data Available"}),d.jsx("p",{className:"text-gray-600 dark:text-slate-400 mb-6",children:"Upload a CSV file first to start generating forecasts."}),d.jsx("button",{onClick:ae,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Upload CSV Data"})]}):d.jsxs("div",{className:"rounded-2xl bg-white dark:bg-ink/80 border dark:border-white/5 p-8 text-center shadow-sm",children:[d.jsx(oo,{size:48,className:"mx-auto text-gray-400 mb-4"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-slate-200 mb-2",children:"Sign In Required"}),d.jsx("p",{className:"text-gray-600 dark:text-slate-400 mb-6",children:"You need to be signed in to access AI forecasting features."}),d.jsxs("div",{className:"flex justify-center gap-3",children:[d.jsx("button",{onClick:()=>n("/signup"),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Sign Up"}),d.jsx("button",{onClick:()=>n("/login"),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 dark:border-white/20 dark:text-slate-300 dark:hover:bg-slate-800 transition-colors",children:"Sign In"})]})]})]})]})]})}function fj(){const n=on();fd();const{user:e,theme:t}=j.useContext(Ei),[s,a]=j.useState([]),[o,l]=j.useState([]),[u,h]=j.useState("Untitled Chart"),[p,m]=j.useState(""),[y,v]=j.useState(""),[b,S]=j.useState({type:"bar",color:"#2563eb",gradient:!1,showLabels:!1,sort:"none",orientation:"vertical"}),[k,_]=j.useState(!1),[N,C]=j.useState(null),[P,O]=j.useState(!1),[D,Y]=j.useState(!1),[$,I]=j.useState([]),[G,U]=j.useState([]),[T,R]=j.useState(!1),[F,B]=j.useState([]),[Q,ie]=j.useState(-1),ce=j.useRef(null);j.useEffect(()=>{ne()},[]),j.useEffect(()=>{e||n("/login")},[e,n]);const ne=()=>{try{const W=JSON.parse(localStorage.getItem("uploadedData")||"[]"),J=JSON.parse(localStorage.getItem("uploadedColumns")||"[]"),ve=localStorage.getItem("chartTitle")||"Untitled Chart",De=localStorage.getItem("currentXAxis")||"",Le=localStorage.getItem("currentYAxis")||"";W.length>0&&(a(W),l(J),h(ve),m(De||J[0]||""),v(Le||J[1]||""),ae({data:W,options:b,title:ve,xAxis:De,yAxis:Le}))}catch(W){console.error("Failed to load chart data:",W)}},ae=W=>{const J=F.slice(0,Q+1);J.push(W),B(J),ie(J.length-1)},q=()=>{if(Q>0){const W=F[Q-1];a(W.data),S(W.options),h(W.title),m(W.xAxis),v(W.yAxis),ie(Q-1)}},A=()=>{if(Q<F.length-1){const W=F[Q+1];a(W.data),S(W.options),h(W.title),m(W.xAxis),v(W.yAxis),ie(Q+1)}},K=W=>{const J=W.target.files[0];if(!J)return;const ve=new FileReader;ve.onload=De=>{try{const Me=De.target.result.split(`
`),Kt=Me[0].split(",").map(Cn=>Cn.trim().replace(/"/g,"")),Di=Me.slice(1).filter(Cn=>Cn.trim()).map(Cn=>{const us=Cn.split(",").map(Zn=>Zn.trim().replace(/"/g,"")),hs={};return Kt.forEach((Zn,er)=>{const ln=us[er]||"",Mr=parseFloat(ln);hs[Zn]=isNaN(Mr)?ln:Mr}),hs});I(Di),Y(!0)}catch(Le){console.error("File parsing error:",Le),alert("Failed to parse file. Please ensure it's a valid CSV.")}},ve.readAsText(J)},Z=(W,J)=>{const ve=G.includes(J)?G.filter(De=>De!==J):[...G,J];U(ve)},ue=()=>{if(G.length===0)return;const W=s.filter(J=>!G.includes(J[p]));a(W),U([]),ae({data:W,options:b,title:u,xAxis:p,yAxis:y})},ge=()=>{localStorage.setItem("uploadedData",JSON.stringify(s)),localStorage.setItem("chartTitle",u),localStorage.setItem("currentXAxis",p),localStorage.setItem("currentYAxis",y),alert("Chart saved successfully!")},X=W=>{C(N===W?null:W)},oe=[{id:"settings",icon:is,label:"Chart Settings",component:id},{id:"colors",icon:pd,label:"Colors & Style"},{id:"text",icon:k1,label:"Text & Labels"},{id:"data",icon:Ub,label:"Data Management"}];return e?d.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-slate-950",children:[d.jsxs("nav",{className:"sticky top-0 z-30 bg-gray-100 dark:bg-slate-800 border-b-2 border-blue-500 shadow-lg",children:[d.jsxs("div",{className:"px-4 py-3 flex items-center justify-between border-b border-gray-200 dark:border-slate-600",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:"/favicon.png",alt:"Syla logo",className:"w-8 h-8"}),d.jsxs("div",{children:[d.jsxs("span",{className:"font-display text-lg tracking-wide",children:["Syla ",d.jsx("span",{className:"text-blue-600",children:"Editor"})]}),d.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Advanced Chart Editing"})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:e?.avatar_url||"/default-avatar.png",alt:"User avatar",className:"w-8 h-8 rounded-full border border-gray-300 dark:border-white/10"}),d.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-slate-200",children:e?.name||"User"})]})]}),d.jsxs("div",{className:"px-4 py-2 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:()=>_(!k),className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors",title:"Toggle Sidebar",children:d.jsx(Zb,{size:18})}),d.jsx("div",{className:"h-6 w-px bg-gray-300 dark:bg-slate-600 mx-2"}),oe.map(W=>d.jsx("button",{onClick:()=>X(W.id),className:`p-2 rounded-lg transition-colors ${N===W.id?"bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400":"hover:bg-gray-200 dark:hover:bg-slate-700"}`,title:W.label,children:d.jsx(W.icon,{size:18})},W.id)),d.jsx("div",{className:"h-6 w-px bg-gray-300 dark:bg-slate-600 mx-2"}),d.jsx("button",{onClick:q,disabled:Q<=0,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Undo",children:d.jsx(_1,{size:18})}),d.jsx("button",{onClick:A,disabled:Q>=F.length-1,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Redo",children:d.jsx(l1,{size:18})})]}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsxs("button",{onClick:ge,className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm flex items-center gap-1",children:[d.jsx(po,{size:14}),"Save"]})})]})]}),d.jsxs("div",{className:"flex flex-1 relative",children:[k&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"fixed inset-0 bg-black/20 z-20 lg:hidden",onClick:()=>_(!1)}),d.jsxs("div",{className:"fixed lg:relative left-0 top-0 h-full w-80 bg-white dark:bg-slate-800 border-r border-gray-200 dark:border-slate-600 z-30 lg:z-10 transform lg:transform-none transition-transform",children:[d.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-slate-600 flex items-center justify-between",children:[d.jsx("h3",{className:"font-semibold",children:"Editor Panels"}),d.jsx("button",{onClick:()=>_(!1),className:"p-1 rounded hover:bg-gray-100 dark:hover:bg-slate-700",children:d.jsx(co,{size:16})})]}),d.jsx("div",{className:"p-4 space-y-3",children:oe.map(W=>d.jsxs("button",{onClick:()=>{X(W.id),_(!1)},className:`w-full flex items-center gap-3 p-3 rounded-lg text-left transition-colors ${N===W.id?"bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400":"hover:bg-gray-100 dark:hover:bg-slate-700"}`,children:[d.jsx(W.icon,{size:18}),d.jsx("span",{className:"font-medium",children:W.label})]},W.id))})]})]}),d.jsxs("div",{className:"flex-1 flex relative",children:[d.jsxs("div",{className:`flex-1 p-6 transition-all duration-300 ${D?"pr-96":""}`,children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("div",{className:"flex items-center gap-2",children:T?d.jsx("input",{type:"text",value:u,onChange:W=>h(W.target.value),onBlur:()=>R(!1),onKeyPress:W=>W.key==="Enter"&&R(!1),className:"text-xl font-semibold bg-transparent border-b-2 border-blue-500 focus:outline-none",autoFocus:!0}):d.jsxs("h1",{className:"text-xl font-semibold cursor-pointer hover:text-blue-600 transition-colors flex items-center gap-2",onClick:()=>R(!0),children:[u,d.jsx(s1,{size:16,className:"opacity-50"})]})}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{onClick:()=>n("/forecast"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[d.jsx(Fm,{size:16}),"Forecast"]}),d.jsxs("button",{onClick:()=>O(!0),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2",children:[d.jsx(ss,{size:16}),"Export"]})]})]}),G.length>0&&d.jsx("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-700",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("span",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:[G.length," item(s) selected"]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:ue,className:"px-3 py-1 bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors text-sm flex items-center gap-1",children:[d.jsx(Om,{size:14}),"Delete"]}),d.jsx("button",{onClick:()=>U([]),className:"px-3 py-1 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors text-sm",children:"Clear Selection"})]})]})}),d.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg",children:d.jsx(Qg,{data:s,columns:o,options:b,chartTitle:u,xAxis:p,yAxis:y,setXAxis:m,setYAxis:v,onBarClick:Z,selectedBars:G})})]}),D&&d.jsxs("div",{className:"fixed right-0 top-20 bottom-0 w-80 bg-white dark:bg-slate-800 border-l border-gray-200 dark:border-slate-600 shadow-xl z-20 flex flex-col",children:[d.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-slate-600 flex items-center justify-between",children:[d.jsx("h3",{className:"font-semibold",children:"File Preview"}),d.jsx("button",{onClick:()=>Y(!1),className:"p-1 rounded hover:bg-gray-100 dark:hover:bg-slate-700",children:d.jsx(co,{size:16})})]}),d.jsx("div",{className:"flex-1 overflow-auto p-4",children:$.length>0?d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-xs",children:[d.jsx("thead",{children:d.jsx("tr",{className:"border-b border-gray-200 dark:border-slate-600",children:Object.keys($[0]).map(W=>d.jsx("th",{className:"text-left p-2 font-medium",children:W},W))})}),d.jsx("tbody",{children:$.slice(0,50).map((W,J)=>d.jsx("tr",{className:"border-b border-gray-100 dark:border-slate-700",children:Object.values(W).map((ve,De)=>d.jsx("td",{className:"p-2 text-gray-600 dark:text-slate-300",children:String(ve)},De))},J))})]})}):d.jsxs("div",{className:"text-center text-gray-500 mt-8",children:[d.jsx(mi,{size:48,className:"mx-auto mb-4 opacity-50"}),d.jsx("p",{children:"No file loaded"})]})})]}),d.jsx("button",{onClick:()=>ce.current?.click(),className:"fixed bottom-6 right-6 p-3 bg-green-600 text-white rounded-full shadow-lg hover:bg-green-700 transition-colors z-10",title:"Upload File for Preview",children:d.jsx(lo,{size:20})}),d.jsx("input",{ref:ce,type:"file",accept:".csv,.xlsx,.xls",onChange:K,className:"hidden"}),N&&d.jsxs("div",{className:"fixed right-0 top-32 bottom-0 w-96 bg-white dark:bg-slate-800 border-l border-gray-200 dark:border-slate-600 shadow-xl z-20 overflow-y-auto",children:[d.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-slate-600 flex items-center justify-between",children:[d.jsx("h3",{className:"font-semibold",children:oe.find(W=>W.id===N)?.label}),d.jsx("button",{onClick:()=>C(null),className:"p-1 rounded hover:bg-gray-100 dark:hover:bg-slate-700",children:d.jsx(co,{size:16})})]}),d.jsxs("div",{className:"p-4",children:[N==="settings"&&d.jsx(id,{options:b,setOptions:S,columns:o,data:s}),N==="colors"&&d.jsx("div",{className:"space-y-4",children:d.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Color and styling options coming soon..."})}),N==="text"&&d.jsx("div",{className:"space-y-4",children:d.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Text editing tools coming soon..."})}),N==="data"&&d.jsx("div",{className:"space-y-4",children:d.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Data management tools coming soon..."})})]})]}),P&&d.jsx(md,{onClose:()=>O(!1),chartData:s,chartTitle:u,onExportImage:W=>{console.log("Exporting image:",W)},onExportCSV:()=>{console.log("Exporting CSV")},onExportJSON:()=>{console.log("Exporting JSON")}})]})]})]}):d.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-slate-950",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Authentication Required"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Please sign in to access the chart editor."}),d.jsx("button",{onClick:()=>n("/login"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Sign In"})]})})}function pj(){"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js").then(n=>{console.log("ServiceWorker registered:",n)}).catch(n=>{console.error("ServiceWorker registration failed:",n)})}sy.createRoot(document.getElementById("root")).render(d.jsx(od.StrictMode,{children:d.jsxs(WS,{children:["            ",d.jsx(vv,{children:d.jsxs(Xy,{children:[d.jsx(At,{path:"/",element:d.jsx(YS,{})}),d.jsx(At,{path:"/login",element:d.jsx(QS,{})}),d.jsx(At,{path:"/signup",element:d.jsx(tj,{})}),d.jsx(At,{path:"/forgot-password",element:d.jsx(nj,{})}),d.jsx(At,{path:"/reset-password",element:d.jsx(rj,{})}),d.jsx(At,{path:"/settings",element:d.jsx(sj,{})}),d.jsx(At,{path:"/profile",element:d.jsx(ij,{})}),d.jsx(At,{path:"/tools/:action",element:d.jsx(XS,{})}),d.jsx(At,{path:"/forecast",element:d.jsx(hj,{})}),d.jsx(At,{path:"/editing",element:d.jsx(fj,{})}),d.jsx(At,{path:"*",element:d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-slate-950",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-slate-200 mb-2",children:"Page Not Found"}),d.jsx("p",{className:"text-gray-600 dark:text-slate-400 mb-4",children:"The page you're looking for doesn't exist."}),d.jsx("a",{href:"/",className:"px-4 py-2 bg-neonBlue text-white rounded-lg hover:bg-blue-600 transition-colors duration-200",children:"Go Home"})]})})})]})})]})}));pj();
